// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
if("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document&&(window.dojoConfig||(window.dojoConfig={}),!window.dojoConfig.hasOwnProperty("baseUrl"))){const o=window.document.currentScript.src;let d;d=o.endsWith("/init.js")?o.slice(0,o.lastIndexOf("/"))+"/dojo":o.endsWith("/dojo/dojo.js")?o.slice(0,o.lastIndexOf("/")):o+(o.endsWith("/")?"dojo":"/dojo"),window.dojoConfig.baseUrl=d}
//>>built
(function(a,b){var c,e,h,l=function(){return"undefined"!==typeof z&&"function"!==typeof z?z:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),q=function(){},t=function(ja){for(var Da in ja)return 0;return 1},f={}.toString,k=function(ja){return"[object Function]"==f.call(ja)},m=function(ja){return"[object String]"==f.call(ja)},p=function(ja){return"[object Array]"==f.call(ja)},u=function(ja,Da){if(ja)for(var Y=0;Y<ja.length;)Da(ja[Y++])},g=function(ja,Da){for(var Y in Da)ja[Y]=
Da[Y];return ja},r=function(ja,Da){return g(Error(ja),{src:"dojoLoader",info:Da})},d=1,n=function(){return"_"+d++},v=function(ja,Da,Y){return va(ja,Da,Y,0,v)},z=l,A=z.document,w=A&&A.createElement("DiV"),y=v.has=function(ja){return k(x[ja])?x[ja]=x[ja](z,A,w):x[ja]},x=y.cache=b.hasCache;k(a)&&(a=a(l));y.add=function(ja,Da,Y,fa){(void 0===x[ja]||fa)&&(x[ja]=Da);return Y&&y(ja)};y.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);y("host-webworker")&&(g(b.hasCache,
{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(ja,Da){try{importScripts(ja),Da()}catch(Y){console.info("failed to load resource ("+ja+")"),console.error(Y)}}});for(var B in a.has)y.add(B,a.has[B],0,1);v.async=1;v.eval=function(ja,Da){};var C={},D=v.signal=function(ja,Da){ja=C[ja];u(ja&&ja.slice(0),function(Y){Y.apply(null,p(Da)?Da:[Da])})};B=v.on=function(ja,Da){var Y=C[ja]||(C[ja]=
[]);Y.push(Da);return{remove:function(){for(var fa=0;fa<Y.length;fa++)if(Y[fa]===Da){Y.splice(fa,1);break}}}};var J=[],I={},N=[],L={},G=v.map={},F=[],E={},K="",P={},W={};l={};var ia=0;if(!y("foreign-loader"))var Z=function(ja,Da){Da=!1!==Da;var Y,fa;for(Y in W){var da=W[Y];if(fa=Y.match(/^url:(.+)/))P["url:"+Pa(fa[1],ja)]=da;else if("*now"==Y)var ra=da;else"*noref"!=Y&&(fa=X(Y,ja,!0),P[fa.mid]=P["url:"+fa.url]=da)}ra&&ra(Aa(ja));Da&&(W={})};var V=function(ja){return ja.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(Da){return"\\"+Da})},qa=function(ja,Da){Da.splice(0,Da.length);for(var Y in ja)Da.push([Y,ja[Y],new RegExp("^"+V(Y)+"(/|$)"),Y.length]);Da.sort(function(fa,da){return da[3]-fa[3]});return Da},sa=function(ja,Da){u(ja,function(Y){Da.push([m(Y[0])?new RegExp("^"+V(Y[0])+"$"):Y[0],Y[1]])})},Ba=function(ja){var Da=ja.name;Da||(Da=ja,ja={name:Da});ja=g({main:"main"},ja);ja.location=ja.location?ja.location:Da;ja.packageMap&&(G[Da]=ja.packageMap);ja.main.indexOf("./")||(ja.main=ja.main.substring(2));
L[Da]=ja},oa=[],U=function(ja,Da,Y){for(var fa in ja){"waitSeconds"==fa&&(v.waitms=1E3*(ja[fa]||0));"cacheBust"==fa&&(K=ja[fa]?m(ja[fa])?ja[fa]:(new Date).getTime()+"":"");if("baseUrl"==fa||"combo"==fa)v[fa]=ja[fa];ja[fa]!==x&&(v.rawConfig[fa]=ja[fa],"has"!=fa&&y.add("config-"+fa,ja[fa],0,Da))}v.baseUrl||(v.baseUrl="./");/\/$/.test(v.baseUrl)||(v.baseUrl+="/");for(fa in ja.has)y.add(fa,ja.has[fa],0,Da);u(ja.packages,Ba);for(var da in ja.packagePaths)u(ja.packagePaths[da],function(ra){var Ma=da+"/"+
ra;m(ra)&&(ra={name:ra});ra.location=Ma;Ba(ra)});qa(g(G,ja.map),F);u(F,function(ra){ra[1]=qa(ra[1],[]);"*"==ra[0]&&(F.star=ra)});qa(g(I,ja.paths),N);sa(ja.aliases,J);if(!y("foreign-loader")){if(Da)oa.push({config:ja.config});else for(fa in ja.config)Da=Ea(fa,Y),Da.config=g(Da.config||{},ja.config[fa]);ja.cache&&(Z(),W=ja.cache,Z(0,!!ja.cache["*noref"]))}D("config",[ja,v.rawConfig])};v.rawConfig={};U(b,1);U(a,1);U(l,1);if(!y("foreign-loader"))var ca=function(ja){Ka(function(){u(ja.deps,Na)})},va=function(ja,
Da,Y,fa,da){var ra;if(m(ja)){if((ra=Ea(ja,fa,!0))&&ra.executed)return ra.result;throw r("undefinedModule",ja);}p(ja)||(U(ja,0,fa),ja=Da,Da=Y);if(p(ja))if(ja.length){Y="require*"+n();for(var Ma,Ra=[],xa=0;xa<ja.length;)Ma=ja[xa++],Ra.push(Ea(Ma,fa));ra=g(ba("",Y,0,""),{injected:2,deps:Ra,def:Da||q,require:fa?fa.require:v,gc:1});E[ra.mid]=ra;ca(ra);var Ya=Ia&&!0;Ka(function(){Fa(ra,Ya)});ra.executed||H.push(ra);Ua()}else Da&&Da();return da},Aa=function(ja){if(!ja)return v;var Da=ja.require;Da||(Da=
function(Y,fa,da){return va(Y,fa,da,ja,Da)},ja.require=g(Da,v),Da.module=ja,Da.toUrl=function(Y){return Pa(Y,ja)},Da.toAbsMid=function(Y){return La(Y,ja)});return Da},H=[],O=[],la={},Q=function(ja){ja.injected=1;la[ja.mid]=1;ja.url&&(la[ja.url]=ja.pack||1);Sa()},S=function(ja){ja.injected=2;delete la[ja.mid];ja.url&&delete la[ja.url];t(la)&&Ja()},M=v.idle=function(){return!O.length&&t(la)&&!H.length&&!Ia};var R=function(ja,Da){if(Da)for(var Y=0;Y<Da.length;Y++)if(Da[Y][2].test(ja))return Da[Y];return 0},
aa=function(ja){var Da=[];for(ja=ja.replace(/\\/g,"/").split("/");ja.length;){var Y=ja.shift();if(".."==Y&&Da.length&&".."!=fa){Da.pop();var fa=Da[Da.length-1]}else"."!=Y&&Da.push(fa=Y)}return Da.join("/")},ba=function(ja,Da,Y,fa){return{pid:ja,mid:Da,pack:Y,url:fa,executed:0,def:0}},T=function(ja,Da,Y,fa,da,ra,Ma,Ra,xa,Ya){var fb,eb,db;var Ta=/^\./.test(ja);if(/(^\/)|(:)|(\.js$)/.test(ja)||Ta&&!Da)return ba(0,ja,0,ja);ja=aa(Ta?Da.mid+"/../"+ja:ja);if(/^\./.test(ja))throw r("irrationalPath",ja);Ya||
Ta||!ra.star||(db=R(ja,ra.star[1]));!db&&Da&&(db=(db=R(Da.mid,ra))&&R(ja,db[1]));db&&(ja=db[1]+ja.substring(db[3]));Da=(c=ja.match(/^([^\/]+)(\/(.+))?$/))?c[1]:"";(fb=Y[Da])?ja=Da+"/"+(eb=c[3]||fb.main):Da="";var Wa=0;u(Ra,function(za){var Qa=ja.match(za[0]);Qa&&0<Qa.length&&(Wa=k(za[1])?ja.replace(za[0],za[1]):za[1])});if(Wa)return T(Wa,0,Y,fa,da,ra,Ma,Ra,xa);if(Y=fa[ja])return xa?ba(Y.pid,Y.mid,Y.pack,Y.url):fa[ja];fa=(db=R(ja,Ma))?db[1]+ja.substring(db[3]):Da?("/"===fb.location.slice(-1)?fb.location.slice(0,
-1):fb.location)+"/"+eb:ja;/(^\/)|(:)/.test(fa)||(fa=da+fa);return ba(Da,ja,fb,aa(fa+".js"))},X=function(ja,Da,Y){return T(ja,Da,L,E,v.baseUrl,F,N,J,void 0,Y)};if(!y("foreign-loader"))var ma=function(ja,Da,Y){return ja.normalize?ja.normalize(Da,function(fa){return La(fa,Y)}):La(Da,Y)},Ca=0,Ea=function(ja,Da,Y){var fa;if(fa=ja.match(/^(.+?)!(.*)$/)){var da=Ea(fa[1],Da,Y);5!==da.executed||da.load||ea(da);da.load?(fa=ma(da,fa[2],Da),ja=da.mid+"!"+(da.dynamic?++Ca+"!":"")+fa):(fa=fa[2],ja=da.mid+"!"+
++Ca+"!waitingForPlugin");ja={plugin:da,mid:ja,req:Aa(Da),prid:fa}}else ja=X(ja,Da);return E[ja.mid]||!Y&&(E[ja.mid]=ja)};var La=v.toAbsMid=function(ja,Da){return X(ja,Da).mid},Pa=v.toUrl=function(ja,Da){Da=X(ja+"/x",Da);var Y=Da.url;return Za(0===Da.pid?ja:Y.substring(0,Y.length-5))};if(!y("foreign-loader")){var ha={injected:2,executed:5,def:3,result:3};var ua=function(ja){return E[ja]=g({mid:ja},ha)};var wa=ua("require"),Ga=ua("exports"),Ha=ua("module"),Oa={},Xa=0,ea=function(ja){var Da=ja.result;
ja.dynamic=Da.dynamic;ja.normalize=Da.normalize;ja.load=Da.load;return ja},na=function(ja){var Da={};u(ja.loadQ,function(da){var ra=ma(ja,da.prid,da.req.module),Ma=ja.dynamic?da.mid.replace(/waitingForPlugin$/,ra):ja.mid+"!"+ra;ra=g(g({},da),{mid:Ma,prid:ra,injected:0});E[Ma]&&E[Ma].injected||bb(E[Ma]=ra);Da[da.mid]=E[Ma];S(da);delete E[da.mid]});ja.loadQ=0;var Y=function(da){for(var ra=da.deps||[],Ma=0;Ma<ra.length;Ma++)(da=Da[ra[Ma].mid])&&(ra[Ma]=da)},fa;for(fa in E)Y(E[fa]);u(H,Y)},ya=function(ja){v.trace("loader-finish-exec",
[ja.mid]);ja.executed=5;ja.defOrder=Xa++;ja.loadQ&&(ea(ja),na(ja));for(h=0;h<H.length;)H[h]===ja?H.splice(h,1):h++;/^require\*/.test(ja.mid)&&delete E[ja.mid]},ta=[],Fa=function(ja,Da){if(4===ja.executed)return v.trace("loader-circular-dependency",[ta.concat(ja.mid).join("-\x3e")]),!ja.def||Da?Oa:ja.cjs&&ja.cjs.exports;if(!ja.executed){if(!ja.def)return Oa;var Y=ja.mid,fa=ja.deps||[],da,ra=[],Ma=0;for(ja.executed=4;da=fa[Ma++];){da=da===wa?Aa(ja):da===Ga?ja.cjs.exports:da===Ha?ja.cjs:Fa(da,Da);if(da===
Oa)return ja.executed=0,v.trace("loader-exec-module",["abort",Y]),Oa;ra.push(da)}v.trace("loader-run-factory",[ja.mid]);Da=ja.def;ra=k(Da)?Da.apply(null,ra):Da;ja.result=void 0===ra&&ja.cjs?ja.cjs.exports:ra;ya(ja)}return ja.result},Ia=0,Ka=function(ja){try{Ia++,ja()}catch(Da){throw Da;}finally{Ia--}M()&&D("idle",[])},Ua=function(){Ia||Ka(function(){for(var ja,Da,Y=0;Y<H.length;)ja=Xa,Da=H[Y],Fa(Da),ja!=Xa?Y=0:Y++})}}var Za="function"==typeof a.fixupUrl?a.fixupUrl:function(ja){ja+="";return ja+(K?
(/\?/.test(ja)?"\x26":"?")+K:"")};void 0===y("dojo-loader-eval-hint-url")&&y.add("dojo-loader-eval-hint-url",1);var bb=function(ja){var Da=ja.plugin;5!==Da.executed||Da.load||ea(Da);var Y=function(fa){ja.result=fa;S(ja);ya(ja);Ua()};Da.load?Da.load(ja.prid,ja.req,Y):Da.loadQ?Da.loadQ.push(ja):(Da.loadQ=[ja],H.unshift(Da),Na(Da))},Va=0,cb=function(ja,Da){y("config-stripStrict")&&(ja=ja.replace(/(["'])use strict\1/g,""));ja===Va?Va.call(null):v.eval(ja,y("dojo-loader-eval-hint-url")?Da.url:Da.mid)},
Na=function(ja){var Da=ja.mid,Y=ja.url;if(!(ja.executed||ja.injected||la[Da]||ja.url&&(ja.pack&&la[ja.url]===ja.pack||1==la[ja.url])))if(Q(ja),ja.plugin)bb(ja);else{var fa=function(){pa(ja);if(2!==ja.injected){if(y("dojo-enforceDefine")){D("error",r("noDefine",ja));return}S(ja);g(ja,ha);v.trace("loader-define-nonmodule",[ja.url])}Ua()};(Va=P[Da]||P["url:"+ja.url])?(v.trace("loader-inject",["cache",ja.mid,Y]),cb(Va,ja),fa()):(v.trace("loader-inject",["script",ja.mid,Y]),v.injectUrl(Za(Y),fa,ja))}},
ka=function(ja,Da,Y){v.trace("loader-define-module",[ja.mid,Da]);if(2===ja.injected)return D("error",r("multipleDefine",ja)),ja;g(ja,{deps:Da,def:Y,cjs:{id:ja.mid,uri:ja.url,exports:ja.result={},setExports:function(da){ja.cjs.exports=da},config:function(){return ja.config}}});for(var fa=0;Da[fa];fa++)Da[fa]=Ea(Da[fa],ja);S(ja);k(Y)||Da.length||(ja.result=Y,ya(ja));return ja},pa=function(ja,Da){for(var Y=[],fa,da;O.length;)da=O.shift(),Da&&(da[0]=Da.shift()),fa=da[0]&&Ea(da[0])||ja,Y.push([fa,da[1],
da[2]]);Z(ja);u(Y,function(ra){ca(ka.apply(null,ra))})},Ja=q,Sa=q;y("dom");if(y("dom")){var ab=function(ja,Da,Y,fa){ja.addEventListener(Da,fa,!1);return function(){ja.removeEventListener(Da,fa,!1)}},gb=ab(window,"load","onload",function(){v.pageLoaded=1;try{"complete"!=A.readyState&&(A.readyState="complete")}catch(ja){}gb()});ua=A.getElementsByTagName("script");for(h=0;!ia;)/^dojo/.test((e=ua[h++])&&e.type)||(ia=e);v.injectUrl=function(ja,Da,Y){Y=Y.node=A.createElement("script");var fa=ab(Y,"load",
"onreadystatechange",function(ra){ra=ra||window.event;var Ma=ra.target||ra.srcElement;if("load"===ra.type||/complete|loaded/.test(Ma.readyState))fa(),da(),Da&&Da()}),da=ab(Y,"error","onerror",function(ra){fa();da();D("error",r("scriptError: "+ja,[ja,ra]))});Y.type="text/javascript";Y.charset="utf-8";Y.src=ja;ia.parentNode.insertBefore(Y,ia);return Y}}v.log=q;v.trace=q;y("foreign-loader")?e=q:(e=function(ja,Da,Y){var fa=arguments.length,da=["require","exports","module"],ra=[0,ja,Da];1==fa?ra=[0,k(ja)?
da:[],ja]:2==fa&&m(ja)?ra=[ja,k(Da)?da:[],Da]:3==fa&&(ra=[ja,Da,Y]);v.trace("loader-define",ra.slice(0,2));(fa=ra[0]&&Ea(ra[0]))&&!la[fa.mid]?ca(ka(fa,ra[1],ra[2])):O.push(ra)},e.amd={vendor:"dojotoolkit.org"});g(g(v,b.loaderPatch),a.loaderPatch);B("error",function(ja){try{if(console.error(ja),ja instanceof Error){for(var Da in ja)console.log(Da+":",ja[Da]);console.log(".")}}catch(Y){}});g(v,{uid:n,cache:P,packs:L});z.define||(z.define=e,z.require=v,y("foreign-loader")||(u(oa,function(ja){U(ja)}),
e=l.deps||a.deps||b.deps,a=l.callback||a.callback||b.callback,v.boot=e||a?[e||[],a]:0))})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",
name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../tslib",main:"tslib",name:"tslib"}]});
require({cache:{"esri/Map":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/maybe ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,b,c,e,h,l,q,t,
f,k,m,p,u,g,r,d,n,v){h=function(z){function A(y){var x=z.call(this,y)||this;x.allLayers=new l({getCollections:()=>{var B,C,D;return[null==(B=x.basemap)?void 0:B.baseLayers,null==(C=x.ground)?void 0:C.layers,x.layers,null==(D=x.basemap)?void 0:D.referenceLayers]},getChildrenFunction:B=>"layers"in B?B.layers:null});x.allTables=new l({getCollections:()=>[x.tables,x.layers],getChildrenFunction:B=>{const C=[];"tables"in B&&C.push(B.tables);"layers"in B&&C.push(B.layers);return C},itemFilterFunction:B=>
{const C=B.parent;return C&&"tables"in C&&C.tables.includes(B)}});x.basemap=null;x.editableLayers=new l({getCollections:()=>[x.allLayers],itemFilterFunction:g.isEditableLayer});x.ground=new e;x._basemapCache=r.createCache();return x}a._inheritsLoose(A,z);var w=A.prototype;w.destroy=function(){var y,x;this.allLayers.destroy();this.allTables.destroy();this.editableLayers.destroy();null==(y=this.ground)?void 0:y.destroy();null==(x=this.basemap)?void 0:x.destroy();r.destroyCache(this._basemapCache);this._basemapCache=
null};w.castBasemap=function(y){return r.ensureType(y,this._basemapCache)};w.castGround=function(y){y=d.ensureType(y);return t.isNone(y)?this._get("ground"):y};w.findLayerById=function(y){return this.allLayers.find(x=>x.id===y)};w.findTableById=function(y){return this.allTables.find(x=>x.id===y)};return A}(v.TablesMixin(n.LayersMixin(q.EventedMixin(h))));b.__decorate([f.property({readOnly:!0,dependsOn:[]})],h.prototype,"allLayers",void 0);b.__decorate([f.property({readOnly:!0})],h.prototype,"allTables",
void 0);b.__decorate([f.property({type:c})],h.prototype,"basemap",void 0);b.__decorate([p.cast("basemap")],h.prototype,"castBasemap",null);b.__decorate([f.property({readOnly:!0})],h.prototype,"editableLayers",void 0);b.__decorate([f.property({type:e,nonNullable:!0})],h.prototype,"ground",void 0);b.__decorate([p.cast("ground")],h.prototype,"castGround",null);return h=b.__decorate([u.subclass("esri.Map")],h)})},"esri/chunks/_rollupPluginBabelHelpers":function(){define(["exports"],function(a){function b(p){function u(g){if(Object(g)!==
g)return Promise.reject(new TypeError(g+" is not an object."));var r=g.done;return Promise.resolve(g.value).then(function(d){return{value:d,done:r}})}b=function(g){this.s=g;this.n=g.next};b.prototype={s:null,n:null,next:function(){return u(this.n.apply(this.s,arguments))},return:function(g){var r=this.s.return;return void 0===r?Promise.resolve({value:g,done:!0}):u(r.apply(this.s,arguments))},throw:function(g){var r=this.s.return;return void 0===r?Promise.reject(g):u(r.apply(this.s,arguments))}};return new b(p)}
function c(p){this.wrapped=p}function e(p){function u(n,v){try{var z=p[n](v),A=z.value,w=A instanceof c;Promise.resolve(w?A.wrapped:A).then(function(y){w?u("return"===n?"return":"next",y):g(z.done?"return":"normal",y)},function(y){u("throw",y)})}catch(y){g("throw",y)}}function g(n,v){switch(n){case "return":r.resolve({value:v,done:!0});break;case "throw":r.reject(v);break;default:r.resolve({value:v,done:!1})}(r=r.next)?u(r.key,r.arg):d=null}var r,d;this._invoke=function(n,v){return new Promise(function(z,
A){z={key:n,arg:v,resolve:z,reject:A,next:null};d?d=d.next=z:(r=d=z,u(n,v))})};"function"!==typeof p.return&&(this.return=void 0)}function h(p,u,g,r,d,n,v){try{var z=p[n](v),A=z.value}catch(w){g(w);return}z.done?u(A):Promise.resolve(A).then(r,d)}function l(p,u){for(var g=0;g<u.length;g++){var r=u[g];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(p,r.key,r)}}function q(p){q=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||
Object.getPrototypeOf(u)};return q(p)}function t(p,u){t=Object.setPrototypeOf||function(g,r){g.__proto__=r;return g};return t(p,u)}function f(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(p){return!1}}function k(p,u,g){k=f()?Reflect.construct:function(r,d,n){var v=[null];v.push.apply(v,d);r=new (Function.bind.apply(r,v));n&&t(r,
n.prototype);return r};return k.apply(null,arguments)}function m(p){var u="function"===typeof Map?new Map:void 0;m=function(g){function r(){return k(g,arguments,q(this).constructor)}if(null===g||-1===Function.toString.call(g).indexOf("[native code]"))return g;if("function"!==typeof g)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof u){if(u.has(g))return u.get(g);u.set(g,r)}r.prototype=Object.create(g.prototype,{constructor:{value:r,enumerable:!1,writable:!0,
configurable:!0}});return t(r,g)};return m(p)}e.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this};e.prototype.next=function(p){return this._invoke("next",p)};e.prototype.throw=function(p){return this._invoke("throw",p)};e.prototype.return=function(p){return this._invoke("return",p)};a._assertThisInitialized=function(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p};a._asyncIterator=
function(p){var u,g=2;if("undefined"!==typeof Symbol){var r=Symbol.asyncIterator;var d=Symbol.iterator}for(;g--;){if(r&&null!=(u=p[r]))return u.call(p);if(d&&null!=(u=p[d]))return new b(u.call(p));r="@@asyncIterator";d="@@iterator"}throw new TypeError("Object is not async iterable");};a._asyncToGenerator=function(p){return function(){var u=this,g=arguments;return new Promise(function(r,d){function n(A){h(z,r,d,n,v,"next",A)}function v(A){h(z,r,d,n,v,"throw",A)}var z=p.apply(u,g);n(void 0)})}};a._awaitAsyncGenerator=
function(p){return new c(p)};a._createClass=function(p,u,g){u&&l(p.prototype,u);g&&l(p,g);return p};a._inheritsLoose=function(p,u){p.prototype=Object.create(u.prototype);p.prototype.constructor=p;t(p,u)};a._wrapAsyncGenerator=function(p){return function(){return new e(p.apply(this,arguments))}};a._wrapNativeSuper=m})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){a.__decorate=function(b,c,e,h){var l=arguments.length,q=3>l?c:null===h?h=Object.getOwnPropertyDescriptor(c,e):h,t;if("object"===
typeof Reflect&&"function"===typeof Reflect.decorate)q=Reflect.decorate(b,c,e,h);else for(var f=b.length-1;0<=f;f--)if(t=b[f])q=(3>l?t(q):3<l?t(c,e,q):t(c,e))||q;return 3<l&&q&&Object.defineProperty(c,e,q),q}})},"esri/Basemap":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Collection ./core/collectionUtils ./core/deprecate ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./webdoc/support/writeUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x){var B;let C=0;const D=m.getLogger("esri.Basemap");q=B=function(J){function I(L){var G=J.call(this,L)||this;G.id=null;G.portalItem=null;G.spatialReference=null;G.thumbnailUrl=null;G.title="Basemap";G.id=Date.now().toString(16)+"-basemap-"+C++;G.baseLayers=new e;G.referenceLayers=new e;const F=E=>{E.parent&&E.parent!==b._assertThisInitialized(G)&&"remove"in E.parent&&E.parent.remove(E);E.parent=b._assertThisInitialized(G);"elevation"===E.type&&
D.error(`Layer '${E.title}, id:${E.id}' of type '${E.type}' is not supported as a basemap layer and will therefore be ignored.`)};G.baseLayers.on("after-add",E=>F(E.item));G.referenceLayers.on("after-add",E=>F(E.item));G.baseLayers.on("after-remove",E=>{E.item.parent=null});G.referenceLayers.on("after-remove",E=>{E.item.parent=null});return G}b._inheritsLoose(I,J);var N=I.prototype;N.initialize=function(){this.when().catch(L=>{D.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,
L)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};N.destroy=function(){var L,G=this.baseLayers.removeAll();for(const F of G)F.destroy();G=this.referenceLayers.removeAll();for(const F of G)F.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();null==(L=this.portalItem)?void 0:L.destroy();this.portalItem=null};N.normalizeCtorArgs=function(L){L&&"resourceInfo"in L&&(this._set("resourceInfo",L.resourceInfo),L={...L},delete L.resourceInfo);return L};N._writeBaseLayers=
function(L,G,F){const E=[];L&&(F={...F,layerContainerType:"basemap"},this.baseLayers.forEach(K=>{K=x.getLayerJSON(K,F.webmap?F.webmap.getLayerJSONFromResourceInfo(K):null,F);p.isSome(K)&&E.push(K)}),this.referenceLayers.forEach(K=>{K=x.getLayerJSON(K,F.webmap?F.webmap.getLayerJSONFromResourceInfo(K):null,F);p.isSome(K)&&(K.isReference=!0,E.push(K))}));G.baseMapLayers=E};N.writeTitle=function(L,G){G.title=L||"Basemap"};N.load=function(L){this.addResolvingPromise(this._loadFromSource(L));return Promise.resolve(this)};
N.loadAll=function(){return k.loadAll(this,L=>{L(this.baseLayers,this.referenceLayers)})};N.clone=function(){const L={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};this.loaded&&(L.loadStatus="loaded");return(new B({resourceInfo:this.resourceInfo})).set(L)};N.read=function(L,G){this.resourceInfo||this._set("resourceInfo",{data:L,context:G});J.prototype.read.call(this,L,G)};N.write=function(L,G){L=L||{};G&&G.origin||
(G={origin:"web-map",...G});J.prototype.write.call(this,L,G);!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(L.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(F=>{F=t.clone(F);F.url&&g.isProtocolRelative(F.url)&&(F.url=`https:${F.url}`);F.templateUrl&&g.isProtocolRelative(F.templateUrl)&&(F.templateUrl=`https:${F.templateUrl}`);return F}));return L};N._loadFromSource=function(){var L=b._asyncToGenerator(function*(G){const {resourceInfo:F,portalItem:E}=this;u.throwIfAborted(G);
const K=[];F?(K.push(this._loadLayersFromJSON(F.data,F.context?F.context.url:null,G)),F.data.id&&!F.data.title&&K.push(y.getBasemapTitle(F.data.id).then(P=>{P&&this.read({title:P},F.context)}))):E&&K.push(this._loadFromItem(E,G));yield Promise.all(K)});return function(G){return L.apply(this,arguments)}}();N._loadLayersFromJSON=function(){var L=b._asyncToGenerator(function*(G,F,E){var K=this.resourceInfo&&this.resourceInfo.context;const P=this.portalItem&&this.portalItem.portal||K&&K.portal||null,
W=K&&"web-scene"===K.origin?"web-scene":"web-map",{populateOperationalLayers:ia}=yield new Promise((Z,V)=>a(["./layers/support/layersCreator"],Z,V));K=[];u.throwIfAborted(E);G.baseMapLayers&&Array.isArray(G.baseMapLayers)&&(F={context:{origin:W,url:F,portal:P,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},E=ia(this.baseLayers,G.baseMapLayers.filter(Z=>!Z.isReference),F),K.push(E),G=ia(this.referenceLayers,G.baseMapLayers.filter(Z=>Z.isReference),F),K.push(G));yield u.eachAlways(K)});
return function(G,F,E){return L.apply(this,arguments)}}();N._loadFromItem=function(){var L=b._asyncToGenerator(function*(G,F){const E=yield(yield G.load(F)).fetchData("json",F),K=g.urlToObject(G.itemUrl);this._set("resourceInfo",{data:E.baseMap,context:{origin:"web-map",portal:G.portal||A.getDefault(),url:K}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:E.spatialReference},this.resourceInfo.context);this.read({title:G.title,thumbnailUrl:G.thumbnailUrl},
{origin:"portal-item",portal:G.portal||A.getDefault(),url:K});return this._loadLayersFromJSON(this.resourceInfo.data,K,F)});return function(G,F){return L.apply(this,arguments)}}();I.fromId=function(L){const G=y.esriBasemapDefinitions[L];if(G){if(G.deprecated){let F=null;"dark-gray"===L?F="dark-gray-vector":"gray"===L?F="gray-vector":"streets"===L?F="streets-vector":"topo"===L&&(F="topo-vector");l.deprecated(D,`The ${L} basemap has entered mature support and is no longer being updated.`,{replacement:F,
see:"https://arcg.is/1iq8aD",warnOnce:!0})}return B.fromJSON(G)}return null};b._createClass(I,[{key:"baseLayers",set:function(L){this._set("baseLayers",h.referenceSetter(L,this._get("baseLayers")))}},{key:"referenceLayers",set:function(L){this._set("referenceLayers",h.referenceSetter(L,this._get("referenceLayers")))}}]);return I}(q.JSONSupportMixin(f));c.__decorate([r.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(J,I,N,L){this._writeBaseLayers(J,I,L)}},origins:{"web-scene":{write:{ignoreOrigin:!0,
target:{baseMapLayers:{type:e}},writer(J,I,N,L){this._writeBaseLayers(J,I,L)}}}}}})],q.prototype,"baseLayers",null);c.__decorate([r.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],q.prototype,"id",void 0);c.__decorate([r.property({type:w})],q.prototype,"portalItem",void 0);c.__decorate([r.property()],q.prototype,"referenceLayers",null);c.__decorate([r.property({readOnly:!0})],q.prototype,"resourceInfo",void 0);c.__decorate([r.property({type:z})],q.prototype,"spatialReference",void 0);
c.__decorate([r.property()],q.prototype,"thumbnailUrl",void 0);c.__decorate([r.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],q.prototype,"title",void 0);c.__decorate([v.writer("title")],q.prototype,"writeTitle",null);return q=B=c.__decorate([n.subclass("esri.Basemap")],q)})},"esri/core/Collection":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./ArrayPool ./Evented ./lang ./maybe ./ObjectPool ./scheduling ./accessorSupport/decorators/property ./accessorSupport/ensureType ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking ./accessorSupport/tracking/SimpleObservable".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g){function r(I){return I?I instanceof J?I.toArray():I.length?Array.prototype.slice.apply(I):[]:[]}function d(I){if(I&&I.length)return I[0]}function n(I,N,L,G){N&&N.forEach((F,E,K)=>{I.push(F);n(I,L.call(G,F,E,K),L,G)})}var v;let z=function(){function I(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}var N=I.prototype;N.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};N.reset=function(L){this.defaultPrevented=
!1;this.item=L};return I}();const A=new q(z,void 0,I=>{I.item=null;I.target=null;I.defaultPrevented=!1;I.cancellable=!1}),w=()=>{},y=new Set,x=new Set,B=new Set,C=new Map;let D=0,J=v=function(I,N){function L(F){F=I.call(this,F)||this;F._chgListeners=[];F._notifications=null;F._timer=null;F._observable=new g.SimpleObservable;F.length=0;F._items=[];Object.defineProperty(a._assertThisInitialized(F),"uid",{value:D++});return F}a._inheritsLoose(L,I);L.isCollection=function(F){return null!=F&&F instanceof
v};var G=L.prototype;G.normalizeCtorArgs=function(F){return F?Array.isArray(F)||F instanceof v?{items:F}:F:{}};G.destroy=function(){this.removeAll()};G[N]=function*(){yield*this.items};G.hasEventListener=function(F){return"change"===F?0<this._chgListeners.length:this._emitter.hasEventListener(F)};G.on=function(F,E){if("change"===F){const K=this._chgListeners,P={removed:!1,callback:E};K.push(P);this._notifications&&this._notifications.push({listeners:K.slice(),items:this._items.slice(),changes:[]});
return{remove(){this.remove=w;P.removed=!0;K.splice(K.indexOf(P),1)}}}return this._emitter.on(F,E)};G.once=function(F,E){const K=this.on(F,E);return{remove(){K.remove()}}};G.add=function(F,E){u.trackAccess(this._observable);if(this._emitBeforeChanges(1))return this;E=this.getNextIndex(null!=E?E:null);this._splice(E,0,[F]);this._emitAfterChanges(1);return this};G.addMany=function(F,E=this._items.length){u.trackAccess(this._observable);if(!F||!F.length||this._emitBeforeChanges(1))return this;E=this.getNextIndex(E);
this._splice(E,0,r(F));this._emitAfterChanges(1);return this};G.removeAll=function(){u.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(2))return[];const F=this._splice(0,this.length)||[];this._emitAfterChanges(2);return F};G.clone=function(){u.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(h.clone)})};G.concat=function(...F){u.trackAccess(this._observable);F=F.map(r);return this._createNewInstance({items:this._items.concat(...F)})};G.drain=
function(F,E){u.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(2)){var K=l.assumeNonNull(this._splice(0,this.length)),P=K.length;for(let W=0;W<P;W++)F.call(E,K[W],W,K);this._emitAfterChanges(2)}};G.every=function(F,E){u.trackAccess(this._observable);return this._items.every(F,E)};G.filter=function(F,E){u.trackAccess(this._observable);let K;K=2===arguments.length?this._items.filter(F,E):this._items.filter(F);return this._createNewInstance({items:K})};G.find=function(F,E){u.trackAccess(this._observable);
return this._items.find(F,E)};G.findIndex=function(F,E){u.trackAccess(this._observable);return this._items.findIndex(F,E)};G.flatten=function(F,E){u.trackAccess(this._observable);const K=[];n(K,this,F,E);return new v(K)};G.forEach=function(F,E){u.trackAccess(this._observable);return this._items.forEach(F,E)};G.getItemAt=function(F){u.trackAccess(this._observable);return this._items[F]};G.getNextIndex=function(F){u.trackAccess(this._observable);const E=this.length;F=null==F?E:F;0>F?F=0:F>E&&(F=E);
return F};G.includes=function(F,E=0){u.trackAccess(this._observable);return this._items.includes(F,E)};G.indexOf=function(F,E=0){u.trackAccess(this._observable);return this._items.indexOf(F,E)};G.join=function(F=","){u.trackAccess(this._observable);return this._items.join(F)};G.lastIndexOf=function(F,E=this.length-1){u.trackAccess(this._observable);return this._items.lastIndexOf(F,E)};G.map=function(F,E){u.trackAccess(this._observable);F=this._items.map(F,E);return new v({items:F})};G.reorder=function(F,
E=this.length-1){u.trackAccess(this._observable);const K=this.indexOf(F);if(-1!==K){0>E?E=0:E>=this.length&&(E=this.length-1);if(K!==E){if(this._emitBeforeChanges(4))return F;this._splice(K,1);this._splice(E,0,[F]);this._emitAfterChanges(4)}return F}};G.pop=function(){u.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(2)){var F=d(this._splice(this.length-1,1));this._emitAfterChanges(2);return F}};G.push=function(...F){u.trackAccess(this._observable);if(this._emitBeforeChanges(1))return this.length;
this._splice(this.length,0,F);this._emitAfterChanges(1);return this.length};G.reduce=function(F,E){u.trackAccess(this._observable);const K=this._items;return 2===arguments.length?K.reduce(F,E):K.reduce(F)};G.reduceRight=function(F,E){u.trackAccess(this._observable);const K=this._items;return 2===arguments.length?K.reduceRight(F,E):K.reduceRight(F)};G.remove=function(F){u.trackAccess(this._observable);return this.removeAt(this.indexOf(F))};G.removeAt=function(F){u.trackAccess(this._observable);if(!(0>
F||F>=this.length||this._emitBeforeChanges(2)))return F=d(this._splice(F,1)),this._emitAfterChanges(2),F};G.removeMany=function(F){u.trackAccess(this._observable);if(!F||!F.length||this._emitBeforeChanges(2))return[];F=F instanceof v?F.toArray():F;const E=this._items,K=[],P=F.length;for(let V=0;V<P;V++){var W=E.indexOf(F[V]);if(-1<W){{var ia=V+1;var Z=W+1;const qa=Math.min(F.length-ia,E.length-Z);let sa=0;for(;sa<qa&&F[ia+sa]===E[Z+sa];)sa++;ia=sa}ia=1+ia;(W=this._splice(W,ia))&&0<W.length&&K.push.apply(K,
W);V+=ia-1}}this._emitAfterChanges(2);return K};G.reverse=function(){u.trackAccess(this._observable);if(this._emitBeforeChanges(4))return this;const F=this._splice(0,this.length);F&&(F.reverse(),this._splice(0,0,F));this._emitAfterChanges(4);return this};G.shift=function(){u.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(2)){var F=d(this._splice(0,1));this._emitAfterChanges(2);return F}};G.slice=function(F=0,E=this.length){u.trackAccess(this._observable);return this._createNewInstance({items:this._items.slice(F,
E)})};G.some=function(F,E){u.trackAccess(this._observable);return this._items.some(F,E)};G.sort=function(F){u.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(4))return this;const E=l.assumeNonNull(this._splice(0,this.length));arguments.length?E.sort(F):E.sort();this._splice(0,0,E);this._emitAfterChanges(4);return this};G.splice=function(F,E,...K){u.trackAccess(this._observable);const P=(E?2:0)|(K.length?1:0);if(this._emitBeforeChanges(P))return[];F=this._splice(F,E,K)||[];this._emitAfterChanges(P);
return F};G.toArray=function(){u.trackAccess(this._observable);return this._items.slice()};G.toJSON=function(){u.trackAccess(this._observable);return this.toArray()};G.toLocaleString=function(){u.trackAccess(this._observable);return this._items.toLocaleString()};G.toString=function(){u.trackAccess(this._observable);return this._items.toString()};G.unshift=function(...F){u.trackAccess(this._observable);if(!F.length||this._emitBeforeChanges(1))return this.length;this._splice(0,0,F);this._emitAfterChanges(1);
return this.length};G._createNewInstance=function(F){return new this.constructor(F)};G._splice=function(F,E,K){const P=this._items;var W=this.itemType;let ia=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=t.schedule(()=>this._dispatchChange()));if(E){ia=P.splice(F,E);if(this.hasEventListener("before-remove")){var Z=A.acquire();Z.target=this;
Z.cancellable=!0;for(let sa=0,Ba=ia.length;sa<Ba;sa++)E=ia[sa],Z.reset(E),this.emit("before-remove",Z),Z.defaultPrevented&&(ia.splice(sa,1),P.splice(F,0,E),F+=1,--sa,--Ba);A.release(Z)}this.length=this._items.length;if(this.hasEventListener("after-remove")){E=A.acquire();E.target=this;E.cancellable=!1;Z=ia.length;for(let sa=0;sa<Z;sa++)E.reset(ia[sa]),this.emit("after-remove",E);A.release(E)}}if(K&&K.length){if(W){E=[];for(var V of K)K=W.ensureType(V),null==K&&null!=V||E.push(K);K=E}W=this.hasEventListener("before-add");
V=this.hasEventListener("after-add");E=F===this.length;if(W||V){var qa=A.acquire();qa.target=this;qa.cancellable=!0;Z=A.acquire();Z.target=this;Z.cancellable=!1;for(const sa of K)W?(qa.reset(sa),this.emit("before-add",qa),qa.defaultPrevented||(E?P.push(sa):P.splice(F++,0,sa),this._set("length",P.length),V&&(Z.reset(sa),this.emit("after-add",Z)))):(E?P.push(sa):P.splice(F++,0,sa),this._set("length",P.length),Z.reset(sa),this.emit("after-add",Z));A.release(Z);A.release(qa)}else{if(E)for(qa of K)P.push(qa);
else P.splice(F,0,...K);this._set("length",P.length)}}(K&&K.length||ia&&ia.length)&&this._notifyChangeEvent(K,ia);return ia};G._emitBeforeChanges=function(F){let E=!1;if(this.hasEventListener("before-changes")){const K=A.acquire();K.target=this;K.cancellable=!0;K.type=F;this.emit("before-changes",K);E=K.defaultPrevented;A.release(K)}return E};G._emitAfterChanges=function(F){if(this.hasEventListener("after-changes")){const E=A.acquire();E.target=this;E.cancellable=!1;E.type=F;this.emit("after-changes",
E);A.release(E)}this._observable.notify()};G._notifyChangeEvent=function(F,E){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:F,removed:E})};G._dispatchChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var F=this._notifications;this._notifications=null;for(const E of F){F=E.changes;y.clear();x.clear();B.clear();for(const {added:V,removed:qa}of F){if(V)if(0===B.size&&0===x.size)for(const sa of V)y.add(sa);
else for(const sa of V)x.has(sa)?(B.add(sa),x.delete(sa)):B.has(sa)||y.add(sa);if(qa)if(0===B.size&&0===y.size)for(const sa of qa)x.add(sa);else for(const sa of qa)y.has(sa)?y.delete(sa):(B.delete(sa),x.add(sa))}const K=c.acquire();y.forEach(V=>{K.push(V)});const P=c.acquire();x.forEach(V=>{P.push(V)});const W=this._items,ia=E.items,Z=c.acquire();B.forEach(V=>{ia.indexOf(V)!==W.indexOf(V)&&Z.push(V)});if(E.listeners&&(K.length||P.length||Z.length)){F={target:this,added:K,removed:P,moved:Z};const V=
E.listeners.length;for(let qa=0;qa<V;qa++){const sa=E.listeners[qa];sa.removed||sa.callback.call(this,F)}}c.release(K);c.release(P);c.release(Z)}y.clear();x.clear();B.clear()}};a._createClass(L,[{key:"items",get:function(){u.trackAccess(this._observable);return this._items},set:function(F){this._emitBeforeChanges(1)||(this._splice(0,this.length,r(F)),this._emitAfterChanges(1))}}]);return L}(e.EventedAccessor,Symbol.iterator);J.ofType=I=>{if(!I)return v;if(C.has(I))return C.get(I);let N=null;if("function"===
typeof I)N=I.prototype.declaredClass;else if(I.base)N=I.base.prototype.declaredClass;else for(var L in I.typeMap){const G=I.typeMap[L].prototype.declaredClass;N=N?N+` | ${G}`:G}L=function(G){function F(){return G.apply(this,arguments)||this}a._inheritsLoose(F,G);return F}(v);b.__decorate([m.shared({Type:I,ensureType:"function"===typeof I?k.ensureType(I):k.ensureOneOfType(I)})],L.prototype,"itemType",void 0);L=b.__decorate([p.subclass(`esri.core.Collection<${N}>`)],L);C.set(I,L);return L};b.__decorate([f.property()],
J.prototype,"length",void 0);b.__decorate([f.property()],J.prototype,"items",null);return J=v=b.__decorate([p.subclass("esri.core.Collection")],J)})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function b(h){h.length=0}let c=function(){function h(q=50,t=50){this._pool=new a(Array,void 0,b,t,q)}var l=h.prototype;l.acquire=function(){return this._pool.acquire()};l.release=function(q){this._pool.release(q)};l.prune=function(){this._pool.prune(0)};h.acquire=function(){return e.acquire()};
h.release=function(q){return e.release(q)};h.prune=function(){e.prune()};return h}();const e=new c(100);return c})},"esri/core/ObjectPool":function(){define(function(){let a=function(){function b(e,h,l,q=1,t=0){this.ctor=e;this.acquireFunction=h;this.releaseFunction=l;this.allocationSize=q;this._pool=Array(t);this._initialSize=t;if(this.ctor)for(e=0;e<t;e++)this._pool[e]=new this.ctor;this.allocationSize=Math.max(q,1)}var c=b.prototype;c.destroy=function(){this.prune(0)};c.acquire=function(...e){if(b.test.disabled)var h=
new this.ctor;else{if(0===this._pool.length){h=this.allocationSize;for(let l=0;l<h;l++)this._pool[l]=new this.ctor}h=this._pool.pop()}this.acquireFunction?this.acquireFunction(h,...e):h&&h.acquire&&"function"===typeof h.acquire&&h.acquire(...e);return h};c.release=function(e){e&&!b.test.disabled&&(this.releaseFunction?this.releaseFunction(e):e&&e.release&&"function"===typeof e.release&&e.release(),this._pool.push(e))};c.prune=function(e=this._initialSize){if(!(e>=this._pool.length)){for(let h=e;h<
this._pool.length;++h)this._dispose(this._pool[h]);this._pool.length=e}};c._dispose=function(e){e.dispose&&"function"===typeof e.dispose&&e.dispose()};return b}();a.test={disabled:!1};return a})},"esri/core/Evented":function(){define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(a,b,c,e,h){let l=function(){function q(){this._emitter=new q.EventEmitter(this)}var t=q.prototype;t.emit=function(f,k){return this._emitter.emit(f,
k)};t.on=function(f,k){return this._emitter.on(f,k)};t.once=function(f,k){return this._emitter.once(f,k)};t.hasEventListener=function(f){return this._emitter.hasEventListener(f)};return q}();(function(q){let t=function(){function k(p=null){this.target=p;this._listenersMap=null}var m=k.prototype;m.clear=function(){this._listenersMap&&this._listenersMap.clear();this._listenersMap=null};m.emit=function(p,u){p=this._listenersMap&&this._listenersMap.get(p);if(!p)return!1;const g=this.target||this;[...p].forEach(r=>
{r.call(g,u)});return 0<p.length};m.on=function(p,u){if(Array.isArray(p)){var g=p.map(r=>this.on(r,u));return e.handlesGroup(g)}if(-1<p.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);g=this._listenersMap.get(p)||[];g.push(u);this._listenersMap.set(p,g);return{remove:()=>{const r=this._listenersMap&&this._listenersMap.get(p)||[],d=r.indexOf(u);0<=d&&r.splice(d,1)}}};m.once=function(p,u){const g=
this.on(p,r=>{g.remove();u.call(null,r)});return g};m.hasEventListener=function(p){p=this._listenersMap&&this._listenersMap.get(p);return null!=p&&0<p.length};return k}();q.EventEmitter=t;q.EventedMixin=k=>{k=function(m){function p(){var g=m.apply(this,arguments)||this;g._emitter=new t;return g}a._inheritsLoose(p,m);var u=p.prototype;u.destroy=function(){this._emitter.clear()};u.emit=function(g,r){return this._emitter.emit(g,r)};u.on=function(g,r){return this._emitter.on(g,r)};u.once=function(g,r){return this._emitter.once(g,
r)};u.hasEventListener=function(g){return this._emitter.hasEventListener(g)};return p}(k);return k=b.__decorate([h.subclass("esri.core.Evented")],k)};let f=function(k){function m(){var u=k.apply(this,arguments)||this;u._emitter=new l.EventEmitter(a._assertThisInitialized(u));return u}a._inheritsLoose(m,k);var p=m.prototype;p.destroy=function(){this._emitter.clear()};p.emit=function(u,g){return this._emitter.emit(u,g)};p.on=function(u,g){return this._emitter.on(u,g)};p.once=function(u,g){return this._emitter.once(u,
g)};p.hasEventListener=function(u){return this._emitter.hasEventListener(u)};return m}(c);f=b.__decorate([h.subclass("esri.core.Evented")],f);q.EventedAccessor=f})(l||(l={}));return l})},"esri/core/Accessor":function(){define("../chunks/_rollupPluginBabelHelpers ./deprecate ./Logger ./accessorSupport/get ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,
b,c,e,h,l,q,t,f,k){function m(p){if(null==p)return{value:p};if(Array.isArray(p))return{type:[p[0]],value:null};switch(typeof p){case "object":return p.constructor&&p.constructor.__accessorMetadata__||p instanceof Date?{type:p.constructor,value:p}:p;case "boolean":return{type:Boolean,value:p};case "string":return{type:String,value:p};case "number":return{type:Number,value:p};case "function":return{type:p,value:null}}}return function(){function p(...g){if(this.constructor===p)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new l(this)});0<g.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,g))}p.createSubclass=function(g={}){if(Array.isArray(g))throw Error("Multi-inheritance unsupported since 4.16");const {properties:r,declaredClass:d,constructor:n}=g;delete g.declaredClass;delete g.properties;delete g.constructor;const v=this;let z=function(A){function w(...y){var x=A.call(this,...y)||this;x.inherited=null;n&&
n.apply(a._assertThisInitialized(x),y);return x}a._inheritsLoose(w,A);return w}(v);h.getOwnClassMetadata(z.prototype);for(const A in g){const w=g[A];z.prototype[A]="function"===typeof w?function(...y){const x=this.inherited;this.inherited=function(...C){if(v.prototype[A])return v.prototype[A].apply(this,C)};let B=void 0;try{B=w.apply(this,y)}catch(C){throw this.inherited=x,C;}this.inherited=x;return B}:g[A]}for(const A in r)g=m(r[A]),f.property(g)(z.prototype,A);return k.subclass(d)(z)};var u=p.prototype;
u.postscript=function(g){const r=this.__accessor__;g=r.ctorArgs||g;r.initialize();g&&(this.set(g),r.ctorArgs=null);r.constructed();this.initialize()};u.initialize=function(){};u.destroy=function(){this.destroyed||(t.removeTarget(this),this.__accessor__.destroy())};u.commitProperty=function(g){this.get(g)};u.get=function(g){return e.get(this,g)};u.hasOwnProperty=function(g){return this.__accessor__?this.__accessor__.has(g):Object.prototype.hasOwnProperty.call(this,g)};u.isInstanceOf=function(g){b.deprecatedFunction(c.getLogger(this.declaredClass),
"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"});return this instanceof g};u.keys=function(){return this.__accessor__?this.__accessor__.keys():[]};u.set=function(g,r){q.set(this,g,r);return this};u.watch=function(g,r,d){return t.watch(this,g,r,d)};u._clearOverride=function(g){return this.__accessor__.clearOverride(g)};u._override=function(g,r){return this.__accessor__.override(g,r)};u._isOverridden=function(g){return this.__accessor__.isOverridden(g)};u.notifyChange=function(g){this.__accessor__.notifyChange(g)};
u._get=function(g){return this.__accessor__.internalGet(g)};u._set=function(g,r){this.__accessor__.internalSet(g,r);return this};a._createClass(p,[{key:"initialized",get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},{key:"constructed",get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}]);return p}()})},"esri/core/deprecate":function(){define(["exports",
"./has"],function(a,b){function c(l,q,t=!1){t&&h.has(q)||(t&&h.add(q),l.warn(`\ud83d\uded1 DEPRECATED - ${q}`))}function e(l,q,t={}){if(b("esri-deprecation-warnings")){const {replacement:f,version:k,see:m,warnOnce:p}=t;f&&(q+=`\n\t\ud83d\udee0\ufe0f Replacement: ${f}`);k&&(q+=`\n\t\u2699\ufe0f Version: ${k}`);m&&(q+=`\n\t\ud83d\udd17 See ${m} for more details.`);c(l,q,p)}}const h=new Set;a.deprecated=e;a.deprecatedFunction=function(l,q,t={}){if(b("esri-deprecation-warnings")){const {moduleName:f}=
t;e(l,`Function: ${(f?f+"::":"")+q+"()"}`,t)}};a.deprecatedModule=function(l,q,t={}){b("esri-deprecation-warnings")&&e(l,`Module: ${q}`,t)};a.deprecatedProperty=function(l,q,t={}){if(b("esri-deprecation-warnings")){const {moduleName:f}=t;e(l,`Property: ${(f?f+"::":"")+q}`,t)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/has":function(){define(function(){function a(q){return"function"===typeof e[q]?e[q]=e[q](globalThis):e[q]}var b,c;let e;if(null!=(b=globalThis.dojoConfig)&&b.has||
null!=(c=globalThis.esriConfig)&&c.has){var h,l;e={...null==(h=globalThis.dojoConfig)?void 0:h.has,...null==(l=globalThis.esriConfig)?void 0:l.has}}else e={};a.add=(q,t,f,k)=>{if(k||"undefined"===typeof e[q])e[q]=t;return f&&a(q)};a.cache=e;a.add("esri-deprecation-warnings",!0);(()=>{a.add("host-webworker","undefined"!==typeof globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);var q="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&
window.location===location&&window.document===document;a.add("host-browser",q);a.add("dom",q);if(a("host-browser")){var t=navigator;q=t.userAgent;t=t.appVersion;const k=parseFloat(t);a.add("edge",parseFloat(q.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(q.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(q.split("Chrome/")[1])||void 0);a.add("safari",!t.includes("Safari")||a("chrome")||a("edge")?void 0:parseFloat(t.split("Version/")[1]));a.add("mac",t.includes("Macintosh"));
if(q.match(/(iPhone|iPod|iPad)/)){const m=RegExp.$1.replace(/P/,"p");var f=q.match(/OS ([\d_]+)/)?RegExp.$1:"1";f=parseFloat(f.replace(/_/,".").replace(/_/g,""));a.add(m,f);a.add("ios",f)}a.add("trident",parseFloat(t.split("Trident/")[1])||void 0);a("webkit")||(!q.includes("Gecko")||a("trident")||a("edge")||a.add("mozilla",k),a("mozilla")&&a.add("ff",parseFloat(q.split("Firefox/")[1]||q.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var q=navigator.userAgent;const t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(q);
q=/iPhone/i.test(q);t&&a.add("esri-mobile",t);q&&a.add("esri-iPhone",q);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-canvas-svg-support",!a("trident"));a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-shared-array-buffer",()=>{const t=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!t});a.add("esri-atomics","Atomics"in globalThis);a.add("esri-workers","Worker"in globalThis);a.add("esri-text-decoder","TextDecoder"in globalThis);a.add("esri-text-encoder",
"TextEncoder"in globalThis);a.add("web-feat:cache","caches"in globalThis);a.add("esri-workers-arraybuffer-transfer",!a("safari")||12<=Number(a("safari")));a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",[1,1,4]);a.add("featurelayer-snapshot-enabled",!0);a.add("featurelayer-snapshot-point-min-threshold",8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",.1);a.add("featurelayer-advanced-symbols",
!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);a.add("mapview-transitions-duration",200);a.add("mapserver-pbf-enabled",!1);a.add("vectortilelayer-max-buffers",a("ff")?160:Number.POSITIVE_INFINITY);!a("host-webworker")&&a("host-browser")&&(a.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",()=>{if("decode"in new Image){const t=new Image;t.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';
t.decode().then(()=>{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");t.href="?'";return t.href.includes("?%27")}))})();return a})},"esri/core/Logger":function(){define(["../chunks/_rollupPluginBabelHelpers","../config","./has","./maybe","./string"],function(a,b,c,e,h){const l={info:0,warn:1,error:2,none:3};c=function(){function q(f){this.level=null;this._module=
"";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=f.level&&(this.level=f.level);null!=f.writer&&(this.writer=f.writer);this._module=f.module;q._loggers[this.module]=this;f=this.module.lastIndexOf(".");-1!==f&&(this._parent=q.getLogger(this.module.slice(0,f)))}var t=q.prototype;t.error=function(...f){this._log("error","always",...f)};t.warn=function(...f){this._log("warn","always",...f)};t.info=function(...f){this._log("info","always",...f)};t.errorOnce=
function(...f){this._log("error","once",...f)};t.warnOnce=function(...f){this._log("warn","once",...f)};t.infoOnce=function(...f){this._log("info","once",...f)};t.errorOncePerTick=function(...f){this._log("error","oncePerTick",...f)};t.warnOncePerTick=function(...f){this._log("warn","oncePerTick",...f)};t.infoOncePerTick=function(...f){this._log("info","oncePerTick",...f)};q.getLogger=function(f){let k=q._loggers[f];k||(k=new q({module:f}));return k};t._log=function(f,k,...m){if(this._matchLevel(f)){if("always"!==
k&&!q._throttlingDisabled){const p=this._argsToKey(m),u=this._loggedMessages[f].get(p);if("once"===k&&null!=u||"oncePerTick"===k&&u&&u>=q._tickCounter)return;this._loggedMessages[f].set(p,q._tickCounter);q._scheduleTickCounterIncrement()}for(const p of b.log.interceptors)if(p(f,this.module,...m))return;this._inheritedWriter()(f,this.module,...m)}};t._parentWithMember=function(f,k){let m=this;for(;e.isSome(m);){const p=m[f];if(e.isSome(p))return p;m=m.parent}return k};t._inheritedWriter=function(){return this._parentWithMember("writer",
this._consoleWriter)};t._consoleWriter=function(f,k,...m){console[f](`[${k}]`,...m)};t._matchLevel=function(f){return l[this._parentWithMember("level",b.log.level?b.log.level:"warn")]<=l[f]};t._argsToKey=function(...f){return h.numericHash(JSON.stringify(f,(k,m)=>"object"!==typeof m||Array.isArray(m)?m:"[Object]"))};q._scheduleTickCounterIncrement=function(){q._tickCounterScheduled||(q._tickCounterScheduled=!0,Promise.resolve().then(()=>{q._tickCounter++;q._tickCounterScheduled=!1}))};a._createClass(q,
[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}},{key:"test",get:function(){const f=this;return{loggedMessages:f._loggedMessages,clearLoggedWarnings(){return f._loggedMessages.warn.clear()}}}}],[{key:"testSingleton",get:function(){return{resetLoggers(f={}){const k=q._loggers;q._loggers=f;return k},set throttlingDisabled(f){q._throttlingDisabled=f}}}}]);return q}();c._loggers={};c._tickCounter=0;c._tickCounterScheduled=!1;c._throttlingDisabled=
!1;return c})},"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,c){var e;b={apiKey:void 0,applicationUrl:null==(e=globalThis.location)?void 0:e.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",
workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(c.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,
document.baseURI)).href,b.assetsPath=a.slice(0,a.lastIndexOf("esri/")));b.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath");Object.defineProperty(b,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}});b.request.corsEnabledServers=[];b.request.corsEnabledServers.push=function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};
return b})},"esri/core/object":function(){define(["exports","./lang"],function(a,b){function c(h,l,q){for(const t of h){if(null==q)return;if(!(t in q))if(l)q[t]={};else return;q=q[t]}return q}function e(h,l,q){return l?Object.keys(l).reduce(function(t,f){let k=t[f],m=l[f];if(k===m)return t;if(void 0===k)return t[f]=b.clone(m),t;if(Array.isArray(m)||Array.isArray(t))k=k?Array.isArray(k)?t[f]=k.concat():t[f]=[k]:t[f]=[],m&&(Array.isArray(m)||(m=[m]),q?m.forEach(p=>{-1===k.indexOf(p)&&k.push(p)}):t[f]=
m.concat());else if(m&&"object"===typeof m)t[f]=e(k,m,q);else if(!t.hasOwnProperty(f)||l.hasOwnProperty(f))t[f]=m;return t},h||{}):h}a.deepMerge=function(h,l,q=!1){return e(h,l,q)};a.getDeepValue=function(h,l){if(null!=l)return l[h]||c(h.split("."),!1,l)};a.setDeepValue=function(h,l,q){const t=h.split(".");h=t.pop();(q=c(t,!0,q))&&h&&(q[h]=l)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/lang":function(){define(["exports","./arrayUtils","./has","./typedArrayUtil"],function(a,b,c,
e){function h(t,f){let k;if(f)for(k in t)t.hasOwnProperty(k)&&(void 0===t[k]?delete t[k]:t[k]instanceof Object&&h(t[k],!0));else for(k in t)t.hasOwnProperty(k)&&void 0===t[k]&&delete t[k];return t}function l(t){if(!t||"object"!==typeof t||"function"===typeof t)return t;if(e.isInt8Array(t)||e.isUint8Array(t)||e.isUint8ClampedArray(t)||e.isInt16Array(t)||e.isUint16Array(t)||e.isInt32Array(t)||e.isUint32Array(t)||e.isFloat32Array(t)||e.isFloat64Array(t))return e.slice(t);if(t instanceof Date)return new Date(t.getTime());
if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const k=new Map;t.forEach((m,p)=>{k.set(p,l(m))});return k}if(t instanceof Set){const k=new Set;t.forEach(m=>{k.add(l(m))});return k}let f;if("function"===typeof t.clone)f=t.clone();else if("function"===typeof t.map&&"function"===typeof t.forEach)f=t.map(l);else if("function"===typeof t.notifyChange&&"function"===typeof t.watch)f=t.clone();else{f={};for(const k of Object.getOwnPropertyNames(t))f[k]=l(t[k])}return f}function q(t,
f){if(null===t||null===f)return!1;const k=Object.keys(t),m=k.length;if(null===f||Object.keys(f).length!==m)return!1;for(const p of k)if(t[p]!==f[p]||!Object.prototype.hasOwnProperty.call(f,p))return!1;return!0}a.clone=l;a.equals=function(t,f){return t===f||"number"===typeof t&&isNaN(t)&&"number"===typeof f&&isNaN(f)||"function"===typeof(t||{}).getTime&&"function"===typeof(f||{}).getTime&&t.getTime()===f.getTime()||!1};a.equalsShallow=function(t,f){if(t===f)return!0;if(null===t||void 0===t||"string"===
typeof t)return t===f;if("number"===typeof t)return t===f||"number"===typeof f&&isNaN(t)&&isNaN(f);if(t instanceof Date)return f instanceof Date&&t.getTime()===f.getTime();if(Array.isArray(t))return Array.isArray(f)&&b.equals(t,f);if(t instanceof Set){var k;if(k=f instanceof Set)a:if(t.size!==f.size)k=!1;else{for(const m of t)if(!f.has(m)){k=!1;break a}k=!0}return k}if(t instanceof Map){if(k=f instanceof Map)a:if(t.size!==f.size)k=!1;else{for(const [m,p]of t)if(t=f.get(m),t!==p||void 0===t&&!f.has(m)){k=
!1;break a}k=!0}return k}return"object"===typeof t?"object"===typeof f&&q(t,f):!1};a.fixJson=h;a.mixin=function(t={},...f){c("esri-deprecation-warnings")&&console.warn("[esri.core.lang] \ud83d\uded1 DEPRECATED - Function: mixin()\n\t\ud83d\udee0\ufe0f Replacement: Use Object.assign() directly\n\t\u2699\ufe0f Version: 4.19");return Object.assign(t,...f)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/arrayUtils":function(){define(["exports","./maybe","./RandomLCG"],function(a,b,c){function e(u){return u}
function h(u,g=e){if(u&&0!==u.length){var r=u[0],d=g(r);for(let n=1;n<u.length;++n){const v=u[n],z=Number(g(v));z>d&&(d=z,r=v)}return r}}function l(u,g,r,d){d=d||k;var n=Math.max(0,d.last-10);for(let v=n;v<r;++v)if(u[v]===g)return d.last=v;r=Math.min(n,r);for(n=0;n<r;++n)if(u[n]===g)return d.last=n;return-1}function q(u){return u?(p.seed=u,()=>p.getFloat()):Math.random}const t=!!Array.prototype.fill;let f=function(){this.last=0};const k=new f,m=new Set,p=new c;a.PositionHint=f;a.binaryFindClosest=
function(u,g,r){if(u&&0!==u.length){var d=u.length-1,n=u[0];if(g<=r(n))return n;n=u[d];if(g>=r(n))return n;var v=0;n=0;for(var z=d;v<z;){n=v+Math.floor((z-v)/2);const w=u[n],y=r(w);if(y===g)return w;if(g<y){if(0<n){z=u[n-1];var A=r(z);if(g>A)return g-A>=y-g?w:z}z=n}else{if(n<d&&(v=u[n+1],A=r(v),g<A))return g-y>=A-g?v:w;v=n+1}}return u[n]}};a.binaryIndexOf=function(u,g,r){const d=u.length;let n=0;for(var v=d-1;n<v;){const z=n+Math.floor((v-n)/2);g>u[z]?n=z+1:v=z}v=u[n];return r?g>=u[d-1]?-1:v===g?
n:n-1:v===g?n:-1};a.constant=function(u,g){if(t)return Array(u).fill(g);const r=Array(u);for(let d=0;d<u;d++)r[d]=g;return r};a.difference=function(u,g,r){let d,n;r?(d=g.filter(v=>!u.some(z=>r(z,v))),n=u.filter(v=>!g.some(z=>r(z,v)))):(d=g.filter(v=>!u.includes(v)),n=u.filter(v=>!g.includes(v)));return{added:d,removed:n}};a.equals=function(u,g,r){if(b.isNone(u)&&b.isNone(g))return!0;if(b.isNone(u)||b.isNone(g)||u.length!==g.length)return!1;if(r)for(let d=0;d<u.length;d++){if(!r(u[d],g[d]))return!1}else for(r=
0;r<u.length;r++)if(u[r]!==g[r])return!1;return!0};a.first=function(u){if(u)return 0<u.length?u[0]:void 0};a.flatten=function(u){return u.reduce((g,r)=>g.concat(r||[]),[])};a.indexOf=l;a.intersect=function(u,g,r){return u&&g?r?u.filter(function(d){return-1<g.findIndex(function(n){return r(d,n)})}):u.filter(function(d){return-1<g.indexOf(d)}):[]};a.isArrayLike=function(u){return u&&"number"===typeof u.length};a.last=function(u){if(u){var g=u.length;return 0<g?u[g-1]:void 0}};a.max=h;a.min=function(u,
g=e){return h(u,r=>-g(r))};a.pickRandom=function(u,g,r){const d=u.length;if(g>=d)return u.slice(0);r=q(r);const n=new Set,v=[];for(;v.length<g;){const z=Math.floor(r()*d);n.has(z)||(n.add(z),v.push(u[z]))}return v};a.range=function(u,g){void 0===g&&(g=u,u=0);const r=Array(g-u);for(let d=u;d<g;d++)r[d-u]=d;return r};a.remove=function(u,g){const r=u.indexOf(g);return-1!==r?(u.splice(r,1),g):null};a.removeUnordered=function(u,g,r,d){const n=null==r?u.length:r;d=l(u,g,n,d);if(-1!==d)return u[d]=u[n-1],
null==r&&u.pop(),g};a.removeUnorderedMany=function(u,g,r=u.length,d=g.length,n,v){if(0===d||0===r)return r;m.clear();for(let z=0;z<d;++z)m.add(g[z]);n=n||k;g=Math.max(0,n.last-10);for(d=g;d<r;++d)if(m.has(u[d])&&(v&&v.push(u[d]),m.delete(u[d]),u[d]=u[r-1],--r,--d,0===m.size||0===r))return m.clear(),r;for(d=0;d<g;++d)if(m.has(u[d])&&(v&&v.push(u[d]),m.delete(u[d]),u[d]=u[r-1],--r,--d,0===m.size||0===r))return m.clear(),r;m.clear();return r};a.shuffle=function(u,g){g=q(g);for(let r=u.length-1;0<r;r--){const d=
Math.floor(g()*(r+1)),n=u[r];u[r]=u[d];u[d]=n}return u};a.splitIntoChunks=function(u,g){const r=u.length;if(0===r)return[];const d=[];for(let n=0;n<r;n+=g)d.push(u.slice(n,n+g));return d};a.unique=function(u,g){return g?u.filter((r,d,n)=>n.findIndex(g.bind(null,r))===d):u.filter((r,d,n)=>n.indexOf(r)===d)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/maybe":function(){define(["exports"],function(a){function b(c,e,h){return null!=c?h(c):e}a.abortMaybe=function(c){null!=c&&c.abort();
return null};a.andThen=function(c,e){return null!=c?e(c):null};a.applySome=function(c,e){return null!=c?e(c):null};a.assumeNonNull=function(c){return c};a.destroyMaybe=function(c){null!=c&&c.destroy();return null};a.disposeMaybe=function(c){null!=c&&c.dispose();return null};a.equalsMaybe=function(c,e){return null!=c&&null!=e?c.equals(e):c===e};a.filterNones=function(c){return c.filter(e=>null!=e)};a.forEachSome=function(c,e){for(const h of c)b(h,null,e)};a.get=function(c,...e){for(let h=0;h<e.length&&
c;++h)c=c[e[h]];return c};a.isNone=function(c){return null==c};a.isSome=function(c){return null!=c};a.isUndefined=function(c){return void 0===c};a.mapMany=function(c,e){const h=[];for(const l of c)h.push(b(l,null,e));return h};a.mapOr=b;a.mapSome=function(c,e){const h=[];c.forEach(l=>{l=e(l);null!=l&&h.push(l)});return h};a.mapSomeFirst=function(c,e){for(const h of c)if(c=e(h),null!=c)return c;return null};a.none=null;a.nullifyNonnullableForDispose=function(c){return null};a.releaseMaybe=function(c){null!=
c&&c.release();return null};a.removeMaybe=function(c){null!=c&&c.remove();return null};a.unwrap=function(c){return c};a.unwrapOr=function(c,e){return null!=c?c:"function"===typeof e?e():e};a.unwrapOrThrow=function(c,e){if(null==c)throw Error(e);return c};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/RandomLCG":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){let b=function(){function c(h=1){this._seed=h}var e=c.prototype;e.getInt=function(){return this._seed=
(c._a*this._seed+c._c)%c._m};e.getFloat=function(){return this.getInt()/(c._m-1)};e.getIntRange=function(h,l){return Math.round(this.getFloatRange(h,l))};e.getFloatRange=function(h,l){l-=h;const q=this.getInt()/c._m;return h+q*l};a._createClass(c,[{key:"seed",set:function(h){this._seed=null==h?Math.random()*c._m:h}}]);return c}();b._m=2147483647;b._a=48271;b._c=0;return b})},"esri/core/typedArrayUtil":function(){define(["exports","./maybe"],function(a,b){a.estimateSize=function(c){return b.isNone(c)?
0:128+c.buffer.byteLength+64};a.forEach=function(c,e){if(c.forEach)c.forEach(e);else for(let h=0;h<c.length;h++)e(c[h],h,c)};a.isArrayBuffer=function(c){return c instanceof ArrayBuffer||c&&c.constructor&&"ArrayBuffer"===c.constructor.name};a.isFloat32Array=function(c){return c instanceof Float32Array||c&&c.constructor&&"Float32Array"===c.constructor.name};a.isFloat64Array=function(c){return c instanceof Float64Array||c&&c.constructor&&"Float64Array"===c.constructor.name};a.isInt16Array=function(c){return c instanceof
Int16Array||c&&c.constructor&&"Int16Array"===c.constructor.name};a.isInt32Array=function(c){return c instanceof Int32Array||c&&c.constructor&&"Int32Array"===c.constructor.name};a.isInt8Array=function(c){return c instanceof Int8Array||c&&c.constructor&&"Int8Array"===c.constructor.name};a.isUint16Array=function(c){return c instanceof Uint16Array||c&&c.constructor&&"Uint16Array"===c.constructor.name};a.isUint32Array=function(c){return c instanceof Uint32Array||c&&c.constructor&&"Uint32Array"===c.constructor.name};
a.isUint8Array=function(c){return c instanceof Uint8Array||c&&c.constructor&&"Uint8Array"===c.constructor.name};a.isUint8ClampedArray=function(c){return c instanceof Uint8ClampedArray||c&&c.constructor&&"Uint8ClampedArray"===c.constructor.name};a.slice=function(c,e,h){if(c.slice)return c.slice(e,h);void 0===e?e=0:(0>e&&(e+=c.length),e=Math.min(c.length,Math.max(0,e)));void 0===h?h=c.length:(0>h&&(h+=c.length),h=Math.min(c.length,Math.max(0,h)));h=Math.max(0,h-e);const l=new c.constructor(h);for(let q=
0;q<h;q++)l[q]=c[e+q];return l};a.toArray=function(c){const e=Array(c.length);for(let h=0;h<c.length;h++)e[h]=c[h];return e};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/string":function(){define(["exports","./object"],function(a,b){function c(h){return null==h?"":h}const e=/\{([^\}]+)\}/g;a.escapeRegExpString=function(h,l){return h.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,q=>l&&-1!==l.indexOf(q)?q:`\\${q}`)};a.numericHash=function(h){let l=0;for(let q=0;q<h.length;q++)l=(l<<5)-
l+h.charCodeAt(q),l|=0;return l};a.replace=function(h,l){return h.replace(e,"object"===typeof l?(q,t)=>c(b.getDeepValue(t,l)):(q,t)=>c(l(t)))};a.stripHTML=function(h){return(new DOMParser).parseFromString(h||"","text/html").body.innerText||""};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,b){function c(q,t){q="?"===q[q.length-1]?q.slice(0,-1):q;if(null!=t.getItemAt||Array.isArray(t)){var f=parseInt(q,10);if(!isNaN(f))return Array.isArray(t)?
t[f]:t.getItemAt(f)}f=b.getProperties(t);return b.isPropertyDeclared(f,q)?f.get(q):t[q]}function e(q,t,f){if(null==q)return q;if((q=c(t[f],q))||!(f<t.length-1))return f===t.length-1?q:e(q,t,f+1)}function h(q,t,f=0){return"string"===typeof t&&-1===t.indexOf(".")?c(t,q):e(q,b.pathToArray(t),f)}function l(q,t){return h(q,t)}a.default=l;a.exists=function(q,t){return void 0!==h(t,q)};a.get=l;a.valueOf=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/utils":function(){define(["exports",
"../handleUtils","../lang","../maybe"],function(a,b,c,e){function h(k){return k?k.__accessor__?k.__accessor__:k.propertyInvalidated?k:null:null}function l(k,m,p){return m?Object.keys(m).reduce(function(u,g){let r=null;var d="merge";p&&(r=p.path?`${p.path}.${g}`:g,d=p.policy(r));if("replace"===d)return u[g]=m[g],u;if(void 0===u[g])return u[g]=c.clone(m[g]),u;let n=u[g];d=m[g];if(n===d)return u;if(Array.isArray(d)||Array.isArray(u))n=n?Array.isArray(n)?u[g]=n.concat():u[g]=[n]:u[g]=[],d&&(Array.isArray(d)||
(d=[d]),d.forEach(v=>{-1===n.indexOf(v)&&n.push(v)}));else if(d&&"object"===typeof d)if(p){const v=p.path;p.path=e.assumeNonNull(r);u[g]=l(n,d,p);p.path=v}else u[g]=l(n,d,null);else if(!u.hasOwnProperty(g)||m.hasOwnProperty(g))u[g]=d;return u},k||{}):k}function q(k){return Array.isArray(k)?k:k.split(".")}function t(k){return-1<k.indexOf(",")?k.split(",").map(m=>m.trim()):[k.trim()]}function f(k){if(Array.isArray(k)){const m=[];for(const p of k)m.push(...t(p));return m}return t(k)}a.getDependsInfo=
function(k,m){const p=h(k);return p?p.getDependsInfo(k,m,""):""};a.getProperties=h;a.isPropertyDeclared=function(k,m){return null!=k&&k.metadatas&&null!=k.metadatas[m]};a.merge=function(k,m,p){return p?l(k,m,{policy:p,path:""}):l(k,m,null)};a.once=function(k){let m=!1;return()=>{m||(m=!0,k())}};a.parse=function(k,m,p,u){m=f(m);return 1!==m.length?(m=m.map(g=>u(k,g,p)),b.handlesGroup(m)):u(k,m[0],p)};a.parseConditionalPath=function(k){if(-1===k.indexOf("?"))return null;k=q(k);const m=Array(k.length);
for(let p=0;p<k.length;p++){const u=k[p];m[p]="?"===u[u.length-1];m[p]&&(k[p]=u.slice(0,-1))}return{fullPath:k.join("."),conditional:m}};a.pathToArray=q;a.pathToStringOrArray=function(k){return!k||"string"===typeof k&&-1===k.indexOf(".")?k:q(k)};a.splitPath=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/handleUtils":function(){define(["exports","./maybe"],function(a,b){function c(e){return{remove:()=>{e&&(e(),e=void 0)}}}a.asyncHandle=function(e,h){let l=!1,q=null;e.then(t=>{l?t.remove():
q=t});return c(()=>{l=!0;b.isSome(q)?q.remove():b.isSome(h)&&(h.abort(),h=null)})};a.destroyHandle=function(e){return c(b.isSome(e)?()=>e.destroy():void 0)};a.handlesGroup=function(e){return c(()=>e.forEach(h=>b.isSome(h)&&h.remove()))};a.makeHandle=c;a.refHandle=function(e){return c(()=>{const h=e();b.isSome(h)&&h.remove()})};a.timeoutHandle=function(e,h){const l=setTimeout(e,h);return c(()=>clearTimeout(l))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/metadata":function(){define(["exports",
"../lang","../maybe","./utils"],function(a,b,c,e){function h(p){let u=p.constructor.__accessorMetadata__;var g=Object.prototype.hasOwnProperty.call(p.constructor,"__accessorMetadata__");if(!u)u=new f({}),Object.defineProperty(p.constructor,"__accessorMetadata__",{value:u,enumerable:!1,configurable:!0,writable:!0});else if(!g){g=Object.create(u.properties);const r=u.autoDestroy;for(const d in g)g[d]=b.clone(g[d]);u=new f(g);u.autoDestroy=r;Object.defineProperty(p.constructor,"__accessorMetadata__",
{value:u,enumerable:!1,configurable:!0,writable:!0})}return c.assumeNonNull(p.constructor.__accessorMetadata__)}function l(p){return h(p).properties}function q(p){return k.test(p)?"replace":"merge"}function t(p){return m.test(p)?q(p.slice(11)):"merge"}let f=function(p){this.autoDestroy=!1;this.properties=p};const k=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,m=/^properties\./;a.ClassMetadata=f;a.getOwnClassMetadata=h;a.getOwnPropertiesMetadata=l;a.getOwnPropertyMetadata=
function(p,u){p=l(p);let g=p[u];g||(g=p[u]={});return g};a.merge=function(p,u){return e.merge(p,u,t)};a.mergeProperty=function(p,u){return e.merge(p,u,q)};a.setPropertyMetadata=function(p,u,g){l(p)[u]=g};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/Properties":function(){define("../../chunks/_rollupPluginBabelHelpers ../has ../lang ../Logger ../ObjectPool ./Property ./PropertyOrigin ./Store ./tracking ./utils".split(" "),function(a,b,c,e,h,l,q,t,f,k){e.getLogger("esri.core.accessorSupport.Properties");
b=function(){function p(g){this.host=g;this.properties=new Map;this.ctorArgs=null;this.destroyed=!1;this.lifecycle=0;this.store=new t.Store;this._origin=6;g=this.host.constructor.__accessorMetadata__;const r=g.properties;for(const d in r){const n=new l.Property(this,d,r[d]);this.properties.set(d,n)}this.metadatas=r;this._autoDestroy=g.autoDestroy}var u=p.prototype;u.initialize=function(){this.lifecycle=1};u.constructed=function(){this.lifecycle=2};u.destroy=function(){this.destroyed=!0;if(this._autoDestroy)for(const [r,
d]of this.properties){var g=this.internalGet(r);g&&g&&"function"===typeof g.destroy&&(g.destroy(),~d.flags&8&&this._internalSet(d,null));d.destroy()}else for([,g]of this.properties)g.destroy()};u.get=function(g){const r=this.properties.get(g);if(r.metadata.get)return r.getComputed();f.trackAccess(r);const d=this.store;return d.has(g)?d.get(g):r.metadata.value};u.originOf=function(g){const r=this.store.originOf(g);return void 0===r&&(g=this.properties.get(g),void 0!==g&&g.flags&16)?"defaults":q.idToName(r)};
u.has=function(g){return this.properties.has(g)?this.store.has(g):!1};u.keys=function(){return[...this.properties.keys()]};u.internalGet=function(g){const r=this.properties.get(g);if(void 0!==r)return this.store.has(g)?this.store.get(g):r.metadata.value};u.internalSet=function(g,r){g=this.properties.get(g);void 0!==g&&this._internalSet(g,r)};u.getDependsInfo=function(g,r,d){const n=this.properties.get(r);if(void 0===n)return"";const v=new Set;var z=f.runTracked({onObservableAccessed:w=>v.add(w),onTrackingEnd:()=>
{}},()=>{var w;return null==(w=n.metadata.get)?void 0:w.call(g)}),A=g.declaredClass.split(".").pop();r=`${d}${A}.${r}: ${z}\n`;if(0===v.size)return r;d+="  ";for(const w of v){if(!(w instanceof l.Property))continue;z=w.properties.host;A=w.propertyName;const y=k.getProperties(z);r=y?r+y.getDependsInfo(z,A,d):r+`${d}${A}: undefined\n`}return r};u.setAtOrigin=function(g,r,d){g=this.properties.get(g);if(void 0!==g)return this._setAtOrigin(g,r,d)};u.isOverridden=function(g){g=this.properties.get(g);return void 0!==
g&&!!(g.flags&2)};u.clearOverride=function(g){g=this.properties.get(g);void 0!==g&&g.flags&2&&(g.flags&=-3,g.notifyChange())};u.override=function(g,r){g=this.properties.get(g);if(!(void 0===g||null==r&&g.flags&8)){var d=g.metadata.cast;if(d){r=this._cast(d,r);const {valid:n,value:v}=r;m.release(r);if(!n)return;r=v}g.flags|=2;this._internalSet(g,r)}};u.set=function(g,r){g=this.properties.get(g);if(!(void 0===g||null==r&&g.flags&8)){var d=g.metadata.cast;if(d){r=this._cast(d,r);const {valid:n,value:v}=
r;m.release(r);if(!n)return;r=v}(d=g.metadata.set)?d.call(this.host,r):this._internalSet(g,r)}};u.setDefaultOrigin=function(g){this._origin=q.nameToId(g)};u.getDefaultOrigin=function(){return q.idToName(this._origin)};u.notifyChange=function(g){g=this.properties.get(g);void 0!==g&&g.notifyChange()};u.invalidate=function(g){g=this.properties.get(g);void 0!==g&&g.invalidate()};u.commit=function(g){g=this.properties.get(g);void 0!==g&&g.commit()};u._internalSet=function(g,r){this._setAtOrigin(g,r,0!==
this.lifecycle?this._origin:0)};u._setAtOrigin=function(g,r,d){const n=this.store,v=g.propertyName;n.has(v,d)&&c.equals(r,n.get(v))&&~g.flags&2&&d===n.originOf(v)||(g.invalidate(),n.set(v,r,d),g.commit(),f.initializeDependencyTracking(this.host,g))};u._cast=function(g,r){const d=m.acquire();d.valid=!0;d.value=r;g&&(d.value=g.call(this.host,r,d));return d};a._createClass(p,[{key:"initialized",get:function(){return 0!==this.lifecycle}}]);return p}();e=function(){function p(){this.value=null;this.valid=
!0}var u=p.prototype;u.acquire=function(){this.valid=!0};u.release=function(){this.value=null};return p}();const m=new h(e);return b})},"esri/core/accessorSupport/Property":function(){define(["exports","./tracking","./tracking/ObservationHandle"],function(a,b,c){let e=function(){function h(q,t,f){this.properties=q;this.propertyName=t;this.metadata=f;this._handles=this._accessed=this._observers=null;this.flags=1|(f.nonNullable?8:0)|(f.hasOwnProperty("value")?16:0)|(void 0===f.get?32:0)|(void 0===f.dependsOn?
64:0)}var l=h.prototype;l.destroy=function(){this._observers=this._accessed=null;this._clearObservationHandles()};l.getComputed=function(){b.trackAccess(this);var q=this.properties.store;const t=this.propertyName;var f=this.flags;const k=q.get(t);if(f&4||~f&1&&q.has(t))return k;this.flags|=4;const m=this.properties.host;f&64?f=b.runTracked(this,this.metadata.get,m):(b.trackExplicitDependencies(m,this),f=this.metadata.get.call(m));q.set(t,f,1);q=q.get(t);q===k?this.flags&=-2:b.runUntracked(this.commit,
this);this.flags&=-5;return q};l.onObservableAccessed=function(q){q!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(q)||this._accessed.push(q))};l.onTrackingEnd=function(){this._clearObservationHandles();this.flags|=32;const q=this._accessed;if(null!==q){var t=this._handles;null===t&&(t=this._handles=[]);for(let f=0;f<q.length;++f)t.push(q[f].observe(this));q.length=0}};l.observe=function(q){null===this._observers&&(this._observers=[]);this._observers.includes(q)||this._observers.push(q);
return new c.ObservationHandle(this._observers,q)};l.notifyChange=function(){this.onInvalidated();this.onCommitted()};l.invalidate=function(){this.onInvalidated()};l.onInvalidated=function(){~this.flags&2&&(this.flags|=1);const q=this._observers;if(null!==q)for(let t=0;t<q.length;++t)q[t].onInvalidated()};l.commit=function(){this.flags&=-2;this.onCommitted()};l.onCommitted=function(){if(null!==this._observers){var q=this._observers.slice();for(let t=0;t<q.length;++t)q[t].onCommitted()}};l._clearObservationHandles=
function(){const q=this._handles;if(null!==q){for(let t=0;t<q.length;++t)q[t].remove();q.length=0}};return h}();a.Property=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking":function(){define(["exports","../has","../Logger","./utils"],function(a,b,c,e){function h(v){if(void 0!==u)u.onObservableAccessed(v)}function l(v,z,A){if(r)return q(v,z,A);u=v;p.push(v);v=z.call(A);t();return v}function q(v,z,A){const w=r;r=!0;u=v;p.push(v);v=null;try{v=z.call(A)}catch(y){d&&
g.error(y)}t();r=w;return v}function t(){const v=p.pop();u=0<p.length?p[p.length-1]:void 0;if(void 0!==v)v.onTrackingEnd()}function f(v,z){if(!(z.flags&32)){var A=d;d=!1;z.flags&64?q(z,z.metadata.get,v):k(v,z);d=A}}function k(v,z){z.flags&128||(z.flags|=128,q(z,()=>{var A=z.metadata.dependsOn||n;for(const w of A)if("string"===typeof w&&-1===w.indexOf("."))m(v,w,!1);else{A=e.pathToArray(w);for(let y=0,x=v;y<A.length&&null!=x&&"object"===typeof x;++y)x=m(x,A[y],y!==A.length-1)}}),z.flags&=-129)}function m(v,
z,A){z="?"===z[z.length-1]?z.slice(0,-1):z;if(null!=v.getItemAt||Array.isArray(v)){var w=parseInt(z,10);if(!isNaN(w))return Array.isArray(v)?v[w]:v.getItemAt(w)}w=e.getProperties(v);if(w=null==w?void 0:w.properties.get(z))h(w),f(v,w);return A?v[z]:void 0}let p=[],u=void 0;const g=c.getLogger("esri.core.Accessor");let r=!1,d=!1;const n=[];a.initializeDependencyTracking=f;a.resetGlobalTarget=function(){p=[]};a.runTracked=l;a.runTrackedNoThrow=q;a.runUntracked=function(v,z){return l(void 0,v,z)};a.trackAccess=
h;a.trackExplicitDependencies=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports","../../arrayUtils"],function(a,b){let c=function(){function e(h,l){this._observers=h;this._observer=l}e.prototype.remove=function(){b.remove(this._observers,this._observer)};return e}();a.ObservationHandle=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports","../maybe"],
function(a,b){function c(h){switch(h){case "defaults":return 0;case "service":return 2;case "portal-item":return 3;case "web-scene":return 4;case "web-map":return 5;case "user":return 6}}function e(h){switch(h){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return b.assumeNonNull(void 0)}a.OriginIdNum=7;a.idToName=e;a.idToReadableName=function(h){return e(h)};a.idToWritableName=function(h){return e(h)};
a.nameToId=c;a.readableNameToId=function(h){return c(h)};a.writableNameToId=function(h){return c(h)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang"],function(a,b){let c=function(){function e(){this._values=new Map}var h=e.prototype;h.clone=function(l){const q=new e;this._values.forEach((t,f)=>{l&&l.has(f)||q.set(f,b.clone(t))});return q};h.get=function(l){return this._values.get(l)};h.originOf=function(){return 6};h.keys=
function(){return[...this._values.keys()]};h.set=function(l,q){this._values.set(l,q)};h.delete=function(l){this._values.delete(l)};h.has=function(l){return this._values.has(l)};h.forEach=function(l){this._values.forEach(l)};return e}();a.Store=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/set":function(){define(["exports","../has","../Logger","./get"],function(a,b,c,e){function h(l,q,t){if(l&&q)if("object"===typeof q)for(var f of Object.getOwnPropertyNames(q))h(l,
f,q[f]);else-1!==q.indexOf(".")?(q=q.split("."),f=q.splice(q.length-1,1)[0],h(e.get(l,q),f,t)):l[q]=t}c.getLogger("esri.core.accessorSupport.set");a.default=h;a.set=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/watch":function(){define("exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./trackingUtils ./utils".split(" "),function(a,b,c,e,h,l,q,t,f,k){function m(C){y.delete(C);y.add(C);x||(x=h.schedule(u))}function p(C){if(!C.removed){var D=
C.oldValue,J=C.getValue();C.equals(D,J)||(C.oldValue=J,C.notify(J,D))}}function u(){let C=10;for(;x&&C--;){x=null;const D=g(),J=w.acquire();for(const I of D){const N=I.uid;p(I);N===I.uid&&I.removed&&J.push(I)}for(const I of y)I.removed&&(J.push(I),y.delete(I));for(const I of J)A.pool.release(I);w.release(J);w.release(D);B.forEach(I=>I())}}function g(){const C=w.acquire();C.length=y.size;let D=0;for(const J of y)C[D]=J,++D;y.clear();return C}function r(C,D,J){let I=k.parse(C,D,J,(N,L,G)=>{let F,E,
K=f.reactionDeferred(()=>t.valueOf(N,L),(P,W)=>{N.__accessor__.destroyed||F&&F.uid!==E?I.remove():(F||(F=A.acquireUntracked(P,G,W,N,L),E=F.uid),m(F))});return{remove:k.once(()=>{K.remove();F&&(F.uid!==E||F.removed||(F.removed=!0,m(F)),F=null);I=K=null})}});return I}function d(C,D,J){const I=k.parse(C,D,J,(N,L,G)=>{let F=!1;return f.reaction(()=>t.valueOf(N,L),(E,K)=>{N.__accessor__.destroyed?I.remove():F||(F=!0,c.equals(K,E)||G.call(N,E,K,L,N),F=!1)})});return I}function n(C,D,J,I=!1){return!C.__accessor__||
C.__accessor__.destroyed?{remove(){}}:I?d(C,D,J):r(C,D,J)}function v(C,D,J){let I,N,L=f.reactionDeferred(C,(G,F)=>{I&&I.uid!==N?L.remove():(I||(I=A.acquireTracked(G,D,F,J),N=I.uid),m(I))});return{remove:k.once(()=>{L.remove();I&&(I.uid!==N||I.removed||(I.removed=!0,m(I)),I=null);L=null})}}function z(C,D,J){let I=!1;return f.reaction(C,(N,L)=>{I||(I=!0,J(L,N)||D(N,L),I=!1)})}let A=function(){function C(){this.uid=q.generateUID();this.removed=!1;this.equals=this.path=this.target=this.getValue=this.callback=
this.oldValue=this.type=null}C.acquireUntracked=function(J,I,N,L,G){return this.pool.acquire(0,J,I,N,L,G,c.equals)};C.acquireTracked=function(J,I,N,L){return this.pool.acquire(1,J,I,N,null,null,L)};var D=C.prototype;D.notify=function(J,I){0===this.type?this.callback.call(this.target,J,I,this.path,this.target):this.callback.call(null,J,I)};D.acquire=function(J,I,N,L,G,F,E){this.uid=q.generateUID();this.removed=!1;this.type=J;this.oldValue=I;this.callback=N;this.getValue=L;this.target=G;this.path=F;
this.equals=E};D.release=function(){this.target=this.path=this.oldValue=this.callback=this.getValue=null;this.uid=q.generateUID();this.removed=!0};return C}();A.pool=new e.ReentrantObjectPool(A);const w=new b,y=new Set;let x;const B=new Set;a.afterDispatch=function(C){B.add(C);return{remove(){B.delete(C)}}};a.default=n;a.dispatch=u;a.dispatchTarget=function(C){const D=Array.from(y);for(let J=0;J<D.length;J++){const I=D[J];I.target===C&&(p(I),y.delete(I))}};a.isValueInUse=function(C){return l.someSet(y,
D=>D.oldValue===C)};a.removeTarget=function(C){for(const D of y.values())D.target===C&&(D.removed=!0)};a.syncWatchTracked=z;a.watch=n;a.watchTracked=function(C,D,J=!1,I=c.equals){return J?z(C,D,I):v(C,D,I)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ReentrantObjectPool":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./ObjectPool"],function(a,b,c,e){e=function(h){function l(){var t=h.apply(this,arguments)||this;t._set=new Set;return t}b._inheritsLoose(l,
h);var q=l.prototype;q.destroy=function(){h.prototype.destroy.call(this);this._set=c.nullifyNonnullableForDispose(this._set)};q.acquire=function(...t){t=h.prototype.acquire.call(this,...t);this._set.delete(t);return t};q.release=function(t){t&&!this._set.has(t)&&(h.prototype.release.call(this,t),this._set.add(t))};q._dispose=function(t){this._set.delete(t);h.prototype._dispose.call(this,t)};return l}(e);a.ReentrantObjectPool=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/scheduling":function(){define("exports ./maybe ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),
function(a,b,c,e,h,l,q){function t(){const C=performance.now();w=null;w=0<v.length?requestAnimationFrame(t):null;A.executeFrameTasks(C)}function f(){v.forAll(C=>{C.removed&&y.push(C)});v.removeUnorderedMany(y.data,y.length);y.clear()}function k(){for(;n.length;){const C=b.assumeNonNull(n.shift());C.isActive&&C.callback()}A.willDispatch=!1}let m=function(C){this.phases=C;this.paused=!1;this.ticks=-1;this.removed=!1},p=function(){function C(D){this.callback=D;this.isActive=!0}C.prototype.remove=function(){this.isActive=
!1};return C}(),u=0,g=0;const r={time:q.Milliseconds(0),deltaTime:q.Milliseconds(0),elapsedFrameTime:q.Milliseconds(0),frameDuration:q.Milliseconds(0)},d=["prepare","preRender","render","postRender","update"],n=[],v=new h;let z=function(){function C(J){this._task=J}var D=C.prototype;D.remove=function(){this._task.removed=!0};D.pause=function(){this._task.paused=!0};D.resume=function(){this._task.paused=!1};return C}();const A={frameTasks:v,willDispatch:!1,clearFrameTasks:function(C=!1){v.forAll(D=>
{D.removed=!0});C&&f()},dispatch:k,executeFrameTasks:function(C){const D=q.Milliseconds(C-u);u=C;const J=0<g?g:1E3/60,I=Math.max(0,D-J);for(let N=0;N<d.length;N++){const L=performance.now(),G=d[N];v.forAll(F=>{var E;F.paused||F.removed||(0===N&&F.ticks++,F.phases[G]&&(r.time=C,r.deltaTime=0===F.ticks?q.Milliseconds(0):D,r.elapsedFrameTime=q.Milliseconds(performance.now()-C),r.frameDuration=q.Milliseconds(J-I),null==(E=F.phases[G])?void 0:E.call(F,r)))});x[N].record(performance.now()-L)}f();B.record(performance.now()-
C)}};let w=null;const y=new h,x=d.map(C=>new e(C)),B=new e("total");a.FrameTaskHandle=z;a.addFrameTask=function(C){C=new m(C);v.push(C);null==w&&(u=performance.now(),w=requestAnimationFrame(t));return new z(C)};a.debug=A;a.performanceInfo=x;a.performanceTotal=B;a.schedule=function(C){C=new p(C);n.push(C);A.willDispatch||(A.willDispatch=!0,c.nextTick(k));return C};a.setFrameDuration=function(C){g=Math.max(0,C)};a.waitTicks=function(C=1,D){const J=l.createResolver(),I=()=>{l.isAborted(D)?J.reject(l.createAbortError()):
0===C?J():(--C,c.nextTick(()=>I()))};I();return J.promise};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/nextTick":function(){define(["exports"],function(a){const b=[];a.nextTick=function(c){b.push(c);1===b.length&&queueMicrotask(()=>{const e=b.slice();b.length=0;for(const h of e)h()})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/PerformanceSampler":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function b(c,e=29){this.name=
c;this._counter=0;this._items=Array(e)}b.prototype.record=function(c){this._items[++this._counter%this._items.length]=c};a._createClass(b,[{key:"median",get:function(){return this._items.slice().sort((c,e)=>c-e)[Math.floor(this._items.length/2)]}},{key:"average",get:function(){return this._items.reduce((c,e)=>c+e,0)/this._items.length}},{key:"last",get:function(){return this._items[this._counter%this._items.length]}}]);return b}()})},"esri/core/PooledArray":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./arrayUtils","./HeapSort"],function(a,b,c){function e(h){h.data.length>1.5*h.length&&(h.data.length=Math.floor(1.1*h.length))}return function(){function h(q){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new b.PositionHint;q&&(q.initialSize&&(this.data=Array(q.initialSize)),q.allocator&&(this._allocator=q.allocator),void 0!==q.deallocator&&(this._deallocator=q.deallocator),q.shrink&&(this._shrink=()=>e(this)))}var l=h.prototype;l.toArray=
function(){return this.data.slice(0,this.length)};l.getItemAt=function(q){if(!(0>q||q>=this._length))return this.data[q]};l.clear=function(){this.length=0};l.prune=function(){this.clear();this.data=[]};l.push=function(q){this.data[this._length++]=q};l.pushArray=function(q,t=q.length){for(let f=0;f<t;f++)this.data[this._length++]=q[f]};l.fill=function(q,t){for(let f=0;f<t;f++)this.data[this._length++]=q};l.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));
const q=this.data[this._length];++this._length;return q};l.unshift=function(q){this.data.unshift(q);this._length++;e(this)};l.pop=function(){if(0!==this.length){var q=this.data[this.length-1];--this.length;this._shrink();return q}};l.remove=function(q){const t=b.indexOf(this.data,q,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),--this.length,q};l.removeUnordered=function(q){q=b.removeUnordered(this.data,q,this.length,this._hint);void 0!==q&&--this.length;this._shrink();return q};l.removeUnorderedIndex=
function(q){if(!(q>=this.length||0>q))return this.swapElements(q,this.length-1),this.pop()};l.removeUnorderedMany=function(q,t=q.length,f){this.length=b.removeUnorderedMany(this.data,q,this.length,t,this._hint,f);this._shrink()};l.front=function(){if(0!==this.length)return this.data[0]};l.back=function(){if(0!==this.length)return this.data[this.length-1]};l.swapElements=function(q,t){q>=this.length||t>=this.length||q===t||([this.data[q],this.data[t]]=[this.data[t],this.data[q]])};l.sort=function(q){c.sort(this.data,
0,this.length,q)};l.iterableSort=function(q){return c.iterableSort(this.data,0,this.length,q)};l.some=function(q,t){for(let f=0;f<this.length;++f)if(q.call(t,this.data[f],f,this.data))return!0;return!1};l.filterInPlace=function(q,t){let f=0;for(let k=0;k<this._length;++k){const m=this.data[k];q.call(t,m,k,this.data)&&(this.data[k]=this.data[f],this.data[f]=m,f++)}if(this._deallocator)for(q=f;q<this._length;q++)this.data[q]=this._deallocator(this.data[q]);this._length=f;this._shrink();return this};
l.forAll=function(q,t){const f=this.length,k=this.data;for(let m=0;m<f;++m)q.call(t,k[m],m,k)};l.forEach=function(q,t){for(let f=0;f<this.length;++f)q.call(t,this.data[f],f,this.data)};l.map=function(q,t){const f=Array(this.length);for(let k=0;k<this.length;++k)f[k]=q.call(t,this.data[k],k,this.data);return f};l.reduce=function(q,t){for(let f=0;f<this.length;++f)t=q(t,this.data[f],f,this.data);return t};l.has=function(q){const t=this.length,f=this.data;for(let k=0;k<t;++k)if(f[k]===q)return!0;return!1};
a._createClass(h,[{key:"length",get:function(){return this._length},set:function(q){if(q>this._length)if(this._allocator)for(;this._length<q;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=q;else{if(this._deallocator)for(let t=q;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=q;this._shrink()}}}]);return h}()})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const c=(h,l,q,t)=>{let f=l;const k=q>>>1,m=h[f-1];
for(;l<=k;){l=f<<1;l<q&&0>t(h[l-1],h[l])&&++l;const p=h[l-1];if(0>=t(p,m))break;h[f-1]=p;f=l}h[f-1]=m},e=(h,l)=>h<l?-1:h>l?1:0;b.sort=function(h,l,q,t){void 0===l&&(l=0);void 0===q&&(q=h.length);void 0===t&&(t=e);for(var f=q>>>1;f>l;f--)c(h,f,q,t);f=l+1;for(--q;q>l;q--){const k=h[l];h[l]=h[q];h[q]=k;c(h,f,q,t)}};b.iterableSort=function*(h,l,q,t){void 0===l&&(l=0);void 0===q&&(q=h.length);void 0===t&&(t=e);for(var f=q>>>1;f>l;f--)c(h,f,q,t),yield;f=l+1;for(--q;q>l;q--){const k=h[l];h[l]=h[q];h[q]=
k;c(h,f,q,t);yield}}})(a||(a={}));return a})},"esri/core/promiseUtils":function(){define("exports ./clock ./Error ./events ./Logger ./maybe".split(" "),function(a,b,c,e,h,l){function q(z){return new Promise((A,w)=>{try{z(A,w)}catch(y){Promise.resolve().then(()=>w(y))}})}function t(z="Aborted"){return new c("AbortError",z)}function f(z,A="Aborted"){if(m(z))throw t(A);}function k(z){return l.isSome(z)?"aborted"in z?z:z.signal:z}function m(z){z=k(z);return l.isSome(z)&&z.aborted}function p(z,A){z=k(z);
if(!l.isNone(z))if(z.aborted)A();else return e.once(z,"abort",()=>A())}function u(z){return z&&"AbortError"===z.name}function g(){let z=null;const A=new Promise((w,y)=>{z={promise:void 0,resolve:w,reject:y}});z.promise=A;return z}function r(z){if(z){if("function"!==typeof z.forEach){const A=Object.keys(z),w=A.map(y=>z[y]);return r(w).then(y=>{const x={};A.forEach((B,C)=>x[B]=y[C]);return x})}return q(A=>{const w=[];let y=z.length;0===y&&A(w);z.forEach(x=>{const B={promise:x||Promise.resolve(x)};w.push(B);
B.promise.then(C=>{B.value=C}).catch(C=>{B.error=C}).then(()=>{--y;0===y&&A(w)})})})}}function d(z,A,w){const y=new AbortController;p(w,()=>y.abort());return new Promise((x,B)=>{let C=setTimeout(()=>{C=0;x(A)},z);p(y,()=>{C&&(clearTimeout(C),B(t()))})})}function n(z){return v(z)?z:Promise.resolve(z)}function v(z){return z&&"object"===typeof z&&"then"in z&&"function"===typeof z.then}a.after=d;a.all=function(z){return Promise.all(z)};a.always=function(z,A){return z.then(A,A)};a.create=q;a.createAbortError=
t;a.createDeferred=g;a.createResolver=function(){let z,A;const w=new Promise((x,B)=>{z=x;A=B}),y=x=>{z(x)};y.resolve=x=>z(x);y.reject=x=>A(x);y.timeout=(x,B)=>b.default.setTimeout(()=>y.reject(B),x);y.promise=w;return y};a.createTask=function(z,A){let w=new AbortController,y;z=z(w.signal);let x={promise:z,finished:!1,abort:()=>{w&&(w.abort(),w=null)}};const B=()=>{x&&(x.finished=!0,x=null);l.isSome(y)&&(y.remove(),y=null);w=null};z.then(B,B);y=p(A,()=>{l.isSome(x)&&x.abort()});return x};a.debounce=
function(z,A=-1){let w,y,x,B,C=null;const D=(...J)=>{if(w){y=J;B&&B.reject(t());B=g();J=l.assumeNonNull(B.promise);if(C){var I=C;C=null;I.abort()}return J}x=B||g();B=null;if(0<A){const L=new AbortController,G=w=n(z(...J,L.signal));d(A).then(()=>{w===G&&(B?L.abort():C=L)})}else w=1,w=n(z(...J));J=()=>{const L=y;y=x=w=C=null;null!=L&&D(...L)};I=w;const N=x;I.then(J,J);I.then(N.resolve,N.reject);return l.assumeNonNull(N.promise)};return D};a.eachAlways=r;a.eachAlwaysValues=function(z){return r(z).then(A=>
A.filter(w=>!!w.value).map(w=>w.value))};a.filter=function(z,A){const w=z.slice();return Promise.all(z.map((y,x)=>A(y,x))).then(y=>w.filter((x,B)=>y[B]))};a.ignoreAbortErrors=function(z){return z.catch(A=>{if(!u(A))throw A;})};a.isAbortError=u;a.isAborted=m;a.isPromise=v;a.isPromiseLike=function(z){return z&&"function"===typeof z.then};a.logOnError=function(z,A=h.getLogger("esri")){return z.catch(w=>{u(w)||A.error(w)})};a.onAbort=p;a.onAbortOrThrow=function(z,A){z=k(z);if(!l.isNone(z))return f(z),
e.once(z,"abort",()=>A(t()))};a.reject=function(z){return Promise.reject(z)};a.resolve=function(z){return Promise.resolve(z)};a.throwIfAbortError=function(z){if(u(z))throw z;};a.throwIfAborted=f;a.throwIfNotAbortError=function(z){if(!u(z))throw z;};a.timeout=function(z,A,w,y){const x=w&&"abort"in w?w:null;null!=y||x||(y=w);let B=setTimeout(()=>{B=0;x&&x.abort()},A);const C=()=>y||new c("promiseUtils:timeout","The wrapped promise did not resolve within "+A+" ms");return z.then(D=>{if(0===B)throw C();
clearTimeout(B);return D},D=>{clearTimeout(B);throw 0===B?C():D;})};a.waitTick=function(z){return Promise.resolve().then(()=>{f(z)})};a.when=n;a.whenOrAbort=function(z,A){const w=k(A);return l.isNone(w)?z:new Promise((y,x)=>{let B=p(A,()=>x(t()));const C=()=>B=l.removeMaybe(B);z.then(C,C);z.then(y,x)})};a.whenOrTimeout=function(z,A){return Promise.race([z,d(A).then(()=>{throw new c("timeout",`Did not resolve within ${A} milliseconds`);})])};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/clock":function(){define(["exports"],
function(a){function b(e){return{setTimeout:(h,l)=>{const q=e.setTimeout(h,l);return{remove:()=>e.clearTimeout(q)}}}}const c=b(globalThis);a.default=c;a.wrap=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Error":function(){define(["../chunks/_rollupPluginBabelHelpers","./lang","./Logger","./Message"],function(a,b,c,e){e=function(h){function l(q,t,f){var k=h.call(this,q,t,f)||this;return a._assertThisInitialized(k)instanceof l?k:new l(q,t,f)}a._inheritsLoose(l,h);l.prototype.toJSON=
function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(q,t)=>{if(t&&"object"===typeof t&&"function"===typeof t.toJSON)return t;try{return b.clone(t)}catch(f){return"[object]"}}))}}catch(q){throw c.getLogger("esri.core.Error").error(q),q;}return{name:this.name,message:this.message,details:this.details}};l.fromJSON=function(q){return new l(q.name,q.message,q.details)};return l}(e);e.prototype.type="error";return e})},"esri/core/Message":function(){define(["./object"],
function(a){function b(c,e){return c.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,function(h,l){if(""===l)return"$";h=a.getDeepValue(l,e);h=null==h?"":h;if("undefined"===typeof h)throw Error(`could not find key "${l}" in template`);return h.toString()})}return function(){function c(e,h,l){this.name=e;this.details=l;this.message=void 0;this instanceof c&&(this.message=h&&b(h,l)||"")}c.prototype.toString=function(){return"["+this.name+"]: "+this.message};return c}()})},"esri/core/events":function(){define(["exports"],
function(a){function b(h){return h&&("function"===typeof h.on||"function"===typeof h.addEventListener)}function c(h,l,q){if(!b(h))throw new TypeError("target is not a Evented or EventTarget object");if("on"in h)return h.on(l,q);if(Array.isArray(l)){const t=l.slice();for(const f of t)h.addEventListener(f,q);return{remove(){for(const f of t)h.removeEventListener(f,q)}}}h.addEventListener(l,q);return{remove(){h.removeEventListener(l,q)}}}const e={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",
Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function({key:h}){return e[h]||h};a.ieKeyNormalizationMap=e;a.isEventTarget=b;a.on=c;a.once=function(h,l,q){if(!b(h))throw new TypeError("target is not a Evented or EventTarget object");if("once"in h)return h.once(l,q);const t=c(h,l,f=>{t.remove();q.call(h,f)});return{remove(){t.remove()}}};a.pausable=function(h,l,q){let t=!1;const f=c(h,
l,k=>{t||q.call(h,k)});return{resume(){t=!1},pause(){t=!0},remove(){f.remove()}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/time":function(){define(["exports"],function(a){a.Milliseconds=function(b){return b};a.MillisecondsFromSeconds=function(b){return 1E3*b};a.Seconds=function(b){return b};a.SecondsFromMilliseconds=function(b){return.001*b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/SetUtils":function(){define(["exports","./maybe"],function(a,b){a.someSet=
function(c,e){for(const h of c.entries())if(e(h[0]))return!0;return!1};a.union=function(c,e){const h=new Set;b.isSome(c)&&c.forEach(l=>h.add(l));b.isSome(e)&&e.forEach(l=>h.add(l));return h};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/uid":function(){define(["exports"],function(a){let b=0;a.NullUID=0;a.generateUID=function(){return++b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","./tracking","./tracking/SimpleTrackingTarget"],
function(a,b,c){let e=!1;const h=[];a.autorun=function(l){function q(){if(t&&!f)if(e)h.includes(q)||h.unshift(q);else for(t.clear(),f=e=!0,b.runTracked(t,l),e=f=!1;h.length;)h.pop()()}let t=new c.SimpleTrackingTarget(q),f=!1;f=!0;b.runTracked(t,l);f=!1;return{remove:function(){t&&(t.destroy(),t=null)}}};a.reaction=function(l,q){function t(){if(f&&!m)if(e)h.includes(t)||h.unshift(t);else{var p=k;f.clear();m=e=!0;k=b.runTracked(f,l);e=m=!1;for(q(k,p);h.length;)h.pop()()}}let f=new c.SimpleTrackingTarget(t),
k=null,m=!1;m=!0;k=b.runTracked(f,l);m=!1;return{remove:function(){f&&(f.destroy(),k=f=null)}}};a.reactionDeferred=function(l,q){function t(){if(!f)return null;f.clear();return k=b.runTracked(f,l)}let f=new c.SimpleTrackingTarget(function(){q(k,t)}),k=null;t();return{remove:function(){f&&(f.destroy(),f=null);k=null}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports"],function(a){let b=function(){function c(h){this._notify=
h;this._accessed=[];this._handles=[];this._invalidCount=0}var e=c.prototype;e.destroy=function(){this._accessed.length=0;this.clear()};e.onInvalidated=function(){this._invalidCount++};e.onCommitted=function(){const h=this._invalidCount;1===h?(this._invalidCount=0,this._notify()):this._invalidCount=0<h?h-1:0};e.onObservableAccessed=function(h){this._accessed.includes(h)||this._accessed.push(h)};e.onTrackingEnd=function(){const h=this._handles,l=this._accessed;for(let q=0;q<l.length;++q)h.push(l[q].observe(this));
l.length=0};e.clear=function(){const h=this._handles;for(let l=0;l<h.length;++l)h[l].remove();h.length=0};return c}();a.SimpleTrackingTarget=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,b,c,e,h,l){function q(f){let k=0;var m=f;if(c.isLongFormType(f))return c.ensureLongFormType(f);for(;Array.isArray(m)&&1===m.length&&"string"!==typeof m[0]&&
"number"!==typeof m[0];)m=m[0],k++;return c.isOneOf(m)?0===k?c.ensureOneOf(m):c.ensureNArrayTyped(c.ensureOneOf(m),k):1===k?c.ensureArray(m):1<k?c.ensureNArray(m,k):f.from?f.from:c.ensureType(f)}function t(f,k){return m=>{m=+f(m);null!=k.step&&(m=Math.round(m/k.step)*k.step);null!=k.min&&(m=Math.max(k.min,m));null!=k.max&&(m=Math.min(k.max,m));return m}}a.ensureRange=t;a.property=function(f={}){return(k,m)=>{if(k===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${k.name}.${m}. Accessor does not support static properties.`);
var p=Object.getOwnPropertyDescriptor(k,m);const u=h.getOwnPropertyMetadata(k,m);p&&(p.get||p.set?(u.get=p.get||u.get,u.set=p.set||u.set):"value"in p&&("value"in f&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${m}" on "${k.constructor.name}" already defined in the metadata`,f),u.value=f.value=p.value));null!=f.readOnly&&(u.readOnly=f.readOnly);if(k=f.aliasOf){const g="string"===typeof k?k:k.source;k="string"===typeof k?null:!0===k.overridable;
let r;u.dependsOn=[g];u.get=function(){let d=e.get(this,g);if("function"===typeof d){r||(r=g.split(".").slice(0,-1).join("."));const n=e.get(this,r);n&&(d=d.bind(n))}return d};u.readOnly||(u.set=k?function(d){void 0!==d?this._override(m,d):this._clearOverride(m)}:function(d){l.set(this,g,d)})}k=f.type;p=f.types;u.cast||(k?u.cast=q(k):p&&(Array.isArray(p)?u.cast=c.ensureArrayTyped(c.ensureOneOfType(p[0])):u.cast=c.ensureOneOfType(p)));f.range&&(u.cast=t(u.cast,f.range));h.mergeProperty(u,f)}};a.propertyJSONMeta=
function(f,k,m){f=h.getOwnPropertyMetadata(f,m);f.json||(f.json={});f=f.json;void 0!==k&&(f.origins||(f.origins={}),f.origins[k]||(f.origins[k]={}),f=f.origins[k]);return f};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger","../MapUtils"],function(a,b,c,e){function h(G){return null==G?G:new Date(G)}function l(G){return null==G?G:!!G}function q(G){return null==G?G:G.toString()}function t(G){if(null==G)return G;
G=parseFloat(G);return isNaN(G)?0:G}function f(G){return null==G?G:Math.round(parseFloat(G))}function k(G){return G&&G.constructor&&void 0!==G.constructor.__accessorMetadata__}function m(G,F){return null!=F&&G&&!(F instanceof G)}function p(G){return G&&G.Type?"function"===typeof G.Type?G.Type:G.Type.base:null}function u(G,F){var E;(E=!F||!F.constructor)||(E=F.constructor,E=!(E&&"isCollection"in E));if(E)return g(G,F)?F:new G(F);E=p(G.prototype.itemType);const K=p(F.constructor.prototype.itemType);
if(!E)return F;if(!K)return new G(F);if(E===K)return F;if(E.prototype.isPrototypeOf(K.prototype))return new G(F);g(G,F);return F}function g(G,F){return k(F)?(I.error("Accessor#set","Assigning an instance of '"+(F.declaredClass||"unknown")+"' which is not a subclass of '"+d(G)+"'"),!0):!1}function r(G,F){return null==F?F:G&&"isCollection"in G?u(G,F):m(G,F)?g(G,F)?F:new G(F):F}function d(G){return G&&G.prototype&&G.prototype.declaredClass||"unknown"}function n(G){switch(G){case Number:return t;case L:return f;
case Boolean:return l;case String:return q;case Date:return h;default:return e.getOrCreateMapValue(N,G,()=>r.bind(null,G))}}function v(G,F){const E=n(G);return 1===arguments.length?E:E(F)}function z(G,F,E){return 1===arguments.length?z.bind(null,G):F?Array.isArray(F)?F.map(K=>G(K,E)):[G(F,E)]:F}function A(G,F,E){return 0!==F&&Array.isArray(E)?E.map(K=>A(G,F-1,K)):G(E)}function w(G,F,E){if(2===arguments.length)return w.bind(null,G,F);if(!E)return E;E=A(G,F,E);let K=F;for(var P=E;0<K&&Array.isArray(P);)K--,
P=P[0];if(void 0!==P)for(P=0;P<K;P++)E=[E];return E}function y(G,F){if(2===arguments.length)return y(G).call(null,F);const E=new Set,K=G.filter(Z=>"function"!==typeof Z),P=G.filter(Z=>"function"===typeof Z);for(const Z of G)"string"!==typeof Z&&"number"!==typeof Z||E.add(Z);let W=null,ia=null;return(Z,V)=>{if(null==Z)return Z;const qa=typeof Z,sa="string"===qa||"number"===qa;if(sa&&(E.has(Z)||P.some(Ba=>"string"===qa&&Ba===String||"number"===qa&&Ba===Number))||"object"===qa&&P.some(Ba=>!m(Z,Ba)))return Z;
sa&&K.length?(W||(W=K.map(Ba=>"string"===typeof Ba?`'${Ba}'`:`${Ba}`).join(", ")),I.error("Accessor#set",`'${Z}' is not a valid value for this property, only the following values are valid: ${W}`)):"object"===typeof Z&&P.length?(ia||(ia=P.map(Ba=>d(Ba)).join(", ")),I.error("Accessor#set",`'${Z}' is not a valid value for this property, value must be one of ${ia}`)):I.error("Accessor#set",`'${Z}' is not a valid value for this property`);V&&(V.valid=!1);return null}}function x(G,F){if(2===arguments.length)return x(G).call(null,
F);const E={},K=[],P=[];for(const ia in G.typeMap){const Z=G.typeMap[ia];E[ia]=v(Z);K.push(d(Z));P.push(ia)}const W="string"===typeof G.key?ia=>ia[G.key]:G.key;return ia=>{if(G.base&&!m(G.base,ia)||null==ia)return ia;var Z=W(ia)||G.defaultKeyValue;const V=E[Z];if(!V)return I.error("Accessor#set",`Invalid property value, value needs to be one of ${`'${K.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${P.join("', '")}'`})`),null;if(!m(G.typeMap[Z],ia))return ia;if("string"===
typeof G.key&&!k(ia)){Z={};for(const qa in ia)qa!==G.key&&(Z[qa]=ia[qa]);return V(Z)}return V(ia)}}function B(G){switch(G.type){case "native":return v(G.value);case "array":return z(B(G.value));case "one-of":return C(G);default:return null}}function C(G){let F=null;return(E,K)=>{if(J(E,G))return E;null==F&&(F=D(G));I.error("Accessor#set",`Invalid property value, value needs to be of type ${F}`);K&&(K.valid=!1);return null}}function D(G){switch(G.type){case "native":switch(G.value){case Number:return"number";
case String:return"string";case Boolean:return"boolean";case L:return"integer";case Date:return"date";default:return d(G.value)}case "array":return`array of ${D(G.value)}`;case "one-of":return G=G.values.map(F=>D(F)),`one of ${G.slice(0,G.length-1)} or ${G[G.length-1]}`}return"unknown"}function J(G,F){if(null==G)return!0;switch(F.type){case "native":switch(F.value){case Number:case L:return"number"===typeof G;case Boolean:return"boolean"===typeof G;case String:return"string"===typeof G}return G instanceof
F.value;case "array":return Array.isArray(G)?!G.some(E=>!J(E,F.value)):!1;case "one-of":return F.values.some(E=>J(G,E))}}const I=c.getLogger("esri.core.Accessor"),N=new WeakMap;let L=function(){};a.Integer=L;a.default=v;a.ensureArray=function(G,F){return 1===arguments.length?z(v.bind(null,G)):z(v.bind(null,G),F)};a.ensureArrayTyped=z;a.ensureBoolean=l;a.ensureClass=r;a.ensureDate=h;a.ensureInteger=f;a.ensureLongFormType=B;a.ensureNArray=function(G,F,E){return 2===arguments.length?w(v.bind(null,G),
F):w(v.bind(null,G),F,E)};a.ensureNArrayTyped=w;a.ensureNumber=t;a.ensureOneOf=y;a.ensureOneOfType=x;a.ensureString=q;a.ensureType=v;a.isClassedType=k;a.isLongFormType=function(G){if(!(G&&"type"in G))return!1;switch(G.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(G){return Array.isArray(G)?!G.some(F=>{F=typeof F;return!("string"===F||"number"===F||"function"===F&&1<G.length)}):!1};a.requiresType=m;a.types={native(G){return{type:"native",value:G}},array(G){return{type:"array",
value:G}},oneOf(G){return{type:"one-of",values:G}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(b,c){for(const [e,h]of b)if(c(h,e))return h;return null};a.getOrCreateMapValue=function(b,c,e){const h=b.get(c);if(void 0!==h)return h;e=e();b.set(c,e);return e};a.someMap=function(b,c){for(const [e,h]of b)if(c(h,e))return!0;return!1};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../has ../metadata ../tracking ../extensions/serializableProperty".split(" "),
function(a,b,c,e,h,l){function q(m,p){return null==p.get?function(){const u=this.__accessor__.properties.get(m);if(void 0!==u){h.trackAccess(u);var g=this.__accessor__.store;return g.has(m)?g.get(m):u.metadata.value}}:function(){const u=this.__accessor__.properties.get(m);if(void 0!==u)return u.getComputed()}}function t(m){const p=e.getOwnClassMetadata(m.prototype).properties,u={};for(const g of Object.getOwnPropertyNames(p)){const r=p[g];l.processPrototypePropertyMetadata(r);u[g]={enumerable:!0,
configurable:!0,get:q(g,r),set(d){const n=this.__accessor__;if(void 0===n)Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:d});else if(!Object.isFrozen(this)){if(n.initialized&&r.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${g}' of ${this.declaredClass}`);if(2===n.lifecycle&&r.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${g}' of ${this.declaredClass}`);n.set(g,d)}}}}Object.defineProperties(m.prototype,
u)}const f=new Set,k=new Set;a.finalizeClass=t;a.subclass=function(m){return p=>{p.prototype.declaredClass=m;t(p);const u=[],g=[];for(var r=p.prototype;r;)r.hasOwnProperty("initialize")&&!f.has(r.initialize)&&(f.add(r.initialize),u.push(r.initialize)),r.hasOwnProperty("destroy")&&!k.has(r.destroy)&&(k.add(r.destroy),g.push(r.destroy)),r=Object.getPrototypeOf(r);f.clear();k.clear();r=function(d){function n(...v){var z=d.call(this,...v)||this;if(z.constructor===n&&"function"===typeof z.postscript){u.length&&
Object.defineProperty(b._assertThisInitialized(z),"initialize",{enumerable:!1,configurable:!0,value(){for(let A=u.length-1;0<=A;A--)u[A].call(this)}});if(g.length){let A=!1;Object.defineProperty(b._assertThisInitialized(z),"destroy",{enumerable:!1,configurable:!0,value(){if(!A){A=!0;for(let w=0;w<g.length;w++)g[w].call(this)}}})}z.postscript(...v)}return z}b._inheritsLoose(n,d);return n}(p);r.__accessorMetadata__=e.getOwnClassMetadata(p.prototype);r.prototype.declaredClass=m;return r}};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,b,c,e,h,l){function q(k,m,p){let u=k&&k.json;k&&k.json&&k.json.origins&&p&&(k=k.json.origins[p.origin])&&("any"===m||m in k)&&(u=k);return u}function t(k){if(k.type){var m=0;for(k=k.type;Array.isArray(k)&&!b.isOneOf(k);)k=
k[0],m++;return{type:k,ndimArray:m}}}function f(k){if(k.types){var m=0;for(k=k.types;Array.isArray(k);)k=k[0],m++;return{types:k,ndimArray:m}}}a.originSpecificPropertyDefinition=q;a.originSpecificReadPropertyDefinition=function(k,m){return q(k,"read",m)};a.originSpecificWritePropertyDefinition=function(k,m){return q(k,"write",m)};a.processPrototypePropertyMetadata=function(k){if(h.process(k)){c.process(k);var m=k.json.types?f(k.json):k.type?t(k):f(k);if(k.json.origins)for(const u in k.json.origins){const g=
k.json.origins[u];if(g.types){var p=g;p=p.type?t(p):f(p)}else p=m;e.create(p,g,!1);g.types&&!g.write&&k.json.write&&k.json.write.enabled&&(g.write={...k.json.write});l.create(p,g)}e.create(m,k.json,!0);l.create(m,k.json)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=function(b){if(b.json&&b.json.origins){const c=b.json.origins;b={"web-document":["web-scene","web-map"]};
for(const e in b)if(c[e]){const h=c[e];b[e].forEach(l=>{c[l]=h});delete c[e]}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),function(a,b,c,e,h,l){function q(v){var z;const A=null!=(z=v.ndimArray)?z:0;if(1<A)return m(v);if(1===A)return p(v);if("type"in v&&u(v.type)){var w,y;z=null==(w=v.type.prototype)?void 0:null==
(y=w.itemType)?void 0:y.Type;const x=p("function"===typeof z?{type:z}:{types:z});return(B,C,D)=>(B=x(B,C,D))?new v.type(B):B}return t(v)}function t(v){return"type"in v?f(v.type):d(v.types)}function f(v){return v.prototype.read?(z,A,w)=>{if(null==z)return z;A=typeof z;if("object"!==A)n.error(`Expected JSON value of type 'object' to deserialize type '${v.prototype.declaredClass}', but got '${A}'`);else return A=new v,A.read(z,w),A}:v.fromJSON}function k(v,z,A,w){return 0!==w&&Array.isArray(z)?z.map(y=>
k(v,y,A,w-1)):v(z,void 0,A)}function m(v){var z;const A=t(v),w=k.bind(null,A),y=null!=(z=v.ndimArray)?z:0;return(x,B,C)=>{if(null==x)return x;x=w(x,C,y);B=y;for(C=x;0<B&&Array.isArray(C);)B--,C=C[0];if(void 0!==C)for(C=0;C<B;C++)x=[x];return x}}function p(v){const z=t(v);return(A,w,y)=>{if(null==A)return A;if(Array.isArray(A)){w=[];for(const x of A)A=z(x,void 0,y),void 0!==A&&w.push(A);return w}y=z(A,void 0,y);return void 0!==y?[y]:void 0}}function u(v){return l.isCollection(v)?(v=v.prototype.itemType)&&
v.Type?"function"===typeof v.Type?g(v.Type):r(v.Type):!1:!1}function g(v){return Array.isArray(v)?!1:!!v&&v.prototype&&("read"in v.prototype||"fromJSON"in v||u(v))}function r(v){for(const z in v.typeMap)if(!g(v.typeMap[z]))return!1;return!0}function d(v){var z;let A=null;const w=null!=(z=v.errorContext)?z:"type";return(y,x,B)=>{if(null==y)return y;x=typeof y;if("object"!==x)n.error(`Expected JSON value of type 'object' to deserialize, but got '${x}'`);else{if(!A){x={};for(const N in v.typeMap){var C,
D;const L=v.typeMap[N];var J=h.getOwnClassMetadata(L.prototype);if("function"===typeof v.key)continue;J=J.properties[v.key];if(!J)continue;null!=(C=J.json)&&C.type&&Array.isArray(J.json.type)&&1===J.json.type.length&&"string"===typeof J.json.type[0]&&(x[J.json.type[0]]=L);J=null==(D=J.json)?void 0:D.write;if(!J||!J.writer){x[N]=L;continue}var I=J.target;I="string"===typeof I?I:v.key;const G={};J.writer(N,G,I);G[I]&&(x[G[I]]=L)}A=x}C=v.key;if("string"===typeof C){if(D=(C=y[C])?A[C]:v.defaultKeyValue?
v.typeMap[v.defaultKeyValue]:void 0)return C=new D,C.read(y,B),C;C=`Type '${C||"unknown"}' is not supported`;B&&B.messages&&y&&B.messages.push(new e(`${w}:unsupported`,C,{definition:y,context:B}));n.error(C)}}}}const n=b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(v,z,A){var w,y;!v||!A&&!z.read||null!=(w=z.read)&&w.reader||!1===(null==(y=z.read)?void 0:y.enabled)||(A="types"in v?r(v.types):g(v.type),A&&c.setDeepValue("read.reader",q(v),z))};a.createTypeReader=
q;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Warning":function(){define(["../chunks/_rollupPluginBabelHelpers","./Message"],function(a,b){b=function(c){function e(h,l,q){var t=c.call(this,h,l,q)||this;return a._assertThisInitialized(t)instanceof e?t:new e(h,l,q)}a._inheritsLoose(e,c);return e}(b);b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=function(b){return!!b&&
b.prototype&&b.prototype.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(a){function b(h){h.name&&(h.read?"object"===typeof h.read?void 0===h.read.source&&(h.read.source=h.name):h.read={source:h.name}:h.read={source:h.name},h.write?"object"===typeof h.write?void 0===h.write.target&&(h.write.target=h.name):h.write=
{target:h.name}:h.write={target:h.name})}function c(h){"boolean"===typeof h.read?h.read={enabled:h.read}:"function"===typeof h.read?h.read={enabled:!0,reader:h.read}:h.read&&"object"===typeof h.read&&void 0===h.read.enabled&&(h.read.enabled=!0)}function e(h){"boolean"===typeof h.write?h.write={enabled:h.write}:"function"===typeof h.write?h.write={enabled:!0,writer:h.write}:h.write&&"object"===typeof h.write&&void 0===h.write.enabled&&(h.write.enabled=!0)}a.process=function(h){h.json||(h.json={});
c(h.json);e(h.json);b(h.json);if(h.json.origins)for(const l in h.json.origins)c(h.json.origins[l]),e(h.json.origins[l]),b(h.json.origins[l]);return!0};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../Error","../../../Logger","../../../object","./type"],function(a,b,c,e,h){function l(d){return(n,v,z,A)=>{if(!n||q(n,d,A))return f(n,v,z,A)}}function q(d,n,v){for(var z in n.typeMap)if(d instanceof
n.typeMap[z])return!0;if(null!=v&&v.messages){var A,w;z=null!=(A=n.errorContext)?A:"type";n=`Values of type '${null!=(w="function"!==typeof n.key?d[n.key]:d.declaredClass)?w:"Unknown"}' cannot be written`;v&&v.messages&&d&&v.messages.push(new b(`${z}:unsupported`,n,{definition:d,context:v}));r.error(n)}return!1}function t(d){return(n,v,z,A)=>{if(!n||!Array.isArray(n))return f(n,v,z,A);n=n.filter(w=>q(w,d,A));return f(n,v,z,A)}}function f(d,n,v,z){e.setDeepValue(v,k(d,z),n)}function k(d,n){return d&&
"function"===typeof d.write?d.write({},n):d&&"function"===typeof d.toJSON?d.toJSON():"number"===typeof d?m(d):d}function m(d){return-Infinity===d?-Number.MAX_VALUE:Infinity===d?Number.MAX_VALUE:isNaN(d)?null:d}function p(d,n,v,z){null===d?d=null:d&&"function"===typeof d.map?(d=d.map(A=>k(A,z)),"function"===typeof d.toArray&&(d=d.toArray())):d=[k(d,z)];e.setDeepValue(v,d,n)}function u(d,n,v){return 0!==v&&Array.isArray(d)?d.map(z=>u(z,n,v-1)):k(d,n)}function g(d){return function(n,v,z,A){if(null===
n)n=null;else{n=u(n,A,d);A=d;for(var w=n;0<A&&Array.isArray(w);)A--,w=w[0];if(void 0!==w)for(w=0;w<A;w++)n=[n]}e.setDeepValue(z,n,v)}}const r=c.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");a.create=function(d,n){var v;if(n.write&&!n.write.writer&&(!1!==n.write.enabled||n.write.overridePolicy)){var z=null!=(v=null==d?void 0:d.ndimArray)?v:0;d&&(1===z||"type"in d&&h.isCollection(d.type))?n.write.writer=p:1<z?n.write.writer=g(z):n.types?Array.isArray(n.types)?n.write.writer=
t(n.types[0]):n.write.writer=l(n.types):n.write.writer=f}};a.numberToJSON=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(b){return(c,e)=>{c[e]=b}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","./ObservationHandle"],function(a,b){let c=function(){function e(){this._observers=[]}var h=e.prototype;h.observe=
function(l){this._observers.includes(l)||this._observers.push(l);return new b.ObservationHandle(this._observers,l)};h.notify=function(){const l=this._observers.slice();for(let q=0;q<l.length;++q){const t=l[q];t.onInvalidated();t.onCommitted()}};return e}();a.SimpleObservable=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(a,b){a.castForReferenceSetter=function(c){return c};a.referenceSetter=function(c,e,h=b){e||
(e=new h);if(e===c)return e;e.removeAll();c&&(Array.isArray(c)||"items"in c&&Array.isArray(c.items))?e.addMany(c):c&&e.add(c);return e};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/JSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./accessorSupport/read ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q){const t=f=>{f=function(k){function m(...u){return k.call(this,...u)||this}
b._inheritsLoose(m,k);var p=m.prototype;p.read=function(u,g){h.read(this,u,g)};p.write=function(u={},g){return l.write(this,u,g)};p.toJSON=function(u){return this.write({},u)};m.fromJSON=function(u,g){if(u){if(u.declaredClass)throw Error("JSON object is already hydrated");var r=new this;r.read(u,g);u=r}else u=null;return u};return m}(f);f=c.__decorate([q.subclass("esri.core.JSONSupport")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f};a.JSONSupport=function(f){function k(){return f.apply(this,
arguments)||this}b._inheritsLoose(k,f);return k}(t(e));a.JSONSupport=c.__decorate([q.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=t;a.isJSONSupport=function(f){return f&&"read"in f&&"write"in f&&"toJSON"in f};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,b,c,e){function h(q,t,f=l){if(t&&"object"===typeof t){var k=c.getProperties(q),m=k.metadatas,
p={};for(const y of Object.getOwnPropertyNames(t)){var u=p,g=m,r=y,d=t,n=f,v=e.originSpecificReadPropertyDefinition(g[r],n);v&&(!v.read||!1!==v.read.enabled&&!v.read.source)&&(u[r]=!0);for(const x of Object.getOwnPropertyNames(g)){v=e.originSpecificReadPropertyDefinition(g[x],n);a:{var z=r;var A=d;if(v&&v.read&&!1!==v.read.enabled&&v.read.source){v=v.read.source;if("string"===typeof v){if(v===z||-1<v.indexOf(".")&&0===v.indexOf(z)&&b.exists(v,A)){z=!0;break a}}else for(const B of v)if(B===z||-1<B.indexOf(".")&&
0===B.indexOf(z)&&b.exists(B,A)){z=!0;break a}z=!1}else z=!1}z&&(u[x]=!0)}}k.setDefaultOrigin(f.origin);for(var w of Object.getOwnPropertyNames(p))g=(g=(u=e.originSpecificReadPropertyDefinition(m[w],f).read)&&u.source)&&"string"===typeof g?b.valueOf(t,g):t[w],u&&u.reader&&(g=u.reader.call(q,g,t,f)),void 0!==g&&k.set(w,g);if(!f||!f.ignoreDefaults)for(const y of Object.getOwnPropertyNames(m))p[y]||(w=q,t=y,m=k,u=f,g=(g=e.originSpecificPropertyDefinition(m.metadatas[t],"any",u))&&g.default,void 0!==
g&&(w="function"===typeof g?g.call(w,t,u):g,void 0!==w&&m.set(t,w)));k.setDefaultOrigin("user")}}const l={origin:"service"};a.default=h;a.read=h;a.readLoadable=function(q,t,f,k=l){var m;t={...k,messages:[]};f(t);null==(m=t.messages)?void 0:m.forEach(p=>{"warning"!==p.type||q.loaded?k&&k.messages&&k.messages.push(p):q.loadWarnings.push(p)})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(a,b,c,e,h,l,q){function t(p,u,g,r,d){var n,v;const z={};null==(n=u.write)?void 0:null==(v=n.writer)?void 0:v.call(p,r,z,g,d);return z}function f(p,u,g,r,d,n){if(!r||!r.write)return!1;var v=p.get(g);if(!d&&r.write.overridePolicy){var z=r.write.overridePolicy.call(p,v,g,n);void 0!==z&&(d=z)}d||(d=r.write);if(!d||!1===d.enabled)return!1;if((null===v&&!d.allowNull&&!d.writerEnsuresNonNull||void 0===v)&&d.isRequired)return(u=new c("web-document-write:property-required",`Missing value for required property '${g}' on '${p.declaredClass}'`,
{propertyName:g,target:p}),n)&&n.messages?n.messages.push(u):u&&!n&&m.error(u.name,u.message),!1;if(void 0===v||null===v&&!d.allowNull&&!d.writerEnsuresNonNull)return!1;z=r.default;void 0===z?v=!1:null!=r.defaultEquals?v=r.defaultEquals(v):"function"===typeof z?Array.isArray(v)?(p=z.call(p,g,n),v=b.equals(p,v)):v=!1:v=z===v;return v?!1:void 0!==r.default?!0:!d.ignoreOrigin&&n&&n.origin&&u.store.originOf(g)<h.nameToId(n.origin)?!1:!0}function k(p,u,g){if(p&&"function"===typeof p.toJSON&&(!p.toJSON.isDefaultToJSON||
!p.write))return l.merge(u,p.toJSON());const r=l.getProperties(p),d=r.metadatas;for(const z in d){const A=q.originSpecificWritePropertyDefinition(d[z],g);if(!f(p,r,z,A,void 0,g))continue;const w=p.get(z),y=t(p,A,A.write&&"string"===typeof A.write.target?A.write.target:z,w,g);if(0<Object.keys(y).length){var n,v;u=l.merge(u,y);null!=g&&null!=(n=g.resources)&&null!=(v=n.pendingOperations)&&v.length&&Promise.all(g.resources.pendingOperations).then(()=>l.merge(u,y));g&&g.writtenProperties&&g.writtenProperties.push({target:p,
propName:z,oldOrigin:h.idToReadableName(r.store.originOf(z)),newOrigin:g.origin})}}return u}const m=e.getLogger("esri.core.accessorSupport.write");a.default=k;a.willPropertyWrite=function(p,u,g,r){const d=l.getProperties(p),n=q.originSpecificWritePropertyDefinition(d.metadatas[u],r);return n?f(p,d,u,n,g,r):!1};a.write=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Loadable":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Error ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){const f=k=>{k=function(m){function p(...g){var r=m.call(this,...g)||this;r._loadController=null;r.loadError=null;r.loadStatus="not-loaded";r._set("loadWarnings",[]);r.addResolvingPromise(new Promise(d=>{const n=r.load.bind(a._assertThisInitialized(r));r.load=v=>{const z=new Promise((A,w)=>{const y=h.onAbortOrThrow(v,w);r.destroyed&&w(new c("load:instance-destroyed",`Instance of '${r.declaredClass||r.constructor.name}' is already destroyed`,{instance:a._assertThisInitialized(r)}));
r._promiseProps.when(A,w).finally(()=>{y&&y.remove()})});if("not-loaded"===r.loadStatus){r._set("loadStatus","loading");const A=r._loadController=new AbortController;n({signal:A.signal});h.onAbort(A.signal,()=>{r._promiseProps.abort()})}d();return z}}));r.when(()=>{r._set("loadStatus","loaded");r._loadController=null},d=>{r._set("loadStatus","failed");r._set("loadError",d);r._loadController=null});return r}a._inheritsLoose(p,m);var u=p.prototype;u.load=function(){return null};u.cancelLoad=function(){var g;
if(this.isFulfilled())return this;this._set("loadError",new c("load:cancelled","Cancelled"));null==(g=this._loadController)?void 0:g.abort();return this};a._createClass(p,[{key:"loaded",get:function(){return"loaded"===this.loadStatus}},{key:"loadWarnings",get:function(){return this._get("loadWarnings")}}]);return p}(k);b.__decorate([q.property({readOnly:!0})],k.prototype,"loaded",null);b.__decorate([q.property({readOnly:!0})],k.prototype,"loadError",void 0);b.__decorate([q.property()],k.prototype,
"loadStatus",void 0);b.__decorate([q.property({type:[l],readOnly:!0})],k.prototype,"loadWarnings",null);return k=b.__decorate([t.subclass("esri.core.Loadable")],k)};e=function(k){function m(){return k.apply(this,arguments)||this}a._inheritsLoose(m,k);return m}(f(e.EsriPromise));e=b.__decorate([t.subclass("esri.core.Loadable")],e);(function(k){k.LoadableMixin=f;k.isLoadable=function(m){return!(!m||!m.load)}})(e||(e={}));return e})},"esri/core/Promise":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q){let t=function(){function k(p){this.instance=p;this._resolver=l.createDeferred();this._status=0;this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=1;this._cleanUp()},()=>{this._status=2;this._cleanUp()})}var m=k.prototype;m.addResolvingPromise=function(p){this._resolvingPromises.push(p);this._tryResolve()};m.isResolved=function(){return 1===this._status};m.isRejected=function(){return 2===this._status};m.isFulfilled=function(){return 0!==this._status};
m.abort=function(){this._resolver.reject(l.createAbortError())};m.when=function(p,u){return this._resolver.promise.then(p,u)};m._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};m._tryResolve=function(){if(!this.isFulfilled()){var p=l.createDeferred(),u=[...this._resolvingPromises,h.assumeNonNull(p.promise)],g=this._allPromise=Promise.all(u);g.then(()=>{this.isFulfilled()||this._allPromise!==g||this._resolver.resolve(this.instance)},r=>{this.isFulfilled()||this._allPromise!==
g||l.isAbortError(r)||this._resolver.reject(r)});p.resolve()}};return k}();const f=k=>{k=function(m){function p(...g){g=m.call(this,...g)||this;g._promiseProps=new t(b._assertThisInitialized(g));g.addResolvingPromise(Promise.resolve());return g}b._inheritsLoose(p,m);var u=p.prototype;u.isResolved=function(){return this._promiseProps.isResolved()};u.isRejected=function(){return this._promiseProps.isRejected()};u.isFulfilled=function(){return this._promiseProps.isFulfilled()};u.when=function(g,r){return(new Promise((d,
n)=>{this._promiseProps.when(d,n)})).then(g,r)};u.catch=function(g){return this.when(null,g)};u.addResolvingPromise=function(g){g&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in g?g.when():g)};return p}(k);return k=c.__decorate([q.subclass("esri.core.Promise")],k)};a.EsriPromise=function(k){function m(){return k.apply(this,arguments)||this}b._inheritsLoose(m,k);return m}(f(e));a.EsriPromise=c.__decorate([q.subclass("esri.core.Promise")],a.EsriPromise);
a.EsriPromiseMixin=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/loadAll":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./asyncUtils ./Collection ./Loadable ./maybe".split(" "),function(a,b,c,e,h,l){function q(m,p){return t.apply(this,arguments)}function t(){t=b._asyncToGenerator(function*(m,p){yield m.load();return f(m,p)});return t.apply(this,arguments)}function f(m,p){return k.apply(this,arguments)}function k(){k=b._asyncToGenerator(function*(m,p){const u=[],
g=(...d)=>{for(const n of d)l.isNone(n)||(Array.isArray(n)?g(...n):e.isCollection(n)?n.forEach(v=>g(v)):h.isLoadable(n)&&u.push(n))};p(g);let r=null;yield c.map(u,function(){var d=b._asyncToGenerator(function*(n){!1!==(yield c.result("loadAll"in n&&"function"===typeof n.loadAll?n.loadAll():n.load())).ok||r||(r=n)});return function(n){return d.apply(this,arguments)}}());if(r)throw r.loadError;return m});return k.apply(this,arguments)}a.default=q;a.loadAll=q;a.loadAllChildren=f;Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/core/asyncUtils":function(){define(["exports","./maybe","./promiseUtils"],function(a,b,c){a.assertResult=function(e){if(!0===e.ok)return e.value;throw e.error;};a.forEach=function(e,h,l){return c.eachAlways(e.map((q,t)=>h.apply(l,[q,t])))};a.map=function(e,h,l){return c.eachAlways(e.map((q,t)=>h.apply(l,[q,t]))).then(q=>q.map(t=>t.value))};a.result=function(e){return b.isNone(e)?c.resolve():e.then(h=>({ok:!0,value:h})).catch(h=>({ok:!1,error:h}))};a.resultOrAbort=
function(e){return e.then(h=>({ok:!0,value:h})).catch(h=>{c.throwIfAbortError(h);return{ok:!1,error:h}})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/urlUtils":function(){define(["exports","../config","./Error","./Logger","./maybe"],function(a,b,c,e,h){function l(M){const R={path:null,query:null},aa=new ca(M),ba=M.indexOf("?");null===aa.query?R.path=M:(R.path=M.substring(0,ba),R.query=q(aa.query));aa.fragment&&(R.hash=aa.fragment,null===aa.query&&(R.path=R.path.substring(0,R.path.length-
(aa.fragment.length+1))));return R}function q(M){var R=M.split("\x26");M={};for(const ba of R){if(!ba)continue;var aa=ba.indexOf("\x3d");0>aa?(R=decodeURIComponent(ba),aa=""):(R=decodeURIComponent(ba.slice(0,aa)),aa=decodeURIComponent(ba.slice(aa+1)));let T=M[R];"string"===typeof T&&(T=M[R]=[T]);Array.isArray(T)?T.push(aa):M[R]=aa}return M}function t(M){return M&&"object"===typeof M&&"toJSON"in M&&"function"===typeof M.toJSON}function f(M,R){return M?R&&"function"===typeof R?Object.keys(M).map(aa=>
encodeURIComponent(aa)+"\x3d"+encodeURIComponent(R(aa,M[aa]))).join("\x26"):Object.keys(M).map(aa=>{const ba=M[aa];if(null==ba)return"";const T=encodeURIComponent(aa)+"\x3d";return(aa=R&&R[aa])?T+encodeURIComponent(aa(ba)):Array.isArray(ba)?ba.map(X=>t(X)?T+encodeURIComponent(JSON.stringify(X)):T+encodeURIComponent(X)).join("\x26"):t(ba)?T+encodeURIComponent(JSON.stringify(ba)):T+encodeURIComponent(ba)}).filter(aa=>aa).join("\x26"):""}function k(M){const R=M.indexOf("?");-1!==R?(O.path=M.slice(0,
R),O.query=M.slice(R+1)):(O.path=M,O.query=null);return O}function m(M){M=k(M).path;M&&"/"===M[M.length-1]||(M=`${M}/`);M=G(M,!0);return M=M.toLowerCase()}function p(M){const R=W.proxyRules;M=m(M);for(let aa=0;aa<R.length;aa++)if(0===M.indexOf(R[aa].urlPrefix))return R[aa]}function u(M){M=d(M);const R=M.indexOf("/sharing");return 0<R?M.substring(0,R):M.replace(/\/+$/,"")}function g(M,R,aa=!1){M=K(M);R=K(R);return!aa&&M.scheme!==R.scheme||null==M.host||null==R.host?!1:M.host.toLowerCase()===R.host.toLowerCase()&&
M.port===R.port}function r(M,R=H,aa){return C(M)?aa&&aa.preserveProtocolRelative?M:"http"===va.scheme&&va.authority===v(M).slice(2)?`http:${M}`:`https:${M}`:D(M)?M:h.assumeNonNull(n("/"===M[0]?F(R):R,M))}function d(M){M=M.trim();M=r(M);if(/^https?:\/\//i.test(M)){const R=k(M);M=R.path.replace(/\/{2,}/g,"/");M=M.replace("/","//");R.query&&(M+=`?${R.query}`)}M=M.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return M=E(M)}function n(...M){var R=M.filter(h.isSome);if(R&&R.length){M=[];if(z(R[0])){var aa=
R[0],ba=aa.indexOf("//");-1!==ba&&(M.push(aa.slice(0,ba+1)),qa.test(R[0])&&(M[0]+="/"),R[0]=aa.slice(ba+2))}else"/"===R[0][0]&&M.push("");R=R.reduce((T,X)=>X?T.concat(X.split("/")):T,[]);for(aa=0;aa<R.length;aa++)ba=R[aa],".."===ba&&0<M.length&&".."!==M[M.length-1]?M.pop():(!ba&&aa===R.length-1||ba&&("."!==ba||0===M.length))&&M.push(ba);return M.join("/")}}function v(M,R=!1){if(A(M)||w(M))return null;var aa=M.indexOf("://");if(-1===aa&&C(M))aa=2;else if(-1!==aa)aa+=3;else return null;aa=M.indexOf("/",
aa);-1!==aa&&(M=M.slice(0,aa));R&&(M=G(M,!0));return M}function z(M){return C(M)||D(M)}function A(M){return null!=M&&"blob:"===M.slice(0,5)}function w(M){return"data:"===M.slice(0,5)}function y(M){M=x(M);if(!M||!M.isBase64)return null;M=atob(M.data);const R=new Uint8Array(M.length);for(let aa=0;aa<M.length;aa++)R[aa]=M.charCodeAt(aa);return R.buffer}function x(M){M=M.match(la);if(!M)return null;const [,R,aa,ba]=M;return{mediaType:R,isBase64:!!aa,data:ba}}function B(M){const R=y(M);if(!R)return null;
M=x(M);return new Blob([R],{type:M.mediaType})}function C(M){return null!=M&&void 0!==M&&"/"===M[0]&&"/"===M[1]}function D(M){return ia.test(M)}function J(M){return V.test(M)||"https"===va.scheme&&C(M)}function I(M){return Z.test(M)||"http"===va.scheme&&C(M)}function N(M){return C(M)?`https:${M}`:M.replace(Z,"https:")}function L(){return"https"===va.scheme}function G(M,R=!1){if(C(M))return M.slice(2);M=M.replace(ia,"");R&&1<M.length&&"/"===M[0]&&"/"===M[1]&&(M=M.slice(2));return M}function F(M){var R=
M.indexOf("//");R=M.indexOf("/",R+2);return-1===R?M:M.slice(0,R)}function E(M){const R=W.httpsDomains;if(!I(M))return M;const aa=M.indexOf("/",7);let ba;ba=-1===aa?M:M.slice(0,aa);ba=ba.toLowerCase().slice(7);if(sa.test(ba))if(ba.endsWith(":80"))ba=ba.slice(0,-3),M=M.replace(":80","");else return M;if("http"===va.scheme&&ba===va.authority&&!Ba.test(M))return M;if(L()&&ba===va.authority||R&&R.some(T=>ba===T||ba.endsWith(`.${T}`))||L()&&!p(M))M=N(M);return M}function K(M){if("string"===typeof M)return new ca(r(M));
M.scheme||(M.scheme=va.scheme);return M}const P=e.getLogger("esri.core.urlUtils"),W=b.request,ia=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Z=/^\s*http:/i,V=/^\s*https:/i,qa=/^\s*file:/i,sa=/:\d+$/,Ba=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,oa=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,U=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/;let ca=function(){function M(R=""){this.uri=R;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=
this.scheme=null;R=h.assumeNonNull(this.uri.match(oa));this.scheme=R[2]||(R[1]?"":null);this.authority=R[4]||(R[3]?"":null);this.path=R[5];this.query=R[7]||(R[6]?"":null);this.fragment=R[9]||(R[8]?"":null);null!=this.authority&&(R=h.assumeNonNull(this.authority.match(U)),this.user=R[3]||null,this.password=R[4]||null,this.host=R[6]||R[7],this.port=R[9]||null)}M.prototype.toString=function(){return this.uri};return M}();const va=new ca(b.applicationUrl),Aa={},H=(()=>{var M=h.assumeNonNull(va.path);
M=M.substring(0,M.lastIndexOf(M.split("/")[M.split("/").length-1]));return`${`${va.scheme}://${va.host}${null!=va.port?`:${va.port}`:""}`}${M}`})(),O={path:"",query:""},la=/^data:(.*?)(;base64)?,(.*)$/,Q=/.*?\.([^\/]*)$/,S=/(^data:image\/svg|\.svg$)/i;a.Url=ca;a.addProxy=function(M){var R=p(M),aa=void 0;if(R){var ba=k(R.proxyUrl);aa=ba.path;ba=ba.query?q(ba.query):null}aa&&(R=l(M),M=aa+"?"+R.path,(aa=f({...ba,...R.query}))&&(M=`${M}?${aa}`));return M};a.addProxyRule=function(M){M={proxyUrl:M.proxyUrl,
urlPrefix:m(M.urlPrefix)};const R=W.proxyRules,aa=M.urlPrefix;let ba=R.length;for(let T=0;T<R.length;T++){const X=R[T].urlPrefix;if(0===aa.indexOf(X)){if(aa.length===X.length)return-1;ba=T;break}0===X.indexOf(aa)&&(ba=T+1)}R.splice(ba,0,M);return ba};a.addQueryParameter=function(M,R,aa){M=l(M);const ba=M.query||{};ba[R]=String(aa);return`${M.path}?${f(ba)}`};a.addQueryParameters=function(M,R){M=l(M);const aa=M.query||{};for(const ba in R)aa[ba]=R[ba];return(R=f(aa))?`${M.path}?${R}`:M.path};a.appBaseUrl=
H;a.appUrl=va;a.changeDomain=function(M,R,aa){if(!(R&&aa&&M&&z(M)))return M;const ba=M.indexOf("//");var T=M.indexOf("/",ba+2);const X=M.indexOf(":",ba+2);T=Math.min(0>T?M.length:T,0>X?M.length:X);if(M.slice(ba+2,T).toLowerCase()!==R.toLowerCase())return M;R=M.slice(0,ba+2);M=M.slice(T);return`${R}${aa}${M}`};a.dataComponents=x;a.dataToArrayBuffer=y;a.dataToBlob=B;a.downloadDataAsFile=function(M,R){var aa=document.createElement("a");if("download"in aa){var ba=null;(ba=B(M))?(ba=URL.createObjectURL(ba),
aa.download=R,aa.href=ba,aa.style.display="none",document.body.appendChild(aa),aa.click(),document.body.removeChild(aa),URL.revokeObjectURL(ba),aa=void 0):aa=!1}else aa=!1;aa||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(B(M),R)};a.getFilename=function(M,R){if(!M)return"";M=l(M).path.replace(/\/+$/,"");M=M.substring(M.lastIndexOf("/")+1);if(null==R||!R.length)return M;R=new RegExp(`.(${R.join("|")})$`,"ig");return M.replace(R,"")};a.getInterceptor=function(M){const R=ba=>null==
ba||ba instanceof RegExp&&ba.test(M)||"string"===typeof ba&&M.startsWith(ba),aa=W.interceptors;if(aa)for(const ba of aa)if(Array.isArray(ba.urls)){if(ba.urls.some(R))return ba}else if(R(ba.urls))return ba;return null};a.getOrigin=v;a.getPathExtension=function(M){return h.isNone(M)?null:(M=M.match(Q))?M[1]:null};a.getProxyRule=p;a.getProxyUrl=function(M=!1){let R,aa=W.proxyUrl;if("string"===typeof M){if(R=J(M),M=p(M))aa=M.proxyUrl}else R=!!M;if(!aa)throw P.warn("esri/config: esriConfig.request.proxyUrl is not set."),
new c("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");R&&L()&&(aa=N(aa));return l(aa)};a.hasProtocol=D;a.hasSameOrigin=g;a.hasSamePortal=function(M,R){M=u(M);R=u(R);return G(M)===G(R)};a.isAbsolute=z;a.isAppHTTPS=L;a.isBlobProtocol=A;a.isDataProtocol=w;a.isHTTPSProtocol=J;a.isProtocolRelative=C;a.isSVG=function(M){return S.test(M)};a.isTrustedServer=function(M){if("string"===typeof M)if(z(M))M=K(M);else return!0;if(g(M,va))return!0;const R=W.trustedServers||[];for(let ba=
0;ba<R.length;ba++){var aa=R[ba];Aa[aa]||(D(aa)||C(aa)?Aa[aa]=[new ca(r(aa))]:Aa[aa]=[new ca(`http://${aa}`),new ca(`https://${aa}`)]);aa=Aa[aa];for(let T=0;T<aa.length;T++)if(g(M,aa[T]))return!0}return!1};a.join=n;a.makeAbsolute=r;a.makeData=function(M){return M.isBase64?`data:${M.mediaType};base64,${M.data}`:`data:${M.mediaType},${M.data}`};a.makeRelative=function(M,R=H,aa){if(!z(M))return M;var ba=d(M),T=ba.toLowerCase();R=d(R).toLowerCase().replace(/\/+$/,"");if((aa=aa?d(aa).toLowerCase().replace(/\/+$/,
""):null)&&0!==R.indexOf(aa))return M;var X=T.indexOf("//")+2;X=T.indexOf("/",X);var ma=-1===X?T.length:X;for(X=-1;T.slice(0,ma+1)===R.slice(0,ma)+"/";){X=ma+1;if(ma===T.length)break;var Ca=T;ma+=1;ma=Ca.indexOf("/",ma);ma=-1===ma?Ca.length:ma}if(-1===X||aa&&X<aa.length)return M;M=ba.slice(X);ba=R.slice(X-1).replace(/[^/]+/g,"").length;if(0<ba)for(T=0;T<ba;T++)M=`../${M}`;else M=`./${M}`;return M};a.normalize=d;a.objectToQuery=f;a.queryToObject=q;a.removeFile=function(M){let R=0;if(z(M)){var aa=M.indexOf("//");
-1!==aa&&(R=aa+2)}aa=M.lastIndexOf("/");return aa<R?M:M.slice(0,aa+1)};a.removeQueryParameter=function(M,R){const {path:aa,query:ba}=l(M);if(!ba)return M;delete ba[R];return(M=f(ba))?`${aa}?${M}`:aa};a.removeQueryParameters=function(M,R){M=l(M);const aa=Object.keys(M.query||{});0<aa.length&&R&&R.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${aa.join(", ")}.`);return M.path};a.removeTrailingSlash=function(M){return M.replace(/\/+$/,
"")};a.toHTTP=function(M){return C(M)?`http:${M}`:M.replace(V,"http:")};a.toHTTPS=N;a.trustedServersUrlCache=Aa;a.urlToObject=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(a,b){a.writer=function(c,e,h){let l,q;void 0===e?(q=c,l=[void 0]):"string"!==typeof e?(q=c,l=[void 0],h=e):(q=e,l=Array.isArray(c)?c:[c]);return(t,f)=>{const k=t.constructor.prototype;for(const m of l){const p=b.propertyJSONMeta(t,
m,q);p.write&&"object"===typeof p.write||(p.write={});h&&(p.write.target=h);p.write.writer=k[f]}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/SpatialReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;c=k=function(m){function p(g){g=m.call(this,g)||this;g.latestWkid=null;g.wkid=null;g.wkt=null;g.vcsWkid=null;g.latestVcsWkid=null;g.imageCoordinateSystem=null;return g}a._inheritsLoose(p,m);p.fromJSON=function(g){if(!g)return null;if(g.wkid){if(102100===g.wkid)return k.WebMercator;if(4326===g.wkid)return k.WGS84}const r=new k;r.read(g);return r};var u=p.prototype;u.normalizeCtorArgs=function(g){return g&&"object"===typeof g?g:{["string"===typeof g?"wkt":"wkid"]:g}};
u.writeWkt=function(g,r){this.wkid||(r.wkt=g)};u.clone=function(){if(this===k.WGS84)return k.WGS84;if(this===k.WebMercator)return k.WebMercator;const g=new k;null!=this.wkid?(g.wkid=this.wkid,null!=this.latestWkid&&(g.latestWkid=this.latestWkid),null!=this.vcsWkid&&(g.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(g.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(g.wkt=this.wkt);this.imageCoordinateSystem&&(g.imageCoordinateSystem=e.clone(this.imageCoordinateSystem));return g};u.equals=function(g){if(null==
g)return!1;if(this.imageCoordinateSystem||g.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==g.imageCoordinateSystem)return!1;const {id:r,referenceServiceName:d}=g.imageCoordinateSystem,{geodataXform:n}=g.imageCoordinateSystem,v=this.imageCoordinateSystem;return null==r||n?JSON.stringify(v)===JSON.stringify(g.imageCoordinateSystem):d?v.id===r&&v.referenceServiceName===d:v.id===r}return f.equals(this,g)};u.toJSON=function(g){return this.write(void 0,g)};a._createClass(p,[{key:"isWGS84",
get:function(){return f.isWGS84(this)}},{key:"isWebMercator",get:function(){return f.isWebMercator(this)}},{key:"isGeographic",get:function(){return f.isGeographic(this)}},{key:"isWrappable",get:function(){return f.isWrappable(this)}}]);return p}(c.JSONSupport);c.GCS_NAD_1927=null;c.WGS84=null;c.WebMercator=null;c.PlateCarree=null;b.__decorate([l.property({readOnly:!0})],c.prototype,"isWGS84",null);b.__decorate([l.property({readOnly:!0})],c.prototype,"isWebMercator",null);b.__decorate([l.property({readOnly:!0})],
c.prototype,"isGeographic",null);b.__decorate([l.property({readOnly:!0})],c.prototype,"isWrappable",null);b.__decorate([l.property({type:h.Integer,json:{write:!0}})],c.prototype,"latestWkid",void 0);b.__decorate([l.property({type:h.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],c.prototype,"wkid",void 0);b.__decorate([l.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid?
!0:!1}}}}}}})],c.prototype,"wkt",void 0);b.__decorate([t.writer("wkt"),t.writer("web-scene","wkt")],c.prototype,"writeWkt",null);b.__decorate([l.property({type:h.Integer,json:{write:!0}})],c.prototype,"vcsWkid",void 0);b.__decorate([l.property({type:h.Integer,json:{write:!0}})],c.prototype,"latestVcsWkid",void 0);b.__decorate([l.property()],c.prototype,"imageCoordinateSystem",void 0);c=k=b.__decorate([q.subclass("esri.geometry.SpatialReference")],c);c.prototype.toJSON.isDefaultToJSON=!0;c.GCS_NAD_1927=
new c({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});c.WGS84=new c(f.WGS84);c.WebMercator=new c(f.WebMercator);c.PlateCarree=new c(f.PlateCarree);Object.freeze&&(Object.freeze(c.GCS_NAD_1927),Object.freeze(c.WGS84),Object.freeze(c.WebMercator));return c})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/maybe","../../core/string",
"./WKIDUnitConversion"],function(a,b,c,e){function h(r){return f(r)&&null!=r.wkid&&!0===k[r.wkid]}function l(r){return 104971===r||104905===r}function q(r){return f(r)&&null!=r.wkid&&l(r.wkid)}function t(r){return f(r)&&null!=r.wkid&&104903===r.wkid}function f(r){return b.isSome(r)&&(null!=r.wkid&&2E3<=r.wkid||null!=r.wkt)}const k={102113:!0,102100:!0,3857:!0,3785:!0},m={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},p=[-2.0037508342788905E7,2.0037508342788905E7],u=[-2.0037508342787E7,2.0037508342787E7],
g={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:p,origin:u,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:p,origin:u,dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:p,origin:u,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:p,origin:u,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};c={wkid:4326,wkt:c.replace(g[4326].wkTemplate,{Central_Meridian:"0.0"})};a.PlateCarree={wkid:32662};a.WGS84=c;a.WebMercator={wkid:102100,latestWkid:3857};a.equals=function(r,d){return b.isNone(r)||b.isNone(d)?!1:r===d?!0:null!=r.wkid||null!=d.wkid?r.wkid===d.wkid||h(r)&&h(d)||null!=d.latestWkid&&r.wkid===d.latestWkid||null!=r.latestWkid&&d.wkid===r.latestWkid:r.wkt&&d.wkt?r.wkt.toUpperCase()===d.wkt.toUpperCase():!1};a.getInfo=function(r){return f(r)&&r.wkid?g[r.wkid]:null};a.isCGCS2000=
function(r){return f(r)&&4490===r.wkid};a.isEarth=function(r){return!(q(r)||t(r))};a.isGeographic=function(r){return f(r)?r.wkid?null==e[r.wkid]:r.wkt?!!/^\s*GEOGCS/i.test(r.wkt):!1:!1};a.isMars=q;a.isMoon=t;a.isPlateCarree=function(r){return f(r)&&32662===r.wkid};a.isValid=f;a.isWGS84=function(r){return f(r)&&4326===r.wkid};a.isWKIDFromMars=l;a.isWKIDFromMoon=function(r){return 104903===r};a.isWebMercator=h;a.isWrappable=function(r){return f(r)&&null!=r.wkid&&!0===m[r.wkid]};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;const b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,
8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,
8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,
8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,
22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,
29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,
102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,
103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,
103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,
103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,
103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=
1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=
0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=
0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=
0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=
0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=
0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=
0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=
0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=
0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=a;a++)b[a]=0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=
0;for(a=9697;9699>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=0;for(a=21307;21364>=a;a++)b[a]=
0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=
a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=
a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=
a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=
a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=
a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=
a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=
a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=a;a++)b[a]=13;for(a=102951;102960>=a;a++)b[a]=0;for(a=102965;102969>=
a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=
a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=
a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=
a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=
a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103872>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/portal/Portal":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../config ../kernel ../request ../core/deprecate ../core/Error ../core/JSONSupport ../core/Loadable ../core/Logger ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x,B,C){const D=L=>Object.freeze({__proto__:null,default:L});var J;let I;const N={PortalGroup:()=>new Promise((L,G)=>a(["./PortalGroup"],F=>L(D(F)),G)),PortalItem:()=>new Promise((L,G)=>a(["./PortalItem"],F=>L(D(F)),G)),PortalUser:()=>new Promise((L,G)=>a(["./PortalUser"],F=>L(D(F)),G))};f=J=function(L){function G(E){E=L.call(this,E)||this;E.access=null;E.allSSL=!1;E.authMode="auto";E.authorizedCrossOriginDomains=null;E.basemapGalleryGroupQuery=
null;E.bingKey=null;E.canListApps=!1;E.canListData=!1;E.canListPreProvisionedItems=!1;E.canProvisionDirectPurchase=!1;E.canSearchPublic=!0;E.canShareBingPublic=!1;E.canSharePublic=!1;E.canSignInArcGIS=!1;E.canSignInIDP=!1;E.colorSetsGroupQuery=null;E.commentsEnabled=!1;E.created=null;E.culture=null;E.customBaseUrl=null;E.defaultBasemap=null;E.defaultDevBasemap=null;E.defaultExtent=null;E.defaultVectorBasemap=null;E.description=null;E.devBasemapGalleryGroupQuery=null;E.eueiEnabled=null;E.featuredGroups=
null;E.featuredItemsGroupQuery=null;E.galleryTemplatesGroupQuery=null;E.livingAtlasGroupQuery=null;E.hasCategorySchema=!1;E.helperServices=null;E.homePageFeaturedContent=null;E.homePageFeaturedContentCount=null;E.httpPort=null;E.httpsPort=null;E.id=null;E.ipCntryCode=null;E.isPortal=!1;E.isReadOnly=!1;E.layerTemplatesGroupQuery=null;E.maxTokenExpirationMinutes=null;E.modified=null;E.name=null;E.portalHostname=null;E.portalMode=null;E.portalProperties=null;E.region=null;E.rotatorPanels=null;E.showHomePageDescription=
!1;E.sourceJSON=null;E.supportsHostedServices=!1;E.symbolSetsGroupQuery=null;E.templatesGroupQuery=null;E.units=null;E.url=e.portalUrl;E.urlKey=null;E.user=null;E.useStandardizedQuery=!1;E.useVectorBasemaps=!1;E.vectorBasemapGalleryGroupQuery=null;return E}b._inheritsLoose(G,L);var F=G.prototype;F.normalizeCtorArgs=function(E){return"string"===typeof E?{url:E}:E};F.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=
null)};F.readAuthorizedCrossOriginDomains=function(E){if(E)for(const K of E)-1===e.request.trustedServers.indexOf(K)&&e.request.trustedServers.push(K);return E};F.readDefaultBasemap=function(E){return this._readBasemap(E)};F.readDefaultDevBasemap=function(E){return this._readBasemap(E)};F.readDefaultVectorBasemap=function(E){return this._readBasemap(E)};F.readUrlKey=function(E){return E?E.toLowerCase():E};F.readUser=function(E){let K=null;E&&(K=B.fromJSON(E),K.portal=this);return K};F.load=function(E){const K=
(new Promise((P,W)=>a(["../Basemap"],ia=>P(D(ia)),W))).then(({default:P})=>{u.throwIfAborted(E);I=P}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,E)).then(P=>{if(h.id){const W=h.id;this.credential=W.findCredential(this.restUrl);this.credential||this.authMode!==J.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=W.on("credential-create",()=>{W.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=P;this.read(P)});this.addResolvingPromise(K);return Promise.resolve(this)};
F.createClosestFacilityTask=function(){var E=b._asyncToGenerator(function*(){q.deprecatedFunction(m.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"});yield this.load();const K=this._getHelperServiceUrl("closestFacility");return new (yield new Promise((P,W)=>a(["../tasks/ClosestFacilityTask"],ia=>P(D(ia)),W))).default(K)});return function(){return E.apply(this,arguments)}}();F.createElevationLayers=function(){var E=b._asyncToGenerator(function*(){yield this.load();
const K=this._getHelperService("defaultElevationLayers"),P=(yield new Promise((W,ia)=>a(["../layers/ElevationLayer"],Z=>W(D(Z)),ia))).default;return K?K.map(W=>new P({id:W.id,url:W.url})):[]});return function(){return E.apply(this,arguments)}}();F.createGeometryService=function(){var E=b._asyncToGenerator(function*(){q.deprecatedFunction(m.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"});yield this.load();const K=this._getHelperServiceUrl("geometry");
return new (yield new Promise((P,W)=>a(["../tasks/GeometryService"],ia=>P(D(ia)),W))).default({url:K})});return function(){return E.apply(this,arguments)}}();F.createPrintTask=function(){var E=b._asyncToGenerator(function*(){q.deprecatedFunction(m.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"});yield this.load();const K=this._getHelperServiceUrl("printTask");return new (yield new Promise((P,W)=>a(["../tasks/PrintTask"],ia=>P(D(ia)),W))).default(K)});
return function(){return E.apply(this,arguments)}}();F.createRouteTask=function(){var E=b._asyncToGenerator(function*(){q.deprecatedFunction(m.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"});yield this.load();const K=this._getHelperServiceUrl("route");return new (yield new Promise((P,W)=>a(["../tasks/RouteTask"],ia=>P(D(ia)),W))).default(K)});return function(){return E.apply(this,arguments)}}();F.createServiceAreaTask=function(){var E=
b._asyncToGenerator(function*(){q.deprecatedFunction(m.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"});yield this.load();const K=this._getHelperServiceUrl("serviceArea");return new (yield new Promise((P,W)=>a(["../tasks/ServiceAreaTask"],ia=>P(D(ia)),W))).default(K)});return function(){return E.apply(this,arguments)}}();F.fetchBasemaps=function(E,K){const P=new y;P.query=E||(e.apiKey&&C.supportsApiKey(this.url)?this.devBasemapGalleryGroupQuery:
this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);P.disableExtraQuery=!0;return this.queryGroups(P,K).then(W=>{P.num=100;P.query='type:"Web Map" -type:"Web Application"';return W.total?(W=W.results[0],P.sortField=W.sortField||"name",P.sortOrder=W.sortOrder||"desc",W.queryItems(P,K)):null}).then(W=>W&&W.total?W.results.filter(ia=>"Web Map"===ia.type).map(ia=>new I({portalItem:ia})):[])};F.fetchCategorySchema=function(E){return this.hasCategorySchema?this._request(this.restUrl+
"/portals/self/categorySchema",E).then(K=>K.categorySchema):u.isAborted(E)?Promise.reject(u.createAbortError()):Promise.resolve([])};F.fetchFeaturedGroups=function(E){const K=this.featuredGroups,P=new y;P.num=100;P.sortField="title";if(K&&K.length){const W=[];for(const ia of K)W.push(`(title:"${ia.title}" AND owner:${ia.owner})`);P.query=W.join(" OR ");return this.queryGroups(P,E).then(ia=>ia.results)}return u.isAborted(E)?Promise.reject(u.createAbortError()):Promise.resolve([])};F.fetchRegions=function(E){const K=
this.user&&this.user.culture||this.culture||w.getLocale();return this._request(this.restUrl+"/portals/regions",{...E,query:{culture:K}})};G.getDefault=function(){if(!J._default||J._default.destroyed)J._default=new J;return J._default};F.queryGroups=function(E,K){return this._queryPortal("/community/groups",E,"PortalGroup",K)};F.queryItems=function(E,K){return this._queryPortal("/search",E,"PortalItem",K)};F.queryUsers=function(E,K){E.sortField||(E.sortField="username");return this._queryPortal("/community/users",
E,"PortalUser",K)};F.toJSON=function(){throw new t("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};G.fromJSON=function(E){if(!E)return null;if(E.declaredClass)throw Error("JSON object is already hydrated");return new J({sourceJSON:E})};F._getHelperService=function(E){const K=this.helperServices&&this.helperServices[E];if(!K)throw new t("portal:service-not-found",`The \`helperServices\` do not include an entry named "${E}"`);return K};F._getHelperServiceUrl=function(E){const K=
this._getHelperService(E);if(!K.url)throw new t("portal:service-url-not-found",`The \`helperServices\` entry "${E}" does not include a \`url\` value`);return K.url};F._fetchSelf=function(E=this.authMode,K=!1,P){const W=this.restUrl+"/portals/self";E={authMode:E,query:{culture:w.getLocale().toLowerCase()},...P};"auto"===E.authMode&&(E.authMode="no-prompt");K&&(E.query.default=!0);return this._request(W,E)};F._queryPortal=function(E,K,P,W){const ia=n.ensureType(y,K),Z=V=>this._request(this.restUrl+
E,{...ia.toRequestOptions(this),...W}).then(qa=>{const sa=ia.clone();sa.start=qa.nextStart;return new x({nextQueryParams:sa,queryParams:ia,total:qa.total,results:J._resultsToTypedArray(V,{portal:this},qa,W)})}).then(qa=>Promise.all(qa.results.map(sa=>"function"===typeof sa.when?sa.when():qa)).then(()=>qa,sa=>{u.throwIfAbortError(sa);return qa}));return P&&N[P]?N[P]().then(({default:V})=>{u.throwIfAborted(W);return Z(V)}):Z()};F._signIn=function(){if(this.authMode===J.AUTH_MODE_ANONYMOUS)return Promise.reject(new t("portal:invalid-auth-mode",
`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const E=K=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return K||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=K;return this._fetchSelf("immediate")});if(this.user&&this.credential===K)return null;this.credential=K;return this._fetchSelf("immediate")}).then(P=>
{P&&(this.sourceJSON=P,this.read(P))});return h.id?h.id.getCredential(this.restUrl).then(K=>E(K)):E(this.credential)};F._normalizeSSL=function(E){return E.replace(/^http:/i,"https:").replace(":7080",":7443")};F._normalizeUrl=function(E){const K=this.credential&&this.credential.token;return this._normalizeSSL(K?E+(-1<E.indexOf("?")?"\x26":"?")+"token\x3d"+K:E)};F._requestToTypedArray=function(E,K,P){return this._request(E,K).then(W=>{const ia=J._resultsToTypedArray(P,{portal:this},W);return Promise.all(ia.map(Z=>
"function"===typeof Z.when?Z.when():W)).then(()=>ia,()=>ia)})};F._readBasemap=function(E){return E?(E=I.fromJSON(E),E.portalItem={portal:this},E):null};F._request=function(E,K={}){const P={f:"json",...K.query},{authMode:W=this.authMode===J.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:ia=null,cacheBust:Z=!1,method:V="auto",responseType:qa="json",signal:sa}=K;K={authMode:W,body:ia,cacheBust:Z,method:V,query:P,responseType:qa,timeout:0,signal:sa};return l(this._normalizeSSL(E),K).then(Ba=>Ba.data)};G._resultsToTypedArray=
function(E,K,P,W){if(P){const ia=p.isSome(W)?W.signal:null;P=P.listings||P.notifications||P.userInvitations||P.tags||P.items||P.groups||P.comments||P.provisions||P.results||P.relatedItems||P;if(E||K)P=P.map(Z=>{Z=Object.assign(E?E.fromJSON(Z):Z,K);"function"===typeof Z.load&&Z.load(ia);return Z})}else P=[];return P};b._createClass(G,[{key:"extraQuery",get:function(){const E=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!E?` AND orgid:${this.id}`:null}},{key:"isOrganization",
get:function(){return!!this.access}},{key:"restUrl",get:function(){let E=this.url;if(E){const K=E.indexOf("/sharing");E=0<K?E.substring(0,K):this.url.replace(/\/+$/,"");E+="/sharing/rest"}return E}},{key:"stylesGroupQuery",get:function(){q.deprecatedProperty(m.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"});return this.stylesGroupQuery3d}},{key:"thumbnailUrl",get:function(){const E=this.restUrl,K=this.thumbnail;return E&&K?this._normalizeSSL(E+"/portals/self/resources/"+
K):null}}]);return G}(f.JSONSupportMixin(k));f.AUTH_MODE_ANONYMOUS="anonymous";f.AUTH_MODE_AUTO="auto";f.AUTH_MODE_IMMEDIATE="immediate";c.__decorate([g.property()],f.prototype,"access",void 0);c.__decorate([g.property()],f.prototype,"allSSL",void 0);c.__decorate([g.property()],f.prototype,"authMode",void 0);c.__decorate([g.property()],f.prototype,"authorizedCrossOriginDomains",void 0);c.__decorate([v.reader("authorizedCrossOriginDomains")],f.prototype,"readAuthorizedCrossOriginDomains",null);c.__decorate([g.property()],
f.prototype,"basemapGalleryGroupQuery",void 0);c.__decorate([g.property()],f.prototype,"bingKey",void 0);c.__decorate([g.property()],f.prototype,"canListApps",void 0);c.__decorate([g.property()],f.prototype,"canListData",void 0);c.__decorate([g.property()],f.prototype,"canListPreProvisionedItems",void 0);c.__decorate([g.property()],f.prototype,"canProvisionDirectPurchase",void 0);c.__decorate([g.property()],f.prototype,"canSearchPublic",void 0);c.__decorate([g.property()],f.prototype,"canShareBingPublic",
void 0);c.__decorate([g.property()],f.prototype,"canSharePublic",void 0);c.__decorate([g.property()],f.prototype,"canSignInArcGIS",void 0);c.__decorate([g.property()],f.prototype,"canSignInIDP",void 0);c.__decorate([g.property()],f.prototype,"colorSetsGroupQuery",void 0);c.__decorate([g.property()],f.prototype,"commentsEnabled",void 0);c.__decorate([g.property({type:Date})],f.prototype,"created",void 0);c.__decorate([g.property()],f.prototype,"credential",void 0);c.__decorate([g.property()],f.prototype,
"culture",void 0);c.__decorate([g.property()],f.prototype,"currentVersion",void 0);c.__decorate([g.property()],f.prototype,"customBaseUrl",void 0);c.__decorate([g.property()],f.prototype,"defaultBasemap",void 0);c.__decorate([v.reader("defaultBasemap")],f.prototype,"readDefaultBasemap",null);c.__decorate([g.property()],f.prototype,"defaultDevBasemap",void 0);c.__decorate([v.reader("defaultDevBasemap")],f.prototype,"readDefaultDevBasemap",null);c.__decorate([g.property({type:A})],f.prototype,"defaultExtent",
void 0);c.__decorate([g.property()],f.prototype,"defaultVectorBasemap",void 0);c.__decorate([v.reader("defaultVectorBasemap")],f.prototype,"readDefaultVectorBasemap",null);c.__decorate([g.property()],f.prototype,"description",void 0);c.__decorate([g.property()],f.prototype,"devBasemapGalleryGroupQuery",void 0);c.__decorate([g.property()],f.prototype,"eueiEnabled",void 0);c.__decorate([g.property({readOnly:!0})],f.prototype,"extraQuery",null);c.__decorate([g.property()],f.prototype,"featuredGroups",
void 0);c.__decorate([g.property()],f.prototype,"featuredItemsGroupQuery",void 0);c.__decorate([g.property()],f.prototype,"galleryTemplatesGroupQuery",void 0);c.__decorate([g.property()],f.prototype,"livingAtlasGroupQuery",void 0);c.__decorate([g.property()],f.prototype,"hasCategorySchema",void 0);c.__decorate([g.property()],f.prototype,"helpBase",void 0);c.__decorate([g.property()],f.prototype,"helperServices",void 0);c.__decorate([g.property()],f.prototype,"helpMap",void 0);c.__decorate([g.property()],
f.prototype,"homePageFeaturedContent",void 0);c.__decorate([g.property()],f.prototype,"homePageFeaturedContentCount",void 0);c.__decorate([g.property()],f.prototype,"httpPort",void 0);c.__decorate([g.property()],f.prototype,"httpsPort",void 0);c.__decorate([g.property()],f.prototype,"id",void 0);c.__decorate([g.property()],f.prototype,"ipCntryCode",void 0);c.__decorate([g.property({readOnly:!0})],f.prototype,"isOrganization",null);c.__decorate([g.property()],f.prototype,"isPortal",void 0);c.__decorate([g.property()],
f.prototype,"isReadOnly",void 0);c.__decorate([g.property()],f.prototype,"layerTemplatesGroupQuery",void 0);c.__decorate([g.property()],f.prototype,"maxTokenExpirationMinutes",void 0);c.__decorate([g.property({type:Date})],f.prototype,"modified",void 0);c.__decorate([g.property()],f.prototype,"name",void 0);c.__decorate([g.property()],f.prototype,"portalHostname",void 0);c.__decorate([g.property()],f.prototype,"portalMode",void 0);c.__decorate([g.property()],f.prototype,"portalProperties",void 0);
c.__decorate([g.property()],f.prototype,"region",void 0);c.__decorate([g.property({readOnly:!0})],f.prototype,"restUrl",null);c.__decorate([g.property()],f.prototype,"rotatorPanels",void 0);c.__decorate([g.property()],f.prototype,"showHomePageDescription",void 0);c.__decorate([g.property()],f.prototype,"sourceJSON",void 0);c.__decorate([g.property()],f.prototype,"staticImagesUrl",void 0);c.__decorate([g.property({readOnly:!0,json:{read:!1}})],f.prototype,"stylesGroupQuery",null);c.__decorate([g.property({json:{name:"2DStylesGroupQuery"}})],
f.prototype,"stylesGroupQuery2d",void 0);c.__decorate([g.property({json:{name:"stylesGroupQuery"}})],f.prototype,"stylesGroupQuery3d",void 0);c.__decorate([g.property()],f.prototype,"supportsHostedServices",void 0);c.__decorate([g.property()],f.prototype,"symbolSetsGroupQuery",void 0);c.__decorate([g.property()],f.prototype,"templatesGroupQuery",void 0);c.__decorate([g.property()],f.prototype,"thumbnail",void 0);c.__decorate([g.property({readOnly:!0})],f.prototype,"thumbnailUrl",null);c.__decorate([g.property()],
f.prototype,"units",void 0);c.__decorate([g.property()],f.prototype,"url",void 0);c.__decorate([g.property()],f.prototype,"urlKey",void 0);c.__decorate([v.reader("urlKey")],f.prototype,"readUrlKey",null);c.__decorate([g.property()],f.prototype,"user",void 0);c.__decorate([v.reader("user")],f.prototype,"readUser",null);c.__decorate([g.property()],f.prototype,"useStandardizedQuery",void 0);c.__decorate([g.property()],f.prototype,"useVectorBasemaps",void 0);c.__decorate([g.property()],f.prototype,"vectorBasemapGalleryGroupQuery",
void 0);return f=J=c.__decorate([z.subclass("esri.portal.Portal")],f)})},"esri/kernel":function(){define("require exports ./chunks/_rollupPluginBabelHelpers ./core/has ./core/urlUtils ./support/revision".split(" "),function(a,b,c,e,h,l){b.id=void 0;e("host-webworker")||(console.debug(`Using ArcGIS API for JavaScript ${"4.22"} [Date: ${l.buildDate}, Revision: ${l.commitHash.slice(0,8)}]`),(e("edge")||e("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"));b.buildDate=
l.buildDate;b.revision=l.commitHash;b.addTokenParameter=function(q){const t=b.id&&b.id.findCredential(q);return t&&t.token?h.addQueryParameter(q,"token",t.token):q};b.setId=function(q){b.id=q};b.version="4.22";b.workerMessages={request(q,t){return c._asyncToGenerator(function*(){var f,{default:k}=yield new Promise((u,g)=>a(["./request"],r=>u(Object.freeze({__proto__:null,default:r})),g));const m=q.options,p=m.responseType;m.signal=null==t?void 0:t.signal;m.responseType="native"===p||"native-request-init"===
p?"native-request-init":["blob","json","text"].includes(p)&&null!=(f=h.getInterceptor(q.url))&&f.after?p:"array-buffer";f=yield k(q.url,m);k={data:f.data,ssl:f.ssl};switch(f.requestOptions.responseType){case "native-request-init":return delete k.data.signal,k;case "blob":k.data=yield k.data.arrayBuffer();break;case "json":k.data=(new TextEncoder).encode(JSON.stringify(k.data)).buffer;break;case "text":k.data=(new TextEncoder).encode(k.data).buffer}return{result:k,transferList:[k.data]}})()}};Object.defineProperty(b,
"__esModule",{value:!0})})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20211215";a.commitHash="ad43611b413b1d0a625293a3ce87543dde5c1fa2";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/request":function(){define("require ./chunks/_rollupPluginBabelHelpers ./config ./kernel ./core/Error ./core/has ./core/lang ./core/maybe ./core/promiseUtils ./core/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),function(a,b,c,e,h,l,q,t,f,k,m,p){function u(U,
ca){return g.apply(this,arguments)}function g(){g=b._asyncToGenerator(function*(U,ca){var va,Aa=k.isDataProtocol(U);const H=k.isBlobProtocol(U);H||Aa||(U=k.normalize(U));const O={url:U,requestOptions:{...t.unwrap(ca)}};let la=k.getInterceptor(U);if(la){U=yield J(la,O);if(null!=U)return{data:U,getHeader:Ba,requestOptions:O.requestOptions,url:O.url};la.after||la.error||(la=null)}U=O.url;ca=O.requestOptions;if("image"===ca.responseType){if(l("host-webworker")||l("host-node"))throw n("request:invalid-parameters",
Error("responseType 'image' is not supported in Web Workers or Node environment"),O);}else if(Aa)throw n("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+ca.responseType),O);if("head"===ca.method){if(ca.body)throw n("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),O);if(Aa||H)throw n("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),O);}yield v();if(W)return W.execute(U,ca);const Q=
new AbortController;f.onAbort(ca,()=>Q.abort());Aa=yield G({controller:Q,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:la,params:O,redoRequest:!1,useIdentity:ia.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1});null==(va=la)?void 0:null==va.after?void 0:va.after(Aa);return Aa});return g.apply(this,arguments)}function r(U){(U=k.getOrigin(U))&&!u._corsServers.includes(U)&&u._corsServers.push(U)}function d(U){U=k.getOrigin(U);return!U||U.endsWith(".arcgis.com")||
u._corsServers.includes(U)||k.isTrustedServer(U)}function n(U,ca,va,Aa){let H="Error";const O={url:va.url,requestOptions:va.requestOptions,getHeader:Ba,ssl:!1};if(ca instanceof h)return ca.details?(ca.details=q.clone(ca.details),ca.details.url=va.url,ca.details.requestOptions=va.requestOptions):ca.details=O,ca;if(ca){va=Aa&&(S=>Aa.headers.get(S));const la=Aa&&Aa.status,Q=ca.message;Q&&(H=Q);va&&(O.getHeader=va);O.httpStatus=(null!=ca.httpCode?ca.httpCode:ca.code)||la||0;O.subCode=ca.subcode;O.messageCode=
ca.messageCode;O.messages="string"===typeof ca.details?[ca.details]:ca.details;O.raw=oa in ca?ca[oa]:ca}return f.isAbortError(ca)?f.createAbortError():new h(U,H,O)}function v(){return z.apply(this,arguments)}function z(){z=b._asyncToGenerator(function*(){l("host-webworker")?W||(W=yield new Promise((U,ca)=>a(["./core/workers/request"],U,ca))):u._abortableFetch||(u._abortableFetch=globalThis.fetch.bind(globalThis))});return z.apply(this,arguments)}function A(){return w.apply(this,arguments)}function w(){w=
b._asyncToGenerator(function*(){e.id||(yield new Promise((U,ca)=>a(["./identity/IdentityManager"],va=>U(Object.freeze({__proto__:null,default:va})),ca)))});return w.apply(this,arguments)}function y(U){return x.apply(this,arguments)}function x(){x=b._asyncToGenerator(function*(U){const ca=U.params.url,va=U.params.requestOptions,Aa=U.controller.signal,H=va.body;let O=null,la=null,Q=null;Z&&"HTMLFormElement"in globalThis&&(H instanceof FormData?O=H:H instanceof HTMLFormElement&&(la=H,O=new FormData(la)));
"string"===typeof H&&(Q=H);U.fetchOptions={cache:va.cacheBust&&!u._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:va.headers||{},method:"head"===va.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:Aa};if(O||Q)U.fetchOptions.body=O||Q;"anonymous"===va.authMode&&(U.useIdentity=!1);U.hasToken=!!(/token=/i.test(ca)||va.query&&va.query.token||O&&O.get&&O.get("token")||la&&la.elements.token);!U.hasToken&&c.apiKey&&m.supportsApiKey(ca)&&(va.query||(va.query={}),va.query.token=
c.apiKey,U.hasToken=!0);if(U.useIdentity&&!U.hasToken&&!U.credentialToken&&!B(ca)&&!f.isAborted(Aa)){let S;"immediate"===va.authMode?(yield A(),S=yield e.id.getCredential(ca,{signal:Aa}),U.credential=S):"no-prompt"===va.authMode?(yield A(),S=yield e.id.getCredential(ca,{prompt:!1,signal:Aa}).catch(()=>{}),U.credential=S):e.id&&(S=e.id.findCredential(ca));S&&(U.credentialToken=S.token,U.useSSL=!!S.ssl)}});return x.apply(this,arguments)}function B(U){return sa.some(ca=>ca.test(U))}function C(U){return D.apply(this,
arguments)}function D(){D=b._asyncToGenerator(function*(U){let ca=U.params.url;const va=U.params.requestOptions,Aa=U.fetchOptions,H=k.isBlobProtocol(ca)||k.isDataProtocol(ca),O=va.responseType||"json",la=H?0:null!=va.timeout?va.timeout:ia.timeout;var Q=!1;if(!H){U.useSSL&&(ca=k.toHTTPS(ca));va.cacheBust&&"default"===Aa.cache&&(ca=k.addQueryParameter(ca,"request.preventCache",Date.now()));var S={...va.query};U.credentialToken&&(S.token=U.credentialToken);Q=k.objectToQuery(S);l("esri-url-encodes-apostrophe")&&
(Q=Q.replace(/'/g,"%27"));const T=ca.length+1+Q.length;Q="delete"===va.method||"post"===va.method||"put"===va.method||!!va.body||T>ia.maxUrlLength;const X=va.useProxy||!!k.getProxyRule(ca);if(X){const ma=k.getProxyUrl(ca);var M=ma.path;!Q&&M.length+1+T>ia.maxUrlLength&&(Q=!0);ma.query&&(S={...ma.query,...S})}if("HEAD"===Aa.method&&(Q||X)){if(Q){if(T>ia.maxUrlLength)throw n("request:invalid-parameters",Error("URL exceeds maximum length"),U.params);throw n("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),
U.params);}if(X)throw n("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),U.params);}Q?(Aa.method="delete"===va.method?"DELETE":"put"===va.method?"PUT":"POST",va.body?ca=k.addQueryParameters(ca,S):(Aa.body=k.objectToQuery(S),Aa.headers["Content-Type"]="application/x-www-form-urlencoded")):ca=k.addQueryParameters(ca,S);X&&(U.useProxy=!0,ca=`${M}?${ca}`);S.token&&Z&&Aa.body instanceof FormData&&(M=Aa.body,M.set?M.set("token",S.token):M.append("token",S.token));va.hasOwnProperty("withCredentials")?
U.withCredentials=va.withCredentials:k.hasSameOrigin(ca,k.appUrl)||(k.isTrustedServer(ca)?U.withCredentials=!0:e.id&&(S=e.id.findServerInfo(ca))&&S.webTierAuth&&(U.withCredentials=!0));U.withCredentials&&(Aa.credentials="include")}S=0;let R=!1;0<la&&(S=setTimeout(()=>{R=!0;U.controller.abort()},la));let aa,ba;try{if("native-request-init"===va.responseType)ba=Aa,ba.url=ca;else if("image"!==va.responseType||"default"!==Aa.cache||"GET"!==Aa.method||Q||N(va.headers)||!H&&!U.useProxy&&ia.proxyUrl&&!d(ca))if(aa=
yield u._abortableFetch(ca,Aa),U.useProxy||r(ca),"native"===va.responseType)ba=aa;else{if("HEAD"!==Aa.method)if(aa.ok){switch(O){case "array-buffer":ba=yield aa.arrayBuffer();break;case "blob":case "image":ba=yield aa.blob();break;default:ba=yield aa.text()}S&&(clearTimeout(S),S=0);if("json"===O||"xml"===O||"document"===O)if(ba)switch(O){case "json":ba=JSON.parse(ba);break;case "xml":ba=L(ba,"application/xml");break;case "document":ba=L(ba,"text/html")}else ba=null;if(ba){if("array-buffer"===O||"blob"===
O){const T=aa.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(T)&&750>=ba["blob"===O?"size":"byteLength"])try{const X=yield(new Response(ba)).json();X.error&&(ba=X)}catch{}}"image"===O&&ba instanceof Blob&&(ba=yield P(URL.createObjectURL(ba),U,!0))}}else ba=yield aa.text()}else ba=yield P(ca,U)}catch(T){if("AbortError"===T.name){if(R)throw Error("Timeout exceeded");throw f.createAbortError("Request canceled");}if(!aa&&T instanceof TypeError&&ia.proxyUrl&&!va.body&&"delete"!==
va.method&&"head"!==va.method&&"post"!==va.method&&"put"!==va.method&&!U.useProxy&&!d(ca))U.redoRequest=!0,k.addProxyRule({proxyUrl:ia.proxyUrl,urlPrefix:k.getOrigin(ca)});else throw T;}finally{S&&clearTimeout(S)}return[aa,ba]});return D.apply(this,arguments)}function J(U,ca){return I.apply(this,arguments)}function I(){I=b._asyncToGenerator(function*(U,ca){if(null!=U.responseData)return U.responseData;U.headers&&(ca.requestOptions.headers={...ca.requestOptions.headers,...U.headers});U.query&&(ca.requestOptions.query=
{...ca.requestOptions.query,...U.query});if(U.before){let va,Aa;try{Aa=yield U.before(ca)}catch(H){va=n("request:interceptor",H,ca)}if(Aa instanceof Error||Aa instanceof h)va=n("request:interceptor",Aa,ca);if(va)throw U.error&&U.error(va),va;return Aa}});return I.apply(this,arguments)}function N(U){if(U)for(const ca of Object.getOwnPropertyNames(U))if(U[ca])return!0;return!1}function L(U,ca){let va;try{va=(new DOMParser).parseFromString(U,ca)}catch{}if(!va||va.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");
return va}function G(U){return F.apply(this,arguments)}function F(){F=b._asyncToGenerator(function*(U){var ca,va;yield y(U);let Aa;try{do[Aa,H]=yield C(U);while(!(yield E(U,Aa,H)))}catch(la){var H=n("request:server",la,U.params,Aa);H.details.ssl=U.useSSL;U.interceptor&&U.interceptor.error&&U.interceptor.error(H);throw H;}const O=U.params.url;!/\/sharing\/rest\/(accounts|portals)\/self/i.test(O)||U.hasToken||U.credentialToken||null==(ca=H)||null==(va=ca.user)||!va.username||k.isTrustedServer(O)||(ca=
k.getOrigin(O,!0))&&ia.trustedServers.push(ca);(ca=U.credential)&&e.id&&(va=(va=e.id.findServerInfo(ca.server))&&va.owningSystemUrl)&&(va=va.replace(/\/?$/,"/sharing"),(ca=e.id.findCredential(va,ca.userId))&&-1===e.id._getIdenticalSvcIdx(va,ca)&&ca.resources.unshift(va));return{data:H,getHeader:Aa?la=>Aa.headers.get(la):Ba,requestOptions:U.params.requestOptions,ssl:U.useSSL,url:U.params.url}});return F.apply(this,arguments)}function E(U,ca,va){return K.apply(this,arguments)}function K(){K=b._asyncToGenerator(function*(U,
ca,va){if(U.redoRequest)return U.redoRequest=!1;const Aa=U.params.requestOptions;if(!ca||"native"===Aa.responseType||"native-request-init"===Aa.responseType)return!0;let H;if(!ca.ok)throw H=Error(`Unable to load ${ca.url} status: ${ca.status}`),H[oa]=va,H;null!=va&&va.error&&(H=va.error);let O,la,Q;H&&(O=Number(H.code),la=H.hasOwnProperty("subcode")?Number(H.subcode):null,Q=(Q=H.messageCode)&&Q.toUpperCase());ca=Aa.authMode;if(403===O&&(4===la||H.message&&-1<H.message.toLowerCase().indexOf("ssl")&&
-1===H.message.toLowerCase().indexOf("permission"))){if(!U.useSSL)return U.useSSL=!0,!1}else if(!U.hasToken&&U.useIdentity&&("no-prompt"!==ca||498===O)&&-1!==V.indexOf(O)&&!B(U.params.url)&&(403!==O||-1===qa.indexOf(Q)&&(null==la||2===la&&U.credentialToken))){yield A();try{const S=yield e.id.getCredential(U.params.url,{error:n("request:server",H,U.params),prompt:"no-prompt"!==ca,signal:U.controller.signal,token:U.credentialToken});U.credential=S;U.credentialToken=S.token;U.useSSL=U.useSSL||S.ssl;
return!1}catch(S){if("no-prompt"===ca)return U.credential=null,U.credentialToken=null,!1;H=S}}if(H)throw H;return!0});return K.apply(this,arguments)}function P(U,ca,va=!1){const Aa=ca.controller.signal,H=new Image;H.crossOrigin=ca.withCredentials?"use-credentials":"anonymous";H.alt="";H.src=U;return p.loadImageAsync(H,U,va,Aa)}let W;const ia=c.request,Z="FormData"in globalThis,V=[499,498,403,401],qa=["COM_0056","COM_0057","SB_0008"],sa=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],
Ba=()=>null,oa=Symbol();u._abortableFetch=null;u._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return u})},"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(a,b){const c=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];a.isApiKey=function(e){return e&&4<e.length&&e.startsWith("AAPK")};a.supportsApiKey=function(e){const h=b.getOrigin(e,!0);return h&&h.endsWith(".arcgis.com")&&
!c.includes(h)&&!e.endsWith("/sharing/rest/generateToken")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/requestUtils":function(){define(["exports","../core/has","../core/maybe","../core/promiseUtils"],function(a,b,c,e){function h(){try{return new DOMException("Aborted","AbortError")}catch{const l=Error();l.name="AbortError";return l}}a.loadImageAsync=function(l,q,t=!1,f){return new Promise((k,m)=>{if(e.isAborted(f))m(h());else{var p=()=>{r();m(Error(`Unable to load ${q}`))},
u=()=>{const d=l;r();k(d)},g=()=>{if(l){var d=l;r();d.src="";m(h())}},r=()=>{b("esri-image-decode")||(l.removeEventListener("error",p),l.removeEventListener("load",u));l=u=p=null;c.isSome(f)&&f.removeEventListener("abort",g);g=null;t&&URL.revokeObjectURL(q)};c.isSome(f)&&f.addEventListener("abort",g);b("esri-image-decode")?l.decode().then(u,p):(l.addEventListener("error",p),l.addEventListener("load",u))}})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports",
"./property"],function(a,b){a.reader=function(c,e,h){let l,q;void 0===e||Array.isArray(e)?(q=c,h=e,l=[void 0]):(q=e,l=Array.isArray(c)?c:[c]);return(t,f)=>{const k=t.constructor.prototype;l.forEach(m=>{m=b.propertyJSONMeta(t,m,q);m.read&&"object"===typeof m.read||(m.read={});m.read.reader=k[f];h&&(m.read.source=(m.read.source||[]).concat(h))})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Extent":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/string ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d){function n(z,A,w){return null==A?w:null==w?A:z(A,w)}var v;l=v=function(z){function A(...y){y=z.call(this,...y)||this;y.type="extent";y.xmin=0;y.ymin=0;y.mmin=void 0;y.zmin=void 0;y.xmax=0;y.ymax=0;y.mmax=void 0;y.zmax=void 0;return y}a._inheritsLoose(A,z);var w=A.prototype;w.normalizeCtorArgs=function(y,x,B,C,D){return!y||"esri.geometry.SpatialReference"!==y.declaredClass&&null==y.wkid?"object"===typeof y?(y.spatialReference=null==y.spatialReference?p.WGS84:
y.spatialReference,y):{xmin:y,ymin:x,xmax:B,ymax:C,spatialReference:null==D?p.WGS84:D}:{spatialReference:y,xmin:0,ymin:0,xmax:0,ymax:0}};A.fromBounds=function(y,x){return new v({xmin:y[0],ymin:y[1],xmax:y[2],ymax:y[3],spatialReference:x})};A.fromPoint=function(y){return new v({xmin:y.x,ymin:y.y,zmin:y.z,xmax:y.x,ymax:y.y,zmax:y.z,spatialReference:y.spatialReference})};w.centerAt=function(y){const x=this.center;return null!=y.z&&this.hasZ?this.offset(y.x-x.x,y.y-x.y,y.z-x.z):this.offset(y.x-x.x,y.y-
x.y)};w.clone=function(){const y=new v;y.xmin=this.xmin;y.ymin=this.ymin;y.xmax=this.xmax;y.ymax=this.ymax;y.spatialReference=this.spatialReference;null!=this.zmin&&(y.zmin=this.zmin,y.zmax=this.zmax);null!=this.mmin&&(y.mmin=this.mmin,y.mmax=this.mmax);return y};w.contains=function(y){if(!y)return!1;const x=this.spatialReference,B=y.spatialReference;x&&B&&!x.equals(B)&&d.canProject(x,B)&&(y=x.isWebMercator?d.geographicToWebMercator(y):d.webMercatorToGeographic(y,!0));return"point"===y.type?u.extentContainsPoint(this,
y):"extent"===y.type?u.extentContainsExtent(this,y):!1};w.equals=function(y){if(this===y)return!0;if(c.isNone(y))return!1;const x=this.spatialReference,B=y.spatialReference;x&&B&&!x.equals(B)&&d.canProject(x,B)&&(y=x.isWebMercator?d.geographicToWebMercator(y):d.webMercatorToGeographic(y,!0));return this.xmin===y.xmin&&this.ymin===y.ymin&&this.zmin===y.zmin&&this.mmin===y.mmin&&this.xmax===y.xmax&&this.ymax===y.ymax&&this.zmax===y.zmax&&this.mmax===y.mmax};w.expand=function(y){y=.5*(1-y);var x=this.width*
y;const B=this.height*y;this.xmin+=x;this.ymin+=B;this.xmax-=x;this.ymax-=B;this.hasZ&&(x=(this.zmax-this.zmin)*y,this.zmin+=x,this.zmax-=x);this.hasM&&(y*=this.mmax-this.mmin,this.mmin+=y,this.mmax-=y);return this};w.intersects=function(y){if(c.isNone(y))return!1;"mesh"===y.type&&(y=y.extent);const x=this.spatialReference,B=y.spatialReference;x&&B&&!x.equals(B)&&d.canProject(x,B)&&(y=x.isWebMercator?d.geographicToWebMercator(y):d.webMercatorToGeographic(y,!0));return g.getFeatureExtentIntersector(y.type)(this,
y)};w.normalize=function(){const y=this._normalize(!1,!0);return Array.isArray(y)?y:[y]};w.offset=function(y,x,B){this.xmin+=y;this.ymin+=x;this.xmax+=y;this.ymax+=x;null!=B&&(this.zmin+=B,this.zmax+=B);return this};w.shiftCentralMeridian=function(){return this._normalize(!0)};w.union=function(y){if(this===y)return this;this.xmin=Math.min(this.xmin,y.xmin);this.ymin=Math.min(this.ymin,y.ymin);this.xmax=Math.max(this.xmax,y.xmax);this.ymax=Math.max(this.ymax,y.ymax);if(this.hasZ||y.hasZ)this.zmin=
n(Math.min,this.zmin,y.zmin),this.zmax=n(Math.max,this.zmax,y.zmax);if(this.hasM||y.hasM)this.mmin=n(Math.min,this.mmin,y.mmin),this.mmax=n(Math.max,this.mmax,y.mmax);return this};w.intersection=function(y){if(this===y)return this;if(c.isNone(y)||!this.intersects(y))return null;this.xmin=Math.max(this.xmin,y.xmin);this.ymin=Math.max(this.ymin,y.ymin);this.xmax=Math.min(this.xmax,y.xmax);this.ymax=Math.min(this.ymax,y.ymax);if(this.hasZ||y.hasZ)this.zmin=n(Math.max,this.zmin,y.zmin),this.zmax=n(Math.min,
this.zmax,y.zmax);if(this.hasM||y.hasM)this.mmin=n(Math.max,this.mmin,y.mmin),this.mmax=n(Math.min,this.mmax,y.mmax);return this};w.toJSON=function(y){return this.write({},y)};w._shiftCM=function(y=r.getInfo(this.spatialReference)){if(!y||!this.spatialReference)return this;const x=this.spatialReference,B=this._getCM(y);if(B){const C=x.isWebMercator?d.webMercatorToGeographic(B):B;this.xmin-=B.x;this.xmax-=B.x;x.isWebMercator||(C.x=this._normalizeX(C.x,y).x);this.spatialReference=new p(e.replace(x.isWGS84?
y.altTemplate:y.wkTemplate,{Central_Meridian:C.x}))}return this};w._getCM=function(y){let x=null;const [B,C]=y.valid;y=this.xmin;const D=this.xmax;y>=B&&y<=C&&D>=B&&D<=C||(x=this.center);return x};w._normalize=function(y,x,B){const C=this.spatialReference;if(!C)return this;B=B||r.getInfo(C);if(!B)return this;const D=this._getParts(B).map(N=>N.extent);if(2>D.length)return D[0]||this;if(2<D.length)return y?this._shiftCM(B):this.set({xmin:B.valid[0],xmax:B.valid[1]});if(y)return this._shiftCM(B);if(x)return D;
let J=!0,I=!0;D.forEach(N=>{N.hasZ||(J=!1);N.hasM||(I=!1)});return{rings:D.map(N=>{const L=[[N.xmin,N.ymin],[N.xmin,N.ymax],[N.xmax,N.ymax],[N.xmax,N.ymin],[N.xmin,N.ymin]];if(J){var G=(N.zmax-N.zmin)/2;for(let F=0;F<L.length;F++)L[F].push(G)}if(I)for(N=(N.mmax-N.mmin)/2,G=0;G<L.length;G++)L[G].push(N);return L}),hasZ:J,hasM:I,spatialReference:C}};w._getParts=function(y){let x=this.cache._parts;if(!x){x=[];const {ymin:G,ymax:F,spatialReference:E}=this;var B=this.width,C=this.xmin,D=this.xmax;y=y||
r.getInfo(E);const [K,P]=y.valid;var J=this._normalizeX(this.xmin,y);var I=J.x,N=J.frameId;J=this._normalizeX(this.xmax,y);y=J.x;J=J.frameId;var L=I===y&&0<B;if(B>2*P){B=new v(C<D?I:y,G,P,F,E);C=new v(K,G,C<D?y:I,F,E);D=new v(0,G,P,F,E);I=new v(K,G,0,F,E);y=[];L=[];B.contains(D)&&y.push(N);B.contains(I)&&L.push(N);C.contains(D)&&y.push(J);C.contains(I)&&L.push(J);for(let W=N+1;W<J;W++)y.push(W),L.push(W);x.push({extent:B,frameIds:[N]},{extent:C,frameIds:[J]},{extent:D,frameIds:y},{extent:I,frameIds:L})}else I>
y||L?x.push({extent:new v(I,G,P,F,E),frameIds:[N]},{extent:new v(K,G,y,F,E),frameIds:[J]}):x.push({extent:new v(I,G,y,F,E),frameIds:[N]});this.cache._parts=x}J=this.hasZ;B=this.hasM;if(J||B)for(N={},J&&(N.zmin=this.zmin,N.zmax=this.zmax),B&&(N.mmin=this.mmin,N.mmax=this.mmax),J=0;J<x.length;J++)x[J].extent.set(N);return x};w._normalizeX=function(y,x){const [B,C]=x.valid;x=2*C;var D=0;y>C?(D=Math.ceil(Math.abs(y-C)/x),y-=D*x):y<B&&(D=Math.ceil(Math.abs(y-B)/x),y+=D*x,D=-D);return{x:y,frameId:D}};a._createClass(A,
[{key:"cache",get:function(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}},{key:"center",get:function(){const y=new m({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(y.z=.5*(this.zmin+this.zmax));this.hasM&&(y.m=
.5*(this.mmin+this.mmax));return y}},{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}}]);return A}(k);b.__decorate([h.property({readOnly:!0})],l.prototype,"cache",null);b.__decorate([h.property({readOnly:!0})],l.prototype,"center",
null);b.__decorate([h.property({readOnly:!0})],l.prototype,"extent",null);b.__decorate([h.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],l.prototype,"hasM",null);b.__decorate([h.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],l.prototype,"hasZ",null);b.__decorate([h.property({readOnly:!0})],l.prototype,"height",null);b.__decorate([h.property({readOnly:!0})],l.prototype,"width",null);b.__decorate([h.property({type:Number,json:{type:[Number,String],write:{enabled:!0,
allowNull:!0}}})],l.prototype,"xmin",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],l.prototype,"ymin",void 0);b.__decorate([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],l.prototype,"mmin",void 0);b.__decorate([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],l.prototype,"zmin",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],
l.prototype,"xmax",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],l.prototype,"ymax",void 0);b.__decorate([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],l.prototype,"mmax",void 0);b.__decorate([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],l.prototype,"zmax",void 0);l=v=b.__decorate([f.subclass("esri.geometry.Extent")],l);l.prototype.toJSON.isDefaultToJSON=
!0;return l})},"esri/geometry/Geometry":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),function(a,b,c,e,h,l,q,t,f,k){c=function(m){function p(...g){g=m.call(this,...g)||this;g.type=null;g.hasM=!1;g.hasZ=!1;g.spatialReference=k.WGS84;
return g}a._inheritsLoose(p,m);var u=p.prototype;u.readSpatialReference=function(g,r){if(g instanceof k)return g;if(null!=g){const d=new k;d.read(g,r);return d}return g};u.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};u.clearCache=function(){this.notifyChange("cache")};u.getCacheValue=function(g){return this.cache[g]};u.setCacheValue=function(g,r){this.cache[g]=r};a._createClass(p,[{key:"cache",get:function(){this.commitProperty("spatialReference");
return{}}},{key:"extent",get:function(){return null}}]);return p}(c.JSONSupport);b.__decorate([e.property()],c.prototype,"type",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"cache",null);b.__decorate([e.property({readOnly:!0})],c.prototype,"extent",null);b.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(m){return{enabled:m}}}}})],c.prototype,"hasM",void 0);b.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(m){return{enabled:m}}}}})],c.prototype,"hasZ",
void 0);b.__decorate([e.property({type:k,json:{write:!0}})],c.prototype,"spatialReference",void 0);b.__decorate([t.reader("spatialReference")],c.prototype,"readSpatialReference",null);return c=b.__decorate([f.subclass("esri.geometry.Geometry")],c)})},"esri/geometry/Point":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v){function z(x){return x&&("esri.geometry.SpatialReference"===x.declaredClass||null!=x.wkid)}var A;const w=[0,0],y=c.getLogger("esri.geometry.Point");c=A=function(x){function B(...D){D=x.call(this,...D)||this;D.x=0;D.y=0;D.z=void 0;D.m=void 0;D.type="point";return D}a._inheritsLoose(B,x);B.copy=function(D,J){J._set("x",D._get("x"));J._set("y",D._get("y"));J._set("z",D._get("z"));J._set("m",D._get("m"));D=D._get("spatialReference");J._set("spatialReference",
Object.isFrozen(D)?D:D.clone())};var C=B.prototype;C.normalizeCtorArgs=function(D,J,I,N,L){let G;if(Array.isArray(D))G=D,L=J,D=G[0],J=G[1],I=G[2],N=G[3];else if(D&&"object"===typeof D){if(G=D,D=null!=G.x?G.x:G.longitude,J=null!=G.y?G.y:G.latitude,I=G.z,N=G.m,(L=G.spatialReference)&&"esri.geometry.SpatialReference"!==L.declaredClass&&(L=new g(L)),null!=G.longitude||null!=G.latitude)null==G.longitude?y.warn(".longitude\x3d","Latitude was defined without longitude"):null==G.latitude?y.warn(".latitude\x3d",
"Longitude was defined without latitude"):!G.declaredClass&&L&&L.isWebMercator&&(J=v.lngLatToXY(G.longitude,G.latitude,w),D=J[0],J=J[1])}else z(I)?(L=I,I=null):z(N)&&(L=N,N=null);D={x:D,y:J};null==D.x&&null!=D.y?y.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==D.y&&null!=D.x&&y.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=L&&(D.spatialReference=L);null!=I&&(D.z=I);null!=N&&(D.m=N);return D};C.writeX=function(D,J,I){J[I]=isNaN(D)?"NaN":D};C.readX=
function(D){return"string"===typeof D?NaN:D};C.clone=function(){const D=new A;D.x=this.x;D.y=this.y;D.z=this.z;D.m=this.m;D.spatialReference=this.spatialReference;return D};C.copy=function(D){A.copy(D,this);return this};C.equals=function(D){if(e.isNone(D))return!1;const {x:J,y:I,z:N,m:L,spatialReference:G}=this,{z:F,m:E}=D;let {x:K,y:P,spatialReference:W}=D;if(!G.equals(W))if(G.isWebMercator&&W.isWGS84)[K,P]=v.lngLatToXY(K,P),W=G;else if(G.isWGS84&&W.isWebMercator)[K,P]=v.xyToLngLat(K,P),W=G;else return!1;
return J===K&&I===P&&N===F&&L===E&&G.wkid===W.wkid};C.offset=function(D,J,I){return r.offsetPoint(this,D,J,I)};C.normalize=function(){if(!this.spatialReference)return this;var D=n.getInfo(this.spatialReference);if(!D)return this;let J=this.x;const [I,N]=D.valid;D=2*N;let L;J>N?(L=Math.ceil(Math.abs(J-N)/D),J-=L*D):J<I&&(L=Math.ceil(Math.abs(J-I)/D),J+=L*D);this._set("x",J);return this};C.distance=function(D){return d.distance(this,D)};C.toArray=function(){const D=this.hasZ,J=this.hasM;return D&&J?
[this.x,this.y,this.z,this.m]:D?[this.x,this.y,this.z]:J?[this.x,this.y,this.m]:[this.x,this.y]};C.toJSON=function(D){return this.write({},D)};a._createClass(B,[{key:"cache",get:function(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");this.commitProperty("spatialReference");return{}}},{key:"hasM",get:function(){return void 0!==this.m},set:function(D){const J=void 0!==this._get("m");D!==J&&(this._set("m",D?0:void 0),this._set("hasM",D))}},{key:"hasZ",
get:function(){return void 0!==this.z},set:function(D){const J=void 0!==this._get("z");D!==J&&(this._set("z",D?0:void 0),this._set("hasZ",D))}},{key:"latitude",get:function(){const {spatialReference:D,x:J,y:I}=this;if(D){if(D.isWebMercator)return v.xyToLngLat(J,I,w)[1];if(D.isGeographic)return I}return null},set:function(D){const {spatialReference:J,x:I}=this;J&&(J.isWebMercator?this._set("y",v.lngLatToXY(I,D,w)[1]):J.isGeographic&&this._set("y",D),this._set("latitude",D))}},{key:"longitude",get:function(){const {x:D,
y:J,spatialReference:I}=this;if(I){if(I.isWebMercator)return v.xyToLngLat(D,J,w)[0];if(I.isGeographic)return D}return null},set:function(D){const {y:J,spatialReference:I}=this;I&&(I.isWebMercator?this._set("x",v.lngLatToXY(D,J,w)[0]):I.isGeographic&&this._set("x",D),this._set("longitude",D))}}]);return B}(u);b.__decorate([h.property({readOnly:!0})],c.prototype,"cache",null);b.__decorate([h.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasM",null);b.__decorate([h.property({type:Boolean,
json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasZ",null);b.__decorate([h.property({type:Number})],c.prototype,"latitude",null);b.__decorate([h.property({type:Number})],c.prototype,"longitude",null);b.__decorate([h.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),t.cast(x=>isNaN(x)?x:p.ensureNumber(x))],c.prototype,"x",void 0);b.__decorate([m.writer("x")],c.prototype,"writeX",null);b.__decorate([f.reader("x")],c.prototype,"readX",null);
b.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"y",void 0);b.__decorate([h.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],c.prototype,"z",void 0);b.__decorate([h.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],c.prototype,"m",void 0);c=A=b.__decorate([k.subclass("esri.geometry.Point")],c);c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports",
"../ensureType","../metadata"],function(a,b,c){function e(t){const f="__accessorMetadata__"in t?b.ensureType(t):t;return function(...k){k.push(f);if("number"===typeof k[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return h.apply(this,k)}}function h(t,f,k,m){c.getOwnPropertyMetadata(t,f).cast=m}function l(t){return function(f,k){c.getOwnPropertyMetadata(f,t).cast=f[k]}}const q=Object.prototype.toString;a.cast=function(...t){if(3!==t.length||"string"!==typeof t[1]){if(1===
t.length&&"[object Function]"===q.call(t[0]))return e(t[0]);if(1===t.length&&"string"===typeof t[0])return l(t[0])}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/offset":function(){define(["exports"],function(a){a.offsetCoordsX=function(b,c){b[0]+=c;return b};a.offsetPoint=function(b,c,e,h){b.x+=c;b.y+=e;if(null!=h){var l;b.z=(null!=(l=b.z)?l:0)+h}return b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/pointUtils":function(){define(["exports"],
function(a){a.distance=function(b,c){const e=b.x-c.x,h=b.y-c.y;b=b.hasZ&&c.hasZ?b.z-c.z:0;return Math.sqrt(e*e+h*h+b*b)};a.squareDistance=function(b,c){const e=b.x-c.x,h=b.y-c.y;b=b.hasZ&&c.hasZ?b.z-c.z:0;return e*e+h*h+b*b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/webMercatorUtils":function(){define("exports ../../core/lang ../../core/maybe ../SpatialReference ./Ellipsoid ./spatialReferenceUtils".split(" "),function(a,b,c,e,h,l){function q(p,u,g,r,d){d.spatialReference=
g;if("x"in p&&"x"in d)[d.x,d.y]=u(p.x,p.y,m,r);else if("xmin"in p&&"xmin"in d)[d.xmin,d.ymin]=u(p.xmin,p.ymin,m,r),[d.xmax,d.ymax]=u(p.xmax,p.ymax,m,r);else if("paths"in p&&"paths"in d||"rings"in p&&"rings"in d){p="paths"in p?p.paths:p.rings;g=[];for(let v=0;v<p.length;v++){const z=p[v];var n=[];g.push(n);for(let A=0;A<z.length;A++)n.push(u(z[A][0],z[A][1],[0,0],r)),2<z[A].length&&n[A].push(z[A][2]),3<z[A].length&&n[A].push(z[A][3])}"paths"in d?d.paths=g:d.rings=g}else if("points"in p&&"points"in
d){p=p.points;g=[];for(n=0;n<p.length;n++)g[n]=u(p[n][0],p[n][1],[0,0],r),2<p[n].length&&g[n].push(p[n][2]),3<p[n].length&&g[n].push(p[n][3]);d.points=g}return d}function t(p,u){const g=p&&(null!=p.wkid||null!=p.wkt?p:p.spatialReference),r=u&&(null!=u.wkid||null!=u.wkt?u:u.spatialReference);return p&&"type"in p&&"mesh"===p.type||u&&"type"in u&&"mesh"===u.type||!g||!r?!1:l.equals(r,g)?!0:l.isWebMercator(r)&&l.isWGS84(g)||l.isWebMercator(g)&&l.isWGS84(r)}function f(p,u,g=[0,0]){89.99999<u?u=89.99999:
-89.99999>u&&(u=-89.99999);u*=.017453292519943;g[0]=.017453292519943*p*h.earth.radius;g[1]=h.earth.halfSemiMajorAxis*Math.log((1+Math.sin(u))/(1-Math.sin(u)));return g}function k(p,u,g=[0,0],r=!1){p=p/h.earth.radius*57.29577951308232;g[0]=r?p:p-360*Math.floor((p+180)/360);g[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-u/h.earth.radius)));return g}const m=[0,0];a.canProject=t;a.geographicToWebMercator=function(p,u=!1,g=b.clone(p)){return q(p,f,e.WebMercator,u,g)};a.lngLatToXY=f;a.project=
function(p,u){if(c.isNone(p))return null;const g=p.spatialReference;u=u&&(null!=u.wkid||null!=u.wkt?u:u.spatialReference);return t(g,u)?l.equals(g,u)?b.clone(p):l.isWebMercator(u)?q(p,f,e.WebMercator,!1,b.clone(p)):l.isWGS84(u)?q(p,k,e.WGS84,!1,b.clone(p)):null:null};a.webMercatorToGeographic=function(p,u=!1,g=b.clone(p)){return q(p,k,e.WGS84,u,g)};a.x2lon=function(p){return p/h.earth.radius};a.xyToLngLat=k;a.y2lat=function(p){return Math.PI/2-2*Math.atan(Math.exp(-p/h.earth.radius))};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/geometry/support/Ellipsoid":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(a,b){let c=function(){function q(t,f,k,m){this.semiMajorAxis=t;this.flattening=f;this.outerAtmosphereRimWidth=k;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;
this.eccentricitySquared=m?m:2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}b._createClass(q,[{key:"radius",get:function(){return this.semiMajorAxis}}]);return q}();const e=new c(6378137,1/298.257223563,3E5,.006694379990137799),h=new c(3396190,.005886007555525457,23E4),l=new c(1737400,0,0);a.Ellipsoid=c;a.earth=e;a.mars=h;a.moon=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/contains":function(){define(["exports",
"../../core/maybe"],function(a,b){function c(t,f){return e(t,f[0],f[1])}function e(t,f,k,m){return f>=t.xmin&&f<=t.xmax&&k>=t.ymin&&k<=t.ymax?null!=m&&t.hasZ?m>=t.zmin&&m<=t.zmax:!0:!1}function h(t,f){if(t=t.rings)if(Array.isArray(t[0][0])){var k=!1;for(let m=0,p=t.length;m<p;m++)k=l(k,t[m],f);f=k}else f=l(!1,t,f);else f=!1;return f}function l(t,f,k){const [m,p]=k;k=0;for(let u=0,g=f.length;u<g;u++){k++;k===g&&(k=0);const [r,d]=f[u],[n,v]=f[k];(d<p&&v>=p||v<p&&d>=p)&&r+(p-d)/(v-d)*(n-r)<m&&(t=!t)}return t}
const q=[0,0];a.extentContainsCoords2D=c;a.extentContainsCoords3D=function(t,f){return e(t,f[0],f[1],f[2])};a.extentContainsExtent=function(t,f){const {xmin:k,ymin:m,zmin:p,xmax:u,ymax:g,zmax:r}=f;return t.hasZ&&f.hasZ?e(t,k,m,p)&&e(t,k,g,p)&&e(t,u,g,p)&&e(t,u,m,p)&&e(t,k,m,r)&&e(t,k,g,r)&&e(t,u,g,r)&&e(t,u,m,r):e(t,k,m)&&e(t,k,g)&&e(t,u,g)&&e(t,u,m)};a.extentContainsMultipoint=function(t,f){if(!f.points||f.points.length)return!1;for(const k of f.points)if(!c(t,k))return!1;return!0};a.extentContainsPoint=
function(t,f){return b.isSome(f)?e(t,f.x,f.y,f.z):!1};a.polygonContainsCoords=h;a.polygonContainsPoint=function(t,f){q[1]=f.y;q[0]=f.x;return h(t,q)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,b){function c(n,v){return b.extentContainsPoint(n,v)}function e(n,v){var z=n.hasZ&&v.hasZ;if(n.xmin<=v.xmin){var A=v.xmin;if(n.xmax<A)return!1}else if(A=n.xmin,v.xmax<A)return!1;if(n.ymin<=v.ymin){if(A=v.ymin,
n.ymax<A)return!1}else if(A=n.ymin,v.ymax<A)return!1;if(z&&v.hasZ)if(n.zmin<=v.zmin){if(z=v.zmin,n.zmax<z)return!1}else if(z=n.zmin,v.zmax<z)return!1;return!0}function h(n,v){const {points:z,hasZ:A}=v;v=A?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const w of z)if(v(n,w))return!0;return!1}function l(n,v){k[0]=n.xmin;k[1]=n.ymax;m[0]=n.xmax;m[1]=n.ymax;p[0]=n.xmin;p[1]=n.ymin;u[0]=n.xmax;u[1]=n.ymin;for(var z of g)if(b.polygonContainsCoords(v,z))return!0;for(const A of v.rings)if(A.length){v=
A[0];if(b.extentContainsCoords2D(n,v))return!0;for(z=1;z<A.length;z++){const w=A[z];if(b.extentContainsCoords2D(n,w)||t(v,w,r))return!0;v=w}}return!1}function q(n,v){k[0]=n.xmin;k[1]=n.ymax;m[0]=n.xmax;m[1]=n.ymax;p[0]=n.xmin;p[1]=n.ymin;u[0]=n.xmax;u[1]=n.ymin;v=v.paths;for(const z of v){if(!v.length)continue;let A=z[0];if(b.extentContainsCoords2D(n,A))return!0;for(let w=1;w<z.length;w++){const y=z[w];if(b.extentContainsCoords2D(n,y)||t(A,y,r))return!0;A=y}}return!1}function t(n,v,z){for(let A=0;A<
z.length;A++)if(f(n,v,z[A][0],z[A][1]))return!0;return!1}function f(n,v,z,A,w){const [y,x]=n,[B,C]=v,[D,J]=z,[I,N]=A;var L=I-D;n=y-D;v=B-y;const G=N-J;z=x-J;A=C-x;const F=G*v-L*A;if(0===F)return!1;L=(L*z-G*n)/F;n=(v*z-A*n)/F;return 0<=L&&1>=L&&0<=n&&1>=n?(w&&(w[0]=y+L*(B-y),w[1]=x+L*(C-x)),!0):!1}const k=[0,0],m=[0,0],p=[0,0],u=[0,0],g=[k,m,p,u],r=[[p,k],[k,m],[m,u],[u,p]],d=[0,0];a.extentIntersectsExtent=e;a.extentIntersectsMultipoint=h;a.extentIntersectsPoint=c;a.extentIntersectsPolygon=l;a.extentIntersectsPolyline=
q;a.getFeatureExtentIntersector=function(n){switch(n){case "esriGeometryEnvelope":case "extent":return e;case "esriGeometryMultipoint":case "multipoint":return h;case "esriGeometryPoint":case "point":return c;case "esriGeometryPolygon":case "polygon":return l;case "esriGeometryPolyline":case "polyline":return q}};a.isSelfIntersecting=function(n){for(let C=0;C<n.length;C++){const D=n[C];for(var v=0;v<D.length-1;v++){var z=D[v],A=D[v+1];for(var w=C+1;w<n.length;w++)for(var y=0;y<n[w].length-1;y++){var x=
n[w][y],B=n[w][y+1];if(f(z,A,x,B,d)&&!(d[0]===z[0]&&d[1]===z[1]||d[0]===x[0]&&d[1]===x[1]||d[0]===A[0]&&d[1]===A[1]||d[0]===B[0]&&d[1]===B[1]))return!0}}v=D.length;if(!(4>=v))for(z=0;z<v-3;z++)for(A=v-1,0===z&&(A=v-2),w=D[z],y=D[z+1],x=z+2;x<A;x++){B=D[x];const J=D[x+1];if(f(w,y,B,J,d)&&!(d[0]===w[0]&&d[1]===w[1]||d[0]===B[0]&&d[1]===B[1]||d[0]===y[0]&&d[1]===y[1]||d[0]===J[0]&&d[1]===J[1]))return!0}}return!1};a.segmentIntersects=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/locale":function(){define(["exports"],
function(a){function b(){var r,d;return null!=(r=null!=m?m:null==(d=globalThis.navigator)?void 0:d.language)?r:"en"}function c(){void 0===k&&(k=b());return k}function e(r=c()){r=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(r);return null==r?void 0:r[1].toLowerCase()}function h(){var r;const d=null!=(r=f)?r:b();k!==d&&(k=d,[...g].forEach(n=>{n.call(null,d)}),[...u].forEach(n=>{n.call(null,d)}))}var l,q,t;let f=void 0,k=void 0;const m=null!=(l=null==(q=globalThis.esriConfig)?void 0:q.locale)?l:null==(t=globalThis.dojoConfig)?
void 0:t.locale,p={he:!0,ar:!0},u=[],g=[];null==globalThis.addEventListener?void 0:globalThis.addEventListener("languagechange",h);a.beforeLocaleChange=function(r){g.push(r);return{remove(){u.splice(g.indexOf(r),1)}}};a.getDefaultLocale=b;a.getLanguage=e;a.getLocale=c;a.onLocaleChange=function(r){u.push(r);return{remove(){u.splice(u.indexOf(r),1)}}};a.prefersRTL=function(r=c()){r=e(r);return void 0!==r&&(p[r]||!1)};a.setLocale=function(r){f=r?r:void 0;h()};Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/portal/PortalQueryParams":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(a,b,c,e,h,l,q,t,f,k,m,p){var u;const g=new e.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",
numViews:"num-views"});c=u=function(r){function d(v){v=r.call(this,v)||this;v.categories=null;v.disableExtraQuery=!1;v.extent=null;v.filter=null;v.num=10;v.query=null;v.sortField=null;v.start=1;return v}a._inheritsLoose(d,r);var n=d.prototype;n.clone=function(){return new u({categories:this.categories?h.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,
start:this.start})};n.toRequestOptions=function(v,z){let A;this.categories&&(A=this.categories.map(x=>Array.isArray(x)?JSON.stringify(x):x));let w;if(this.extent){var y=p.project(this.extent,m.WGS84);l.isSome(y)&&(w=`${y.xmin},${y.ymin},${y.xmax},${y.ymax}`)}y=this.query;!this.disableExtraQuery&&v.extraQuery&&(y="("+y+")"+v.extraQuery);v={categories:A,bbox:w,q:y,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(v.sortField=this.sortField.split(",").map(x=>
g.toJSON(x.trim())).join(","),v.sortOrder=this.sortOrder);return{query:{...z,...v}}};a._createClass(d,[{key:"sortOrder",get:function(){return this._get("sortOrder")||"asc"},set:function(v){"asc"!==v&&"desc"!==v||this._set("sortOrder",v)}}]);return d}(c);b.__decorate([q.property()],c.prototype,"categories",void 0);b.__decorate([q.property()],c.prototype,"disableExtraQuery",void 0);b.__decorate([q.property({type:k})],c.prototype,"extent",void 0);b.__decorate([q.property()],c.prototype,"filter",void 0);
b.__decorate([q.property()],c.prototype,"num",void 0);b.__decorate([q.property()],c.prototype,"query",void 0);b.__decorate([q.property()],c.prototype,"sortField",void 0);b.__decorate([q.property()],c.prototype,"sortOrder",null);b.__decorate([q.property()],c.prototype,"start",void 0);return c=u=b.__decorate([f.subclass("esri.portal.PortalQueryParams")],c)})},"esri/core/jsonMap":function(){define(["exports","./object"],function(a,b){let c=function(){function e(l,q={ignoreUnknown:!1}){this.jsonToAPI=
l;this.options=q;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(l);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=t=>this.fromJSON(t);this.write=(t,f,k)=>{t=this.toJSON(t);void 0!==t&&b.setDeepValue(k,t,f)};this.write.isJSONMapWriter=!0}var h=e.prototype;h.toJSON=function(l){return this.apiToJSON.hasOwnProperty(l)?this.apiToJSON[l]:this.options.ignoreUnknown?void 0:l};h.fromJSON=function(l){return this.jsonToAPI.hasOwnProperty(l)?
this.jsonToAPI[l]:this.options.ignoreUnknown?void 0:l};h.invertMap=function(l){const q={};for(const t in l)q[l[t]]=t;return q};h.getKeysSorted=function(l){const q=[];for(const t in l)q.push(t);q.sort();return q};return e}();a.JSONMap=c;a.default=c;a.strict=function(){return function(e){return new c(e,{ignoreUnknown:!0})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/PortalQueryResult":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){c=function(f){function k(m){m=f.call(this,m)||this;m.nextQueryParams=null;m.queryParams=null;m.results=null;m.total=null;return m}a._inheritsLoose(k,f);return k}(c);b.__decorate([e.property()],c.prototype,"nextQueryParams",void 0);b.__decorate([e.property()],c.prototype,"queryParams",void 0);b.__decorate([e.property()],c.prototype,"results",void 0);b.__decorate([e.property()],c.prototype,"total",void 0);return c=b.__decorate([t.subclass("esri.portal.PortalQueryResult")],
c)})},"esri/portal/PortalUser":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),function(a,b,c,e,h,l,q,t,f,k,m,p){var u;h=u=function(g){function r(...n){n=g.call(this,...n)||this;n.access=null;n.created=null;n.culture=null;n.description=null;
n.email=null;n.fullName=null;n.modified=null;n.orgId=null;n.portal=null;n.preferredView=null;n.privileges=null;n.region=null;n.role=null;n.roleId=null;n.sourceJSON=null;n.units=null;n.username=null;n.userType=null;return n}b._inheritsLoose(r,g);var d=r.prototype;d.addItem=function(n){const v=n&&n.item;var z=n&&n.data;n=n&&n.folder;const A={method:"post"};v&&(A.query=v.createPostQuery(),null!=z&&("string"===typeof z?A.query.text=z:"object"===typeof z&&(A.query.text=JSON.stringify(z))));z=this.userContentUrl;
n&&(z+="/"+("string"===typeof n?n:n.id));return this.portal._request(z+"/addItem",A).then(w=>{v.id=w.id;v.portal=this.portal;return v.loaded?v.reload():v.load()})};d.deleteItem=function(n){let v=this.userContentUrl;n.ownerFolder&&(v+="/"+n.ownerFolder);return this.portal._request(v+`/items/${n.id}/delete`,{method:"post"}).then(()=>{n.id=null;n.portal=null})};d.deleteItems=function(n){const v=this.userContentUrl+"/deleteItems";var z=n.map(A=>A.id);return z.length?(z={method:"post",query:{items:z.join(",")}},
this.portal._request(v,z).then(()=>{n.forEach(A=>{A.id=null;A.portal=null})})):Promise.resolve(void 0)};d.fetchFolders=function(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then(n=>n&&n.folders?n.folders.map(v=>{v=m.fromJSON(v);v.portal=this.portal;return v}):[])};d.fetchGroups=function(){return this.portal._request(this.url).then(n=>n&&n.groups?n.groups.map(v=>{v=p.fromJSON(v);v.portal=this.portal;return v}):[])};d.fetchItems=function(n){n||(n={});let v=this.userContentUrl;
n.folder&&(v+="/"+n.folder.id);let z;return(new Promise((A,w)=>a(["./PortalItem"],y=>A(Object.freeze({__proto__:null,default:y})),w))).then(({default:A})=>{z=A;return this.portal._request(v,{query:{folders:!1,num:n.num||10,start:n.start||1,sortField:n.sortField||"created",sortOrder:n.sortOrder||"asc"}})}).then(A=>{let w;return A&&A.items?(w=A.items.map(y=>{y=z.fromJSON(y);y.portal=this.portal;return y}),Promise.all(w.map(y=>y.load())).catch(y=>y).then(()=>({items:w,nextStart:A.nextStart,total:A.total}))):
{items:[],nextStart:-1,total:0}})};d.fetchTags=function(){return this.portal._request(this.url+"/tags").then(n=>n.tags)};d.getThumbnailUrl=function(n){let v=this.thumbnailUrl;v&&n&&(v+=`&w=${n}`);return v};d.queryFavorites=function(n){return this.favGroupId?(this._favGroup||(this._favGroup=new p({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(n)):Promise.reject(new e("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};d.toJSON=function(){throw new e("internal:not-yet-implemented",
"PortalGroup.toJSON is not yet implemented");};r.fromJSON=function(n){if(!n)return null;if(n.declaredClass)throw Error("JSON object is already hydrated");const v=new u;v.sourceJSON=n;v.read(n);return v};b._createClass(r,[{key:"thumbnailUrl",get:function(){const n=this.url,v=this.thumbnail;return n&&v?this.portal._normalizeUrl(`${n}/info/${v}?f=json`):null}},{key:"userContentUrl",get:function(){const n=this.get("portal.restUrl");return n?`${n}/content/users/${this.username}`:null}},{key:"url",get:function(){const n=
this.get("portal.restUrl");return n?`${n}/community/users/${this.username}`:null}}]);return r}(h.JSONSupport);c.__decorate([l.property()],h.prototype,"access",void 0);c.__decorate([l.property({type:Date})],h.prototype,"created",void 0);c.__decorate([l.property()],h.prototype,"culture",void 0);c.__decorate([l.property()],h.prototype,"description",void 0);c.__decorate([l.property()],h.prototype,"email",void 0);c.__decorate([l.property()],h.prototype,"favGroupId",void 0);c.__decorate([l.property()],
h.prototype,"fullName",void 0);c.__decorate([l.property({type:Date})],h.prototype,"modified",void 0);c.__decorate([l.property()],h.prototype,"orgId",void 0);c.__decorate([l.property()],h.prototype,"portal",void 0);c.__decorate([l.property()],h.prototype,"preferredView",void 0);c.__decorate([l.property()],h.prototype,"privileges",void 0);c.__decorate([l.property()],h.prototype,"region",void 0);c.__decorate([l.property()],h.prototype,"role",void 0);c.__decorate([l.property()],h.prototype,"roleId",void 0);
c.__decorate([l.property()],h.prototype,"sourceJSON",void 0);c.__decorate([l.property()],h.prototype,"thumbnail",void 0);c.__decorate([l.property({readOnly:!0})],h.prototype,"thumbnailUrl",null);c.__decorate([l.property()],h.prototype,"units",void 0);c.__decorate([l.property({readOnly:!0})],h.prototype,"userContentUrl",null);c.__decorate([l.property({readOnly:!0})],h.prototype,"url",null);c.__decorate([l.property()],h.prototype,"username",void 0);c.__decorate([l.property()],h.prototype,"userType",
void 0);return h=u=c.__decorate([k.subclass("esri.portal.PortalUser")],h)})},"esri/portal/PortalFolder":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t,f){e=function(k){function m(p){p=k.call(this,p)||this;p.created=null;p.id=null;p.portal=null;p.title=
null;p.username=null;return p}a._inheritsLoose(m,k);m.prototype.toJSON=function(){throw new c("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};a._createClass(m,[{key:"url",get:function(){const p=this.get("portal.restUrl");return p?`${p}/content/users/${this.username}/${this.id}`:null}}]);return m}(e.JSONSupport);b.__decorate([h.property({type:Date})],e.prototype,"created",void 0);b.__decorate([h.property()],e.prototype,"id",void 0);b.__decorate([h.property()],e.prototype,
"portal",void 0);b.__decorate([h.property()],e.prototype,"title",void 0);b.__decorate([h.property({readOnly:!0})],e.prototype,"url",null);b.__decorate([h.property()],e.prototype,"username",void 0);return e=b.__decorate([f.subclass("esri.portal.PortalFolder")],e)})},"esri/portal/PortalGroup":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),
function(a,b,c,e,h,l,q,t,f,k){e=function(m){function p(g){g=m.call(this,g)||this;g.access=null;g.created=null;g.description=null;g.id=null;g.isInvitationOnly=!1;g.modified=null;g.owner=null;g.portal=null;g.snippet=null;g.sortField=null;g.sortOrder=null;g.tags=null;g.title=null;return g}a._inheritsLoose(p,m);var u=p.prototype;u.fetchCategorySchema=function(g){return this.portal._request(this.url+"/categorySchema",g).then(r=>{r=r.categorySchema||[];return r.some(d=>"contentCategorySetsGroupQuery.LivingAtlas"===
d.source)?this._fetchCategorySchemaSet("LivingAtlas",g):r})};u.fetchMembers=function(g){return this.portal._request(this.url+"/users",g)};u.getThumbnailUrl=function(g){let r=this.thumbnailUrl;r&&g&&(r+=`&w=${g}`);return r};u.toJSON=function(){throw new c("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};u.queryItems=function(g,r){g=t.ensureType(k,g);if(5<parseFloat(this.portal.currentVersion))return g=g||new k,this.portal._queryPortal(`/content/groups/${this.id}/search`,
g,"PortalItem",r);g=g?g.clone():new k;g.query="group:"+this.id+(g.query?" "+g.query:"");return this.portal.queryItems(g,r)};u._fetchCategorySchemaSet=function(g,r){return this.portal._fetchSelf(this.portal.authMode,!0,r).then(d=>{if(d=d.contentCategorySetsGroupQuery){const n=new k;n.disableExtraQuery=!0;n.num=1;n.query=d;return this.portal.queryGroups(n,r)}throw new c("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(d=>{if(d.total){d=d.results[0];const n=
new k;n.num=1;n.query=`typekeywords:"${g}"`;return d.queryItems(n,r)}throw new c("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(d=>d.total?d.results[0].fetchData("json",r).then(n=>(n=n&&n.categorySchema)&&n.length?n:[]):[])};a._createClass(p,[{key:"thumbnailUrl",get:function(){const g=this.url,r=this.thumbnail;return g&&r?this.portal._normalizeUrl(`${g}/info/${r}?f=json`):null}},{key:"url",get:function(){const g=this.get("portal.restUrl");return g?g+"/community/groups/"+
this.id:null}}]);return p}(e.JSONSupport);b.__decorate([h.property()],e.prototype,"access",void 0);b.__decorate([h.property({type:Date})],e.prototype,"created",void 0);b.__decorate([h.property()],e.prototype,"description",void 0);b.__decorate([h.property()],e.prototype,"id",void 0);b.__decorate([h.property()],e.prototype,"isInvitationOnly",void 0);b.__decorate([h.property({type:Date})],e.prototype,"modified",void 0);b.__decorate([h.property()],e.prototype,"owner",void 0);b.__decorate([h.property()],
e.prototype,"portal",void 0);b.__decorate([h.property()],e.prototype,"snippet",void 0);b.__decorate([h.property()],e.prototype,"sortField",void 0);b.__decorate([h.property()],e.prototype,"sortOrder",void 0);b.__decorate([h.property()],e.prototype,"tags",void 0);b.__decorate([h.property()],e.prototype,"thumbnail",void 0);b.__decorate([h.property({readOnly:!0})],e.prototype,"thumbnailUrl",null);b.__decorate([h.property()],e.prototype,"title",void 0);b.__decorate([h.property({readOnly:!0})],e.prototype,
"url",null);return e=b.__decorate([f.subclass("esri.portal.PortalGroup")],e)})},"esri/portal/PortalItem":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v){var z;l=z=function(A){function w(x){x=A.call(this,x)||this;x.access=null;x.accessInformation=null;x.apiKey=null;x.applicationProxies=null;x.avgRating=null;x.categories=null;x.created=null;x.culture=null;x.description=null;x.extent=null;x.groupCategories=null;x.id=null;x.itemControl=null;x.licenseInfo=null;x.modified=null;x.name=null;x.numComments=null;x.numRatings=null;x.numViews=null;x.owner=null;x.ownerFolder=null;x.portal=null;x.screenshots=null;x.size=
null;x.snippet=null;x.sourceJSON=null;x.tags=null;x.title=null;x.type=null;x.typeKeywords=null;x.url=null;return x}b._inheritsLoose(w,A);w.from=function(x){return p.ensureClass(z,x)};var y=w.prototype;y.destroy=function(){this.portal=null};y.readExtent=function(x){return x&&x.length?new r(x[0][0],x[0][1],x[1][0],x[1][1]):null};y.load=function(x){this.portal||(this.portal=d.getDefault());const B=this.portal.load(x).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,
{signal:f.isSome(x)?x.signal:null,query:{token:this.apiKey}}):{}).then(C=>{this.sourceJSON=C;this.read(C)});this.addResolvingPromise(B);return Promise.resolve(this)};y.addRating=function(x){const B={method:"post",query:{}};x instanceof v&&(x=x.rating);isNaN(x)||"number"!==typeof x||(B.query.rating=x);return this.portal._request(this.itemUrl+"/addRating",B).then(()=>new v({rating:x,created:new Date}))};y.clone=function(){const x={access:this.access,accessInformation:this.accessInformation,applicationProxies:q.clone(this.applicationProxies),
avgRating:this.avgRating,categories:q.clone(this.categories),created:q.clone(this.created),culture:this.culture,description:this.description,extent:q.clone(this.extent),groupCategories:q.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:q.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:q.clone(this.screenshots),
size:this.size,snippet:this.snippet,tags:q.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:q.clone(this.typeKeywords),url:this.url};this.loaded&&(x.loadStatus="loaded");return(new z({sourceJSON:this.sourceJSON})).set(x)};y.createPostQuery=function(){const x=this.toJSON();for(const B in x)"tags"===B&&null!==x[B]&&(x[B]=x[B].join(", ")),"typeKeywords"===B&&null!==x[B]&&(x[B]=x[B].join(", ")),"extent"===B&&x[B]&&(x[B]=JSON.stringify(x[B]));return x};y.deleteRating=
function(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})};y.fetchData=function(x="json",B){return this.portal._request(this.itemUrl+"/data",{responseType:x,...B,query:{token:this.apiKey}})};y.fetchRating=function(x){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...x}).then(B=>null!=B.rating?(B.created=new Date(B.created),new v(B)):null)};y.fetchRelatedItems=function(x,B){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",
{query:{...x,token:this.apiKey},...B},z)};y.getThumbnailUrl=function(x){let B=this.thumbnailUrl;B&&x&&(B+=`&w=${x}`);return B};y.reload=function(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(x=>{this.sourceJSON=x;this.read(x);return this})};y.update=function(x){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const B=x&&x.data,C={method:"post"};C.query=this.createPostQuery();for(const D in C.query)null===C.query[D]&&(C.query[D]="");C.query.clearEmptyFields=
!0;null!=B&&("string"===typeof B?C.query.text=B:"object"===typeof B&&(C.query.text=JSON.stringify(B)));return this.portal._request(`${this.userItemUrl}/update`,C).then(()=>this.reload())}):Promise.reject(new h("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};y.updateThumbnail=function(x){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const B=x.thumbnail,C=x.filename,D={method:"post"};if("string"===typeof B)k.isDataProtocol(B)?D.query={data:B}:
D.query={url:k.makeAbsolute(B)},f.isSome(C)&&(D.query.filename=C);else{const J=new FormData;f.isSome(C)?J.append("file",B,C):J.append("file",B);D.body=J}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,D).then(()=>this.reload())}):Promise.reject(new h("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};y.fetchResources=function(){var x=b._asyncToGenerator(function*(B={},C){return(yield new Promise((D,J)=>a(["./support/resourceUtils"],D,J))).fetchResources(this,
B,C)});return function(){return x.apply(this,arguments)}}();y.addResource=function(){var x=b._asyncToGenerator(function*(B,C,D){const J=yield new Promise((I,N)=>a(["./support/resourceUtils"],I,N));B.portalItem=this;return J.addOrUpdateResource(B,"add",C,D)});return function(B,C,D){return x.apply(this,arguments)}}();y.removeResource=function(){var x=b._asyncToGenerator(function*(B,C){const D=yield new Promise((J,I)=>a(["./support/resourceUtils"],J,I));if(B.portalItem&&B.portalItem.itemUrl!==this.itemUrl)throw new h("removeresource:portal-item-mismatch",
"The portal item associated with the provided resource does not match the item");return D.removeResource(this,B,C)});return function(B,C){return x.apply(this,arguments)}}();y.removeAllResources=function(){var x=b._asyncToGenerator(function*(B){return(yield new Promise((C,D)=>a(["./support/resourceUtils"],C,D))).removeAllResources(this,B)});return function(B){return x.apply(this,arguments)}}();y.resourceFromPath=function(x){return new n({portalItem:this,path:x})};y.toJSON=function(){var x=this.extent;
x={created:this.created&&this.created.getTime(),description:this.description,extent:x&&[[x.xmin,x.ymin],[x.xmax,x.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return q.fixJson(x)};w.fromJSON=function(x){if(!x)return null;if(x.declaredClass)throw Error("JSON object is already hydrated");
return new z({sourceJSON:x})};y._getPostQuery=function(){const x=this.toJSON();for(const B in x)"tags"===B&&null!==x[B]&&(x[B]=x[B].join(", ")),"typeKeywords"===B&&null!==x[B]&&(x[B]=x[B].join(", ")),"extent"===B&&x[B]&&(x[B]=JSON.stringify(x[B]));return x};b._createClass(w,[{key:"displayName",get:function(){const x=this.type,B=this.typeKeywords||[];let C=x;"Feature Service"===x||"Feature Collection"===x?C=-1<B.indexOf("Table")?"Table":-1<B.indexOf("Route Layer")?"Route Layer":-1<B.indexOf("Markup")?
"Markup":"Feature Layer":"Image Service"===x?C=-1<B.indexOf("Elevation 3D Layer")?"Elevation Layer":-1<B.indexOf("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===x?C="Scene Layer":"Scene Package"===x?C="Scene Layer Package":"Stream Service"===x?C="Feature Layer":"Geoprocessing Service"===x&&this.portal&&this.portal.isPortal?C=-1<B.indexOf("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===x?C="Locator":"Geoenrichment Service"===x?C="GeoEnrichment Service":"Microsoft Powerpoint"===
x?C="Microsoft PowerPoint":"GeoJson"===x?C="GeoJSON":"Globe Service"===x?C="Globe Layer":"Vector Tile Service"===x?C="Tile Layer":"netCDF"===x?C="NetCDF":"Map Service"===x?C=-1===B.indexOf("Spatiotemporal")&&(-1<B.indexOf("Hosted Service")||-1<B.indexOf("Tiled"))&&-1===B.indexOf("Relational")?"Tile Layer":"Map Image Layer":x&&-1<x.toLowerCase().indexOf("add in")?C=x.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===x?C="Big Data File Share":"Compact Tile Package"===x?C="Tile Package (tpkx)":
"OGCFeatureServer"===x?C="OGC Feature Layer":"web mapping application"===x&&-1<B.indexOf("configurableApp")&&(C="Instant App");return C}},{key:"iconUrl",get:function(){var x=this.type&&this.type.toLowerCase()||"";const B=this.typeKeywords||[];let C=!1,D=!1,J=!1,I=!1,N=!1,L=!1;0<x.indexOf("service")||"feature collection"===x||"kml"===x||"wms"===x||"wmts"===x||"wfs"===x?(C=-1<B.indexOf("Hosted Service"),"feature service"===x||"feature collection"===x||"kml"===x||"wfs"===x?(D=-1<B.indexOf("Table"),J=
-1<B.indexOf("Route Layer"),I=-1<B.indexOf("Markup"),N=-1!==B.indexOf("Spatiotemporal"),L=-1!==B.indexOf("UtilityNetwork"),x=N&&D?"spatiotemporaltable":D?"table":J?"routelayer":I?"markup":N?"spatiotemporal":C?"featureshosted":L?"utilitynetwork":"features"):x="map service"===x||"wms"===x||"wmts"===x?C||-1<B.indexOf("Tiled")||"wmts"===x?"maptiles":"mapimages":"scene service"===x?-1<B.indexOf("Line")?"sceneweblayerline":-1<B.indexOf("3DObject")?"sceneweblayermultipatch":-1<B.indexOf("Point")?"sceneweblayerpoint":
-1<B.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<B.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<B.indexOf("Polygon")?"sceneweblayerpolygon":-1<B.indexOf("Building")?"sceneweblayerbuilding":-1<B.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===x?-1<B.indexOf("Elevation 3D Layer")?"elevationlayer":-1<B.indexOf("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===x?"streamlayer":"vector tile service"===x?"vectortile":"datastore catalog service"===x?"datastorecollection":
"geocoding service"===x?"geocodeservice":"geoprocessing service"===x?-1<B.indexOf("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":"layers"):x="web map"===x||"cityengine web scene"===x?"maps":"web scene"===x?-1<B.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===x&&-1<B.indexOf("configurableApp")?"instantapps":"web mapping application"===x||"mobile application"===x||"application"===x||"operation view"===x||"desktop application"===x?"apps":"map document"===
x||"map package"===x||"published map"===x||"scene document"===x||"globe document"===x||"basemap package"===x||"mobile basemap package"===x||"mobile map package"===x||"project package"===x||"project template"===x||"pro map"===x||"layout"===x||"layer"===x&&-1<B.indexOf("ArcGIS Pro")||"explorer map"===x&&B.indexOf("Explorer Document")?"mapsgray":"service definition"===x||"csv"===x||"shapefile"===x||"cad drawing"===x||"geojson"===x||"360 vr experience"===x||"netcdf"===x||"administrative report"===x?"datafiles":
"explorer add in"===x||"desktop add in"===x||"windows viewer add in"===x||"windows viewer configuration"===x?"appsgray":"arcgis pro add in"===x||"arcgis pro configuration"===x?"addindesktop":"rule package"===x||"file geodatabase"===x||"sqlite geodatabase"===x||"csv collection"===x||"kml collection"===x||"windows mobile package"===x||"map template"===x||"desktop application template"===x||"gml"===x||"arcpad package"===x||"code sample"===x||"form"===x||"document link"===x||"earth configuration"===x||
"operations dashboard add in"===x||"rules package"===x||"image"===x||"workflow manager package"===x||"explorer map"===x&&-1<B.indexOf("Explorer Mapping Application")||-1<B.indexOf("Document")?"datafilesgray":"network analysis service"===x||"geoprocessing service"===x||"geodata service"===x||"geometry service"===x||"geoprocessing package"===x||"locator package"===x||"geoprocessing sample"===x||"workflow manager service"===x?"toolsgray":"layer"===x||"layer package"===x||"explorer layer"===x?"layersgray":
"scene package"===x?"scenepackage":"mobile scene package"===x?"mobilescenepackage":"tile package"===x||"compact tile package"===x?"tilepackage":"task file"===x?"taskfile":"report template"===x?"report-template":"statistical data collection"===x?"statisticaldatacollection":"insights workbook"===x?"workbook":"insights model"===x?"insightsmodel":"insights page"===x?"insightspage":"insights theme"===x?"insightstheme":"hub initiative"===x?"hubinitiative":"hubpage"===x?"hubpage":"hub event"===x?"hubevent":
"hub site application"===x?"hubsite":"relational database connection"===x?"relationaldatabaseconnection":"big data file share"===x?"datastorecollection":"image collection"===x?"imagecollection":"style"===x?"style":"desktop style"===x?"desktopstyle":"dashboard"===x?"dashboard":"raster function template"===x?"rasterprocessingtemplate":"vector tile package"===x?"vectortilepackage":"ortho mapping project"===x?"orthomappingproject":"ortho mapping template"===x?"orthomappingtemplate":"solution"===x?"solutions":
"geopackage"===x?"geopackage":"deep learning package"===x?"deeplearningpackage":"real time analytic"===x?"realtimeanalytics":"big data analytic"===x?"bigdataanalytics":"feed"===x?"feed":"excalibur imagery project"===x?"excaliburimageryproject":"notebook"===x?"notebook":"storymap"===x?"storymap":"survey123 add in"===x?"survey123addin":"mission"===x?"mission":"mission report"===x?"missionreport":"quickcapture project"===x?"quickcaptureproject":"pro report"===x?"proreport":"urban model"===x?"urbanmodel":
"web experience"===x?"experiencebuilder":"web experience template"===x?"webexperiencetemplate":"workflow"===x?"workflow":"insights script"===x?"insightsscript":"kernel gateway connection"===x?"kernelgatewayconnection":"hub initiative template"===x?"hubinitiativetemplate":"storymap theme"===x?"storymaptheme":"knowledge graph"===x?"knowledgegraph":"native application"===x?"nativeapp":"native application installer"===x?"nativeappinstaller":"link chart"===x?"linkchart":"investigation"===x?"investigation":
"ogcfeatureserver"===x?"features":"pro project"===x?"proproject":"insights workbook package"===x?"insightsworkbookpackage":"apache parquet"===x?"apacheparquet":"maps";return x?e.getAssetUrl("esri/images/portal/"+x+"16.png"):null}},{key:"isLayer",get:function(){return-1<"Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;WMTS;WMS".split(";").indexOf(this.type)}},{key:"itemUrl",get:function(){const x=this.get("portal.restUrl");return x?x+"/content/items/"+
this.id:null}},{key:"thumbnailUrl",get:function(){const x=this.itemUrl,B=this.thumbnail;return x&&B?this.portal._normalizeUrl(`${x}/info/${B}?f=json`):null}},{key:"userItemUrl",get:function(){const x=this.get("portal.restUrl");if(!x)return null;const B=this.owner||this.get("portal.user.username");return B?`${x}/content/users/${this.ownerFolder?`${B}/${this.ownerFolder}`:B}/items/${this.id}`:null}}]);return w}(l.JSONSupportMixin(t));c.__decorate([m.property({type:["private","shared","org","public"]})],
l.prototype,"access",void 0);c.__decorate([m.property()],l.prototype,"accessInformation",void 0);c.__decorate([m.property({type:String})],l.prototype,"apiKey",void 0);c.__decorate([m.property({json:{read:{source:"appProxies"}}})],l.prototype,"applicationProxies",void 0);c.__decorate([m.property()],l.prototype,"avgRating",void 0);c.__decorate([m.property()],l.prototype,"categories",void 0);c.__decorate([m.property({type:Date})],l.prototype,"created",void 0);c.__decorate([m.property()],l.prototype,
"culture",void 0);c.__decorate([m.property()],l.prototype,"description",void 0);c.__decorate([m.property({readOnly:!0})],l.prototype,"displayName",null);c.__decorate([m.property({type:r})],l.prototype,"extent",void 0);c.__decorate([u.reader("extent")],l.prototype,"readExtent",null);c.__decorate([m.property()],l.prototype,"groupCategories",void 0);c.__decorate([m.property({readOnly:!0})],l.prototype,"iconUrl",null);c.__decorate([m.property()],l.prototype,"id",void 0);c.__decorate([m.property({readOnly:!0})],
l.prototype,"isLayer",null);c.__decorate([m.property()],l.prototype,"itemControl",void 0);c.__decorate([m.property({readOnly:!0})],l.prototype,"itemUrl",null);c.__decorate([m.property()],l.prototype,"licenseInfo",void 0);c.__decorate([m.property({type:Date})],l.prototype,"modified",void 0);c.__decorate([m.property()],l.prototype,"name",void 0);c.__decorate([m.property()],l.prototype,"numComments",void 0);c.__decorate([m.property()],l.prototype,"numRatings",void 0);c.__decorate([m.property()],l.prototype,
"numViews",void 0);c.__decorate([m.property()],l.prototype,"owner",void 0);c.__decorate([m.property()],l.prototype,"ownerFolder",void 0);c.__decorate([m.property({type:d})],l.prototype,"portal",void 0);c.__decorate([m.property()],l.prototype,"screenshots",void 0);c.__decorate([m.property()],l.prototype,"size",void 0);c.__decorate([m.property()],l.prototype,"snippet",void 0);c.__decorate([m.property()],l.prototype,"sourceJSON",void 0);c.__decorate([m.property()],l.prototype,"tags",void 0);c.__decorate([m.property()],
l.prototype,"thumbnail",void 0);c.__decorate([m.property({readOnly:!0})],l.prototype,"thumbnailUrl",null);c.__decorate([m.property()],l.prototype,"title",void 0);c.__decorate([m.property()],l.prototype,"type",void 0);c.__decorate([m.property()],l.prototype,"typeKeywords",void 0);c.__decorate([m.property()],l.prototype,"url",void 0);c.__decorate([m.property({readOnly:!0})],l.prototype,"userItemUrl",null);return l=z=c.__decorate([g.subclass("esri.portal.PortalItem")],l)})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),
function(a,b,c,e,h,l){function q(f){if(!b.assetsPath)throw t.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new e("assets:path-not-set","config.assetsPath is not set");return l.join(b.assetsPath,f)}const t=h.getLogger("esri.assets");a.fetchAsset=function(f,k){return c(q(f),k)};a.getAssetUrl=q;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/PortalItemResource":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){const g=l.getLogger("esri.portal.PortalItemResource");e=function(r){function d(v){v=r.call(this,v)||this;v.portalItem=null;return v}b._inheritsLoose(d,r);var n=d.prototype;n.normalizeCtorArgs=function(v){return v&&v.portalItem&&v.path?{...v,path:this.normalizePath(v.path,v.portalItem)}:v};n._castPath=function(v){return this.normalizePath(v,this.portalItem)};n.fetch=function(v="json",z){const A=this.url;if(q.isNone(A))throw new h("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");
return this.portalItem.portal._request(A,{responseType:v,query:{token:this.portalItem.apiKey},signal:q.get(z,"signal")})};n.update=function(){var v=b._asyncToGenerator(function*(z,A){return(yield new Promise((w,y)=>a(["./support/resourceUtils"],w,y))).addOrUpdateResource(this,"update",z,A)});return function(z,A){return v.apply(this,arguments)}}();n.hasPath=function(){return q.isSome(this.path)};n.normalizePath=function(v,z){if(q.isNone(v))return v;v=v.replace(/^\/+/,"");q.isSome(z)&&t.isAbsolute(v)&&
(v=t.makeRelative(v,z.itemUrl));return v.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")};b._createClass(d,[{key:"path",set:function(v){q.isSome(v)&&t.isAbsolute(v)?g.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",v)}},{key:"url",get:function(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}},{key:"itemRelativeUrl",get:function(){return this.portalItem&&this.path?`./resources/${this.path}`:null}}]);
return d}(e);c.__decorate([f.property()],e.prototype,"portalItem",void 0);c.__decorate([f.property({type:String,value:null})],e.prototype,"path",null);c.__decorate([p.cast("path")],e.prototype,"_castPath",null);c.__decorate([f.property({type:String,readOnly:!0})],e.prototype,"url",null);c.__decorate([f.property({type:String,readOnly:!0})],e.prototype,"itemRelativeUrl",null);return e=c.__decorate([u.subclass("esri.portal.PortalItemResource")],e)})},"esri/portal/PortalRating":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){c=function(f){function k(m){m=f.call(this,m)||this;m.created=null;m.rating=null;return m}a._inheritsLoose(k,f);return k}(c);b.__decorate([e.property()],c.prototype,"created",void 0);b.__decorate([e.property()],c.prototype,"rating",void 0);return c=b.__decorate([t.subclass("esri.portal.PortalRating")],c)})},"esri/support/basemapDefinitions":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../assets","../intl/messages"],function(a,b,c,e){function h(){h=b._asyncToGenerator(function*(l){if(l){var q=
-1<l.indexOf("-vector")?l.slice(0,l.indexOf("-vector")):l,t=yield e.fetchMessageBundle("esri/t9n/basemaps");return t[l]||t[q]}});return h.apply(this,arguments)}a.esriBasemapDefinitions={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,
visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/terrain.jpg")},
baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",
classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/oceans.jpg")},
baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",
classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",
title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",
classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",
visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-relief.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",
classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",
url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",
title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-night.jpg")},
title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",
title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",
layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",
title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},
"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",
url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}};
a.getBasemapTitle=function(l){return h.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/messages":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../core/Error","../core/promiseUtils","./locale"],function(a,b,c,e,h){function l(v){var z;return null!=(z=u[v])?z:!1}function q(v){for(const z of r.keys())m(v.pattern,z)&&r.delete(z)}function t(){t=b._asyncToGenerator(function*(v){const z=h.getLocale();r.has(v)||r.set(v,f(v,z));v=r.get(v);yield d.add(v);
return v});return t.apply(this,arguments)}function f(v,z){return k.apply(this,arguments)}function k(){k=b._asyncToGenerator(function*(v,z){const A=[];for(const w of g)if(m(w.pattern,v))try{return yield w.fetchMessageBundle(v,z)}catch(y){A.push(y)}if(A.length)throw new c("intl:message-bundle-error",`Errors occurred while loading "${v}"`,{errors:A});throw new c("intl:no-message-bundle-loader",`No loader found for message bundle "${v}"`);});return k.apply(this,arguments)}function m(v,z){return"string"===
typeof v?z.startsWith(v):v.test(z)}const p=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,u={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0},g=[],r=new Map;h.beforeLocaleChange(()=>{r.clear()});const d=new (function(){function v(){this._numLoading=0}var z=v.prototype;z.waitForAll=function(){var A=
b._asyncToGenerator(function*(){this._dfd&&(yield this._dfd.promise)});return function(){return A.apply(this,arguments)}}();z.add=function(A){this._increase();A.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()};z._increase=function(){this._numLoading++;this._dfd||(this._dfd=e.createDeferred())};z._decrease=function(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)};return v}()),n={cache:r,loaders:g};a.fetchMessageBundle=
function(v){return t.apply(this,arguments)};a.normalizeMessageBundleLocale=function(v){if(!p.test(v))return null;const [,z,A]=p.exec(v);v=z+(A?"-"+A.toUpperCase():"");return l(v)?v:l(z)?z:null};a.registerMessageBundleLoader=function(v){g.includes(v)||(q(v),g.unshift(v));return{remove(){const z=g.indexOf(v);-1<z&&(g.splice(z,1),q(v))}}};a.test=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/maybe ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer".split(" "),
function(a,b,c,e,h,l){function q(m){return!("feature"!==m.type||m.url||!m.source||"memory"!==m.source.type)}function t(m,p){"maxScale"in m&&(p.maxScale=l.numberToJSON(m.maxScale));"minScale"in m&&(p.minScale=l.numberToJSON(m.minScale))}const f=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),k=new Set("csv feature geo-rss geojson group imagery imagery-tile kml map-image map-notes ogc-feature tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));
a.disableRestrictedWriting=function(m){f.add(m);k.add(m)};a.enableRestrictedWriting=function(m){f.delete(m);k.delete(m)};a.getLayerJSON=function(m,p,u){if(!("write"in m&&m.write))return u&&u.messages&&u.messages.push(new b("layer:unsupported",`Layers (${m.title}, ${m.id}) of type '${m.declaredClass}' cannot be persisted`,{layer:m})),null;if(u.restrictedWebMapWriting){var g="basemap"===u.layerContainerType?f:"operational-layers"===u.layerContainerType?k:null;g=e.isSome(g)?g.has(m.type)&&!q(m):!0}else g=
!0;if(g)return p={},m.write(p,u)?p:null;if(e.isSome(p)&&(u=p=c.clone(p),q(m)?(g=(g=h.getDeepValue("featureCollection.layers",u))&&g[0]&&g[0].layerDefinition)&&t(m,g):"stream"===m.type?(g=u.layerDefinition=u.layerDefinition||{},t(m,g)):"group"!==m.type&&t(m,u),"blendMode"in m&&(u.blendMode=m.blendMode,"normal"===u.blendMode&&delete u.blendMode),u.opacity=l.numberToJSON(m.opacity),u.title=m.title||"Layer",u.visibility=m.visible,"legendEnabled"in m&&"wmts"!==m.type))if(q(m)){if(u=u.featureCollection)u.showLegend=
m.legendEnabled}else u.showLegend=m.legendEnabled;return p};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/Ground":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./ground/NavigationConstraint ./webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A){function w(B){return"elevation"===B.type||B&&"createElevationSampler"in B}var y;const x=u.getLogger("esri.Ground");f=y=function(B){function C(J){var I=B.call(this,J)||this;I.opacity=1;I.surfaceColor=null;I.navigationConstraint=null;I.layers=new h;I.layers.on("after-add",N=>{N=N.item;N.parent&&N.parent!==b._assertThisInitialized(I)&&"remove"in N.parent&&N.parent.remove(N);N.parent=b._assertThisInitialized(I);"elevation"!==N.type&&"base-elevation"!==
N.type&&x.error(`Layer '${N.title}, id:${N.id}' of type '${N.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)});I.layers.on("after-remove",N=>{N.item.parent=null});return I}b._inheritsLoose(C,B);var D=C.prototype;D.initialize=function(){this.when().catch(J=>{x.error("#load()","Failed to load ground",J)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};D.destroy=function(){const J=this.layers.removeAll();
for(const I of J)I.destroy();this.layers.destroy()};D.normalizeCtorArgs=function(J){J&&"resourceInfo"in J&&(this._set("resourceInfo",J.resourceInfo),J={...J},delete J.resourceInfo);return J};D.writeLayers=function(J,I,N,L){const G=[];J&&(L={...L,layerContainerType:"ground"},J.forEach(F=>{if("write"in F){const E={};q.typeCast(F)().write(E,L)&&G.push(E)}else L&&L.messages&&L.messages.push(new t("layer:unsupported",`Layers (${F.title}, ${F.id}) of type '${F.declaredClass}' cannot be persisted in the ground`,
{layer:F}))}));I.layers=G};D.load=function(J){this.addResolvingPromise(this._loadFromSource(J));return Promise.resolve(this)};D.loadAll=function(){return p.loadAll(this,J=>{J(this.layers)})};D.queryElevation=function(){var J=b._asyncToGenerator(function*(I,N){yield this.load({signal:null==N?void 0:N.signal});var {ElevationQuery:L}=yield new Promise((F,E)=>a(["./layers/support/ElevationQuery"],F,E));g.throwIfAborted(N);L=new L;const G=this.layers.filter(w).toArray();return L.queryAll(G,I,N)});return function(I,
N){return J.apply(this,arguments)}}();D.createElevationSampler=function(){var J=b._asyncToGenerator(function*(I,N){yield this.load({signal:null==N?void 0:N.signal});var {ElevationQuery:L}=yield new Promise((F,E)=>a(["./layers/support/ElevationQuery"],F,E));g.throwIfAborted(N);L=new L;const G=this.layers.filter(w).toArray();return L.createSamplerAll(G,I,N)});return function(I,N){return J.apply(this,arguments)}}();D.clone=function(){const J={opacity:this.opacity,surfaceColor:k.clone(this.surfaceColor),
navigationConstraint:k.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(J.loadStatus="loaded");return(new y({resourceInfo:this.resourceInfo})).set(J)};D.read=function(J,I){this.resourceInfo||this._set("resourceInfo",{data:J,context:I});B.prototype.read.call(this,J,I)};D._loadFromSource=function(J){const I=this.resourceInfo;return I?this._loadLayersFromJSON(I.data,I.context,J):Promise.resolve(null)};D._loadLayersFromJSON=function(J,I,N){const L=I&&I.origin||"web-scene",G=
I&&I.portal||null,F=I&&I.url||null;return(new Promise((E,K)=>a(["./layers/support/layersCreator"],E,K))).then(({populateOperationalLayers:E})=>{g.throwIfAborted(N);const K=[];J.layers&&Array.isArray(J.layers)&&K.push(E(this.layers,J.layers,{context:{origin:L,url:F,portal:G,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));return g.eachAlways(K)}).then(()=>{})};b._createClass(C,[{key:"layers",set:function(J){this._set("layers",l.referenceSetter(J,this._get("layers")))}}]);
return C}(f.JSONSupportMixin(m));c.__decorate([r.property({json:{read:!1}})],f.prototype,"layers",null);c.__decorate([v.writer("layers")],f.prototype,"writeLayers",null);c.__decorate([r.property({readOnly:!0})],f.prototype,"resourceInfo",void 0);c.__decorate([r.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:d.Integer,read:{reader:A.transparencyToOpacity,source:"transparency"},write:{writer:(B,C)=>{C.transparency=A.opacityToTransparency(B)},target:"transparency"}}})],f.prototype,
"opacity",void 0);c.__decorate([r.property({type:e,json:{type:[d.Integer],write:(B,C)=>{C.surfaceColor=B.toJSON().slice(0,3)}}})],f.prototype,"surfaceColor",void 0);c.__decorate([r.property({type:z.NavigationConstraint,json:{write:!0}})],f.prototype,"navigationConstraint",void 0);return f=y=c.__decorate([n.subclass("esri.Ground")],f)})},"esri/Color":function(){define(["./chunks/_rollupPluginBabelHelpers","./colorUtils","./core/mathUtils","./core/maybe","./core/accessorSupport/ensureType"],function(a,
b,c,e,h){function l(f){return c.clamp(h.ensureInteger(f),0,255)}function q(f,k,m){f=Number(f);return isNaN(f)?m:f<k?k:f>m?m:f}let t=function(){function f(m){this.b=this.g=this.r=255;this.a=1;m&&this.setColor(m)}f.blendColors=function(m,p,u,g=new f){g.r=Math.round(m.r+(p.r-m.r)*u);g.g=Math.round(m.g+(p.g-m.g)*u);g.b=Math.round(m.b+(p.b-m.b)*u);g.a=m.a+(p.a-m.a)*u;return g._sanitize()};f.fromRgb=function(m,p){var u=m.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(u){m=u[2].split(/\s*,\s*/);
u=u[1];if("rgb"===u&&3===m.length||"rgba"===u&&4===m.length)return u=m[0],"%"===u.charAt(u.length-1)?(u=m.map(g=>2.56*parseFloat(g)),4===m.length&&(u[3]=parseFloat(m[3])),f.fromArray(u,p)):f.fromArray(m.map(g=>parseFloat(g)),p);if("hsl"===u&&3===m.length||"hsla"===u&&4===m.length)return f.fromArray(b.hsla2rgba(parseFloat(m[0]),parseFloat(m[1])/100,parseFloat(m[2])/100,parseFloat(m[3])),p)}return null};f.fromHex=function(m,p=new f){if(4!==m.length&&7!==m.length||"#"!==m[0])return null;const u=4===
m.length?4:8,g=(1<<u)-1;let r=Number("0x"+m.substr(1));if(isNaN(r))return null;["b","g","r"].forEach(d=>{const n=r&g;r>>=u;p[d]=4===u?17*n:n});p.a=1;return p};f.fromArray=function(m,p=new f){p._set(Number(m[0]),Number(m[1]),Number(m[2]),Number(m[3]));isNaN(p.a)&&(p.a=1);return p._sanitize()};f.fromString=function(m,p){const u=b.isNamedColor(m)?b.getNamedColor(m):null;return u&&f.fromArray(u,p)||f.fromRgb(m,p)||f.fromHex(m,p)};f.fromJSON=function(m){return m&&new f([m[0],m[1],m[2],m[3]/255])};f.toUnitRGB=
function(m){return e.isSome(m)?[m.r/255,m.g/255,m.b/255]:null};f.toUnitRGBA=function(m){return e.isSome(m)?[m.r/255,m.g/255,m.b/255,null!=m.a?m.a:1]:null};var k=f.prototype;k.setColor=function(m){if("string"===typeof m)f.fromString(m,this);else if(Array.isArray(m))f.fromArray(m,this);else{var p,u,g,r;this._set(null!=(p=m.r)?p:0,null!=(u=m.g)?u:0,null!=(g=m.b)?g:0,null!=(r=m.a)?r:1);m instanceof f||this._sanitize()}return this};k.toRgb=function(){return[this.r,this.g,this.b]};k.toRgba=function(){return[this.r,
this.g,this.b,this.a]};k.toHex=function(){const m=this.r.toString(16),p=this.g.toString(16),u=this.b.toString(16);return`#${2>m.length?"0"+m:m}${2>p.length?"0"+p:p}${2>u.length?"0"+u:u}`};k.toCss=function(m=!1){const p=this.r+", "+this.g+", "+this.b;return m?`rgba(${p}, ${this.a})`:`rgb(${p})`};k.toString=function(){return this.toCss(!0)};k.toJSON=function(){return this.toArray()};k.toArray=function(m=0){const p=l(this.r),u=l(this.g),g=l(this.b);return 0===m||1!==this.a?[p,u,g,l(255*this.a)]:[p,u,
g]};k.clone=function(){return new f(this.toRgba())};k.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};k._sanitize=function(){this.r=Math.round(q(this.r,0,255));this.g=Math.round(q(this.g,0,255));this.b=Math.round(q(this.b,0,255));this.a=q(this.a,0,1);return this};k._set=function(m,p,u,g){this.r=m;this.g=p;this.b=u;this.a=g};a._createClass(f,[{key:"isBright",get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b}}]);return f}();t.prototype.declaredClass="esri.Color";return t})},
"esri/colorUtils":function(){define(["exports"],function(a){function b(h){var l;return null!=(l=e[h])?l:e[h.toLowerCase()]}function c(h,l,q){0>q&&++q;1<q&&--q;const t=6*q;return 1>t?h+(l-h)*t:1>2*q?l:2>3*q?h+(l-h)*(2/3-q)*6:h}const e={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,
0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,
255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,
20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,
240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,
205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,
1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,
1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};a.getNamedColor=b;a.getNamedColorCopy=function(h){return[...b(h)]};a.hex2rgba=function(h){var l=
5<h.length;const q=l?8:4,t=(1<<q)-1,f=l?1:17;l=l?9===h.length:5===h.length;h=Number("0x"+h.substr(1));if(isNaN(h))return null;const k=[0,0,0,1];l&&(l=h&t,h>>=q,k[3]=f*l/255);l=h&t;h>>=q;k[2]=f*l;l=h&t;h>>=q;k[1]=f*l;l=h&t;h>>=q;k[0]=f*l;return k};a.hsla2rgba=function(h,l,q,t=1){h=(h%360+360)%360/360;l=.5>=q?q*(l+1):q+l-q*l;q=2*q-l;return[Math.round(255*c(q,l,h+1/3)),Math.round(255*c(q,l,h)),Math.round(255*c(q,l,h-1/3)),t]};a.isNamedColor=function(h){return e[h]||e[h.toLowerCase()]};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/core/mathUtils":function(){define(["exports","../chunks/vec3","../chunks/vec4"],function(a,b,c){function e(k,m,p){return Math.min(Math.max(k,m),p)}function h(k,m,p){return k+(m-k)*p}function l(k){return Math.asin(e(k,-1,1))}function q(k){t[0]=k;return t[0]}const t=new Float32Array(1),f=q(3.4028234663852886E38);a.NUMBER_MAX_FLOAT32=f;a.acosClamped=function(k){return Math.acos(e(k,-1,1))};a.applyOpacity=function(k,m,p){return c.set(k,m[0],m[1],m[2],m[3]*p)};a.asinClamped=
l;a.cartesianToSpherical=function(k,m){const p=b.length(k),u=l(k[2]/p);b.set(m,p,u,Math.atan2(k[1]/p,k[0]/p));return m};a.clamp=e;a.clampFloat32=function(k){return q(Math.max(-f,Math.min(k,f)))};a.deg2rad=function(k){return k*Math.PI/180};a.floatEqualAbsolute=function(k,m,p=1E-6){return isNaN(k)||isNaN(m)?!1:(k>m?k-m:m-k)<=p};a.floatEqualRelative=function(k,m,p=1E-6){if(isNaN(k)||isNaN(m))return!1;if(k===m)return!0;const u=Math.abs(k-m),g=Math.abs(k),r=Math.abs(m);if(0===k||0===m||1E-12>g&&1E-12>
r){if(u>.01*p)return!1}else if(u/(g+r)>p)return!1;return!0};a.isPowerOfTwo=function(k){return 0===(k&k-1)};a.lerp=h;a.nextHighestPowerOfTen=function(k){return 10**Math.ceil(Math.LOG10E*Math.log(k))};a.nextHighestPowerOfTwo=function(k){--k;for(let m=1;32>m;m<<=1)k|=k>>m;return k+1};a.nextPowerOfTwo=function(k){k--;k|=k>>1;k|=k>>2;k|=k>>4;k|=k>>8;k|=k>>16;k++;return k};a.rad2deg=function(k){return 180*k/Math.PI};a.reciprocalClamped=function(k,m=1E-6){return(0>k?-1:1)/Math.max(Math.abs(k),m)};a.roundToNearest=
function(k,m){return 0===m?0:Math.round(k/m)*m};a.scale=function(k,m,p,u,g){return h(u,g,(k-m)/(p-m))};a.smoothstep=function(k,m,p){k=e((p-k)/(m-k),0,1);return k*k*(3-2*k)};a.sphericalToCartesian=function(k,m){const p=k[0],u=k[1];k=k[2];const g=Math.cos(u);b.set(m,p*g*Math.cos(k),p*g*Math.sin(k),p*Math.sin(u))};a.step=function(k,m){return m<k?0:1};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/vec3":function(){define(["exports","./vec3f64","./common"],function(a,b,c){function e(oa){const U=
oa[0],ca=oa[1];oa=oa[2];return Math.sqrt(U*U+ca*ca+oa*oa)}function h(oa,U){oa[0]=U[0];oa[1]=U[1];oa[2]=U[2];return oa}function l(oa,U,ca,va){oa[0]=U;oa[1]=ca;oa[2]=va;return oa}function q(oa,U,ca){oa[0]=U[0]+ca[0];oa[1]=U[1]+ca[1];oa[2]=U[2]+ca[2];return oa}function t(oa,U,ca){oa[0]=U[0]-ca[0];oa[1]=U[1]-ca[1];oa[2]=U[2]-ca[2];return oa}function f(oa,U,ca){oa[0]=U[0]*ca[0];oa[1]=U[1]*ca[1];oa[2]=U[2]*ca[2];return oa}function k(oa,U,ca){oa[0]=U[0]/ca[0];oa[1]=U[1]/ca[1];oa[2]=U[2]/ca[2];return oa}
function m(oa,U){oa[0]=Math.ceil(U[0]);oa[1]=Math.ceil(U[1]);oa[2]=Math.ceil(U[2]);return oa}function p(oa,U){oa[0]=Math.floor(U[0]);oa[1]=Math.floor(U[1]);oa[2]=Math.floor(U[2]);return oa}function u(oa,U,ca){oa[0]=Math.min(U[0],ca[0]);oa[1]=Math.min(U[1],ca[1]);oa[2]=Math.min(U[2],ca[2]);return oa}function g(oa,U,ca){oa[0]=Math.max(U[0],ca[0]);oa[1]=Math.max(U[1],ca[1]);oa[2]=Math.max(U[2],ca[2]);return oa}function r(oa,U){oa[0]=Math.round(U[0]);oa[1]=Math.round(U[1]);oa[2]=Math.round(U[2]);return oa}
function d(oa,U,ca){oa[0]=U[0]*ca;oa[1]=U[1]*ca;oa[2]=U[2]*ca;return oa}function n(oa,U,ca,va){oa[0]=U[0]+ca[0]*va;oa[1]=U[1]+ca[1]*va;oa[2]=U[2]+ca[2]*va;return oa}function v(oa,U){const ca=U[0]-oa[0],va=U[1]-oa[1];oa=U[2]-oa[2];return Math.sqrt(ca*ca+va*va+oa*oa)}function z(oa,U){const ca=U[0]-oa[0],va=U[1]-oa[1];oa=U[2]-oa[2];return ca*ca+va*va+oa*oa}function A(oa){const U=oa[0],ca=oa[1];oa=oa[2];return U*U+ca*ca+oa*oa}function w(oa,U){oa[0]=-U[0];oa[1]=-U[1];oa[2]=-U[2];return oa}function y(oa,
U){oa[0]=1/U[0];oa[1]=1/U[1];oa[2]=1/U[2];return oa}function x(oa,U){var ca=U[0];const va=U[1],Aa=U[2];ca=ca*ca+va*va+Aa*Aa;0<ca&&(ca=1/Math.sqrt(ca),oa[0]=U[0]*ca,oa[1]=U[1]*ca,oa[2]=U[2]*ca);return oa}function B(oa,U){return oa[0]*U[0]+oa[1]*U[1]+oa[2]*U[2]}function C(oa,U,ca){const va=U[0],Aa=U[1];U=U[2];const H=ca[0],O=ca[1];ca=ca[2];oa[0]=Aa*ca-U*O;oa[1]=U*H-va*ca;oa[2]=va*O-Aa*H;return oa}function D(oa,U,ca,va){const Aa=U[0],H=U[1];U=U[2];oa[0]=Aa+va*(ca[0]-Aa);oa[1]=H+va*(ca[1]-H);oa[2]=U+
va*(ca[2]-U);return oa}function J(oa,U,ca,va,Aa,H){const O=H*H,la=O*(2*H-3)+1,Q=O*(H-2)+H,S=O*(H-1);H=O*(3-2*H);oa[0]=U[0]*la+ca[0]*Q+va[0]*S+Aa[0]*H;oa[1]=U[1]*la+ca[1]*Q+va[1]*S+Aa[1]*H;oa[2]=U[2]*la+ca[2]*Q+va[2]*S+Aa[2]*H;return oa}function I(oa,U,ca,va,Aa,H){var O=1-H,la=O*O;const Q=H*H,S=la*O;la*=3*H;O*=3*Q;H*=Q;oa[0]=U[0]*S+ca[0]*la+va[0]*O+Aa[0]*H;oa[1]=U[1]*S+ca[1]*la+va[1]*O+Aa[1]*H;oa[2]=U[2]*S+ca[2]*la+va[2]*O+Aa[2]*H;return oa}function N(oa,U){U=U||1;const ca=2*c.RANDOM()*Math.PI,va=
2*c.RANDOM()-1,Aa=Math.sqrt(1-va*va)*U;oa[0]=Math.cos(ca)*Aa;oa[1]=Math.sin(ca)*Aa;oa[2]=va*U;return oa}function L(oa,U,ca){const va=U[0],Aa=U[1];U=U[2];oa[0]=ca[0]*va+ca[4]*Aa+ca[8]*U+ca[12];oa[1]=ca[1]*va+ca[5]*Aa+ca[9]*U+ca[13];oa[2]=ca[2]*va+ca[6]*Aa+ca[10]*U+ca[14];return oa}function G(oa,U,ca){const va=U[0],Aa=U[1];U=U[2];oa[0]=va*ca[0]+Aa*ca[3]+U*ca[6];oa[1]=va*ca[1]+Aa*ca[4]+U*ca[7];oa[2]=va*ca[2]+Aa*ca[5]+U*ca[8];return oa}function F(oa,U,ca){const va=ca[0],Aa=ca[1],H=ca[2],O=U[0],la=U[1];
U=U[2];let Q=Aa*U-H*la,S=H*O-va*U,M=va*la-Aa*O;ca=2*ca[3];oa[0]=O+Q*ca+2*(Aa*M-H*S);oa[1]=la+S*ca+2*(H*Q-va*M);oa[2]=U+M*ca+2*(va*S-Aa*Q);return oa}function E(oa,U,ca,va){const Aa=[],H=[];Aa[0]=U[0]-ca[0];Aa[1]=U[1]-ca[1];Aa[2]=U[2]-ca[2];H[0]=Aa[0];H[1]=Aa[1]*Math.cos(va)-Aa[2]*Math.sin(va);H[2]=Aa[1]*Math.sin(va)+Aa[2]*Math.cos(va);oa[0]=H[0]+ca[0];oa[1]=H[1]+ca[1];oa[2]=H[2]+ca[2];return oa}function K(oa,U,ca,va){const Aa=[],H=[];Aa[0]=U[0]-ca[0];Aa[1]=U[1]-ca[1];Aa[2]=U[2]-ca[2];H[0]=Aa[2]*Math.sin(va)+
Aa[0]*Math.cos(va);H[1]=Aa[1];H[2]=Aa[2]*Math.cos(va)-Aa[0]*Math.sin(va);oa[0]=H[0]+ca[0];oa[1]=H[1]+ca[1];oa[2]=H[2]+ca[2];return oa}function P(oa,U,ca,va){const Aa=[],H=[];Aa[0]=U[0]-ca[0];Aa[1]=U[1]-ca[1];Aa[2]=U[2]-ca[2];H[0]=Aa[0]*Math.cos(va)-Aa[1]*Math.sin(va);H[1]=Aa[0]*Math.sin(va)+Aa[1]*Math.cos(va);H[2]=Aa[2];oa[0]=H[0]+ca[0];oa[1]=H[1]+ca[1];oa[2]=H[2]+ca[2];return oa}function W(oa,U){h(sa,oa);h(Ba,U);x(sa,sa);x(Ba,Ba);oa=B(sa,Ba);return 1<oa?0:-1>oa?Math.PI:Math.acos(oa)}function ia(oa){return"vec3("+
oa[0]+", "+oa[1]+", "+oa[2]+")"}function Z(oa,U){return oa[0]===U[0]&&oa[1]===U[1]&&oa[2]===U[2]}function V(oa,U){if(oa===U)return!0;const ca=oa[0],va=oa[1];oa=oa[2];const Aa=U[0],H=U[1];U=U[2];return Math.abs(ca-Aa)<=c.EPSILON*Math.max(1,Math.abs(ca),Math.abs(Aa))&&Math.abs(va-H)<=c.EPSILON*Math.max(1,Math.abs(va),Math.abs(H))&&Math.abs(oa-U)<=c.EPSILON*Math.max(1,Math.abs(oa),Math.abs(U))}function qa(oa,U,ca){const va=ca[0]-U[0],Aa=ca[1]-U[1];U=ca[2]-U[2];ca=va*va+Aa*Aa+U*U;if(0<ca)return ca=1/
Math.sqrt(ca),oa[0]=va*ca,oa[1]=Aa*ca,oa[2]=U*ca,oa;oa[0]=0;oa[1]=0;oa[2]=0;return oa}const sa=b.create(),Ba=b.create();b=Object.freeze({__proto__:null,length:e,copy:h,set:l,add:q,subtract:t,multiply:f,divide:k,ceil:m,floor:p,min:u,max:g,round:r,scale:d,scaleAndAdd:n,distance:v,squaredDistance:z,squaredLength:A,negate:w,inverse:y,normalize:x,dot:B,cross:C,lerp:D,hermite:J,bezier:I,random:N,transformMat4:L,transformMat3:G,transformQuat:F,rotateX:E,rotateY:K,rotateZ:P,angle:W,str:ia,exactEquals:Z,equals:V,
direction:qa,sub:t,mul:f,div:k,dist:v,sqrDist:z,len:e,sqrLen:A});a.add=q;a.angle=W;a.bezier=I;a.ceil=m;a.copy=h;a.cross=C;a.direction=qa;a.dist=v;a.distance=v;a.div=k;a.divide=k;a.dot=B;a.equals=V;a.exactEquals=Z;a.floor=p;a.hermite=J;a.inverse=y;a.len=e;a.length=e;a.lerp=D;a.max=g;a.min=u;a.mul=f;a.multiply=f;a.negate=w;a.normalize=x;a.random=N;a.rotateX=E;a.rotateY=K;a.rotateZ=P;a.round=r;a.scale=d;a.scaleAndAdd=n;a.set=l;a.sqrDist=z;a.sqrLen=A;a.squaredDistance=z;a.squaredLength=A;a.str=ia;a.sub=
t;a.subtract=t;a.transformMat3=G;a.transformMat4=L;a.transformQuat=F;a.vec3=b})},"esri/chunks/vec3f64":function(){define(["exports"],function(a){function b(){return[0,0,0]}function c(v){return[v[0],v[1],v[2]]}function e(v,z,A){return[v,z,A]}function h(v){const z=b(),A=Math.min(3,v.length);for(let w=0;w<A;++w)z[w]=v[w];return z}function l(v,z){return new Float64Array(v,z,3)}function q(){return b()}function t(){return[1,1,1]}function f(){return[1,0,0]}function k(){return[0,1,0]}function m(){return[0,
0,1]}const p=b(),u=t(),g=f(),r=k(),d=m(),n=Object.freeze({__proto__:null,create:b,clone:c,fromValues:e,fromArray:h,createView:l,zeros:q,ones:t,unitX:f,unitY:k,unitZ:m,ZEROS:p,ONES:u,UNIT_X:g,UNIT_Y:r,UNIT_Z:d});a.ONES=u;a.UNIT_X=g;a.UNIT_Y=r;a.UNIT_Z=d;a.ZEROS=p;a.clone=c;a.create=b;a.createView=l;a.fromArray=h;a.fromValues=e;a.ones=t;a.unitX=f;a.unitY=k;a.unitZ=m;a.vec3f64=n;a.zeros=q})},"esri/chunks/common":function(){define(["exports"],function(a){function b(f){return f*l}function c(f){return f*
q}function e(f,k){return Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}const h=Math.random,l=Math.PI/180,q=180/Math.PI,t=Object.freeze({__proto__:null,EPSILON:1E-6,RANDOM:h,toRadian:b,toDegree:c,equals:e});a.EPSILON=1E-6;a.RANDOM=h;a.common=t;a.equals=e;a.toDegree=c;a.toRadian=b})},"esri/chunks/vec4":function(){define(["exports","./common"],function(a,b){function c(F,E){F[0]=E[0];F[1]=E[1];F[2]=E[2];F[3]=E[3];return F}function e(F,E,K,P,W){F[0]=E;F[1]=K;F[2]=P;F[3]=W;return F}function h(F,
E,K){F[0]=E[0]+K[0];F[1]=E[1]+K[1];F[2]=E[2]+K[2];F[3]=E[3]+K[3];return F}function l(F,E,K){F[0]=E[0]-K[0];F[1]=E[1]-K[1];F[2]=E[2]-K[2];F[3]=E[3]-K[3];return F}function q(F,E,K){F[0]=E[0]*K[0];F[1]=E[1]*K[1];F[2]=E[2]*K[2];F[3]=E[3]*K[3];return F}function t(F,E,K){F[0]=E[0]/K[0];F[1]=E[1]/K[1];F[2]=E[2]/K[2];F[3]=E[3]/K[3];return F}function f(F,E){F[0]=Math.ceil(E[0]);F[1]=Math.ceil(E[1]);F[2]=Math.ceil(E[2]);F[3]=Math.ceil(E[3]);return F}function k(F,E){F[0]=Math.floor(E[0]);F[1]=Math.floor(E[1]);
F[2]=Math.floor(E[2]);F[3]=Math.floor(E[3]);return F}function m(F,E,K){F[0]=Math.min(E[0],K[0]);F[1]=Math.min(E[1],K[1]);F[2]=Math.min(E[2],K[2]);F[3]=Math.min(E[3],K[3]);return F}function p(F,E,K){F[0]=Math.max(E[0],K[0]);F[1]=Math.max(E[1],K[1]);F[2]=Math.max(E[2],K[2]);F[3]=Math.max(E[3],K[3]);return F}function u(F,E){F[0]=Math.round(E[0]);F[1]=Math.round(E[1]);F[2]=Math.round(E[2]);F[3]=Math.round(E[3]);return F}function g(F,E,K){F[0]=E[0]*K;F[1]=E[1]*K;F[2]=E[2]*K;F[3]=E[3]*K;return F}function r(F,
E,K,P){F[0]=E[0]+K[0]*P;F[1]=E[1]+K[1]*P;F[2]=E[2]+K[2]*P;F[3]=E[3]+K[3]*P;return F}function d(F,E){const K=E[0]-F[0],P=E[1]-F[1],W=E[2]-F[2];F=E[3]-F[3];return Math.sqrt(K*K+P*P+W*W+F*F)}function n(F,E){const K=E[0]-F[0],P=E[1]-F[1],W=E[2]-F[2];F=E[3]-F[3];return K*K+P*P+W*W+F*F}function v(F){const E=F[0],K=F[1],P=F[2];F=F[3];return Math.sqrt(E*E+K*K+P*P+F*F)}function z(F){const E=F[0],K=F[1],P=F[2];F=F[3];return E*E+K*K+P*P+F*F}function A(F,E){F[0]=-E[0];F[1]=-E[1];F[2]=-E[2];F[3]=-E[3];return F}
function w(F,E){F[0]=1/E[0];F[1]=1/E[1];F[2]=1/E[2];F[3]=1/E[3];return F}function y(F,E){const K=E[0],P=E[1],W=E[2];E=E[3];let ia=K*K+P*P+W*W+E*E;0<ia&&(ia=1/Math.sqrt(ia),F[0]=K*ia,F[1]=P*ia,F[2]=W*ia,F[3]=E*ia);return F}function x(F,E){return F[0]*E[0]+F[1]*E[1]+F[2]*E[2]+F[3]*E[3]}function B(F,E,K,P){const W=E[0],ia=E[1],Z=E[2];E=E[3];F[0]=W+P*(K[0]-W);F[1]=ia+P*(K[1]-ia);F[2]=Z+P*(K[2]-Z);F[3]=E+P*(K[3]-E);return F}function C(F,E){E=E||1;let K,P,W,ia;let Z;do{K=2*b.RANDOM()-1;P=2*b.RANDOM()-1;
var V=K*K+P*P}while(1<=V);do W=2*b.RANDOM()-1,ia=2*b.RANDOM()-1,Z=W*W+ia*ia;while(1<=Z);V=Math.sqrt((1-V)/Z);F[0]=E*K;F[1]=E*P;F[2]=E*W*V;F[3]=E*ia*V;return F}function D(F,E,K){const P=E[0],W=E[1],ia=E[2];E=E[3];F[0]=K[0]*P+K[4]*W+K[8]*ia+K[12]*E;F[1]=K[1]*P+K[5]*W+K[9]*ia+K[13]*E;F[2]=K[2]*P+K[6]*W+K[10]*ia+K[14]*E;F[3]=K[3]*P+K[7]*W+K[11]*ia+K[15]*E;return F}function J(F,E,K){var P=E[0];const W=E[1],ia=E[2],Z=K[0],V=K[1],qa=K[2];K=K[3];const sa=K*P+V*ia-qa*W,Ba=K*W+qa*P-Z*ia,oa=K*ia+Z*W-V*P;P=-Z*
P-V*W-qa*ia;F[0]=sa*K+P*-Z+Ba*-qa-oa*-V;F[1]=Ba*K+P*-V+oa*-Z-sa*-qa;F[2]=oa*K+P*-qa+sa*-V-Ba*-Z;F[3]=E[3];return F}function I(F){return"vec4("+F[0]+", "+F[1]+", "+F[2]+", "+F[3]+")"}function N(F,E){return F[0]===E[0]&&F[1]===E[1]&&F[2]===E[2]&&F[3]===E[3]}function L(F,E){const K=F[0],P=F[1],W=F[2];F=F[3];const ia=E[0],Z=E[1],V=E[2];E=E[3];return Math.abs(K-ia)<=b.EPSILON*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(P-Z)<=b.EPSILON*Math.max(1,Math.abs(P),Math.abs(Z))&&Math.abs(W-V)<=b.EPSILON*Math.max(1,
Math.abs(W),Math.abs(V))&&Math.abs(F-E)<=b.EPSILON*Math.max(1,Math.abs(F),Math.abs(E))}const G=Object.freeze({__proto__:null,copy:c,set:e,add:h,subtract:l,multiply:q,divide:t,ceil:f,floor:k,min:m,max:p,round:u,scale:g,scaleAndAdd:r,distance:d,squaredDistance:n,length:v,squaredLength:z,negate:A,inverse:w,normalize:y,dot:x,lerp:B,random:C,transformMat4:D,transformQuat:J,str:I,exactEquals:N,equals:L,sub:l,mul:q,div:t,dist:d,sqrDist:n,len:v,sqrLen:z});a.add=h;a.ceil=f;a.copy=c;a.dist=d;a.distance=d;a.div=
t;a.divide=t;a.dot=x;a.equals=L;a.exactEquals=N;a.floor=k;a.inverse=w;a.len=v;a.length=v;a.lerp=B;a.max=p;a.min=m;a.mul=q;a.multiply=q;a.negate=A;a.normalize=y;a.random=C;a.round=u;a.scale=g;a.scaleAndAdd=r;a.set=e;a.sqrDist=n;a.sqrLen=z;a.squaredDistance=n;a.squaredLength=z;a.str=I;a.sub=l;a.subtract=l;a.transformMat4=D;a.transformQuat=J;a.vec4=G})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(a,b){a.neverReached=function(c){};a.neverReachedSilent=function(c){};a.tuple=
(...c)=>c;a.typeCast=function(c){return()=>c};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/set ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t,f,k,m){var p;a.NavigationConstraint=
p=function(u){function g(r){r=u.call(this,r)||this;r.type="none";return r}b._inheritsLoose(g,u);g.prototype.clone=function(){return new p({type:this.type})};return g}(e.JSONSupport);c.__decorate([k.enumeration({none:"none",stayAbove:"stay-above"})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=p=c.__decorate([m.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports",
"../../jsonMap","./property"],function(a,b,c){a.enumeration=function(e,h={}){var l;e=e instanceof b.JSONMap?e:new b.JSONMap(e,h);e={type:(null!=(l=null==h?void 0:h.ignoreUnknown)?l:1)?e.apiValues:String,readOnly:null==h?void 0:h.readOnly,json:{type:e.jsonValues,read:null!=h&&h.readOnly?!1:{reader:e.read},write:{writer:e.write}}};void 0!==(null==h?void 0:h.default)&&(e.json.default=h.default);void 0!==(null==h?void 0:h.name)&&(e.json.name=h.name);return c.property(e)};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/webdoc/support/opacityUtils":function(){define(["exports","../../core/accessorSupport/ensureType"],function(a,b){a.opacityToTransparency=function(c){c=b.ensureInteger(100*(1-c));return Math.max(0,Math.min(c,100))};a.transparencyToOpacity=function(c){return Math.max(0,Math.min(1-c/100,1))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/CollectionFlattener":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Collection ./HandleOwner ./maybe ./accessorSupport/watch ./accessorSupport/trackingUtils ./accessorSupport/decorators/property ./arrayUtils ./has ./accessorSupport/ensureType ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){e=function(u){function g(d){d=u.call(this,d)||this;d.getCollections=null;return d}a._inheritsLoose(g,u);var r=g.prototype;r.initialize=function(){this.handles.add(q.autorun(()=>this.refresh()))};r.destroy=function(){this.getCollections=null};r.refresh=function(){const d=h.isSome(this.getCollections)?this.getCollections():null;if(h.isNone(d))this.removeAll();else{var n=0;for(const v of d)h.isSome(v)&&(n=this._processCollection(n,v));this.splice(n,this.length)}};r._createNewInstance=
function(d){return new c(d)};r._processCollection=function(d,n){if(!n)return d;const v=this.itemFilterFunction?this.itemFilterFunction:z=>!!z;for(const z of n)if(z&&(v(z)&&(n=this.indexOf(z,d),0<=n?n!==d&&this.reorder(z,d):this.add(z,d),++d),this.getChildrenFunction))if(n=this.getChildrenFunction(z),Array.isArray(n))for(const A of n)d=this._processCollection(d,A);else d=this._processCollection(d,n);return d};return g}(e.HandleOwnerMixin(c));b.__decorate([t.property()],e.prototype,"getCollections",
void 0);b.__decorate([t.property()],e.prototype,"getChildrenFunction",void 0);b.__decorate([t.property()],e.prototype,"itemFilterFunction",void 0);return e=b.__decorate([p.subclass("esri.core.CollectionFlattener")],e)})},"esri/core/HandleOwner":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Handles ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ../views/support/WatchUpdatingTracking".split(" "),function(a,b,c,e,h,l,q,t){const f=
k=>{k=function(m){function p(){return m.apply(this,arguments)||this}b._inheritsLoose(p,m);p.prototype.destroy=function(){var u,g;this.destroyed||(null==(u=this._get("handles"))?void 0:u.destroy(),null==(g=this._get("updatingHandles"))?void 0:g.destroy())};b._createClass(p,[{key:"handles",get:function(){return this._get("handles")||new h}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new t.WatchUpdatingTracking}}]);return p}(k);c.__decorate([l.property({readOnly:!0})],
k.prototype,"handles",null);c.__decorate([l.property({readOnly:!0})],k.prototype,"updatingHandles",null);return k=c.__decorate([q.subclass("esri.core.HandleOwner")],k)};a.HandleOwner=function(k){function m(){return k.apply(this,arguments)||this}b._inheritsLoose(m,k);return m}(f(e));a.HandleOwner=c.__decorate([q.subclass("esri.core.HandleOwner")],a.HandleOwner);a.HandleOwnerMixin=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Handles":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Collection ./maybe ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q){c=function(t){function f(m){m=t.call(this,m)||this;m._groups=new Map;return m}a._inheritsLoose(f,t);var k=f.prototype;k.destroy=function(){this.removeAll()};k.add=function(m,p){if(!this._isHandle(m)&&!Array.isArray(m)&&!e.isCollection(m))return this;const u=this._getOrCreateGroup(p);Array.isArray(m)||e.isCollection(m)?m.forEach(g=>this._isHandle(g)&&u.push(g)):u.push(m);this.notifyChange("size");return this};k.forEach=function(m,p){if("function"===typeof m)this._groups.forEach(u=>
u.forEach(m));else{const u=this._getGroup(m);u&&p&&u.forEach(p)}};k.has=function(m){return this._groups.has(this._ensureGroupKey(m))};k.remove=function(m){if(Array.isArray(m)||e.isCollection(m))return m.forEach(this.remove,this),this;if(!this.has(m))return this;const p=this._getGroup(m);for(let u=0;u<p.length;u++)p[u].remove();this._deleteGroup(m);this.notifyChange("size");return this};k.removeAll=function(){this._groups.forEach(m=>{for(let p=0;p<m.length;p++)m[p].remove()});this._groups.clear();
this.notifyChange("size");return this};k._isHandle=function(m){return m&&!!m.remove};k._getOrCreateGroup=function(m){if(this.has(m))return this._getGroup(m);const p=[];this._groups.set(this._ensureGroupKey(m),p);return p};k._getGroup=function(m){return h.assumeNonNull(this._groups.get(this._ensureGroupKey(m)))};k._deleteGroup=function(m){return this._groups.delete(this._ensureGroupKey(m))};k._ensureGroupKey=function(m){return m||"_default_"};a._createClass(f,[{key:"size",get:function(){let m=0;this._groups.forEach(p=>
{m+=p.length});return m}}]);return f}(c);b.__decorate([l.property({readOnly:!0})],c.prototype,"size",null);return c=b.__decorate([q.subclass("esri.core.Handles")],c)})},"esri/views/support/WatchUpdatingTracking":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Handles ../../core/maybe ../../core/reactiveUtils ../../core/scheduling ../../core/watchUtils ../../core/accessorSupport/get ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){a.WatchUpdatingTracking=function(u){function g(){var d=u.apply(this,arguments)||this;d.updating=!1;d.handleId=0;d.handles=new h;d.scheduleHandleId=0;d.pendingPromises=new Set;return d}b._inheritsLoose(g,u);var r=g.prototype;r.destroy=function(){this.removeAll();this.handles.destroy()};r.add=function(d,n,v,z=0){const A=0!==(z&1),w=++this.handleId;A||this.installSyncUpdatingWatch(d,n,w);d=0!==(z&2)?f.init(d,n,v,A):d.watch(n,v,A);this.handles.add(d,w);return{remove:()=>
this.handles.remove(w)}};r.addOnCollectionPropertyChange=function(d,n,v,z=0){z=0!==(z&2);const A=++this.handleId;this.handles.add([f.on(d,n,"after-changes",this.createSyncUpdatingCallback()),f.on(d,n,"change",v,z?w=>{v({added:w.items,removed:[],moved:[],target:w})}:void 0)],A);return{remove:()=>{this.handles.remove(A)}}};r.addOnCollectionChange=function(d,n,v=0){v=0!==(v&2);const z=++this.handleId;this.handles.add([d.on("after-changes",this.createSyncUpdatingCallback()),d.on("change",n)],z);v&&n({added:d.items,
removed:[],moved:[],target:d});return{remove:()=>{this.handles.remove(z)}}};r.addPromise=function(d){if(l.isNone(d))return d;const n=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(d)&&(0!==this.pendingPromises.size||this.handles.has(-42)||this._set("updating",!1))}},n);this.pendingPromises.add(d);this._set("updating",!0);const v=()=>this.handles.remove(n);d.then(v,v);return d};r.removeAll=function(){this.pendingPromises.clear();this.handles.removeAll();this._set("updating",
!1)};r.installSyncUpdatingWatch=function(d,n,v){var z=this.createSyncUpdatingCallback();z=q.react(()=>k.valueOf(d,n),z,{sync:!0,equals:()=>!1});this.handles.add(z,v);return z};r.createSyncUpdatingCallback=function(){return()=>{this.handles.remove(-42);++this.scheduleHandleId;const d=this.scheduleHandleId;this._get("updating")||this._set("updating",!0);this.handles.add(t.schedule(()=>{d===this.scheduleHandleId&&(this._set("updating",0<this.pendingPromises.size),this.handles.remove(-42))}),-42)}};return g}(e);
c.__decorate([m.property({readOnly:!0})],a.WatchUpdatingTracking.prototype,"updating",void 0);a.WatchUpdatingTracking=c.__decorate([p.subclass("esri.views.support.WatchUpdatingTracking")],a.WatchUpdatingTracking);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/reactiveUtils":function(){define("exports ./events ./handleUtils ./maybe ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),function(a,b,c,e,h,l){function q(k,m,p={},u){let g=null;const r=p.once?(d,n)=>{u(d)&&
(e.removeMaybe(g),m(d,n))}:(d,n)=>{u(d)&&m(d,n)};g=h.watchTracked(k,r,p.sync,p.equals);p.initial&&(k=k(),r(k,k));return g}function t(k){return!0}function f(k){return!!k}a.autorun=l.autorun;a.initial={initial:!0};a.react=function(k,m,p={}){return q(k,m,p,t)};a.reactListener=function(k,m,p,u={}){function g(){d&&n&&(n.remove(),null==u.onListenerRemove?void 0:u.onListenerRemove(d),n=d=null)}function r(A){u.once&&u.once&&e.removeMaybe(v);p(A)}let d=null,n=null,v=null;const z=h.watchTracked(k,(A,w)=>{g();
b.isEventTarget(A)&&(d=A,n=b.on(A,m,r),null==u.onListenerAdd?void 0:u.onListenerAdd(A))},u.sync);return v=c.makeHandle(()=>{z.remove();g()})};a.reactTruthy=function(k,m,p={}){return q(k,m,p,f)};a.sync={sync:!0};a.syncAndInitial={sync:!0,initial:!0};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/watchUtils":function(){define(["exports","./events","./lang","./promiseUtils"],function(a,b,c,e){function h(r,d,n,v){var z=Array.isArray(d)?d:-1<d.indexOf(",")?d.split(","):[d];d=r.watch(d,
n,v);for(const A of z)z=A.trim().replace(g,"$1"),v=r.get(z),n.call(r,v,v,z,r);return d}function l(r,d,n,v,z){z=r.watch(d,(w,y,x,B)=>{if(!n||n(w))null==v?void 0:v.call(r,w,y,x,B)},z);if(Array.isArray(d))for(var A of d){const w=r.get(A);n&&n(w)&&(null==v?void 0:v.call(r,w,w,d,r))}else A=r.get(d),n&&n(A)&&(null==v?void 0:v.call(r,A,A,d,r));return z}function q(r,d,n,v,z){function A(){B&&(B.remove(),B=null)}const w="function"===typeof v?v:null,y="object"===typeof v?v:null;"boolean"===typeof v&&(z=v);let x=
!1,B;const C=e.createDeferred();e.onAbort(y,()=>{A();C.reject(e.createAbortError())});v={then:C.promise.then.bind(C.promise),catch:C.promise.catch.bind(C.promise),remove:A};Object.freeze(v);B=l(r,d,n,(D,J,I,N)=>{x=!0;A();w&&w.call(r,D,J,I,N);C.resolve({value:D,oldValue:J,propertyName:I,target:N})},z);x&&A();return v}function t(r){return!!r}function f(r){return!r}function k(r){return!0===r}function m(r){return!1===r}function p(r){return void 0!==r}function u(r){return void 0===r}const g=/\?(\.|$)/g;
a.init=h;a.on=function(r,d,n,v,z,A,w){function y(C){const D=x[C];D&&(A&&A(D.target,C,r,n),D.handle.remove(),delete x[C])}const x={},B=h(r,d,(C,D,J)=>{y(J);b.isEventTarget(C)&&(x[J]={handle:b.on(C,n,v),target:C},z&&z(C,J,r,n))},w);return{remove(){B.remove();for(const C in x)y(C)}}};a.once=function(r,d,n,v){return q(r,d,null,n,v)};a.pausable=function(r,d,n,v){let z=!1;const A=r.watch(d,(w,y,x,B)=>{z||n.call(r,w,y,x,B)},v);return{remove(){A.remove()},pause(){z=!0},resume(){z=!1}}};a.watch=function(r,
d,n,v){return r.watch(d,n,v)};a.when=function(r,d,n,v){return l(r,d,t,n,v)};a.whenDefined=function(r,d,n,v){return l(r,d,p,n,v)};a.whenDefinedOnce=function(r,d,n,v){return q(r,d,p,n,v)};a.whenEqual=function(r,d,n,v,z){return l(r,d,A=>c.equals(n,A),v,z)};a.whenEqualOnce=function(r,d,n,v,z){return q(r,d,A=>c.equals(n,A),v,z)};a.whenFalse=function(r,d,n,v){return l(r,d,m,n,v)};a.whenFalseOnce=function(r,d,n,v){return q(r,d,m,n,v)};a.whenNot=function(r,d,n,v){return l(r,d,f,n,v)};a.whenNotOnce=function(r,
d,n,v){return q(r,d,f,n,v)};a.whenOnce=function(r,d,n,v){return q(r,d,t,n,v)};a.whenTrue=function(r,d,n,v){return l(r,d,k,n,v)};a.whenTrueOnce=function(r,d,n,v){return q(r,d,k,n,v)};a.whenUndefined=function(r,d,n,v){return l(r,d,u,n,v)};a.whenUndefinedOnce=function(r,d,n,v){return q(r,d,u,n,v)};a.whenValidOnce=q;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/editableLayers":function(){define(["exports"],function(a){a.isEditableLayer=function(b){var c;return!(b&&b.loaded&&
"capabilities"in b&&null!=b&&null!=(c=b.capabilities)&&c.operations&&"supportsEditing"in b.capabilities.operations)||!0!==b.capabilities.operations.supportsEditing||"editingEnabled"in b&&!b.editingEnabled?!1:!0};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/urlUtils ../core/accessorSupport/ensureType ./basemapDefinitions".split(" "),function(a,b,c,e,h,l,q,t){function f(B,C){var D;
let J;if("string"===typeof B){if(!(B in t.esriBasemapDefinitions))return C=Object.entries(t.esriBasemapDefinitions).filter(([,I])=>c.apiKey&&!I.classic||!c.apiKey&&I.classic&&!I.deprecated).map(([I])=>`"${I}"`).join(", "),y.warn(`Unable to find basemap definition for: ${B}. Try one of these: ${C}`),null;C&&(J=C[B]);J||(J=b.fromId(B),C&&(C[B]=J))}else J=q.ensureType(b,B);null!=(D=J)&&D.destroyed&&(y.warn("The provided basemap is already destroyed",{basemap:J}),J=null);return J}function k(B,C){const D=
new e;B.forEach(J=>{const I=C.find(N=>A(r(J),r(N)))||J;D.some(N=>N===I)?D.push(J):D.push(I)});return D}function m(B){if(p(B.url))return!0;if("vector-tile"===B.type)for(const C in B.sourceNameToSource){const D=B.sourceNameToSource[C];if(p(null==D?void 0:D.sourceUrl))return!0}return!1}function p(B){if(!B)return!1;B=new l.Url(l.makeAbsolute(B));return x.test(B.authority)}function u(B){return B?!B.loaded&&B.resourceInfo?d(B.resourceInfo.data):{baseLayers:g(B.baseLayers),referenceLayers:g(B.referenceLayers)}:
null}function g(B){return(e.isCollection(B)?B.toArray():B).map(r)}function r(B){return{type:B.type,url:w("urlTemplate"in B&&B.urlTemplate||B.url||"styleUrl"in B&&B.styleUrl),minScale:"minScale"in B&&null!=B.minScale?B.minScale:0,maxScale:"maxScale"in B&&null!=B.maxScale?B.maxScale:0,opacity:null!=B.opacity?B.opacity:1,visible:null!=B.visible?!!B.visible:!0}}function d(B){return B?{baseLayers:n(B.baseMapLayers.filter(C=>!C.isReference)),referenceLayers:n(B.baseMapLayers.filter(C=>C.isReference))}:
null}function n(B){return B.map(C=>{{let D;switch(C.layerType){case "VectorTileLayer":D="vector-tile";break;case "ArcGISTiledMapServiceLayer":D="tile";break;default:D="unknown"}C={type:D,url:w(C.templateUrl||C.urlTemplate||C.styleUrl||C.url),minScale:null!=C.minScale?C.minScale:0,maxScale:null!=C.maxScale?C.maxScale:0,opacity:null!=C.opacity?C.opacity:1,visible:null!=C.visibility?!!C.visibility:!0}}return C})}function v(B,C,D){return null!=B!==(null!=C)?"not-equal":B?z(B.baseLayers,C.baseLayers)?
z(B.referenceLayers,C.referenceLayers)?"equal":D.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function z(B,C){if(B.length!==C.length)return!1;for(let D=0;D<B.length;D++)if(!A(B[D],C[D]))return!1;return!0}function A(B,C){return B.type===C.type&&B.url===C.url&&B.minScale===C.minScale&&B.maxScale===C.maxScale&&B.visible===C.visible&&B.opacity===C.opacity}function w(B){return B?l.normalize(B).replace(/^\s*https?:/i,"").toLowerCase():""}const y=h.getLogger("esri.support.basemapUtils"),
x=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.clonePreservingTiledLayers=function(B,C=null){B=f(B);if(!B)return null;const D=new b({id:B.id,title:B.title,baseLayers:B.baseLayers.slice(),referenceLayers:B.referenceLayers.slice()});C&&(D.baseLayers=k(D.baseLayers,C.baseLayers),D.referenceLayers=k(D.referenceLayers,C.referenceLayers));D.load().catch(()=>{});D.portalItem=B.portalItem;return D};a.contentEquals=function(B,C){if(B===C)return!0;B=u(B);C=u(C);return"equal"===v(B,C,{mustMatchReferences:!0})};
a.createCache=function(){return{}};a.destroyCache=function(B){for(const C in B){const D=B[C];!1===(null==D?void 0:D.destroyed)&&D.destroy();delete B[C]}};a.ensureType=f;a.getWellKnownBasemapId=function(B){let C=null;B=u(B);const D=!B.baseLayers.length;for(const I in t.esriBasemapDefinitions){var J=d(t.esriBasemapDefinitions[I]);J=v(B,J,{mustMatchReferences:D});if("equal"===J){C=I;break}"base-layers-equal"===J&&(C=I)}return C};a.hasDeveloperBasemapLayer=function(B){return!(null==B||!B.baseLayers.concat(B.referenceLayers).some(m))};
a.isDeveloperBasemapLayer=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/groundUtils":function(){define(["exports","../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(a,b,c,e){const h=c.getLogger("esri.support.groundUtils"),l={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",
layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(q){let t=null;"string"===typeof q?q in l?t=new b({resourceInfo:{data:{layers:[l[q]]}}}):h.warn(`Unable to find ground definition for: ${q}. Try "world-elevation"`):t=e.ensureType(b,q);return t};a.groundElevationLayers=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/LayersMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../layers/Layer".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){function g(d,n,v){if(d)for(let A=0,w=d.length;A<w;A++){var z=d.getItemAt(A);if(z[n]===v||z&&"group"===z.type&&(z=g(z.layers,n,v)))return z}}const r=l.getLogger("esri.support.LayersMixin");a.LayersMixin=d=>{d=function(n){function v(...A){var w=n.call(this,...A)||this;w.layers=new e;w.layers.on("before-add",y=>{y=y.item;y.parent&&"remove"in y.parent&&y.parent.remove(y)});w.layers.on("after-add",y=>{y=y.item;y.parent=b._assertThisInitialized(w);w.layerAdded(y);"elevation"!==
y.type&&"base-elevation"!==y.type||r.error(`Layer 'title:${y.title}, id:${y.id}' of type '${y.type}' is not supported as an operational layer and will therefore be ignored.`)});w.layers.on("after-remove",y=>{y=y.item;y.parent=null;w.layerRemoved(y)});return w}b._inheritsLoose(v,n);var z=v.prototype;z.destroy=function(){const A=this.layers.removeAll();for(const w of A)this.layerRemoved(w),w.destroy();this.layers.destroy()};z.add=function(A,w){const y=this.layers;w=y.getNextIndex(w);A instanceof u?
A.parent===this?this.reorder(A,w):y.add(A,w):q.isPromiseLike(A)?A.then(x=>{this.destroyed||this.add(x,w)}):r.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")};z.addMany=function(A,w){const y=this.layers;w=y.getNextIndex(w);A.slice().forEach(x=>{x.parent===this?this.reorder(x,w):(y.add(x,w),w+=1)})};z.findLayerById=function(A){return g(this.layers,"id",A)};z.findLayerByUid=function(A){return g(this.layers,"uid",A)};z.remove=function(A){return this.layers.remove(A)};
z.removeMany=function(A){return this.layers.removeMany(A)};z.removeAll=function(){return this.layers.removeAll()};z.reorder=function(A,w){return this.layers.reorder(A,w)};z.layerAdded=function(A){};z.layerRemoved=function(A){};b._createClass(v,[{key:"layers",set:function(A){this._set("layers",h.referenceSetter(A,this._get("layers")))}}]);return v}(d);c.__decorate([t.property()],d.prototype,"layers",null);return d=c.__decorate([p.subclass("esri.support.LayersMixin")],d)};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/layers/Layer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../config ../geometry ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference".split(" "),function(a,b,c,
e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A){let w=0;const y=m.getLogger("esri.layers.Layer");h=function(x){function B(){var D=x.apply(this,arguments)||this;D.attributionDataUrl=null;D.fullExtent=new z(-180,-90,180,90,A.WGS84);D.id=Date.now().toString(16)+"-layer-"+w++;D.legendEnabled=!0;D.listMode="show";D.opacity=1;D.parent=null;D.popupEnabled=!0;D.attributionVisible=!0;D.spatialReference=A.WGS84;D.title=null;D.type=null;D.url=null;D.visible=!0;return D}b._inheritsLoose(B,x);B.fromArcGISServerUrl=function(){var D=
b._asyncToGenerator(function*(J){J="string"===typeof J?{url:J}:J;const I=yield new Promise((N,L)=>a(["./support/arcgisLayers"],N,L));try{return yield I.fromUrl(J)}catch(N){throw y.error("#fromArcGISServerUrl({ url: '"+J.url+"'})","Failed to create layer from arcgis server url",N),N;}});return function(J){return D.apply(this,arguments)}}();B.fromPortalItem=function(){var D=b._asyncToGenerator(function*(J){J="portalItem"in J?J:{portalItem:J};const I=yield new Promise((N,L)=>a(["../portal/support/portalLayers"],
N,L));try{return yield I.fromItem(J)}catch(N){throw J=J&&J.portalItem,y.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+(J&&J.portal&&J.portal.url||e.portalUrl)+"', id: '"+(J&&J.id||"unset")+"')",N),N;}});return function(J){return D.apply(this,arguments)}}();var C=B.prototype;C.initialize=function(){this.when().catch(D=>{if(!p.isAbortError(D)){var J,I;m.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(J=this.title)?J:"no title"}', id: '${null!=
(I=this.id)?I:"no id"}')`,{error:D})}})};C.destroy=function(){if(this.parent){const D=this.parent;"layers"in D&&D.layers.includes(this)?D.layers.remove(this):"tables"in D&&D.tables.includes(this)?D.tables.remove(this):"baseLayers"in D&&D.baseLayers.includes(this)?D.baseLayers.remove(this):"baseLayers"in D&&D.referenceLayers.includes(this)&&D.referenceLayers.remove(this)}};C.fetchAttributionData=function(){var D=b._asyncToGenerator(function*(){const J=this.attributionDataUrl;if(this.hasAttributionData&&
J)return(yield l(J,{query:{f:"json"},responseType:"json"})).data;throw new q("layer:no-attribution-data","Layer does not have attribution data");});return function(){return D.apply(this,arguments)}}();b._createClass(B,[{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){const D=this.url;return D?u.urlToObject(D):null}}]);return B}(t.EventedMixin(f.IdentifiableMixin(k)));c.__decorate([g.property({type:String})],h.prototype,"attributionDataUrl",
void 0);c.__decorate([g.property({type:z})],h.prototype,"fullExtent",void 0);c.__decorate([g.property({readOnly:!0})],h.prototype,"hasAttributionData",null);c.__decorate([g.property({type:String})],h.prototype,"id",void 0);c.__decorate([g.property({type:Boolean,nonNullable:!0})],h.prototype,"legendEnabled",void 0);c.__decorate([g.property({type:["show","hide","hide-children"]})],h.prototype,"listMode",void 0);c.__decorate([g.property({type:Number,range:{min:0,max:1},nonNullable:!0})],h.prototype,
"opacity",void 0);c.__decorate([g.property()],h.prototype,"parent",void 0);c.__decorate([g.property({readOnly:!0})],h.prototype,"parsedUrl",null);c.__decorate([g.property({type:Boolean})],h.prototype,"popupEnabled",void 0);c.__decorate([g.property({type:Boolean})],h.prototype,"attributionVisible",void 0);c.__decorate([g.property({type:A})],h.prototype,"spatialReference",void 0);c.__decorate([g.property({type:String})],h.prototype,"title",void 0);c.__decorate([g.property({type:String,readOnly:!0,json:{read:!1}})],
h.prototype,"type",void 0);c.__decorate([g.property()],h.prototype,"url",void 0);c.__decorate([g.property({type:Boolean,nonNullable:!0})],h.prototype,"visible",void 0);return h=c.__decorate([v.subclass("esri.layers.Layer")],h)})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m){const p={base:e,key:"type",typeMap:{extent:c,multipoint:h,point:l,polyline:t,polygon:q}};b=b.ensureOneOfType(p);a.Extent=c;a.BaseGeometry=e;a.Multipoint=h;a.Point=l;a.Polygon=q;a.Polyline=t;a.SpatialReference=f;a.featureGeometryTypeKebabDictionary=k.featureGeometryTypeKebabDictionary;a.isFeatureGeometryType=k.isFeatureGeometryType;a.typeKebabDictionary=k.typeKebabDictionary;a.fromJSON=m.fromJSON;a.ensureType=b;a.geometryTypes=p;a.isGeometry=function(u){return u instanceof
e};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Multipoint":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),function(a,b,c,e,h,l,q,t,f,k,m){function p(g){return(r,d)=>null==r?d:null==d?r:g(r,d)}var u;h=u=function(g){function r(...n){n=
g.call(this,...n)||this;n.points=[];n.type="multipoint";return n}a._inheritsLoose(r,g);var d=r.prototype;d.normalizeCtorArgs=function(n,v){if(!n&&!v)return null;const z={};Array.isArray(n)?(z.points=n,z.spatialReference=v):!n||"esri.geometry.SpatialReference"!==n.declaredClass&&null==n.wkid?(n.points&&(z.points=n.points),n.spatialReference&&(z.spatialReference=n.spatialReference),n.hasZ&&(z.hasZ=n.hasZ),n.hasM&&(z.hasM=n.hasM)):z.spatialReference=n;if(n=z.points&&z.points[0])void 0===z.hasZ&&void 0===
z.hasM?(z.hasZ=2<n.length,z.hasM=!1):void 0===z.hasZ?z.hasZ=3<n.length:void 0===z.hasM&&(z.hasM=3<n.length);return z};d.writePoints=function(n,v){v.points=c.clone(this.points)};d.addPoint=function(n){m.updateSupportFromPoint(this,n);Array.isArray(n)?this.points.push(n):this.points.push(n.toArray());this.notifyChange("points");return this};d.clone=function(){const n={points:c.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(n.hasZ=!0);this.hasM&&(n.hasM=!0);return new u(n)};d.getPoint=
function(n){if(!this._validateInputs(n))return null;n=this.points[n];const v={x:n[0],y:n[1],spatialReference:this.spatialReference};let z=2;this.hasZ&&(v.z=n[2],z=3);this.hasM&&(v.m=n[z]);return new k(v)};d.removePoint=function(n){if(!this._validateInputs(n))return null;n=new k(this.points.splice(n,1)[0],this.spatialReference);this.notifyChange("points");return n};d.setPoint=function(n,v){if(!this._validateInputs(n))return this;m.updateSupportFromPoint(this,v);Array.isArray(v)||(v=v.toArray());this.points[n]=
v;this.notifyChange("points");return this};d.toJSON=function(n){return this.write({},n)};d._validateInputs=function(n){return null!=n&&0<=n&&n<this.points.length};a._createClass(r,[{key:"cache",get:function(){this.commitProperty("points");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const n=this.points;if(!n.length)return null;const v=new t,z=this.hasZ,A=this.hasM,w=z?3:2;var y=n[0];const x=p(Math.min),B=p(Math.max);
let [C,D]=y,[J,I]=y,N,L,G,F;for(let E=0,K=n.length;E<K;E++){y=n[E];const [P,W]=y;C=x(C,P);D=x(D,W);J=B(J,P);I=B(I,W);if(z&&2<y.length){const ia=y[2];N=x(N,ia);G=B(G,ia)}A&&y.length>w&&(y=y[w],L=x(L,y),F=B(F,y))}v.xmin=C;v.ymin=D;v.xmax=J;v.ymax=I;v.spatialReference=this.spatialReference;z?(v.zmin=N,v.zmax=G):(v.zmin=null,v.zmax=null);A?(v.mmin=L,v.mmax=F):(v.mmin=null,v.mmax=null);return v}}]);return r}(f);b.__decorate([e.property({readOnly:!0})],h.prototype,"cache",null);b.__decorate([e.property()],
h.prototype,"extent",null);b.__decorate([e.property({type:[[Number]],json:{write:{isRequired:!0}}})],h.prototype,"points",void 0);b.__decorate([q.writer("points")],h.prototype,"writePoints",null);h=u=b.__decorate([l.subclass("esri.geometry.Multipoint")],h);h.prototype.toJSON.isDefaultToJSON=!0;return h})},"esri/geometry/support/zmUtils":function(){define(["exports"],function(a){a.updateSupportFromPoint=function(b,c,e=!1){let {hasM:h,hasZ:l}=b;Array.isArray(c)?4!==c.length||h||l?3===c.length&&e&&!h?
(l=!0,h=!1):3===c.length&&h&&l&&(l=h=!1):l=h=!0:(l=!l&&c.hasZ&&(!h||c.hasM),h=!h&&c.hasM&&(!l||c.hasZ));b.hasZ=l;b.hasM=h};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Polygon":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A){var w;q=w=function(y){function x(...C){C=y.call(this,...C)||this;C.rings=[];C.type="polygon";return C}a._inheritsLoose(x,y);x.fromExtent=function(C){var D=C.clone().normalize();C=C.spatialReference;let J=!1,I=!1;for(const N of D)N.hasZ&&(J=!0),N.hasM&&(I=!0);D={rings:D.map(function(N){const L=[[N.xmin,N.ymin],[N.xmin,N.ymax],[N.xmax,N.ymax],[N.xmax,N.ymin],[N.xmin,N.ymin]];if(J&&N.hasZ){var G=N.zmin+.5*(N.zmax-N.zmin);for(let F=0;F<L.length;F++)L[F].push(G)}if(I&&
N.hasM)for(N=N.mmin+.5*(N.mmax-N.mmin),G=0;G<L.length;G++)L[G].push(N);return L}),spatialReference:C};J&&(D.hasZ=!0);I&&(D.hasM=!0);return new w(D)};var B=x.prototype;B.normalizeCtorArgs=function(C,D){let J=null,I,N,L=null;C&&!Array.isArray(C)?(J=C.rings?C.rings:null,D||(C.spatialReference?D=C.spatialReference:C.rings||(D=C)),I=C.hasZ,N=C.hasM):J=C;J=J||[];D=D||u.WGS84;J.length&&J[0]&&null!=J[0][0]&&"number"===typeof J[0][0]&&(J=[J]);if(L=J[0]&&J[0][0])void 0===I&&void 0===N?(I=2<L.length,N=3<L.length):
void 0===I?I=N?3<L.length:2<L.length:void 0===N&&(N=I?3<L.length:2<L.length);return{rings:J,spatialReference:D,hasZ:I,hasM:N}};B.writeRings=function(C,D){D.rings=e.clone(this.rings)};B.addRing=function(C){if(C){var D=this.rings,J=D.length;if(Array.isArray(C[0]))D[J]=C.concat();else{const I=[];for(let N=0,L=C.length;N<L;N++)I[N]=C[N].toArray();D[J]=I}this.notifyChange("rings");return this}};B.clone=function(){const C=new w;C.spatialReference=this.spatialReference;C.rings=e.clone(this.rings);C.hasZ=
this.hasZ;C.hasM=this.hasM;return C};B.equals=function(C){if(this===C)return!0;if(h.isNone(C))return!1;var D=this.spatialReference,J=C.spatialReference;if(h.isSome(D)!==h.isSome(J)||h.isSome(D)&&h.isSome(J)&&!D.equals(J)||this.rings.length!==C.rings.length)return!1;D=([I,N,L,G],[F,E,K,P])=>I===F&&N===E&&(null==L&&null==K||L===K)&&(null==G&&null==P||G===P);for(J=0;J<this.rings.length;J++)if(!c.equals(this.rings[J],C.rings[J],D))return!1;return!0};B.contains=function(C){if(!C)return!1;const D=z.project(C,
this.spatialReference);return r.polygonContainsPoint(this,h.isSome(D)?D:C)};B.isClockwise=function(C){C=Array.isArray(C[0])?C:C.map(D=>this.hasZ?this.hasM?[D.x,D.y,D.z,D.m]:[D.x,D.y,D.z]:[D.x,D.y]);return d.isClockwise(C,this.hasM,this.hasZ)};B.getPoint=function(C,D){if(!this._validateInputs(C,D))return null;C=this.rings[C][D];D=this.hasZ;const J=this.hasM;return D&&!J?new p(C[0],C[1],C[2],void 0,this.spatialReference):J&&!D?new p(C[0],C[1],void 0,C[2],this.spatialReference):D&&J?new p(C[0],C[1],
C[2],C[3],this.spatialReference):new p(C[0],C[1],this.spatialReference)};B.insertPoint=function(C,D,J){if(!this._validateInputs(C,D,!0))return this;A.updateSupportFromPoint(this,J);Array.isArray(J)||(J=J.toArray());this.rings[C].splice(D,0,J);this.notifyChange("rings");return this};B.removePoint=function(C,D){if(!this._validateInputs(C,D))return null;C=new p(this.rings[C].splice(D,1)[0],this.spatialReference);this.notifyChange("rings");return C};B.removeRing=function(C){if(!this._validateInputs(C,
null))return null;C=this.rings.splice(C,1)[0];const D=this.spatialReference;C=C.map(J=>new p(J,D));this.notifyChange("rings");return C};B.setPoint=function(C,D,J){if(!this._validateInputs(C,D))return this;A.updateSupportFromPoint(this,J);Array.isArray(J)||(J=J.toArray());this.rings[C][D]=J;this.notifyChange("rings");return this};B._validateInputs=function(C,D,J=!1){return null==C||0>C||C>=this.rings.length||null!=D&&(C=this.rings[C],J&&(0>D||D>C.length)||!J&&(0>D||D>=C.length))?!1:!0};B.toJSON=function(C){return this.write({},
C)};a._createClass(x,[{key:"cache",get:function(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"centroid",get:function(){const C=g.polygonCentroid(this);if(!C||isNaN(C[0])||isNaN(C[1])||this.hasZ&&isNaN(C[2]))return null;const D=new p;D.x=C[0];D.y=C[1];D.spatialReference=this.spatialReference;this.hasZ&&(D.z=C[2]);return D}},{key:"extent",get:function(){const {spatialReference:C}=this;var D=n.getPolygonExtent(this);
if(!D)return null;D=new k(D);D.spatialReference=C;return D}},{key:"isSelfIntersecting",get:function(){return v.isSelfIntersecting(this.rings)}}]);return x}(m);b.__decorate([l.property({readOnly:!0})],q.prototype,"cache",null);b.__decorate([l.property({readOnly:!0})],q.prototype,"centroid",null);b.__decorate([l.property({readOnly:!0})],q.prototype,"extent",null);b.__decorate([l.property({readOnly:!0})],q.prototype,"isSelfIntersecting",null);b.__decorate([l.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],
q.prototype,"rings",void 0);b.__decorate([f.writer("rings")],q.prototype,"writeRings",null);q=w=b.__decorate([t.subclass("esri.geometry.Polygon")],q);q.prototype.toJSON.isDefaultToJSON=!0;return q})},"esri/geometry/support/centroid":function(){define(["exports","./coordsUtils"],function(a,b){function c(l,q){if(!l||!l.length)return null;const t=[],f=[],k=q?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let m=0,p=l.length;m<p;m++){const u=e(l[m],
q,k);u&&f.push(u)}f.sort((m,p)=>{let u=m[2]-p[2];0===u&&q&&(u=m[4]-p[4]);return u});f.length&&(t[0]=f[0][0],t[1]=f[0][1],q&&(t[2]=f[0][3]),t[0]<k[0]||t[0]>k[1]||t[1]<k[2]||t[1]>k[3]||q&&(t[2]<k[4]||t[2]>k[5]))&&(t.length=0);if(!t.length)if(l=l[0]&&l[0].length?h(l[0],q):null)t[0]=l[0],t[1]=l[1],q&&2<l.length&&(t[2]=l[2]);else return null;return t}function e(l,q,t){let f=0,k=0,m=0,p=0,u=0;const g=l.length?l[0][0]:0,r=l.length?l[0][1]:0,d=l.length&&q?l[0][2]:0;for(let v=0;v<l.length;v++){var n=l[v];
const z=l[(v+1)%l.length],[A,w,y]=n,x=A-g,B=w-r,C=q?y-d:void 0,[D,J,I]=z,N=D-g,L=J-r,G=q?I-d:void 0,F=x*L-N*B;p+=F;f+=(x+N)*F;k+=(B+L)*F;q&&2<n.length&&2<z.length&&(n=x*G-N*C,m+=(C+G)*n,u+=n);A<t[0]&&(t[0]=A);A>t[1]&&(t[1]=A);w<t[2]&&(t[2]=w);w>t[3]&&(t[3]=w);q&&(y<t[4]&&(t[4]=y),y>t[5]&&(t[5]=y))}0<p&&(p*=-1);0<u&&(u*=-1);if(!p)return null;p*=.5;u*=.5;l=[f/(6*p)+g,k/(6*p)+r,p];q&&(t[4]===t[5]||0===u?(l[3]=(t[4]+t[5])/2,l[4]=0):(l[3]=m/(6*u)+d,l[4]=u));return l}function h(l,q){const t=q?[0,0,0]:[0,
0],f=q?[0,0,0]:[0,0];let k=0,m=0,p=0,u=0;for(let r=0,d=l.length;r<d-1;r++){var g=l[r];const n=l[r+1];if(g&&n){t[0]=g[0];t[1]=g[1];f[0]=n[0];f[1]=n[1];q&&2<g.length&&2<n.length&&(t[2]=g[2],f[2]=n[2]);const v=b.getLength(t,f);v&&(k+=v,g=b.getMidpoint(g,n),m+=v*g[0],p+=v*g[1],q&&2<g.length&&(u+=v*g[2]))}}return 0<k?q?[m/k,p/k,u/k]:[m/k,p/k]:l.length?l[0]:null}a.extentCentroid=function(l){return l?l.hasZ?[l.xmax-l.xmin/2,l.ymax-l.ymin/2,l.zmax-l.zmin/2]:[l.xmax-l.xmin/2,l.ymax-l.ymin/2]:null};a.lineCentroid=
h;a.polygonCentroid=function(l){return l?c(l.rings,l.hasZ):null};a.ringsCentroid=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/coordsUtils":function(){define(["exports","./spatialReferenceUtils"],function(a,b){function c(q,t){const f=t[0]-q[0],k=t[1]-q[1];return 2<q.length&&2<t.length?(q=q[2]-t[2],Math.sqrt(f*f+k*k+q*q)):Math.sqrt(f*f+k*k)}function e(q,t,f){const k=q[0]+f*(t[0]-q[0]),m=q[1]+f*(t[1]-q[1]);return 2<q.length&&2<t.length?[k,m,q[2]+f*(t[2]-q[2])]:[k,m]}function h(q,
t,f){const k=q.length;let m=0,p=0,u=0;for(let g=0;g<k;g++){const r=q[g],d=q[(g+1)%k];let n=2;m+=r[0]*d[1]-d[0]*r[1];2<r.length&&2<d.length&&f&&(p+=r[0]*d[2]-d[0]*r[2],n=3);r.length>n&&d.length>n&&t&&(u+=r[0]*d[n]-d[0]*r[n])}return 0>=m&&0>=p&&0>=u}function l(q,t){if(t=b.getInfo(t)){var f=t.valid[0],k=t.valid[1],m=k-f;for(const p of q){let u=Infinity,g=-Infinity;p.forEach(r=>{let d=r[0];for(;d<f;)d+=m;for(;d>k;)d-=m;u=Math.min(u,d);g=Math.max(g,d);r[0]=d});q=g-u;m-q<q&&p.forEach(r=>{0>r[0]&&(r[0]+=
m)})}}}a.closeRings=function(q){if("rings"in q)for(const t of q.rings)3>t.length||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]])};a.closeRingsAndFixWinding=function(q){if("rings"in q){for(var t of q.rings)3>t.length||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]);if(0<q.rings.length&&!h(q.rings[0],q.hasM,q.hasZ))for(t=0;t<q.rings.length;++t)q.rings[t]=q.rings[t].reverse()}};a.computeUnnormalizedVertexPositionsOnDateLineCrossing=
function(q,t,f,k){let m=Infinity,p=-Infinity;q.forEach(g=>{let r=g.pos[0];for(;r<t;)r+=k;for(;r>f;)r-=k;m=Math.min(m,r);p=Math.max(p,r);g.unnormalizedPos[0]=r;g.unnormalizedPos[1]=g.pos[1];2<g.pos.length&&(g.unnormalizedPos[2]=g.pos[2]);3<g.pos.length&&(g.unnormalizedPos[3]=g.pos[3])});const u=p-m;k-u<u&&q.forEach(g=>{0>g.unnormalizedPos[0]&&(g.unnormalizedPos[0]+=k)})};a.geometryToCoordinates=function(q){if(!q)return null;if(Array.isArray(q))return q;const t=q.hasZ,f=q.hasM;if("point"===q.type)return f&&
t?[q.x,q.y,q.z,q.m]:t?[q.x,q.y,q.z]:f?[q.x,q.y,q.m]:[q.x,q.y];if("polygon"===q.type)return q.rings.slice(0);if("polyline"===q.type)return q.paths.slice(0);if("multipoint"===q.type)return q.points.slice(0);if("extent"===q.type){q=q.clone().normalize();if(!q)return null;let k=!1,m=!1;q.forEach(p=>{p.hasZ&&(k=!0);p.hasM&&(m=!0)});return q.map(p=>{const u=[[p.xmin,p.ymin],[p.xmin,p.ymax],[p.xmax,p.ymax],[p.xmax,p.ymin],[p.xmin,p.ymin]];if(k&&p.hasZ){var g=.5*(p.zmax-p.zmin);for(let r=0;r<u.length;r++)u[r].push(g)}if(m&&
p.hasM)for(p=.5*(p.mmax-p.mmin),g=0;g<u.length;g++)u[g].push(p);return u})}return null};a.getLength=c;a.getMidpoint=function(q,t){return e(q,t,.5)};a.getPathLength=function(q){const t=q.length;let f=0;for(let k=0;k<t-1;++k)f+=c(q[k],q[k+1]);return f};a.getPointOnPath=function(q,t){if(0>=t)return q[0];const f=q.length;let k=0;for(let m=0;m<f-1;++m){const p=c(q[m],q[m+1]);if(t-k<p)return e(q[m],q[m+1],(t-k)/p);k+=p}return q[f-1]};a.getRingArea=function(q){const t=q.length;let f=0;for(let k=0;k<t;k++){const m=
q[k],p=q[(k+1)%t];f+=m[0]*p[1]-p[0]*m[1]}return f};a.isClockwise=h;a.projectPointOnLine=function(q,t,f,k){const [m,p]=t,[u,g]=f[k],[r,d]=f[k+1];t=r-u;f=d-g;k=Math.min(1,Math.max(0,((m-u)*t+(p-g)*f)/(t*t+f*f)));q[0]=u+t*k;q[1]=g+f*k;return q};a.unnormalizeGeometryOnDatelineCrossing=function(q){if("polygon"!==q.type&&"polyline"!==q.type)return q;l("polygon"===q.type?q.rings:q.paths,q.spatialReference);return q};a.unnormalizeVerticesOnDatelineCrossing=l;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,b){function c(f,k=!1,m=!1){return k?m?{xmin:f[0],ymin:f[1],zmin:f[2],mmin:f[3],xmax:f[4],ymax:f[5],zmax:f[6],mmax:f[7]}:{xmin:f[0],ymin:f[1],zmin:f[2],xmax:f[3],ymax:f[4],zmax:f[5]}:m?{xmin:f[0],ymin:f[1],mmin:f[2],xmax:f[3],ymax:f[4],mmax:f[5]}:{xmin:f[0],ymin:f[1],xmax:f[2],ymax:f[3]}}function e(f){const {hasZ:k,hasM:m,points:p}=f;return c(b.getPointsBounds(t,p,k,m),k,m)}function h(f){const {x:k,y:m,z:p,
m:u}=f;f=null!=u;return null!=p?f?{xmin:k,ymin:m,zmin:p,mmin:u,xmax:k,ymax:m,zmax:p,mmax:u}:{xmin:k,ymin:m,zmin:p,xmax:k,ymax:m,zmax:p}:f?{xmin:k,ymin:m,mmin:u,xmax:k,ymax:m,mmax:u}:{xmin:k,ymin:m,xmax:k,ymax:m}}function l(f){const {hasZ:k,hasM:m,rings:p}=f;return(f=b.getRingsOrPathsBounds(t,p,k,m))?c(f,k,m):null}function q(f){const {hasZ:k,hasM:m,paths:p}=f;return(f=b.getRingsOrPathsBounds(t,p,k,m))?c(f,k,m):null}const t=[];a.getGeometryExtent=function(f){return f?void 0!==f.xmin&&void 0!==f.ymin&&
void 0!==f.xmax&&void 0!==f.ymax?f:void 0!==f.x&&void 0!==f.y?h(f):void 0!==f.rings?l(f):void 0!==f.paths?q(f):void 0!==f.points?e(f):null:null};a.getMultipointExtent=e;a.getPointExtent=h;a.getPolygonExtent=l;a.getPolylineExtent=q;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/boundsUtils":function(){define(["exports"],function(a){function b(f){return void 0!==f.xmin&&void 0!==f.ymin&&void 0!==f.xmax&&void 0!==f.ymax}function c(f){return(k,m)=>null==k?m:null==m?k:f(k,m)}
function e(f,k,m,p){const u=m?3:2;if(!k.length||!k[0].length)return null;let [g,r]=k[0][0],[d,n]=k[0][0],v=void 0,z=void 0,A=void 0;var w=void 0;for(let y=0;y<k.length;y++){const x=k[y];for(let B=0;B<x.length;B++){const C=x[B],[D,J]=C;g=q(g,D);r=q(r,J);d=t(d,D);n=t(n,J);if(m&&2<C.length){const I=C[2];v=q(v,I);z=t(z,I)}p&&C.length>u&&(w=C[u],A=q(v,w),w=t(z,w))}}if(m){if(p)return f[0]=g,f[1]=r,f[2]=v,f[3]=A,f[4]=d,f[5]=n,f[6]=z,f[7]=w,f.length=8,f;f[0]=g;f[1]=r;f[2]=v;f[3]=d;f[4]=n;f[5]=z;f.length=
6;return f}if(p)return f[0]=g,f[1]=r,f[2]=A,f[3]=d,f[4]=n,f[5]=w,f.length=6,f;f[0]=g;f[1]=r;f[2]=d;f[3]=n;f.length=4;return f}function h(f,k,m,p,u,g){m=k.xmin;p=k.xmax;const r=k.ymin,d=k.ymax;let n=k.zmin,v=k.zmax,z=k.mmin;k=k.mmax;if(u){n=n||0;v=v||0;if(g)return f[0]=m,f[1]=r,f[2]=n,f[3]=z||0,f[4]=p,f[5]=d,f[6]=v,f[7]=k||0,f;f[0]=m;f[1]=r;f[2]=n;f[3]=p;f[4]=d;f[5]=v;return f}if(g)return f[0]=m,f[1]=r,f[2]=z||0,f[3]=p,f[4]=d,f[5]=k||0,f;f[0]=m;f[1]=r;f[2]=p;f[3]=d;return f}function l(f,k,m,p,u,g){const r=
m?3:2;p=p&&g;m=m&&u;if(!k.length||!k[0].length)return null;let [d,n]=k[0],[v,z]=k[0],A=void 0,w=void 0,y=void 0;var x=void 0;for(let B=0;B<k.length;B++){const C=k[B],[D,J]=C;d=q(d,D);n=q(n,J);v=t(v,D);z=t(z,J);if(m&&2<C.length){const I=C[2];A=q(A,I);w=t(w,I)}p&&C.length>r&&(x=C[r],y=q(A,x),x=t(w,x))}if(u){A=A||0;w=w||0;if(g)return f[0]=d,f[1]=n,f[2]=A,f[3]=y||0,f[4]=v,f[5]=z,f[6]=w,f[7]=x||0,f;f[0]=d;f[1]=n;f[2]=A;f[3]=v;f[4]=z;f[5]=w;return f}if(g)return f[0]=d,f[1]=n,f[2]=y||0,f[3]=v,f[4]=z,f[5]=
x||0,f;f[0]=d;f[1]=n;f[2]=v;f[3]=z;return f}const q=c(Math.min),t=c(Math.max);a.getBoundsXY=function(f,k){if(void 0!==k.paths)return e(f,k.paths,!1,!1);if(void 0!==k.rings)return e(f,k.rings,!1,!1);if(void 0!==k.points)return l(f,k.points,!1,!1,!1,!1);if(b(k))return h(f,k);void 0!==k.x&&void 0!==k.y&&(f[0]=k.x,f[1]=k.y,f[2]=k.x,f[3]=k.y);return f};a.getBoundsXYZ=function(f,k){if(void 0!==k.paths)return e(f,k.paths,!0,!1);if(void 0!==k.rings)return e(f,k.rings,!0,!1);if(void 0!==k.points)return l(f,
k.points,!0,!1,!0,!1);if(b(k))return h(f,k,!0,!1,!0,!1);void 0!==k.x&&void 0!==k.y&&(f[0]=k.x,f[1]=k.y,f[2]=k.z,f[3]=k.x,f[4]=k.y,f[5]=k.z);return f};a.getExtentBounds=h;a.getPointsBounds=l;a.getPointsBoundsCenterX=function(f){if(!f.length||!f[0].length)return null;let [k]=f[0],[m]=f[0];for(let p=0;p<f.length;p++){const [u]=f[p];k=q(k,u);m=t(m,u)}return k+.5*(m-k)};a.getPointsBoundsWidth=function(f){if(!f.length||!f[0].length)return null;let [k]=f[0],[m]=f[0];for(let p=0;p<f.length;p++){const [u]=
f[p];k=q(k,u);m=t(m,u)}return m-k};a.getRingsOrPathsBounds=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Polyline":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(a,
b,c,e,h,l,q,t,f,k,m,p,u){var g;h=g=function(r){function d(...v){v=r.call(this,...v)||this;v.paths=[];v.type="polyline";return v}a._inheritsLoose(d,r);var n=d.prototype;n.normalizeCtorArgs=function(v,z){let A=null,w,y,x=null;v&&!Array.isArray(v)?(A=v.paths?v.paths:null,z||(v.spatialReference?z=v.spatialReference:v.paths||(z=v)),w=v.hasZ,y=v.hasM):A=v;A=A||[];z=z||m.WGS84;A.length&&A[0]&&null!=A[0][0]&&"number"===typeof A[0][0]&&(A=[A]);if(x=A[0]&&A[0][0])void 0===w&&void 0===y?(w=2<x.length,y=!1):
void 0===w?w=!y&&3<x.length:void 0===y&&(y=!w&&3<x.length);return{paths:A,spatialReference:z,hasZ:w,hasM:y}};n.writePaths=function(v,z){z.paths=c.clone(this.paths)};n.addPath=function(v){if(v){var z=this.paths,A=z.length;if(Array.isArray(v[0]))z[A]=v.concat();else{const w=[];for(let y=0,x=v.length;y<x;y++)w[y]=v[y].toArray();z[A]=w}this.notifyChange("paths");return this}};n.clone=function(){const v=new g;v.spatialReference=this.spatialReference;v.paths=c.clone(this.paths);v.hasZ=this.hasZ;v.hasM=
this.hasM;return v};n.getPoint=function(v,z){if(!this._validateInputs(v,z))return null;v=this.paths[v][z];z=this.hasZ;const A=this.hasM;return z&&!A?new k(v[0],v[1],v[2],void 0,this.spatialReference):A&&!z?new k(v[0],v[1],void 0,v[2],this.spatialReference):z&&A?new k(v[0],v[1],v[2],v[3],this.spatialReference):new k(v[0],v[1],this.spatialReference)};n.insertPoint=function(v,z,A){if(!this._validateInputs(v,z,!0))return this;u.updateSupportFromPoint(this,A);Array.isArray(A)||(A=A.toArray());this.paths[v].splice(z,
0,A);this.notifyChange("paths");return this};n.removePath=function(v){if(!this._validateInputs(v,null))return null;v=this.paths.splice(v,1)[0];const z=this.spatialReference;v=v.map(A=>new k(A,z));this.notifyChange("paths");return v};n.removePoint=function(v,z){if(!this._validateInputs(v,z))return null;v=new k(this.paths[v].splice(z,1)[0],this.spatialReference);this.notifyChange("paths");return v};n.setPoint=function(v,z,A){if(!this._validateInputs(v,z))return this;u.updateSupportFromPoint(this,A);
Array.isArray(A)||(A=A.toArray());this.paths[v][z]=A;this.notifyChange("paths");return this};n._validateInputs=function(v,z,A=!1){return null==v||0>v||v>=this.paths.length||null!=z&&(v=this.paths[v],A&&(0>z||z>v.length)||!A&&(0>z||z>=v.length))?!1:!0};n.toJSON=function(v){return this.write({},v)};a._createClass(d,[{key:"cache",get:function(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const {spatialReference:v}=
this;var z=p.getPolylineExtent(this);if(!z)return null;z=new t(z);z.spatialReference=v;return z}}]);return d}(f);b.__decorate([e.property({readOnly:!0})],h.prototype,"cache",null);b.__decorate([e.property({readOnly:!0})],h.prototype,"extent",null);b.__decorate([e.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],h.prototype,"paths",void 0);b.__decorate([q.writer("paths")],h.prototype,"writePaths",null);h=g=b.__decorate([l.subclass("esri.geometry.Polyline")],h);h.prototype.toJSON.isDefaultToJSON=
!0;return h})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,b){const c=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=c;a.isFeatureGeometryType=
function(e){return"point"===e||"multipoint"===e||"polyline"===e||"polygon"===e};a.typeKebabDictionary=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/jsonUtils":function(){define("exports ../../core/maybe ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,c,e,h,l,q,t){function f(d){return void 0!==d.xmin&&void 0!==d.ymin&&void 0!==d.xmax&&void 0!==d.ymax}function k(d){return void 0!==d.points}function m(d){return void 0!==d.x&&
void 0!==d.y}function p(d){return void 0!==d.paths}function u(d){return void 0!==d.rings}function g(d){return b.isNone(d)?null:d instanceof e?d:m(d)?l.fromJSON(d):p(d)?t.fromJSON(d):u(d)?q.fromJSON(d):k(d)?h.fromJSON(d):f(d)?c.fromJSON(d):null}const r={esriGeometryPoint:l,esriGeometryPolyline:t,esriGeometryPolygon:q,esriGeometryEnvelope:c,esriGeometryMultipoint:h};a.fromJSON=g;a.fromJson=function(d){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(n){console.warn(n.stack)}return g(d)};
a.getGeometryType=function(d){return d&&r[d]||null};a.getJsonType=function(d){return d?m(d)?"esriGeometryPoint":p(d)?"esriGeometryPolyline":u(d)?"esriGeometryPolygon":f(d)?"esriGeometryEnvelope":k(d)?"esriGeometryMultipoint":null:null};a.isExtent=f;a.isMesh=function(d){return void 0!==d.vertexAttributes};a.isMultipoint=k;a.isPoint=m;a.isPolygon=u;a.isPolyline=p;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Identifiable":function(){define(["exports","../chunks/_rollupPluginBabelHelpers",
"../chunks/tslib.es6","./accessorSupport/decorators/subclass"],function(a,b,c,e){let h=0;const l=q=>{q=function(t){function f(...k){k=t.call(this,...k)||this;Object.defineProperty(b._assertThisInitialized(k),"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+h++});return k}b._inheritsLoose(f,t);return f}(q);return q=c.__decorate([e.subclass("esri.core.Identifiable")],q)};a.Identifiable=function(q){function t(){return q.apply(this,arguments)||this}b._inheritsLoose(t,q);return t}(l(function(){return function(){}}()));
a.Identifiable=c.__decorate([e.subclass("esri.core.Identifiable")],a.Identifiable);a.IdentifiableMixin=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/TablesMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,c,e,h,l,q,t,f,k,m){function p(g,r,d){if(g)for(let v=0,z=g.length;v<z;v++){var n=g.getItemAt(v);if(n[r]===d||n&&"group"===n.type&&(n=p(n.tables,r,d)))return n}}const u=l.getLogger("esri.support.TablesMixin");a.TablesMixin=g=>{g=function(r){function d(...v){var z=r.call(this,...v)||this;z.tables=new e;z.tables.on("after-add",A=>{A=A.item;A.parent&&A.parent!==b._assertThisInitialized(z)&&"tables"in A.parent&&A.parent.tables.remove(A);A.parent=b._assertThisInitialized(z);"feature"!==A.type&&u.error(`Layer 'title:${A.title}, id:${A.id}' of type '${A.type}' is not supported as a table and will therefore be ignored.`)});
z.tables.on("after-remove",A=>{A.item.parent=null});return z}b._inheritsLoose(d,r);var n=d.prototype;n.destroy=function(){const v=this.tables.removeAll();for(const z of v)z.destroy();this.tables.destroy()};n.findTableById=function(v){return p(this.tables,"id",v)};n.findTableByUid=function(v){return p(this.tables,"uid",v)};b._createClass(d,[{key:"tables",set:function(v){this._set("tables",h.referenceSetter(v,this._get("tables")))}}]);return d}(g);c.__decorate([q.property()],g.prototype,"tables",null);
return g=c.__decorate([m.subclass("esri.support.TablesMixin")],g)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/Viewpoint":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Camera ./geometry ./core/JSONSupport ./core/maybe ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),function(a,b,c,e,h,l,q,t,f,k,m,p){function u(){return{enabled:!this.camera}}
var g;h=g=function(r){function d(v){v=r.call(this,v)||this;v.rotation=0;v.scale=0;v.targetGeometry=null;v.camera=null;return v}a._inheritsLoose(d,r);var n=d.prototype;n.castRotation=function(v){v%=360;0>v&&(v+=360);return v};n.clone=function(){return new g({rotation:this.rotation,scale:this.scale,targetGeometry:l.isSome(this.targetGeometry)?this.targetGeometry.clone():null,camera:l.isSome(this.camera)?this.camera.clone():null})};return d}(h.JSONSupport);b.__decorate([q.property({type:Number,json:{write:!0,
origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:u}}}}})],h.prototype,"rotation",void 0);b.__decorate([k.cast("rotation")],h.prototype,"castRotation",null);b.__decorate([q.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:u}}}}})],h.prototype,"scale",void 0);b.__decorate([q.property({types:e.geometryTypes,json:{read:p.fromJSON,write:!0,origins:{"web-scene":{read:p.fromJSON,write:{overridePolicy:u}}}}})],h.prototype,
"targetGeometry",void 0);b.__decorate([q.property({type:c,json:{write:!0}})],h.prototype,"camera",void 0);return h=g=b.__decorate([m.subclass("esri.Viewpoint")],h)})},"esri/Camera":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/JSONSupport ./core/mathUtils ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./geometry/Point ./views/3d/support/mathUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g){var r;c=r=function(d){function n(...z){z=d.call(this,...z)||this;z.position=new u([0,0,0]);z.heading=0;z.tilt=0;z.fov=55;return z}a._inheritsLoose(n,d);var v=n.prototype;v.normalizeCtorArgs=function(z,A,w,y){return z&&"object"===typeof z&&("x"in z||Array.isArray(z))?(z={position:z},null!=A&&(z.heading=A),null!=w&&(z.tilt=w),null!=y&&(z.fov=y),z):z};v.writePosition=function(z,A,w,y){const x=z.clone();x.x=p.ensureNumber(z.x||0);x.y=p.ensureNumber(z.y||0);x.z=z.hasZ?
p.ensureNumber(z.z||0):z.z;A[w]=x.write({},y)};v.readPosition=function(z,A){const w=new u;w.read(z,A);w.x=p.ensureNumber(w.x||0);w.y=p.ensureNumber(w.y||0);w.z=w.hasZ?p.ensureNumber(w.z||0):w.z;return w};v.equals=function(z){return z?this.tilt===z.tilt&&this.heading===z.heading&&this.fov===z.fov&&this.position.equals(z.position):!1};v.clone=function(){return new r({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})};return n}(c.JSONSupport);b.__decorate([h.property({type:u,
json:{write:{isRequired:!0}}})],c.prototype,"position",void 0);b.__decorate([m.writer("position")],c.prototype,"writePosition",null);b.__decorate([f.reader("position")],c.prototype,"readPosition",null);b.__decorate([h.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),t.cast(d=>g.cyclicalDeg.normalize(p.ensureNumber(d)))],c.prototype,"heading",void 0);b.__decorate([h.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),t.cast(d=>e.clamp(p.ensureNumber(d),-180,180))],
c.prototype,"tilt",void 0);b.__decorate([h.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"fov",void 0);return c=r=b.__decorate([k.subclass("esri.Camera")],c)})},"esri/views/3d/support/mathUtils":function(){define(["exports","../../../core/mathUtils","../../../chunks/vec3","../../../chunks/vec3f64"],function(a,b,c,e){function h(r){for(const d in r){const n=r[d];n instanceof Function&&(r[d]=n.bind(r))}return r}let l=function(){function r(n,v){this.min=n;this.max=v;this.range=
v-n}var d=r.prototype;d.ndiff=function(n,v=0){return Math.ceil((n-v)/this.range)*this.range+v};d._normalize=function(n,v,z,A=0,w=!1){z-=A;z<n?z+=this.ndiff(n-z):z>v&&(z-=this.ndiff(z-v));w&&z===v&&(z=n);return z+A};d.normalize=function(n,v=0,z=!1){return this._normalize(this.min,this.max,n,v,z)};d.clamp=function(n,v=0){return b.clamp(n-v,this.min,this.max)+v};d.monotonic=function(n,v,z){return n<v?v:v+this.ndiff(n-v,z)};d.minimalMonotonic=function(n,v,z){return this._normalize(n,n+this.range,v,z)};
d.center=function(n,v,z){v=this.monotonic(n,v,z);return this.normalize((n+v)/2,z)};d.diff=function(n,v,z){return this.monotonic(n,v,z)-n};d.shortestSignedDiff=function(n,v){n=this.normalize(n);v=this.normalize(v);const z=v-n;n=v<n?this.minimalMonotonic(n,v)-n:v-this.minimalMonotonic(v,n);return Math.abs(z)<Math.abs(n)?z:n};d.contains=function(n,v,z){v=this.minimalMonotonic(n,v);z=this.minimalMonotonic(n,z);return z>n&&z<v};return r}();const q=e.create(),t=e.create(),f=h(new l(0,2*Math.PI)),k=h(new l(-Math.PI,
Math.PI)),m=h(new l(0,360)),p=e.create(),u=e.create(),g=e.create();a.Cyclical=l;a.angle=function(r,d,n){r=c.normalize(u,r);d=c.normalize(g,d);const v=b.acosClamped(c.dot(r,d));return n&&(r=c.cross(p,r,d),0>c.dot(r,n))?-v:v};a.bilerp=function(r,d,n,v,z,A){r+=(d-r)*z;return r+(n+(v-n)*z-r)*A};a.cosCapped=function(r,d){return r>d?Math.cos(d):Math.cos(r)};a.cyclical2PI=f;a.cyclicalDeg=m;a.cyclicalPI=k;a.fovx2fovy=function(r,d,n){return 2*Math.atan(n*Math.tan(.5*r)/d)};a.fovy2fovx=function(r,d,n){return 2*
Math.atan(d*Math.tan(.5*r)/n)};a.makeOrthonormal=function(r,d,n){n=n||r;const v=c.dot(r,d);c.set(n,r[0]-v*d[0],r[1]-v*d[1],r[2]-v*d[2]);c.normalize(n,n)};a.makePiecewiseLinearFunction=function(r){const d=r.length;return function(n){if(n<=r[0][0])return r[0][1];if(n>=r[d-1][0])return r[d-1][1];let v=1;for(;n>r[v][0];)v++;const z=r[v][0];n=(z-n)/(z-r[v-1][0]);return n*r[v-1][1]+(1-n)*r[v][1]}};a.maxScale=function(r){return Math.sqrt(Math.max(r[0]*r[0]+r[4]*r[4]+r[8]*r[8],r[1]*r[1]+r[5]*r[5]+r[9]*r[9],
r[2]*r[2]+r[6]*r[6]+r[10]*r[10]))};a.moduloPositive=function(r,d){return(r%d+d)%d};a.planeFromPoints=function(r,d,n,v){c.subtract(q,d,r);c.subtract(t,n,r);c.cross(v,q,t);c.normalize(v,v);v[3]=-c.dot(r,v)};a.scaleFromMatrix=function(r,d){c.set(r,Math.sqrt(d[0]*d[0]+d[4]*d[4]+d[8]*d[8]),Math.sqrt(d[1]*d[1]+d[5]*d[5]+d[9]*d[9]),Math.sqrt(d[2]*d[2]+d[6]*d[6]+d[10]*d[10]));return r};a.slerp=function(r,d,n,v=e.create()){const z=c.length(r);var A=c.length(d),w=c.dot(r,d)/(z*A);if(.9999999999999999>w){w=
Math.acos(w);const y=((1-n)*z+n*A)/Math.sin(w);A=y/A*Math.sin(n*w);c.scale(u,r,y/z*Math.sin((1-n)*w));c.scale(g,d,A);return c.add(v,u,g)}return c.lerp(v,r,d,n)};a.slerpTangent=function(r,d,n,v=e.create(),z=e.create()){const A=c.length(r),w=c.length(d);var y=c.dot(r,d)/(A*w);if(.9999999999999999>y){y=Math.acos(y);const x=Math.sin(y),B=Math.sin(n*y),C=Math.sin((1-n)*y),D=(1-n)*A+n*w;{const J=D/x,I=J/w*B;c.scale(u,r,J/A*C);c.scale(g,d,I);c.add(v,u,g)}c.scale(u,r,1/A*(-Math.cos((1-n)*y)*y*D+C*(-A+w)));
c.scale(g,d,1/w*(Math.cos(n*y)*y*D+B*(-A+w)));c.add(z,u,g);c.scale(z,z,1/x);return z}c.lerp(v,r,d,n);c.subtract(z,d,r);c.normalize(z,z);return z};a.tangentFrame=function(r,d,n){Math.abs(r[0])>Math.abs(r[1])?c.set(d,0,1,0):c.set(d,1,0,0);c.cross(n,r,d);c.normalize(d,d);c.cross(d,n,r);c.normalize(n,n)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r){a.OperationalLayer=d=>{d=function(n){function v(){var A=n.apply(this,arguments)||this;A.title=null;return A}b._inheritsLoose(v,n);var z=v.prototype;z.writeListMode=function(A,w,y,x){x&&"ground"===x.layerContainerType?w[y]=A:A&&u.willPropertyWrite(this,y,{},x)&&(w[y]=A)};z.writeOperationalLayerType=function(A,w,y,x){!A||x&&"tables"===x.layerContainerType||(w.layerType=A)};z.writeTitle=function(A,w){w.title=A||"Layer"};z.read=function(A,w){w&&(w.layer=this);p.readLoadable(this,
A,y=>n.prototype.read.call(this,A,y),w)};z.write=function(A,w){if(null!=w&&w.origin){const C=`${w.origin}/${w.layerContainerType||"operational-layers"}`;var y=g.supportedTypes[C];y=y&&y[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===C&&(y=!1);if(!y){var x;null==(x=w.messages)?void 0:x.push(new e("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${C}'`,
{layer:this}));return null}}A=n.prototype.write.call(this,A,{...w,layer:this});x=!!w&&!!w.messages&&!!w.messages.filter(C=>C instanceof e&&"web-document-write:property-required"===C.name).length;if(h.isBlobProtocol(null==A?void 0:A.url)){var B;null==w?void 0:null==(B=w.messages)?void 0:B.push(new e("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this}));return null}return!this.url&&x?null:
A};z.beforeSave=function(){};return v}(d);c.__decorate([l.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],d.prototype,"id",void 0);c.__decorate([l.property({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],d.prototype,"listMode",void 0);c.__decorate([m.writer("listMode")],d.prototype,"writeListMode",null);c.__decorate([l.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",
ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],d.prototype,"operationalLayerType",void 0);c.__decorate([m.writer("operationalLayerType")],d.prototype,"writeOperationalLayerType",null);c.__decorate([l.property(r.opacity)],d.prototype,"opacity",void 0);c.__decorate([l.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],d.prototype,"title",
void 0);c.__decorate([m.writer("title")],d.prototype,"writeTitle",null);c.__decorate([l.property({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],d.prototype,"visible",void 0);return d=c.__decorate([k.subclass("esri.layers.mixins.OperationalLayer")],d)};a.isOperationalLayer=function(d){return"operationalLayerType"in d};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],
function(a){a.supportedTypes={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!1},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,
ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,
GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,
PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/commonProperties":function(){define("exports ../../TimeExtent ../../geometry/Extent ../../geometry/SpatialReference ../../chunks/persistableUrlUtils ../../support/timeUtils ../../symbols/support/ElevationInfo ../../webdoc/support/opacityUtils".split(" "),function(a,b,c,e,h,l,q,t){const f={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,
write:!1}},name:"screenSizePerspective",write:!0}},k={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader(z,A){return!A.disablePopup}},write:{enabled:!0,writer(z,A,w){A[w]=!z}}}},m={type:Boolean,value:!0,json:{name:"showLabels",write:!0}};h={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:h.write}}};const p={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}};q={value:null,type:q,json:{origins:{service:{name:"elevationInfo",
write:!0}},name:"layerDefinition.elevationInfo",write:!0}};const u={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},g={...u,json:{...u.json,origins:{"web-document":{...u.json.origins["web-document"],write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader(z,A,w){if((!w||"service"===w.origin)&&A.drawingInfo&&void 0!==
A.drawingInfo.transparency)return t.transparencyToOpacity(A.drawingInfo.transparency);if(A.layerDefinition&&A.layerDefinition.drawingInfo&&void 0!==A.layerDefinition.drawingInfo.transparency)return t.transparencyToOpacity(A.layerDefinition.drawingInfo.transparency)}}}},r={type:c,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(z,A)=>{z=c.fromJSON(z);null!=A.spatialReference&&"object"===typeof A.spatialReference&&(z.spatialReference=e.fromJSON(A.spatialReference));
return z}}}},read:!1}},d={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},n={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},v={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}};a.combinedViewLayerTimeExtentProperty={type:b,readOnly:!0,get(){var z,A;if(null==(z=this.layer)||!z.timeInfo)return null;
const {datesInUnknownTimezone:w,timeOffset:y,useViewTime:x}=this.layer;z=null==(A=this.view)?void 0:A.timeExtent;A=this.layer.timeExtent;w&&(A=l.toLocalTimeExtent(A));A=x?z&&A?z.intersection(A):z||A:A;if(!A||A.isEmpty||A.isAllTime)return A;y&&(A=A.offset(-y.value,y.unit));w&&(A=l.toUTCTimeExtent(A));z=this._get("timeExtent");return A.equals(z)?z:A}};a.elevationInfo=q;a.id=d;a.labelsVisible=m;a.legendEnabled=p;a.maxScale=v;a.minScale=n;a.opacity=u;a.opacityDrawingInfo=g;a.popupEnabled=k;a.readOnlyService=
function(z){return{type:z,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.sceneLayerFullExtent=r;a.screenSizePerspectiveEnabled=f;a.url=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/TimeExtent":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/JSONSupport ./core/maybe ./core/timeUtils ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){var u;c=u=function(d){function n(z){z=d.call(this,z)||this;z.end=null;z.start=null;return z}a._inheritsLoose(n,d);var v=n.prototype;v.readEnd=function(z,A){return null!=A.end?new Date(A.end):null};v.writeEnd=function(z,A){A.end=z?z.getTime():null};v.readStart=function(z,A){return null!=A.start?new Date(A.start):null};v.writeStart=function(z,A){A.start=z?z.getTime():null};v.clone=function(){return new u({end:this.end,start:this.start})};v.equals=function(z){if(!z)return!1;
const A=e.isSome(this.start)?this.start.getTime():this.start,w=e.isSome(this.end)?this.end.getTime():this.end,y=e.isSome(z.start)?z.start.getTime():z.start;z=e.isSome(z.end)?z.end.getTime():z.end;return A===y&&w===z};v.expandTo=function(z){if(this.isEmpty||this.isAllTime)return this.clone();const A=e.andThen(this.start,y=>h.truncateDate(y,z)),w=e.andThen(this.end,y=>h.offsetDate(h.truncateDate(y,z),1,z));return new u({start:A,end:w})};v.intersection=function(z){if(!z)return this.clone();if(this.isEmpty||
z.isEmpty)return u.empty;if(this.isAllTime)return z.clone();if(z.isAllTime)return this.clone();var A=e.mapOr(this.start,-Infinity,C=>C.getTime());const w=e.mapOr(this.end,Infinity,C=>C.getTime()),y=e.mapOr(z.start,-Infinity,C=>C.getTime());z=e.mapOr(z.end,Infinity,C=>C.getTime());let x,B;y>=A&&y<=w?x=y:A>=y&&A<=z&&(x=A);w>=y&&w<=z?B=w:z>=A&&z<=w&&(B=z);return isNaN(x)||isNaN(B)?u.empty:(A=new u,A.start=-Infinity===x?null:new Date(x),A.end=Infinity===B?null:new Date(B),A)};v.offset=function(z,A){if(this.isEmpty||
this.isAllTime)return this.clone();const w=new u,{start:y,end:x}=this;e.isSome(y)&&(w.start=h.offsetDate(y,z,A));e.isSome(x)&&(w.end=h.offsetDate(x,z,A));return w};v.union=function(z){if(!z||z.isEmpty)return this.clone();if(this.isEmpty)return z.clone();if(this.isAllTime||z.isAllTime)return g.clone();const A=e.isSome(this.start)&&e.isSome(z.start)?new Date(Math.min(this.start.getTime(),z.start.getTime())):null;z=e.isSome(this.end)&&e.isSome(z.end)?new Date(Math.max(this.end.getTime(),z.end.getTime())):
null;return new u({start:A,end:z})};a._createClass(n,[{key:"isAllTime",get:function(){return this.equals(u.allTime)}},{key:"isEmpty",get:function(){return this.equals(u.empty)}}],[{key:"allTime",get:function(){return g}},{key:"empty",get:function(){return r}}]);return n}(c.JSONSupport);b.__decorate([l.property({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"end",void 0);b.__decorate([k.reader("end")],c.prototype,"readEnd",null);b.__decorate([p.writer("end")],c.prototype,"writeEnd",null);b.__decorate([l.property({readOnly:!0,
json:{read:!1}})],c.prototype,"isAllTime",null);b.__decorate([l.property({readOnly:!0,json:{read:!1}})],c.prototype,"isEmpty",null);b.__decorate([l.property({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"start",void 0);b.__decorate([k.reader("start")],c.prototype,"readStart",null);b.__decorate([p.writer("start")],c.prototype,"writeStart",null);c=u=b.__decorate([m.subclass("esri.TimeExtent")],c);const g=new c,r=new c({start:void 0,end:void 0});return c})},"esri/core/timeUtils":function(){define(["exports",
"./has"],function(a,b){function c(l,q,t){return 0===l?0:l*e[q]/e[t]}const e={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8},h={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",
setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};a.convertTime=c;a.makeUTCTime=function(l,q,t="milliseconds"){q=new Date(c(q,t,"milliseconds"));q.setUTCFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate());
return q};a.offsetDate=function(l,q,t){l=new Date(l.getTime());if(q&&t){const {getter:f,setter:k,multiplier:m}=h[t];l[k](l[f]()+q*m)}return l};a.offsetDateUTC=function(l,q,t="milliseconds"){l=l.getTime();q=c(q,t,"milliseconds");return new Date(l+q)};a.resetUTCDate=function(l,q){l=new Date(l.getTime());l.setUTCFullYear(q.getFullYear(),q.getMonth(),q.getDate());return l};a.timeSinceUTCMidnight=function(l,q="milliseconds"){const t=c(l.getUTCHours(),"hours","milliseconds"),f=c(l.getUTCMinutes(),"minutes",
"milliseconds"),k=c(l.getUTCSeconds(),"seconds","milliseconds");l=l.getUTCMilliseconds();return c(t+f+k+l,"milliseconds",q)};a.truncateDate=function(l,q){switch(q){case "milliseconds":return new Date(l.getTime());case "seconds":return new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds());case "minutes":return new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes());case "hours":return new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours());
case "days":return new Date(l.getFullYear(),l.getMonth(),l.getDate());case "weeks":return new Date(l.getFullYear(),l.getMonth(),l.getDate()-l.getDay());case "months":return new Date(l.getFullYear(),l.getMonth(),1);case "years":return new Date(l.getFullYear(),0,1);case "decades":return new Date(l.getFullYear()-l.getFullYear()%10,0,1);case "centuries":return new Date(l.getFullYear()-l.getFullYear()%100,0,1);default:return new Date}};a.truncateLocalTime=function(l){const q=new Date(0);q.setHours(0);
q.setMinutes(0);q.setSeconds(0);q.setMilliseconds(0);q.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate());return q};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../core/maybe","../core/urlUtils"],function(a,b,c){function e(u,g){var r=g&&g.url&&g.url.path;u&&r&&(u=c.makeAbsolute(u,r,{preserveProtocolRelative:!0}),g.portalItem&&g.readResourcePaths&&(r=c.makeRelative(u,g.portalItem.itemUrl),m.test(r)&&g.readResourcePaths.push(g.portalItem.resourceFromPath(r).path)));
return f(u,g&&g.portal)}function h(u,g,r=0){if(!u)return u;!c.isAbsolute(u)&&g&&g.blockedRelativeUrls&&g.blockedRelativeUrls.push(u);var d=c.makeAbsolute(u);if(g){var n=g.verifyItemRelativeUrls&&g.verifyItemRelativeUrls.rootPath||g.url&&g.url.path;n&&(n=f(n,g.portal),d=c.makeRelative(f(d,g.portal),n,n),d!==u&&g.verifyItemRelativeUrls&&g.verifyItemRelativeUrls.writtenUrls.push(d))}u=d;d=(d=g&&g.portal)&&!d.isPortal&&d.urlKey&&d.customBaseUrl?c.changeDomain(u,`${d.urlKey}.${d.customBaseUrl}`,d.portalHostname):
u;c.isAbsolute(d)&&(d=c.normalize(d));null!=g&&g.resources&&null!=g&&g.portalItem&&!c.isAbsolute(d)&&!c.isDataProtocol(d)&&0===r&&g.resources.toKeep.push({resource:g.portalItem.resourceFromPath(d)});return d}function l(u,g,r){return e(u,r)}function q(u,g,r,d){u=h(u,d);void 0!==u&&(g[r]=u)}function t(u){u=b.isSome(u)?u.match(k):null;return b.isSome(u)?u[1]:null}function f(u,g){if(!g||g.isPortal||!g.urlKey||!g.customBaseUrl)return u;const r=`${g.urlKey}.${g.customBaseUrl}`;return c.hasSameOrigin(c.appUrl,
`${c.appUrl.scheme}://${r}`)?c.changeDomain(u,g.portalHostname,r):c.changeDomain(u,r,g.portalHostname)}const k=/\/items\/([^\/]+)\/resources\//,m=/^\.\/resources\//,p=Object.freeze({__proto__:null,fromJSON:e,toJSON:h,read:l,write:q,itemIdFromResourceUrl:t});a.fromJSON=e;a.itemIdFromResourceUrl=t;a.persistableUrlUtils=p;a.read=l;a.toJSON=h;a.write=q})},"esri/support/timeUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../TimeExtent ../core/maybe ../core/promiseUtils ../core/timeUtils".split(" "),
function(a,b,c,e,h,l){function q(f){return void 0!==f.timeInfo}function t(){t=b._asyncToGenerator(function*(f,k){if(0===f.length)return c.allTime;const m=f.filter(q);yield Promise.all(m.map(g=>g.load({signal:k})));f=[];var p=[];for(var u of m)"feature"!==(null==u?void 0:u.type)&&"map-image"!==(null==u?void 0:u.type)||!u.timeInfo.hasLiveData?p.push(u):f.push(u);u=g=>e.isNone(g)||g.isAllTime;p=p.map(g=>g.timeInfo.fullTimeExtent);if(p.some(u))return c.allTime;f=f.map(function(){var g=b._asyncToGenerator(function*(r){const {timeExtent:d}=
yield r.fetchRecomputedExtents({signal:k});return d?d:e.unwrap(r.timeInfo.fullTimeExtent)});return function(r){return g.apply(this,arguments)}}());f=(yield h.eachAlways(f)).map(g=>g.value);return f.some(u)?c.allTime:f.concat(p).reduce((g,r)=>g.union(r))});return t.apply(this,arguments)}a.getTimeExtentFromLayers=function(f,k){return t.apply(this,arguments)};a.toLocalTimeExtent=function(f){if(!f)return f;const {start:k,end:m}=f;return new c({start:e.isSome(k)?l.offsetDate(k,k.getTimezoneOffset(),"minutes"):
k,end:e.isSome(m)?l.offsetDate(m,m.getTimezoneOffset(),"minutes"):m})};a.toUTCTimeExtent=function(f){if(!f)return f;const {start:k,end:m}=f;return new c({start:e.isSome(k)?l.offsetDate(k,-k.getTimezoneOffset(),"minutes"):k,end:e.isSome(m)?l.offsetDate(m,-m.getTimezoneOffset(),"minutes"):m})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/ElevationInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g){var r;q=c.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});c=new c.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});e=r=function(d){function n(){var z=d.apply(this,arguments)||this;z.offset=null;return z}a._inheritsLoose(n,d);var v=n.prototype;v.readFeatureExpressionInfo=function(z,A){if(null!=z)return z;if(A.featureExpression&&
0===A.featureExpression.value)return{expression:"0"}};v.writeFeatureExpressionInfo=function(z,A,w,y){A[w]=z.write({},y);"0"===z.expression&&(A.featureExpression={value:0})};v.write=function(z,A){return this.offset||this.mode||this.featureExpressionInfo||this.unit?d.prototype.write.call(this,z,A):null};v.clone=function(){return new r({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};a._createClass(n,[{key:"mode",
get:function(){const {offset:z,featureExpressionInfo:A}=this;return this._isOverridden("mode")?this._get("mode"):h.isSome(z)||A?"relative-to-ground":"on-the-ground"},set:function(z){this._override("mode",z)}},{key:"unit",set:function(z){this._set("unit",z)}}]);return n}(e.JSONSupport);b.__decorate([l.property({type:u,json:{write:!0}})],e.prototype,"featureExpressionInfo",void 0);b.__decorate([k.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],e.prototype,"readFeatureExpressionInfo",
null);b.__decorate([p.writer("featureExpressionInfo",{featureExpressionInfo:{type:u},"featureExpression.value":{type:[0]}})],e.prototype,"writeFeatureExpressionInfo",null);b.__decorate([l.property({type:q.apiValues,nonNullable:!0,json:{type:q.jsonValues,read:q.read,write:{writer:q.write,isRequired:!0}}})],e.prototype,"mode",null);b.__decorate([l.property({type:Number,json:{write:!0}})],e.prototype,"offset",void 0);b.__decorate([l.property({type:g.supportedUnits,json:{type:String,read:c.read,write:c.write}})],
e.prototype,"unit",null);return e=r=b.__decorate([m.subclass("esri.layers.support.ElevationInfo")],e)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldUtils".split(" "),function(a,b,c,e,h,l,q,t,f){var k;
c=k=function(m){function p(){return m.apply(this,arguments)||this}a._inheritsLoose(p,m);var u=p.prototype;u.collectRequiredFields=function(){var g=a._asyncToGenerator(function*(r,d){return f.collectArcadeFieldNames(r,d,this.expression)});return function(r,d){return g.apply(this,arguments)}}();u.clone=function(){return new k({expression:this.expression,title:this.title})};return p}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:String,
json:{write:!0}})],c.prototype,"title",void 0);return c=k=b.__decorate([t.subclass("esri.layers.support.FeatureExpressionInfo")],c)})},"esri/layers/support/fieldUtils":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../core/maybe ../../core/object ./domainUtils ../../support/arcadeOnDemand".split(" "),function(a,b,c,e,h,l,q,t){function f(T,X,ma){if(T)for(const Ca of T)(T=(T=l.getDeepValue(Ca,X))&&"function"!==typeof T&&ma.get(T))&&l.setDeepValue(Ca,T.name,
X)}function k(T,X){if(!T||!X)return[];O.clear();m(O,T,X);return Array.from(O).sort()}function m(T,X,ma){var Ca;if(ma)if(null!=X&&null!=(Ca=X.fields)&&Ca.length)if(ma.includes("*"))for(const {name:Ea}of X.fields)T.add(Ea);else for(const Ea of ma)p(T,X,Ea);else if(ma.includes("*"))T.clear(),T.add("*");else for(const Ea of ma)T.add(Ea)}function p(T,X,ma){"string"===typeof ma&&(X?(X=X.get(ma))&&T.add(X.name):T.add(ma))}function u(T,X,ma){return g.apply(this,arguments)}function g(){g=c._asyncToGenerator(function*(T,
X,ma){var Ca;if(ma){var {arcadeUtils:Ea}=yield t.loadArcade();ma=Ea.extractFieldNames(ma,null==X?void 0:null==(Ca=X.fields)?void 0:Ca.map(La=>La.name));for(const La of ma)p(T,X,La)}});return g.apply(this,arguments)}function r(T,X,ma){return d.apply(this,arguments)}function d(){d=c._asyncToGenerator(function*(T,X,ma){if(ma&&"1\x3d1"!==ma){ma=(yield new Promise((Ca,Ea)=>a(["../../core/sql/WhereClause"],Ca,Ea))).WhereClause.create(ma,X);if(!ma.isStandardized)throw new e("fieldUtils:collectFilterFields",
"Where clause is not standardized");m(T,X,ma.fieldNames)}});return d.apply(this,arguments)}function n(T,X){for(const ma of T)if(ma&&ma.valueType&&ma.valueType===X)return ma.name;return null}function v(){v=c._asyncToGenerator(function*(T){if(!T)return[];const X=new Set;yield z(X,T);return Array.from(X).sort()});return v.apply(this,arguments)}function z(T,X){return A.apply(this,arguments)}function A(){A=c._asyncToGenerator(function*(T,X){if(X){var ma=l.getDeepValue("elevationInfo.featureExpressionInfo",
X);if(ma)return ma.collectRequiredFields(T,X.fieldsIndex)}});return A.apply(this,arguments)}function w(T,X,ma){return y.apply(this,arguments)}function y(){y=c._asyncToGenerator(function*(T,X,ma){ma.outStatistic.onStatisticValueExpression?u(T,X,ma.outStatistic.onStatisticValueExpression):T.add(ma.outStatistic.onStatisticField)});return y.apply(this,arguments)}function x(){x=c._asyncToGenerator(function*(T,X,ma){var Ca,Ea;if(X&&ma&&"cluster"===ma.type){var La=[];null!=(Ca=ma.popupTemplate)&&Ca.expressionInfos&&
La.push(...ma.popupTemplate.expressionInfos.map(Pa=>u(T,X.fieldsIndex,Pa.expression)));if(Array.isArray(null==(Ea=ma.popupTemplate)?void 0:Ea.content)){Ca=ma.popupTemplate.content;for(const Pa of Ca)"expression"===Pa.type&&Pa.expressionInfo&&La.push(u(T,X.fieldsIndex,Pa.expressionInfo.expression))}ma.fields&&La.push(...ma.fields.map(Pa=>w(T,X.fieldsIndex,Pa)));yield Promise.all(La)}});return x.apply(this,arguments)}function B(){B=c._asyncToGenerator(function*(T,X,ma){X&&(X.timeInfo&&h.isSome(ma)&&
ma.timeExtent&&m(T,X.fieldsIndex,[X.timeInfo.startField,X.timeInfo.endField]),X.floorInfo&&m(T,X.fieldsIndex,[X.floorInfo.floorField]),h.isSome(ma)&&h.isSome(ma.where)&&(yield r(T,X.fieldsIndex,ma.where)))});return B.apply(this,arguments)}function C(){C=c._asyncToGenerator(function*(T,X,ma){X&&ma&&(yield Promise.all(ma.map(Ca=>D(T,X,Ca))))});return C.apply(this,arguments)}function D(T,X,ma){return J.apply(this,arguments)}function J(){J=c._asyncToGenerator(function*(T,X,ma){X&&ma&&(ma.valueExpression?
yield u(T,X.fieldsIndex,ma.valueExpression):ma.field&&p(T,X.fieldsIndex,ma.field))});return J.apply(this,arguments)}function I(){I=c._asyncToGenerator(function*(T){if(!T)return[];const X="timeInfo"in T&&T.timeInfo;return X?k(T.fieldsIndex,[T.trackIdField,X.startField,X.endField]):[]});return I.apply(this,arguments)}function N(){N=c._asyncToGenerator(function*(T){if(!T)return[];const X=new Set;yield L(X,T);return Array.from(X).sort()});return N.apply(this,arguments)}function L(T,X){return G.apply(this,
arguments)}function G(){G=c._asyncToGenerator(function*(T,X){const {labelingInfo:ma,fieldsIndex:Ca}=X;ma&&ma.length&&(yield Promise.all(ma.map(Ea=>F(T,Ca,Ea))))});return G.apply(this,arguments)}function F(T,X,ma){return E.apply(this,arguments)}function E(){E=c._asyncToGenerator(function*(T,X,ma){if(ma){var Ca=ma.getLabelExpression();ma=ma.where;"arcade"===Ca.type?yield u(T,X,Ca.expression):(Ca=Ca.expression.match(/{[^}]*}/g))&&Ca.forEach(Ea=>{p(T,X,Ea.slice(1,-1))});yield r(T,X,ma)}});return E.apply(this,
arguments)}function K(T){return"number"===typeof T&&!isNaN(T)&&isFinite(T)}function P(T){return null===T||K(T)}function W(T){return null===T||la(T)}function ia(T){return null!=T&&"string"===typeof T}function Z(T){return null===T||ia(T)}function V(){return!0}function qa(T,X){let ma;switch(T.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":ma=T.nullable?W:la;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":ma=
T.nullable?P:K;break;case "string":case "esriFieldTypeString":ma=T.nullable?Z:ia;break;default:ma=V}return 1===arguments.length?ma:ma(X)}function sa(T){return null!=T&&S.has(T.type)}function Ba(T,X){return T.nullable&&null===X?null:sa(T)&&!oa(T.type,Number(X))?b.NumericRangeValidationError.OUT_OF_RANGE:qa(T,X)?T.domain?q.validateDomainValue(T.domain,X):null:b.TypeValidationError.INVALID_TYPE}function oa(T,X){return(T="string"===typeof T?U(T):T)?T.isInteger?la(X)&&X>=T.min&&X<=T.max:X>=T.min&&X<=T.max:
!1}function U(T){switch(T){case "esriFieldTypeSmallInteger":case "small-integer":return M;case "esriFieldTypeInteger":case "integer":return R;case "esriFieldTypeSingle":case "single":return aa;case "esriFieldTypeDouble":case "double":return ba}}function ca(T,X,ma){if(!X||!X.attributes||!T){if(h.isSome(ma))for(var Ca of T)ma.add(Ca);return!0}X=X.attributes;Ca=!1;for(const Ea of T)if(!(Ea in X))if(Ca=!0,h.isSome(ma))ma.add(Ea);else break;return Ca}function va(){va=c._asyncToGenerator(function*(T,X){const ma=
new Set;for(const Ca of X)yield u(ma,T.fieldsIndex,Ca);return Array.from(ma).sort()});return va.apply(this,arguments)}const Aa="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),H=["field","normalizationField"],O=new Set,la=(()=>"isInteger"in Number?Number.isInteger:T=>"number"===typeof T&&isFinite(T)&&Math.floor(T)===T)(),Q=["integer","small-integer","single","double"],
S=new Set([...Q,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);b.NumericRangeValidationError=void 0;(b.NumericRangeValidationError||(b.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";b.TypeValidationError=void 0;(b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const M={min:-32768,max:32767,isInteger:!0},R={min:-2147483648,max:2147483647,isInteger:!0},
aa={min:-3.4E38,max:1.2E38,isInteger:!1},ba={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.collectArcadeFieldNames=u;b.collectElevationFields=z;b.collectFeatureReductionFields=function(T,X,ma){return x.apply(this,arguments)};b.collectField=p;b.collectFields=m;b.collectFilterFields=function(T,X,ma){return B.apply(this,arguments)};b.collectLabelingFields=L;b.collectOrderByInfos=function(T,X,ma){return C.apply(this,arguments)};b.doubleRange=ba;b.featureHasFields=function(T,X){return!ca(T,
X,null)};b.fixFields=k;b.fixRendererFields=function(T,X){if(null!=T&&null!=X)for(const ma of Array.isArray(T)?T:[T])if(f(Aa,ma,X),"visualVariables"in ma&&ma.visualVariables)for(const Ca of ma.visualVariables)f(H,Ca,X)};b.fixTimeInfoFields=function(T,X){if(null!=T&&null!=X&&X.fields.length)if("startField"in T){var ma=X.get(T.startField);X=X.get(T.endField);T.startField=ma&&ma.name||null;T.endField=X&&X.name||null}else ma=X.get(T.startTimeField),X=X.get(T.endTimeField),T.startTimeField=ma&&ma.name||
null,T.endTimeField=X&&X.name||null};b.getDisplayFieldName=function({displayField:T,fields:X}){if(T)return T;if(!X||!X.length)return null;if(!(T=n(X,"name-or-title")||n(X,"unique-identifier")||n(X,"type-or-category")))a:{for(const ma of X)if(ma&&ma.name&&(X=ma.name.toLowerCase(),-1<X.indexOf("name")||-1<X.indexOf("title"))){T=ma.name;break a}T=null}return T};b.getElevationFields=function(T){return v.apply(this,arguments)};b.getExpressionFields=function(T,X){return va.apply(this,arguments)};b.getFeatureEditFields=
function(T){if(!T)return[];const X="editFieldsInfo"in T&&T.editFieldsInfo;return X?k(T.fieldsIndex,[X&&X.creatorField,X&&X.creationDateField,X&&X.editorField,X&&X.editDateField]):[]};b.getFeatureGeometryFields=function(T){if(!T)return[];const X=T.geometryFieldsInfo;return X?k(T.fieldsIndex,[X.shapeAreaField,X.shapeLengthField]):[]};b.getFieldDefaultValue=function(T){const X=T.defaultValue;if(void 0!==X&&qa(T,X))return X;if(T.nullable)return null};b.getFieldRange=function(T){const X=q.getDomainRange(T.domain);
if(X)return X;if(sa(T))return U(T.type)};b.getLabelingFields=function(T){return N.apply(this,arguments)};b.getNumericTypeForValue=function(T){if(!K(T))return null;if(la(T)){if(T>=M.min&&T<=M.max)return"esriFieldTypeSmallInteger";if(T>=R.min&&T<=R.max)return"esriFieldTypeInteger"}return T>=aa.min&&T<=aa.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};b.getTimeFields=function(T){return I.apply(this,arguments)};b.integerRange=R;b.isDateField=function(T){return null!=T&&("date"===T.type||"esriFieldTypeDate"===
T.type)};b.isNumberInRange=oa;b.isNumericField=sa;b.isStringField=function(T){return null!=T&&("string"===T.type||"esriFieldTypeString"===T.type)};b.isValidFieldValue=function(T,X){return null===Ba(T,X)};b.isValueMatchingFieldType=qa;b.numericTypes=Q;b.packFields=function(T,X,ma=1){if(!X||!T)return[];if(X.includes("*"))return["*"];X=k(T,X);return X.length/T.fields.length>=ma?["*"]:X};b.populateMissingFields=ca;b.rendererFields=Aa;b.sanitizeNullFieldValue=function(T){return null==T||"number"===typeof T&&
isNaN(T)?null:T};b.singleRange=aa;b.smallIntegerRange=M;b.unpackFieldNames=function(T,X){return h.isNone(X)||h.isNone(T)?[]:X.includes("*")?T.fields.map(ma=>ma.name):X};b.validateFieldValue=Ba;b.validationErrorToString=function(T,X,ma){switch(T){case q.DomainValidationError.INVALID_CODED_VALUE:return`Value ${ma} is not in the coded domain - field: ${X.name}, domain: ${JSON.stringify(X.domain)}`;case q.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${ma} is out of the range of valid values - field: ${X.name}, domain: ${JSON.stringify(X.domain)}`;
case b.TypeValidationError.INVALID_TYPE:return`Value ${ma} is not a valid value for the field type - field: ${X.name}, type: ${X.type}, nullable: ${X.nullable}`;case b.NumericRangeValidationError.OUT_OF_RANGE:{const {min:Ca,max:Ea}=U(X.type);return`Value ${ma} is out of range for the number type - field: ${X.name}, type: ${X.type}, value range is ${Ca} to ${Ea}`}}};b.visualVariableFields=H;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/layers/support/domainUtils":function(){define(["exports"],
function(a){function b(c,e){switch(c.type){case "range":{const h="range"in c?c.range[1]:c.maxValue;if(+e<("range"in c?c.range[0]:c.minValue)||+e>h)return a.DomainValidationError.VALUE_OUT_OF_RANGE;break}case "coded-value":case "codedValue":if(null==c.codedValues||c.codedValues.every(h=>null==h||h.code!==e))return a.DomainValidationError.INVALID_CODED_VALUE}return null}a.DomainValidationError=void 0;(function(c){c.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";c.INVALID_CODED_VALUE=
"domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError={}));a.getDomainRange=function(c){if(c&&"range"===c.type)return{min:"range"in c?c.range[0]:c.minValue,max:"range"in c?c.range[1]:c.maxValue}};a.isValidDomainValue=function(c,e){return null===b(c,e)};a.validateDomainValue=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/arcadeOnDemand":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../geometry ../core/maybe ../geometry/SpatialReference".split(" "),
function(a,b,c,e,h,l){function q(){t||(t=c._asyncToGenerator(function*(){const k=yield new Promise((m,p)=>a(["./arcadeUtils"],m,p));return{arcade:k.arcade,arcadeUtils:k,Dictionary:k.Dictionary,Feature:k.arcadeFeature}})());return t}let t;e=(k,m,p)=>f.create(k,m,p,null,["$feature","$view"]);let f=function(){function k(p,u,g,r,d,n,v,z){this.script=p;this.evaluate=d;this.fields=Array.isArray(v)?v:v.fields;this._syntaxTree=r;this._arcade=u;this._arcadeDictionary=g;this._arcadeFeature=n;this._spatialReference=
z;this._referencesGeometry=u.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}k.create=function(){var p=c._asyncToGenerator(function*(u,g,r,d,n,v){const {arcade:z,Feature:A,Dictionary:w}=yield q(),y=l.fromJSON(g);g=z.parseScript(u,v);n=n.reduce((J,I)=>({...J,[I]:null}),{});let x=null;h.isSome(d)&&(x=new w(d),x.immutable=!0,n.$config=null);d=z.scriptUsesGeometryEngine(g)&&z.enableGeometrySupport();v=z.scriptUsesFeatureSet(g)&&z.enableFeatureSetSupport();
const B=z.scriptIsAsync(g)&&z.enableAsyncSupport();n={vars:n,spatialReference:y,useAsync:!!B};const C=new w;C.immutable=!1;C.setField("scale",0);const D=z.compileScript(g,n);yield Promise.all([d,v,B]);return new k(u,z,w,g,J=>{"$view"in J&&J.$view&&(C.setField("scale",J.$view.scale),J.$view=C);x&&(J.$config=x);return D({vars:J,spatialReference:y})},new A,r,y)});return function(u,g,r,d,n,v){return p.apply(this,arguments)}}();var m=k.prototype;m.repurposeFeature=function(p){p.geometry&&!p.geometry.spatialReference&&
(p.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(p.geometry,p.attributes,{fields:this.fields});return this._arcadeFeature};m.repurposeAdapter=function(p){this._arcadeFeature.repurposeFromAdapter(p,{fields:this.fields});return this._arcadeFeature};m.createDictionary=function(){return new this._arcadeDictionary};m.referencesMember=function(p){return this._arcade.referencesMember(this._syntaxTree,p)};m.referencesFunction=function(p){return this._arcade.referencesFunction(this._syntaxTree,
p)};m.referencesGeometry=function(){return this._referencesGeometry};m.referencesScale=function(){return this._referencesScale};m.extractFieldLiterals=function(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)};return k}();b.ArcadeExpression=f;b.createDictionaryExpression=(k,m,p,u)=>f.create(k,m,p,u,["$feature","$view"]);b.createLabelExpression=(k,m,p)=>f.create(k,m,p,null,["$feature"]);b.createRendererExpression=e;b.createVVExpression=e;b.default=f;b.loadArcade=q;Object.defineProperty(b,
"__esModule",{value:!0})})},"esri/symbols/support/unitConversionUtils":function(){define(["exports","../../renderers/support/lengthUtils"],function(a,b){const c=function(){const e=Object.keys(b.meterIn);e.sort();return e}();a.getMetersPerUnit=function(e){return 1/(b.meterIn[e]||1)};a.supportedUnits=c;a.supportsUnit=function(e){return null!=b.meterIn[e]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../core/unitUtils","../../geometry/support/Ellipsoid"],
function(a,b,c){b={inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,"meters","feet"),"us-feet":b.convertUnit(1,"meters","us-feet"),yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,"meters","miles"),"nautical-miles":b.convertUnit(1,"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),centimeters:b.convertUnit(1,"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),kilometers:b.convertUnit(1,
"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",c.earth.radius)};a.meterIn=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ./maybe ../geometry/projectionEllipsoid ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),function(a,b,c,e,h,l,q,t,f){function k(E){if(E=L[E])return E;throw Error("unknown measure");
}function m(E){return N[E].baseUnit}function p(E,K=null){K=K||k(E);return N[K].baseUnit===E}function u(E,K,P){if(K===P)return E;const W=k(K);if(W!==k(P))throw Error("incompatible units");E=p(K,W)?E:E*N[W].units[K].inBaseUnits;return p(P,W)?E:E/N[W].units[P].inBaseUnits}function g(E,K){return 3E3>u(E,K,"meters")?"meters":"kilometers"}function r(E,K){return 1E5>u(E,K,"meters")?"meters":"kilometers"}function d(E,K){return 1E3>u(E,K,"feet")?"feet":"miles"}function n(E,K){return 1E5>u(E,K,"feet")?"feet":
"miles"}function v(E){return I.fromJSON(E.toLowerCase())||null}function z(E,K=q.earth.metersPerDegree){return A(E,!0)||K}function A(E,K=!1){let P,W,ia=null;null!=E&&("object"===typeof E?(P=E.wkid,W=E.wkt):"number"===typeof E?P=E:"string"===typeof E&&(W=E));if(P){if(t.isWKIDFromMars(P))return q.mars.metersPerDegree;if(t.isWKIDFromMoon(P))return q.moon.metersPerDegree;ia=C.values[C[P]];!ia&&K&&J.has(P)&&(ia=x)}else W&&(/^PROJCS/i.test(W)?ia=w(B.exec(W),ia):/^GEOCCS/i.test(W)&&(ia=w(D.exec(W),ia)));
return ia}function w(E,K){return E&&E[1]?parseFloat(E[1].split(",")[1]):K}function y(E){var K=null;if(null!=E)if("object"===typeof E){var P=E.wkid;var W=E.wkt}else"number"===typeof E?P=E:"string"===typeof E&&(W=E);if(P)K=C.units[C[P]];else if(W&&(E=/^PROJCS/i.test(W)?B:/^GEOCCS/i.test(W)?D:null)&&(W=E.exec(W))&&W[1]&&(W=W[1],K=(K=/[\\"\\']{1}([^\\"\\']+)/.exec(W))&&K[1],!K||-1===C.units.indexOf(K)))for(W=parseFloat(W.split(",")[1]),K=null,E=C.values,P=0;P<E.length;++P)if(1E-7>Math.abs(W-E[P])){K=
C.units[P];break}return e.isSome(K)?v(K):null}const x=q.earth.radius*Math.PI/200,B=/UNIT\[([^\]]+)\]\]$/i,C=f,D=/UNIT\[([^\]]+)\]/i,J=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),I=c.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",
yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/
3937}};f={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(E=>E*E)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const N=
{length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:f},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",
units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},L=function(){const E={};for(const K in N)for(const P in N[K].units)E[P]=K;return E}(),G={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",
esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},F={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"};b=c.strict()(G);f=c.strict()(F);c=c.strict()({...G,...F});a.areaUnitsJSONMap=b;a.baseUnitForMeasure=m;a.baseUnitForUnit=function(E){return m(k(E))};a.convertUnit=u;a.getDefaultUnitSystem=function(E){if(!E)return null;
switch(y(E)){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getMetersPerUnit=A;a.getMetersPerUnitForSR=z;a.getMetersPerVerticalUnitForSR=function(E){if(E&&"object"===typeof E&&
!t.isEarth(E))return 1;E=z(E);return 1E5<E?1:E};a.getUnitString=y;a.getVerticalUnitStringForSR=function(E){const K=z(E),P=E instanceof l?h.getReferenceEllipsoid(E).metersPerDegree:1E5;return K>=P?"meters":y(E)};a.inchesPerMeter=39.37;a.isBaseUnit=p;a.isMeasurementSystem=function(E){return"imperial"===E||"metric"===E};a.lengthToDegrees=function(E,K,P){return u(E,K,"meters")/(P*Math.PI/180)};a.lengthUnitsJSONMap=f;a.measureForUnit=k;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");
a.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");a.preferredImperialAreaUnit=function(E,K){return 1E6>u(E,K,"square-feet")?"square-feet":"square-miles"};a.preferredImperialLengthUnit=d;a.preferredImperialVerticalLengthUnit=n;a.preferredLengthUnit=function(E,K,P){switch(P){case "metric":return g(E,K);case "imperial":return d(E,K);default:return P}};a.preferredMetricAreaUnit=function(E,K){return 3E6>u(E,K,"square-meters")?"square-meters":
"square-kilometers"};a.preferredMetricLengthUnit=g;a.preferredMetricVerticalLengthUnit=r;a.preferredVerticalLengthUnit=function(E,K,P){switch(P){case "metric":return r(E,K);case "imperial":return n(E,K);default:return P}};a.unitFromRESTJSON=v;a.unitToRESTJSON=function(E){return I.toJSON(E)||null};a.unitsJSONMap=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./SpatialReference","./support/Ellipsoid","./support/spatialReferenceUtils"],
function(a,b,c,e){function h(k){return new b({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${k.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const l=h(c.earth),q=h(c.mars),t=h(c.moon),f=new b({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${c.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});
a.SphericalECEFSpatialReference=l;a.SphericalPCPFMars=q;a.SphericalPCPFMoon=t;a.WGS84ECEFSpatialReference=f;a.createSphericalPCPF=h;a.getReferenceEllipsoid=function(k){return k&&(e.isMars(k)||k===q)?c.mars:k&&(e.isMoon(k)||k===t)?c.moon:c.earth};a.getReferenceEllipsoidFromWKID=function(k){return e.isWKIDFromMars(k)?c.mars:e.isWKIDFromMoon(k)?c.moon:c.earth};a.getSphericalPCPF=function(k){return k&&(e.isMars(k)||k===q)?q:k&&(e.isMoon(k)||k===t)?t:l};a.getSphericalPCPFForEllipsoid=function(k){return k&&
k===c.mars?q:k&&k===c.moon?t:l};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../kernel ../../request ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../portal/Portal ../../portal/PortalItem ../../portal/PortalUser".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y){const x=f.getLogger("esri.layers.mixins.PortalLayer");var B=null,C=null;b.PortalLayer=D=>{D=function(J){function I(){var L=J.apply(this,arguments)||this;L.resourceReferences={portalItem:null,paths:[]};L.userHasEditingPrivileges=!0;return L}c._inheritsLoose(I,J);var N=I.prototype;N.destroy=function(){var L;null==(L=this.portalItem)?void 0:L.destroy();this.portalItem=null};N.readPortalItem=function(L,G,F){if(G.itemId)return new w({id:G.itemId,portal:F&&
F.portal})};N.writePortalItem=function(L,G){L&&L.id&&(G.itemId=L.id)};N.loadFromPortal=function(){var L=c._asyncToGenerator(function*(G,F){if(this.portalItem&&this.portalItem.id)try{const E=yield new Promise((K,P)=>a(["../../portal/support/layersLoader"],K,P));m.throwIfAborted(F);return yield E.load({instance:this,supportedTypes:G.supportedTypes,validateItem:G.validateItem,supportsData:G.supportsData},F)}catch(E){throw m.isAbortError(E)||x.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${E}`),
E;}});return function(G,F){return L.apply(this,arguments)}}();N.finishLoadEditablePortalLayer=function(){var L=c._asyncToGenerator(function*(G){this._set("userHasEditingPrivileges",yield this.fetchUserHasEditingPrivileges(G).catch(F=>{m.throwIfAbortError(F);return!0}))});return function(G){return L.apply(this,arguments)}}();N.fetchUserHasEditingPrivileges=function(){var L=c._asyncToGenerator(function*(G){const F=this.url?null==h.id?void 0:h.id.findCredential(this.url):null;if(!F)return!0;G=B===F?
C:yield this.fetchEditingUser(G);B=F;C=G;return k.isNone(G)||null==G.privileges||G.privileges.includes("features:user:edit")});return function(G){return L.apply(this,arguments)}}();N.fetchEditingUser=function(){var L=c._asyncToGenerator(function*(G){var F,E;const K=null==(F=this.portalItem)?void 0:null==(E=F.portal)?void 0:E.user;if(K)return K;F=h.id.findServerInfo(this.url);if(null==F||!F.owningSystemUrl)return null;F=`${F.owningSystemUrl}/sharing/rest`;if((E=A.getDefault())&&E.loaded&&p.normalize(E.restUrl)===
p.normalize(F))return E.user;F=`${F}/community/self`;G=k.isSome(G)?G.signal:null;G=yield q.result(l(F,{authMode:"no-prompt",query:{f:"json"},signal:G}));return G.ok?y.fromJSON(G.value.data):null});return function(G){return L.apply(this,arguments)}}();N.read=function(L,G){G&&(G.layer=this);J.prototype.read.call(this,L,G)};N.write=function(L,G){const F=G&&G.portal,E=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||A.getDefault());return F&&E&&!p.hasSamePortal(E.restUrl,F.restUrl)?(G.messages&&
G.messages.push(new t("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):J.prototype.write.call(this,L,{...G,layer:this})};c._createClass(I,[{key:"portalItem",set:function(L){L!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",
L))}}]);return I}(D);e.__decorate([u.property({type:w})],D.prototype,"portalItem",null);e.__decorate([n.reader("web-document","portalItem",["itemId"])],D.prototype,"readPortalItem",null);e.__decorate([z.writer("web-document","portalItem",{itemId:{type:String}})],D.prototype,"writePortalItem",null);e.__decorate([u.property()],D.prototype,"resourceReferences",void 0);e.__decorate([u.property({readOnly:!0})],D.prototype,"userHasEditingPrivileges",void 0);return D=e.__decorate([v.subclass("esri.layers.mixins.PortalLayer")],
D)};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t){a.ScaleRangeLayer=f=>{f=function(k){function m(){var p=k.apply(this,arguments)||this;p.minScale=0;p.maxScale=0;return p}
b._inheritsLoose(m,k);b._createClass(m,[{key:"scaleRangeId",get:function(){return`${this.minScale},${this.maxScale}`}}]);return m}(f);c.__decorate([e.property({type:Number,nonNullable:!0,json:{write:!0}})],f.prototype,"minScale",void 0);c.__decorate([e.property({type:Number,nonNullable:!0,json:{write:!0}})],f.prototype,"maxScale",void 0);c.__decorate([e.property({readOnly:!0})],f.prototype,"scaleRangeId",null);return f=c.__decorate([t.subclass("esri.layers.mixins.ScaleRangeLayer")],f)};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./refresh".split(" "),function(a,b,c,e,h,l,q,t,f,k,m){a.RefreshableLayer=p=>{p=function(u){function g(...d){var n=u.call(this,...d)||this;
n.refreshInterval=0;n.refreshTimestamp=0;n._debounceHasDataChanged=h.debounce(()=>n.hasDataChanged());n.when().then(()=>{m.registerLayer(b._assertThisInitialized(n))},()=>{});return n}b._inheritsLoose(g,u);var r=g.prototype;r.destroy=function(){m.unregisterLayer(this)};r.refresh=function(d=Date.now()){h.ignoreAbortErrors(this._debounceHasDataChanged()).then(n=>{n&&this._set("refreshTimestamp",d);this.emit("refresh",{dataChanged:n})},n=>{e.getLogger(this.declaredClass).error(n);this.emit("refresh",
{dataChanged:!1,error:n})})};r.hasDataChanged=function(){var d=b._asyncToGenerator(function*(){return!0});return function(){return d.apply(this,arguments)}}();b._createClass(g,[{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}}]);return g}(p);c.__decorate([l.property({type:Number,cast:u=>.1<=u?u:0>=u?0:.1,json:{write:!0}})],p.prototype,"refreshInterval",void 0);c.__decorate([l.property({readOnly:!0})],p.prototype,"refreshTimestamp",void 0);c.__decorate([l.property()],
p.prototype,"refreshParameters",null);return p=c.__decorate([k.subclass("esri.layers.mixins.RefreshableLayer")],p)};a.isRefreshableLayer=function(p){return p&&"object"===typeof p&&"refreshTimestamp"in p&&"refresh"in p};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/refresh":function(){define(["exports","../../core/Collection","../../core/accessorSupport/watch","../../core/accessorSupport/trackingUtils"],function(a,b,c,e){function h(p){return p&&"object"===typeof p&&"refreshInterval"in
p&&"refresh"in p}function l(p,u){return Number.isFinite(p)&&Number.isFinite(u)?0>=u?p:l(u,p%u):0}function q(){const p=Date.now();for(const g of t)if(g.refreshInterval){var u;const r=null!=(u=f.get(g))?u:0;p-r+5>=6E4*g.refreshInterval&&(f.set(g,p),g.refresh(p))}}const t=new b,f=new WeakMap;let k=0,m=0;e.autorun(()=>{const p=Date.now();let u=0;for(const g of t)u=l(Math.round(6E4*g.refreshInterval),u),g.refreshInterval?f.get(g)||f.set(g,p):f.delete(g);u!==m&&(m=u,clearInterval(k),k=0===m?0:setInterval(q,
m))});a.registerLayer=function(p){h(p)&&t.push(p)};a.test={get hasRefreshTimer(){return 0<k},get tickInterval(){return m},forceRefresh(){q()},hasLayer(p){return h(p)&&t.includes(p)},clear(){for(const p of t)f.delete(p);t.removeAll()}};a.unregisterLayer=function(p){h(p)&&t.includes(p)&&t.remove(p)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/layersCreator":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Collection ../../core/has ../../core/promiseUtils ./lazyLayerLoader ../../portal/PortalItem ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers ../../renderers/support/styleUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k){function m(L,G,F){return p.apply(this,arguments)}function p(){p=b._asyncToGenerator(function*(L,G,F){if(G){var E=[];for(const K of G)G=u(K,F),"GroupLayer"===K.layerType?E.push(A(G,K,F)):E.push(G);E=yield h.eachAlways(E);for(const K of E)!K.value||F.filter&&!F.filter(K.value)||L.add(K.value)}});return p.apply(this,arguments)}function u(L,G){return g.apply(this,arguments)}function g(){g=b._asyncToGenerator(function*(L,G){const F=yield n(L,G);return r(F,L,G)});return g.apply(this,
arguments)}function r(L,G,F){return d.apply(this,arguments)}function d(){d=b._asyncToGenerator(function*(L,G,F){L=new L;L.read(G,F.context);"group"===L.type&&z(G)&&(yield y(L,G,F.context));yield k.loadStyleRenderer(L,F.context);return L});return d.apply(this,arguments)}function n(L,G){return v.apply(this,arguments)}function v(){v=b._asyncToGenerator(function*(L,G){var F=G.context;switch(F.origin){case "web-scene":switch(F.layerContainerType){case "basemap":var E=D;break;case "ground":E=C;break;default:E=
B}break;default:switch(F.layerContainerType){case "basemap":E=N;break;case "tables":E=I;break;default:E=J}}var K=E;E=L.layerType||L.type;!E&&G&&G.defaultLayerType&&(E=G.defaultLayerType);G=(G=K[E])?l.layerLookupMap[G]:l.layerLookupMap.UnknownLayer;F=F&&F.portal;"Feature Collection"===L.type?L.itemId&&(L=new q({id:L.itemId,portal:F}),yield L.load(),L=(yield f.selectLayerClassPath(L)).className||"UnknownLayer",G=l.layerLookupMap[L]):"ArcGISFeatureLayer"===E?(yield t.isMapNotesLayer(L,F))?G=l.layerLookupMap.MapNotesLayer:
(yield t.isRouteLayer(L,F))?G=l.layerLookupMap.RouteLayer:z(L)&&(G=l.layerLookupMap.GroupLayer):L.wmtsInfo&&L.wmtsInfo.url&&L.wmtsInfo.layerIdentifier?G=l.layerLookupMap.WMTSLayer:"WFS"===E&&"2.0.0"!==L.wfsInfo.version&&(G=l.layerLookupMap.UnsupportedLayer);return G()});return v.apply(this,arguments)}function z(L){if("ArcGISFeatureLayer"!==L.layerType||"Feature Collection"===L.type)return!1;L=L.featureCollection;return!!(L&&L.layers&&1<L.layers.length)}function A(L,G,F){return w.apply(this,arguments)}
function w(){w=b._asyncToGenerator(function*(L,G,F){const E=new c;G=m(E,Array.isArray(G.layers)?G.layers:[],F);L=yield L;yield G;if("group"===L.type)return L.layers.addMany(E),L});return w.apply(this,arguments)}function y(L,G,F){return x.apply(this,arguments)}function x(){x=b._asyncToGenerator(function*(L,G,F){const E=yield(0,l.layerLookupMap.FeatureLayer)();var K=G.featureCollection;const P=K.showLegend;K=K.layers.map((W,ia)=>{var Z,V;const qa=new E;qa.read(W,F);W={...F,ignoreDefaults:!0};qa.read({id:`${L.id}-sublayer-${ia}`,
visibility:null!=(Z=null==(V=G.visibleLayers)?void 0:V.includes(ia))?Z:!0},W);null!=P&&qa.read({showLegend:P},W);return qa});L.layers.addMany(K)});return x.apply(this,arguments)}const B={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",
ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"UnsupportedLayer"},C={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},D={ArcGISTiledMapServiceLayer:"TileLayer",
ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},J={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",
ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",OGCFeatureLayer:"OGCFeatureLayer",SubtypeGroupLayer:"UnsupportedLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},I={ArcGISFeatureLayer:"FeatureLayer"},N={ArcGISImageServiceLayer:"ImageryLayer",
ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};a.populateOperationalLayers=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/lazyLayerLoader":function(){define(["require",
"exports","../../chunks/_rollupPluginBabelHelpers"],function(a,b,c){const e=l=>Object.freeze({__proto__:null,default:l}),h={BingMapsLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../BingMapsLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),BuildingSceneLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../BuildingSceneLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,
arguments)}}(),CSVLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../CSVLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),ElevationLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../ElevationLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),FeatureLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../FeatureLayer"],
f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),GroupLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../GroupLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),GeoRSSLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../GeoRSSLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),GeoJSONLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,
t)=>a(["../GeoJSONLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),ImageryLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../ImageryLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),ImageryTileLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../ImageryTileLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),
IntegratedMeshLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../IntegratedMeshLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),KMLLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../KMLLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),MapImageLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../MapImageLayer"],
f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),MapNotesLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../MapNotesLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),OGCFeatureLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../OGCFeatureLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var l=
c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../OpenStreetMapLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),PointCloudLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../PointCloudLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),RouteLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../RouteLayer"],f=>q(e(f)),t))).default});
return function(){return l.apply(this,arguments)}}(),SceneLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../SceneLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),StreamLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../StreamLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),TileLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,
t)=>a(["../TileLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),UnknownLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../UnknownLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),UnsupportedLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../UnsupportedLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),VectorTileLayer:function(){var l=
c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../VectorTileLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),VoxelLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../VoxelLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),WebTileLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../WebTileLayer"],f=>q(e(f)),t))).default});
return function(){return l.apply(this,arguments)}}(),WFSLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../WFSLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),WMSLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,t)=>a(["../WMSLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}(),WMTSLayer:function(){var l=c._asyncToGenerator(function*(){return(yield new Promise((q,
t)=>a(["../WMTSLayer"],f=>q(e(f)),t))).default});return function(){return l.apply(this,arguments)}}()};b.layerLookupMap=h;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/portal/support/featureCollectionUtils":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../PortalItem","./portalItemUtils"],function(a,b,c,e){function h(q,t,f,k){return l.apply(this,arguments)}function l(){l=b._asyncToGenerator(function*(q,t,f,k){return!q.layerType||"ArcGISFeatureLayer"!==q.layerType||
q.url?!1:q.featureCollectionType&&q.featureCollectionType===f?!0:q.itemId?(q=new c({id:q.itemId,portal:t}),yield q.load(),"Feature Collection"===q.type&&e.hasTypeKeyword(q,k)):!1});return l.apply(this,arguments)}a.isMapNotesLayer=function(q,t){return h(q,t,"notes","Map Notes")};a.isRouteLayer=function(q,t){return h(q,t,"route","Route Layer")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/portalItemUtils":function(){define(["exports"],function(a){function b(c,e){return c.typeKeywords?
-1<c.typeKeywords.indexOf(e):!1}a.addTypeKeyword=function(c,e){if(!b(c,e)){const h=c.typeKeywords;h?h.push(e):c.typeKeywords=[e]}};a.hasTypeKeyword=b;a.removeTypeKeyword=function(c,e){if(c=c.typeKeywords)e=c.indexOf(e),-1<e&&c.splice(e,1)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/portalLayers":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../layers/support/lazyLayerLoader ../PortalItem ./layersLoader ./portalItemUtils ../../support/requestPresets".split(" "),
function(a,b,c,e,h,l,q,t){function f(w){switch(w.type){case "Map Service":return m(w);case "Feature Service":return p(w);case "Feature Collection":return g(w);case "Scene Service":return u(w);case "Image Service":return d(w);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "KML":return{className:"KMLLayer"};case "WFS":return{className:"WFSLayer"};case "WMTS":return{className:"WMTSLayer"};case "WMS":return{className:"WMSLayer"};
case "Feed":return{className:"StreamLayer"};default:return Promise.reject(new c("portal:unknown-item-type","Unknown item type '${type}'",{type:w.type}))}}function k(w){return(0,e.layerLookupMap[w.className])().then(y=>({constructor:y,properties:w.properties}))}function m(w){return v(w).then(y=>y?{className:"TileLayer"}:{className:"MapImageLayer"})}function p(w){return z(w).then(y=>{if("object"===typeof y){const x={};null!=y.id&&(x.layerId=y.id);return{className:"FeatureLayer",properties:x}}return{className:"GroupLayer"}})}
function u(w){return z(w).then(y=>{if("object"===typeof y){const x={};null!=y.id?(x.layerId=y.id,y=`${w.url}/layers/${y.id}`):y=w.url;if(Array.isArray(w.typeKeywords)&&0<w.typeKeywords.length){const B={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const C of Object.keys(B))if(-1!==w.typeKeywords.indexOf(C))return{className:B[C]}}return t.requestArcGISServiceJSON(y).then(B=>{let C="SceneLayer";const D=
{Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};B&&B.layerType&&D[B.layerType]&&(C=D[B.layerType]);return{className:C,properties:x}})}return!1===y?t.requestArcGISServiceJSON(w.url).then(x=>"Voxel"===(null==x?void 0:x.layerType)?{className:"VoxelLayer"}:{className:"GroupLayer"}):{className:"GroupLayer"}})}function g(w){return r.apply(this,arguments)}function r(){r=b._asyncToGenerator(function*(w){yield w.load();
if(q.hasTypeKeyword(w,"Map Notes"))return{className:"MapNotesLayer"};if(q.hasTypeKeyword(w,"Route Layer"))return{className:"RouteLayer"};w=yield w.fetchData();return 1===l.getNumLayersAndTables(w)?{className:"FeatureLayer"}:{className:"GroupLayer"}});return r.apply(this,arguments)}function d(w){return n.apply(this,arguments)}function n(){n=b._asyncToGenerator(function*(w){var y,x,B;yield w.load();const C=null!=(y=null==(x=w.typeKeywords)?void 0:x.map(D=>D.toLowerCase()))?y:[];if(-1<C.indexOf("elevation 3d layer"))return{className:"ElevationLayer"};
if(-1<C.indexOf("tiled imagery"))return{className:"ImageryTileLayer"};y=yield w.fetchData();y=null==y?void 0:y.layerType;return"ArcGISTiledImageServiceLayer"===y?{className:"ImageryTileLayer"}:"ArcGISImageServiceLayer"===y?{className:"ImageryLayer"}:"map"===(null==(B=(yield t.requestArcGISServiceJSON(w.url)).cacheType)?void 0:B.toLowerCase())?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}});return n.apply(this,arguments)}function v(w){return t.requestArcGISServiceJSON(w.url).then(y=>y.tileInfo)}
function z(w){return!w.url||w.url.match(/\/\d+$/)?Promise.resolve({}):w.load().then(()=>w.fetchData()).then(function(){var y=b._asyncToGenerator(function*(x){return"Feature Service"===w.type?(x=yield l.preprocessFSItemData(x,w.url),A(x)):0<l.getNumLayersAndTables(x)?A(x):t.requestArcGISServiceJSON(w.url).then(A)});return function(x){return y.apply(this,arguments)}}())}function A(w){return 1===l.getNumLayersAndTables(w)?{id:l.getFirstLayerOrTableId(w)}:!1}a.fromItem=function(w){!w.portalItem||w.portalItem instanceof
h||(w={...w,portalItem:new h(w.portalItem)});return w.portalItem.load().then(f).then(k).then(y=>Promise.resolve(new y.constructor({portalItem:w.portalItem,...y.properties})))};a.selectLayerClassPath=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/layersLoader":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../layers/support/lazyLayerLoader ../Portal ./jsonContext ../../renderers/support/styleUtils ../../support/requestPresets".split(" "),
function(a,b,c,e,h,l,q,t){function f(){f=b._asyncToGenerator(function*(w,y){var x=w.instance.portalItem;if(!x||!x.id)return Promise.resolve();yield x.load(y);x=w.instance.portalItem;if(-1===w.supportedTypes.indexOf(x.type))throw new c("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:x.type,expectedType:w.supportedTypes.join(", ")});return k(w,y)});return f.apply(this,arguments)}function k(w,y){return m.apply(this,arguments)}function m(){m=b._asyncToGenerator(function*(w,
y){const x=w.instance,B=x.portalItem,{url:C,title:D}=B,J=l.createForItem(B);if("group"===x.type)return x.read({title:D},J),p(x,w);C&&x.read({url:C},J);(w=yield d(w,y))&&x.read(w,J);x.resourceReferences={portalItem:B,paths:J.readResourcePaths};x.read({title:D},J);return q.loadStyleRenderer(x,J)});return m.apply(this,arguments)}function p(w,y){let x;const B=w.portalItem.type;switch(B){case "Feature Service":x=e.layerLookupMap.FeatureLayer;break;case "Stream Service":x=e.layerLookupMap.StreamLayer;break;
case "Scene Service":x=e.layerLookupMap.SceneLayer;break;case "Feature Collection":x=e.layerLookupMap.FeatureLayer;break;default:throw new c("portal:unsupported-item-type-as-group",`The item type '${B}' is not supported as a 'IGroupLayer'`);}let C;return x().then(D=>{C=D;return d(y)}).then(function(){var D=b._asyncToGenerator(function*(J){return"Feature Service"===B?(J=yield n(J,w.portalItem.url),g(w,C,J)):0<A(J)?g(w,C,J):u(w,C)});return function(J){return D.apply(this,arguments)}}())}function u(w,
y){return w.portalItem.url?t.requestArcGISServiceJSON(w.portalItem.url).then(x=>{function B(J){return{id:J.id,name:J.name}}var C,D;x&&g(w,y,{layers:null==(C=x.layers)?void 0:C.map(B),tables:null==(D=x.tables)?void 0:D.map(B)})}):Promise.resolve()}function g(w,y,x){let B=x.layers||[];const C=x.tables||[];"Feature Collection"===w.portalItem.type&&(B.forEach(D=>{var J;"Table"===(null==D?void 0:null==(J=D.layerDefinition)?void 0:J.type)&&C.push(D)}),B=B.filter(D=>{var J;return"Table"!==(null==D?void 0:
null==(J=D.layerDefinition)?void 0:J.type)}));B.reverse().forEach(D=>{D=r(w,y,x,D);w.add(D)});C.reverse().forEach(D=>{D=r(w,y,x,D);w.tables.add(D)})}function r(w,y,x,B){y=new y({portalItem:w.portalItem.clone(),layerId:B.id,sublayerTitleMode:"service-name"});"Feature Collection"===w.portalItem.type&&(w={origin:"portal-item",portal:w.portalItem.portal||h.getDefault()},y.read(B,w),x=x.showLegend,null!=x&&y.read({showLegend:x},w));return y}function d(w,y){if(!1===w.supportsData)return Promise.resolve(void 0);
const x=w.instance;return x.portalItem.fetchData("json",y).catch(()=>null).then(function(){var B=b._asyncToGenerator(function*(C){var D="stream"===x.type?!1:"layerId"in x;if(D){D=!0;if(C&&0<A(C)){null==x.layerId&&(x.layerId=z(C));a:{var J=x.layerId;var I=C.layers;if(I)for(var N=0;N<I.length;N++)if(I[N].id===J){J=I[N];break a}if(I=C.tables)for(N=0;N<I.length;N++)if(I[N].id===J){J=I[N];break a}J=null}J&&(1===A(C)&&(D=!1),null!=C.showLegend&&(J.showLegend=C.showLegend))}D&&"service-name"!==x.sublayerTitleMode&&
(x.sublayerTitleMode="item-title-and-service-name");return J}return C});return function(C){return B.apply(this,arguments)}}())}function n(w,y){return v.apply(this,arguments)}function v(){v=b._asyncToGenerator(function*(w,y){var x,B;if(null==(null==(x=w)?void 0:x.layers)||null==(null==(B=w)?void 0:B.tables))y=yield t.requestArcGISServiceJSON(y),w=w||{},w.layers=w.layers||(null==y?void 0:y.layers),w.tables=w.tables||(null==y?void 0:y.tables);return w});return v.apply(this,arguments)}function z(w){const y=
w.layers;return y&&y.length?y[0].id:(w=w.tables)&&w.length?w[0].id:null}function A(w){var y,x,B,C;const D=null!=(y=null==w?void 0:null==(x=w.layers)?void 0:x.length)?y:0;w=null!=(B=null==w?void 0:null==(C=w.tables)?void 0:C.length)?B:0;return D+w}a.getFirstLayerOrTableId=z;a.getNumLayersAndTables=A;a.load=function(w,y){return f.apply(this,arguments)};a.preprocessFSItemData=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/jsonContext":function(){define(["exports","../../core/urlUtils",
"../Portal"],function(a,b,c){a.createForItem=function(e){return{origin:"portal-item",url:b.urlToObject(e.itemUrl),portal:e.portal||c.getDefault(),portalItem:e,readResourcePaths:[]}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/styleUtils":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/asyncUtils","../../core/promiseUtils","../../core/Warning"],function(a,b,c,e,h){function l(){l=b._asyncToGenerator(function*(q,t,f){var k=q&&q.getAtOrigin&&
q.getAtOrigin("renderer",t.origin);k&&"unique-value"===k.type&&k.styleOrigin&&(k=yield c.result(k.populateFromStyle()),e.throwIfAborted(f),!1===k.ok&&(f=k.error,t&&t.messages&&t.messages.push(new h("renderer:style-reference",`Failed to create unique value renderer from style reference: ${f.message}`,{error:f,context:t})),q.clear("renderer",t.origin)))});return l.apply(this,arguments)}a.loadStyleRenderer=function(q,t,f){return l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/support/requestPresets":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../request"],function(a,b,c){function e(){e=b._asyncToGenerator(function*(h){({data:h}=yield c(h,{responseType:"json",query:{f:"json"}}));return h});return e.apply(this,arguments)}a.requestArcGISServiceJSON=function(h){return e.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/FeatureLayer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../PopupTemplate ../renderers/ClassBreaksRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/Renderer ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ../renderers/support/types ../request ../symbols ../core/Collection ../core/Error ../core/Handles ../core/has ../core/jsonMap ../core/Logger ../core/maybe ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/sql ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/extensions/serializableProperty/reader ../form/FormTemplate ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/APIKeyMixin ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/FeatureEffectLayer ./mixins/OperationalLayer ./mixins/OrderedLayer ./mixins/PortalLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/FeatureIndex ./support/featureReductionUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/fieldUtils ./support/GeometryFieldsInfo ./support/LabelClass ./support/labelingInfo ./support/LayerFloorInfo ./support/Relationship ./support/TimeInfo ./support/source/DataLayerSource ../renderers/support/styleUtils ../rest/support/AttachmentQuery ../rest/support/FeatureSet ../rest/support/Query ../rest/support/RelationshipQuery ../rest/support/TopFeaturesQuery ../support/popupUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x,B,C,D,J,I,N,L,G,F,E,K,P,W,ia,Z,V,qa,sa,Ba,oa,U,ca,va,Aa,H,O,la,Q,S,M,R,aa,ba,T,X,ma,Ca,Ea,La,Pa,ha,ua,wa,Ga,Ha,Oa,Xa,ea,na,ya){function ta(Va,cb,Na){return!(Va&&Va.hasOwnProperty(cb)?!Va[cb]:!Na)}function Fa(Va,cb,Na){return Va&&Va.hasOwnProperty(cb)?Va[cb]:Na}function Ia(Va,cb,Na){Va=!(null==Na||!Na.writeLayerSchema);return{enabled:Va,ignoreOrigin:Va}}const Ka=new A.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",
esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),Ua={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Za=w.getLogger("esri.layers.FeatureLayer");h=X.defineFieldProperties();x=function(Va){function cb(...ka){ka=Va.call(this,...ka)||this;ka._handles=new v;ka.capabilities=null;ka.charts=null;ka.copyright=null;ka.datesInUnknownTimezone=!1;ka.displayField=null;ka.definitionExpression=null;ka.dynamicDataSource=
null;ka.editFieldsInfo=null;ka.editingInfo=null;ka.elevationInfo=null;ka.featureReduction=null;ka.fields=null;ka.fieldsIndex=null;ka.floorInfo=null;ka.formTemplate=null;ka.fullExtent=null;ka.gdbVersion=null;ka.geometryFieldsInfo=null;ka.geometryType=null;ka.hasM=void 0;ka.hasZ=void 0;ka.heightModelInfo=null;ka.historicMoment=null;ka.infoFor3D=null;ka.isTable=!1;ka.labelsVisible=!0;ka.labelingInfo=null;ka.layerId=void 0;ka.legendEnabled=!0;ka.minScale=0;ka.maxScale=0;ka.globalIdField=null;ka.objectIdField=
null;ka.outFields=null;ka.path=null;ka.popupEnabled=!0;ka.popupTemplate=null;ka.relationships=null;ka.sourceJSON=null;ka.returnM=void 0;ka.returnZ=void 0;ka.screenSizePerspectiveEnabled=!0;ka.serviceDefinitionExpression=null;ka.spatialReference=Z.WGS84;ka.subtypeCode=null;ka.templates=null;ka.timeInfo=null;ka.title=null;ka.sublayerTitleMode="item-title";ka.trackIdField=null;ka.type="feature";ka.typeIdField=null;ka.types=null;ka.indexes=new (d.ofType(R.FeatureIndex));ka.userIsAdmin=!1;ka.version=void 0;
ka.visible=!0;return ka}b._inheritsLoose(cb,Va);var Na=cb.prototype;Na.destroy=function(){var ka;null==(ka=this.source)?void 0:ka.destroy();this._handles=y.destroyMaybe(this._handles)};Na.normalizeCtorArgs=function(ka,pa){return"string"===typeof ka?{url:ka,...pa}:ka};Na.load=function(ka){var pa=this;const Ja=y.isSome(ka)?ka.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)this.addResolvingPromise(this.createGraphicsSource(Ja).then(ab=>this._initLayerProperties(ab)));else{var Sa=
this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},ka).catch(C.throwIfAbortError).then(b._asyncToGenerator(function*(){if(pa.url&&null==pa.layerId&&/FeatureServer|MapServer\/*$/i.test(pa.url)){const ab=yield pa._fetchFirstLayerId(Ja);null!=ab&&(pa.layerId=ab)}if(!pa.url&&!pa._hasMemorySource())throw new n("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return pa._initLayerProperties(yield pa.createGraphicsSource(Ja))})).then(()=>
this.finishLoadEditablePortalLayer(ka));this.addResolvingPromise(Sa);return Promise.resolve(this)}};Na.readCapabilities=function(ka,pa){pa=pa.layerDefinition||pa;return{attachment:this._readAttachmentCapabilities(pa.attachmentProperties),data:this._readDataCapabilities(pa),metadata:this._readMetadataCapabilities(pa),operations:this._readOperationsCapabilities(pa.capabilities||ka,pa),query:this._readQueryCapabilities(pa),queryRelated:this._readQueryRelatedCapabilities(pa),editing:this._readEditingCapabilities(pa)}};
Na.readEditingEnabled=function(ka,pa){return this._readEditingEnabled(pa,!1)};Na.readEditingEnabledFromWebMap=function(ka,pa,Ja){return this._readEditingEnabled(pa,!0,Ja)};Na.writeEditingEnabled=function(ka,pa){this._writeEditingEnabled(ka,pa,!1)};Na.writeEditingEnabledToWebMap=function(ka,pa,Ja,Sa){this._writeEditingEnabled(ka,pa,!0,Sa)};Na.readEditingInfo=function(ka,pa){({editingInfo:ka}=pa);return ka?{lastEditDate:null!=ka.lastEditDate?new Date(ka.lastEditDate):null}:null};Na.readIsTable=function(ka,
pa){pa=pa&&pa.layerDefinition||pa;return"Table"===pa.type||!pa.geometryType};Na.writeIsTable=function(ka,pa,Ja,Sa){null!=Sa&&Sa.writeLayerSchema&&B.setDeepValue(Ja,ka?"Table":"Feature Layer",pa)};Na.readMinScale=function(ka,pa){return pa.effectiveMinScale||ka||0};Na.readMaxScale=function(ka,pa){return pa.effectiveMaxScale||ka||0};Na.readGlobalIdFieldFromService=function(ka,pa){pa=pa.layerDefinition||pa;if(pa.globalIdField)return pa.globalIdField;if(pa.fields)for(const Ja of pa.fields)if("esriFieldTypeGlobalID"===
Ja.type)return Ja.name};Na.readObjectIdFieldFromService=function(ka,pa){pa=pa.layerDefinition||pa;if(pa.objectIdField)return pa.objectIdField;if(pa.fields)for(const Ja of pa.fields)if("esriFieldTypeOID"===Ja.type)return Ja.name};Na.readRenderer=function(ka,pa,Ja){pa=pa.layerDefinition||pa;if(ka=pa.drawingInfo&&pa.drawingInfo.renderer||void 0)return(ka=p.read(ka,pa,Ja)||void 0)||Za.error("Failed to create renderer",{rendererDefinition:pa.drawingInfo.renderer,layer:this,context:Ja}),ka;if(pa.defaultSymbol)return pa.types&&
pa.types.length?new m({defaultSymbol:bb(pa.defaultSymbol,pa,Ja),field:pa.typeIdField,uniqueValueInfos:pa.types.map(Sa=>({id:Sa.id,symbol:bb(Sa.symbol,Sa,Ja)}))}):new k({symbol:bb(pa.defaultSymbol,pa,Ja)})};Na.castSource=function(ka){return ka?Array.isArray(ka)||ka instanceof d?new qa.default({layer:this,items:ka}):ka:null};Na.readSource=function(ka,pa){ka=Oa.fromJSON(pa.featureSet);return new qa.default({layer:this,items:ka&&ka.features||[]})};Na.readServiceDefinitionExpression=function(ka,pa){return pa.definitionQuery||
pa.definitionExpression};Na.readTemplates=function(ka,pa){var Ja=pa.editFieldsInfo;pa=Ja&&Ja.creatorField;Ja=Ja&&Ja.editorField;ka=ka&&ka.map(Sa=>ba.fromJSON(Sa));this._fixTemplates(ka,pa);this._fixTemplates(ka,Ja);return ka};Na.readTitle=function(ka,pa){ka=pa.layerDefinition&&pa.layerDefinition.name||pa.name;pa=pa.title||pa.layerDefinition&&pa.layerDefinition.title;if(ka){pa=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?S.titleFromUrlAndName(this.url,
ka):ka;if(!ka&&this.url){const Ja=S.parse(this.url);y.isSome(Ja)&&(ka=Ja.title)}if(!ka)return;"item-title-and-service-name"===this.sublayerTitleMode&&pa&&pa!==ka&&(ka=pa+" - "+ka);return S.cleanTitle(ka)}if("item-title"===this.sublayerTitleMode&&pa)return pa};Na.readTitleFromWebMap=function(ka,pa){return pa.title||pa.layerDefinition&&pa.layerDefinition.name};Na.readTypeIdField=function(ka,pa){pa=pa.layerDefinition||pa;let Ja=pa.typeIdField;Ja&&pa.fields&&(Ja=Ja.toLowerCase(),ka=pa.fields.find(Sa=>
Sa.name.toLowerCase()===Ja))&&(Ja=ka.name);return Ja};Na.readTypes=function(ka,pa){pa=pa.layerDefinition||pa;ka=pa.types;const Ja=(pa=pa.editFieldsInfo)&&pa.creatorField,Sa=pa&&pa.editorField;return ka&&ka.map(ab=>{ab=T.fromJSON(ab);this._fixTemplates(ab.templates,Ja);this._fixTemplates(ab.templates,Sa);return ab})};Na.writeUrl=function(ka,pa,Ja,Sa){S.writeUrlWithLayerId(this,ka,null,pa,Sa)};Na.readVersion=function(ka,pa){return pa.currentVersion?pa.currentVersion:pa.hasOwnProperty("capabilities")||
pa.hasOwnProperty("drawingInfo")||pa.hasOwnProperty("hasAttachments")||pa.hasOwnProperty("htmlPopupType")||pa.hasOwnProperty("relationships")||pa.hasOwnProperty("timeInfo")||pa.hasOwnProperty("typeIdField")||pa.hasOwnProperty("types")?10:9.3};Na.readVisible=function(ka,pa){if(pa.layerDefinition&&null!=pa.layerDefinition.defaultVisibility)return!!pa.layerDefinition.defaultVisibility;if(null!=pa.visibility)return!!pa.visibility};Na.addAttachment=function(ka,pa){return this.load().then(()=>this._checkAttachmentSupport(ka)).then(()=>
{if(!("addAttachment"in this.source))throw new n("FeatureLayer","Layer source does not support addAttachment capability");return this.source.addAttachment(ka,pa)})};Na.updateAttachment=function(ka,pa,Ja){return this.load().then(()=>this._checkAttachmentSupport(ka)).then(()=>{if(!("updateAttachment"in this.source))throw new n("FeatureLayer","Layer source does not support updateAttachment capability");return this.source.updateAttachment(ka,pa,Ja)})};Na.applyEdits=function(){var ka=b._asyncToGenerator(function*(pa,
Ja){const Sa=yield new Promise((ab,gb)=>a(["./graphics/editingSupport"],ab,gb));yield this.load();return Sa.applyEdits(this,this.source,pa,Ja)});return function(pa,Ja){return ka.apply(this,arguments)}}();Na.on=function(ka,pa){return Va.prototype.on.call(this,ka,pa)};Na.createPopupTemplate=function(ka){return ya.createPopupTemplate(this,ka)};Na.createGraphicsSource=function(){var ka=b._asyncToGenerator(function*(pa){if(this._hasMemorySource())return this.source.load({signal:pa});const {default:Ja}=
yield C.whenOrAbort(new Promise((Sa,ab)=>a(["./graphics/sources/FeatureLayerSource"],gb=>Sa(Object.freeze({__proto__:null,default:gb})),ab)),pa);return(new Ja({layer:this})).load({signal:pa})});return function(pa){return ka.apply(this,arguments)}}();Na.createQuery=function(){const ka=new Xa,pa=this.get("capabilities.data");ka.dynamicDataSource=this.dynamicDataSource;ka.gdbVersion=this.gdbVersion;ka.historicMoment=this.historicMoment;ka.returnGeometry=!0;pa&&(pa.supportsZ&&null!=this.returnZ&&(ka.returnZ=
this.returnZ),pa.supportsM&&null!=this.returnM&&(ka.returnM=this.returnM));ka.outFields=["*"];ka.where=this.definitionExpression||"1\x3d1";const {timeOffset:Ja,timeExtent:Sa}=this;ka.timeExtent=null!=Ja&&null!=Sa?Sa.offset(-Ja.value,Ja.unit):Sa||null;ka.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null;return ka};Na.deleteAttachments=function(ka,pa){return this.load().then(()=>this._checkAttachmentSupport(ka)).then(()=>{if(!("deleteAttachments"in this.source))throw new n("FeatureLayer",
"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(ka,pa)})};Na.fetchRecomputedExtents=function(ka){return this.load({signal:null==ka?void 0:ka.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(ka);throw new n("FeatureLayer","Layer source does not support fetchUpdates capability");})};Na.getFeatureType=function(ka){const {typeIdField:pa,types:Ja}=this;if(!pa||!ka)return null;const Sa=ka.attributes?ka.attributes[pa]:
void 0;if(null==Sa)return null;let ab=null;Ja.some(gb=>{const {id:ja}=gb;if(null==ja)return!1;ja.toString()===Sa.toString()&&(ab=gb);return!!ab});return ab};Na.getFieldDomain=function(ka,pa){return(pa=this.getFeatureType(pa&&pa.feature))&&(pa=pa.domains&&pa.domains[ka])&&"inherited"!==pa.type?pa:this._getLayerDomain(ka)};Na.getField=function(ka){return this.fieldsIndex.get(ka)};Na.queryAttachments=function(ka,pa){ka=Ha.from(ka);return this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new n("FeatureLayer",
"this layer doesn't support attachments");const {attachmentTypes:Ja,objectIds:Sa,globalIds:ab,num:gb,size:ja,start:Da,where:Y}=ka;if(!this.get("capabilities.operations.supportsQueryAttachments")){const fa=Ja&&Ja.length,da=ab&&ab.length,ra=ja&&ja.length;if(Sa&&1<Sa.length||fa||da||ra||gb||Da||Y)throw new n("FeatureLayer","when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",ka);}if(!(Sa&&Sa.length||Y))throw new n("FeatureLayer","'objectIds' or 'where' are required to perform attachment query",
ka);if(!("queryAttachments"in this.source))throw new n("FeatureLayer","Layer source does not support queryAttachments capability",ka);return this.source.queryAttachments(ka)})};Na.queryFeatures=function(ka,pa){return this.load().then(()=>this.source.queryFeatures(Xa.from(ka)||this.createQuery(),pa)).then(Ja=>{if(null!=Ja&&Ja.features)for(const Sa of Ja.features)Sa.layer=Sa.sourceLayer=this;return Ja})};Na.queryObjectIds=function(ka,pa){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(Xa.from(ka)||
this.createQuery(),pa);throw new n("FeatureLayer","Layer source does not support queryObjectIds capability");})};Na.queryFeatureCount=function(ka,pa){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(Xa.from(ka)||this.createQuery(),pa);throw new n("FeatureLayer","Layer source does not support queryFeatureCount capability");})};Na.queryExtent=function(ka,pa){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(Xa.from(ka)||
this.createQuery(),pa);throw new n("FeatureLayer","Layer source does not support queryExtent capability");})};Na.queryRelatedFeatures=function(ka,pa){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(ea.from(ka),pa);throw new n("FeatureLayer","Layer source does not support queryRelatedFeatures capability");})};Na.queryRelatedFeaturesCount=function(ka,pa){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(ea.from(ka),
pa);throw new n("FeatureLayer","Layer source does not support queryRelatedFeaturesCount capability");})};Na.queryTopFeatures=function(ka,pa){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(na.from(ka),pa).then(Ja=>{if(null!=Ja&&Ja.features)for(const Sa of Ja.features)Sa.layer=Sa.sourceLayer=this;return Ja});throw new n("FeatureLayer","Layer source does not support queryTopFeatures capability");
})};Na.queryTopObjectIds=function(ka,pa){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(na.from(ka),pa);throw new n("FeatureLayer","Layer source does not support queryTopObjectIds capability");})};Na.queryTopFeaturesExtent=function(ka,pa){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(na.from(ka),
pa);throw new n("FeatureLayer","Layer source does not support queryTopExtents capability");})};Na.queryTopFeatureCount=function(ka,pa){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(na.from(ka),pa);throw new n("FeatureLayer","Layer source does not support queryFeatureCount capability");})};Na.read=function(ka,pa){const Ja=ka.featureCollection;if(Ja){const Sa=Ja.layers;Sa&&1===Sa.length&&(Va.prototype.read.call(this,
Sa[0],pa),null!=Ja.showLegend&&Va.prototype.read.call(this,{showLegend:Ja.showLegend},pa))}Va.prototype.read.call(this,ka,pa);pa&&"service"===pa.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")};Na.write=function(ka,pa){var Ja,Sa;pa={...pa,writeLayerSchema:null!=(Ja=null==(Sa=pa)?void 0:Sa.writeLayerSchema)?Ja:this._hasMemorySource()};Ja=pa.origin;Sa=pa.layerContainerType;const ab=pa.messages;if(this.isTable){if("web-scene"===Ja||"web-map"===Ja&&"tables"!==Sa)return ab&&
ab.push(new n("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return ab&&ab.push(new n("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&"web-map"===Ja&&"tables"===Sa)return ab&&ab.push(new n("layer:unsupported",
`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return Va.prototype.write.call(this,ka,pa)};Na._readEditingEnabled=function(ka,pa,Ja){var Sa;let ab=null==(Sa=ka.layerDefinition)?void 0:Sa.capabilities;if(ab)return this._hasEditingCapability(ab);ab=ka.capabilities;if(pa&&"web-map"===(null==Ja?void 0:Ja.origin)&&!this._hasMemorySource()&&ab)return this._hasEditingCapability(ab)};Na._hasEditingCapability=
function(ka){return ka.toLowerCase().split(",").map(pa=>pa.trim()).includes("editing")};Na._writeEditingEnabled=function(ka,pa,Ja,Sa){if(!ka){var ab,gb;ka=null!=(ab=this.capabilities)&&null!=(gb=ab.operations)&&gb.supportsSync?"Query,Sync":"Query";B.setDeepValue("layerDefinition.capabilities",ka,pa);!Ja||null!=Sa&&Sa.writeLayerSchema||(pa.capabilities=ka)}};Na._checkAttachmentSupport=function(ka){const {attributes:pa}=ka,{objectIdField:Ja}=this;if(!this.get("capabilities.data.supportsAttachment"))return Promise.reject(new n("FeatureLayer",
"this layer doesn't support attachments"));if(!ka)return Promise.reject(new n("FeatureLayer","A feature is required to add/delete/update attachments"));if(!pa)return Promise.reject(new n("FeatureLayer","'attributes' are required on a feature to query attachments"));if(!pa[Ja])return Promise.reject(new n("FeatureLayer",`feature is missing the identifying attribute ${Ja}`))};Na._getLayerDomain=function(ka){return(ka=this.fieldsIndex.get(ka))?ka.domain:null};Na._fetchFirstLayerId=function(ka){return g(this.url,
{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:ka}).then(pa=>{if(pa=pa.data){if(Array.isArray(pa.layers)&&0<pa.layers.length)return pa.layers[0].id;if(Array.isArray(pa.tables)&&0<pa.tables.length)return pa.tables[0].id}})};Na._initLayerProperties=function(){var ka=b._asyncToGenerator(function*(pa){this._set("source",pa);pa.sourceJSON&&(this.sourceJSON=pa.sourceJSON,this.read(pa.sourceJSON,{origin:"service",url:this.parsedUrl}));this._verifySource();this._verifyFields();
ma.fixRendererFields(this.renderer,this.fieldsIndex);ma.fixTimeInfoFields(this.timeInfo,this.fieldsIndex);return Ga.loadStyleRenderer(this,{origin:"service"})});return function(pa){return ka.apply(this,arguments)}}();Na.hasDataChanged=function(){var ka=b._asyncToGenerator(function*(){var pa;if(null!=(pa=this.source)&&pa.refresh)try{var Ja;const {dataChanged:Sa,updates:ab}=yield null==(Ja=this.source)?void 0:Ja.refresh();y.isSome(ab)&&(this.sourceJSON={...this.sourceJSON,...ab},this.read(ab,{origin:"service",
url:this.parsedUrl}));if(Sa)return!0}catch{}if(this.definitionExpression)try{return(yield D.parseWhereClause(this.definitionExpression,this.fieldsIndex)).hasDateFunctions}catch{}return!1});return function(){return ka.apply(this,arguments)}}();Na._verifyFields=function(){const ka=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+ka+")");this.isTable||this._hasMemorySource()||-1!==ka.search(/\/FeatureServer\//i)||
this.fields&&this.fields.some(function(pa){return"geometry"===pa.type})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+ka+")")};Na._fixTemplates=function(ka,pa){ka&&ka.forEach(Ja=>{(Ja=Ja.prototype&&Ja.prototype.attributes)&&pa&&delete Ja[pa]})};Na._verifySource=function(){if(this._hasMemorySource()){if(this.url)throw new n("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url");
}else if(!this.url)throw new n("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");};Na._initMemorySource=function(ka){ka.forEach(pa=>{pa.layer=this;pa.sourceLayer=this});this._handles.add([ka.on("after-add",pa=>{pa.item.layer=this;pa.item.sourceLayer=this}),ka.on("after-remove",pa=>{pa.item.layer=null;pa.item.sourceLayer=null})],"fl-source")};Na._resetMemorySource=function(ka){ka.forEach(pa=>{pa.layer=null;pa.sourceLayer=null});this._handles.remove("fl-source")};
Na._hasMemorySource=function(){return!(this.url||!this.source)};Na._readAttachmentCapabilities=function(ka){const pa={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};ka&&Array.isArray(ka)&&ka.forEach(Ja=>{const Sa=Ua[Ja.name];Sa&&(pa[Sa]=!!Ja.isEnabled)});return pa};Na._readDataCapabilities=function(ka){return{isVersioned:ta(ka,"isDataVersioned",!1),supportsAttachment:ta(ka,"hasAttachments",!1),supportsM:ta(ka,"hasM",!1),supportsZ:ta(ka,"hasZ",!1)}};
Na._readMetadataCapabilities=function(ka){return{supportsAdvancedFieldProperties:ta(ka,"supportsFieldDescriptionProperty",!1)}};Na._readOperationsCapabilities=function(ka,pa){ka=ka?ka.toLowerCase().split(",").map(Da=>Da.trim()):[];const Ja=ka.includes("editing")&&!pa.datesInUnknownTimezone;let Sa=Ja&&ka.includes("create"),ab=Ja&&ka.includes("delete"),gb=Ja&&ka.includes("update");const ja=ka.includes("changetracking");!Ja||Sa||ab||gb||(Sa=ab=gb=!0);return{supportsCalculate:ta(pa,"supportsCalculate",
!1),supportsTruncate:ta(pa,"supportsTruncate",!1),supportsValidateSql:ta(pa,"supportsValidateSql",!1),supportsAdd:Sa,supportsDelete:ab,supportsEditing:Ja,supportsChangeTracking:ja,supportsQuery:ka.includes("query"),supportsQueryAttachments:ta(pa.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:ta(pa,"supportsAttachmentsResizing",!1),supportsSync:ka.includes("sync"),supportsUpdate:gb,supportsExceedsLimitStatistics:ta(pa,"supportsExceedsLimitStatistics",!1)}};Na._readQueryCapabilities=
function(ka){var pa;const Ja=ka.advancedQueryCapabilities,Sa=ka.ownershipBasedAccessControlForFeatures,ab=ka.archivingInfo;var gb=null==(pa=this.url)?void 0:pa.includes("MapServer");pa=!z("mapserver-pbf-enabled")&&gb&&10.81>this.version;gb=(ka.supportedQueryFormats||"").split(",").reduce((ja,Da)=>{(Da=Da.toLowerCase().trim())&&ja.add(Da);return ja},new Set);return{supportsStatistics:ta(Ja,"supportsStatistics",ka.supportsStatistics),supportsPercentileStatistics:ta(Ja,"supportsPercentileStatistics",
!1),supportsCentroid:ta(Ja,"supportsReturningGeometryCentroid",!1),supportsDistance:ta(Ja,"supportsQueryWithDistance",!1),supportsDistinct:ta(Ja,"supportsDistinct",ka.supportsAdvancedQueries),supportsExtent:ta(Ja,"supportsReturningQueryExtent",!1),supportsGeometryProperties:ta(Ja,"supportsReturningGeometryProperties",!1),supportsHavingClause:ta(Ja,"supportsHavingClause",!1),supportsOrderBy:ta(Ja,"supportsOrderBy",ka.supportsAdvancedQueries),supportsPagination:ta(Ja,"supportsPagination",!1),supportsQuantization:ta(ka,
"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:ta(ka,"supportsQuantizationEditMode",!1),supportsQueryGeometry:ta(ka,"supportsReturningQueryGeometry",!1),supportsResultType:ta(Ja,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:ta(Ja,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:ta(Ja,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:ta(ka,"useStandardizedQueries",!1),supportsTopFeaturesQuery:ta(Ja,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:ta(Sa,
"allowOthersToQuery",!0),supportsHistoricMoment:ta(ab,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!pa&&gb.has("pbf"),supportsDisjointSpatialRelationship:ta(Ja,"supportsDisjointSpatialRel",!1),supportsCacheHint:ta(Ja,"supportsQueryWithCacheHint",!1),maxRecordCountFactor:Fa(ka,"maxRecordCountFactor",void 0),maxRecordCount:Fa(ka,"maxRecordCount",void 0),standardMaxRecordCount:Fa(ka,"standardMaxRecordCount",void 0),tileMaxRecordCount:Fa(ka,"tileMaxRecordCount",void 0)}};Na._readQueryRelatedCapabilities=
function(ka){ka=ka.advancedQueryCapabilities;const pa=ta(ka,"supportsAdvancedQueryRelated",!1);return{supportsPagination:ta(ka,"supportsQueryRelatedPagination",!1),supportsCount:pa,supportsOrderBy:pa}};Na._readEditingCapabilities=function(ka){const pa=ka.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:ta(ka,"allowGeometryUpdates",!0),supportsGlobalId:ta(ka,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:ta(ka,"supportsReturnServiceEditsInSourceSR",
!1),supportsRollbackOnFailure:ta(ka,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:ta(ka,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:ta(ka,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:ta(pa,"allowAnonymousToDelete",!0),supportsDeleteByOthers:ta(pa,"allowOthersToDelete",!0),supportsUpdateByAnonymous:ta(pa,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:ta(pa,"allowOthersToUpdate",!0)}};b._createClass(cb,[{key:"createQueryVersion",get:function(){this.commitProperty("definitionExpression");
this.commitProperty("dynamicDataSource");this.commitProperty("timeExtent");this.commitProperty("timeOffset");this.commitProperty("geometryType");this.commitProperty("gdbVersion");this.commitProperty("historicMoment");this.commitProperty("returnZ");this.commitProperty("capabilities");this.commitProperty("returnM");return(this._get("createQueryVersion")||0)+1}},{key:"editingEnabled",get:function(){return this.loaded&&!this.capabilities.operations.supportsEditing?!1:this._isOverridden("editingEnabled")?
this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges},set:function(ka){null!=ka?this._override("editingEnabled",ka):this._clearOverride("editingEnabled")}},{key:"parsedUrl",get:function(){const ka=this.url?J.urlToObject(this.url):null;null!=ka&&(null!=this.dynamicDataSource?ka.path=J.join(ka.path,"dynamicLayer"):null!=this.layerId&&(ka.path=J.join(ka.path,this.layerId.toString())));return ka}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},
{key:"renderer",set:function(ka){ma.fixRendererFields(ka,this.fieldsIndex);this._set("renderer",ka)}},{key:"source",set:function(ka){const pa=this._get("source");pa!==ka&&(pa&&pa instanceof d&&this._resetMemorySource(pa),ka&&ka instanceof d&&this._initMemorySource(ka),this._set("source",ka))}},{key:"url",set:function(ka){ka=S.sanitizeUrlWithLayerId({layer:this,url:ka,nonStandardUrlAllowed:!0,logger:Za});this._set("url",ka.url);null!=ka.layerId&&this._set("layerId",ka.layerId)}}]);return cb}(ca.FeatureEffectLayer(oa.BlendLayer(Aa.OrderedLayer(Q.TemporalLayer(la.ScaleRangeLayer(O.RefreshableLayer(Ba.ArcGISService(va.OperationalLayer(H.PortalLayer(x.MultiOriginJSONMixin(U.CustomParametersMixin(sa.APIKeyMixin(V)))))))))))));
c.__decorate([I.property({readOnly:!0,json:{read:!1}})],x.prototype,"capabilities",void 0);c.__decorate([G.reader("service","capabilities","advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities datesInUnknownTimezone hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" "))],
x.prototype,"readCapabilities",null);c.__decorate([I.property({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],x.prototype,"charts",void 0);c.__decorate([I.property({readOnly:!0})],x.prototype,"createQueryVersion",null);c.__decorate([I.property({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],x.prototype,"copyright",void 0);c.__decorate([I.property({type:Boolean})],x.prototype,"datesInUnknownTimezone",void 0);
c.__decorate([I.property({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],x.prototype,"displayField",void 0);c.__decorate([I.property({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],x.prototype,"definitionExpression",void 0);c.__decorate([I.property({types:r.symbolTypes,readOnly:!0})],x.prototype,"defaultSymbol",void 0);c.__decorate([I.property({type:wa.DataLayerSource})],
x.prototype,"dynamicDataSource",void 0);c.__decorate([I.property({readOnly:!0})],x.prototype,"editFieldsInfo",void 0);c.__decorate([I.property({type:Boolean})],x.prototype,"editingEnabled",null);c.__decorate([G.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],x.prototype,"readEditingEnabled",null);c.__decorate([G.reader("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],x.prototype,"readEditingEnabledFromWebMap",null);c.__decorate([E.writer(["portal-item",
"web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],x.prototype,"writeEditingEnabled",null);c.__decorate([E.writer("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],x.prototype,"writeEditingEnabledToWebMap",null);c.__decorate([I.property({readOnly:!0})],x.prototype,"editingInfo",void 0);c.__decorate([G.reader("editingInfo")],x.prototype,"readEditingInfo",null);c.__decorate([I.property(M.elevationInfo)],x.prototype,"elevationInfo",
void 0);c.__decorate([I.property(aa.featureReductionProperty)],x.prototype,"featureReduction",void 0);c.__decorate([I.property({...h.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Ia}}}}})],x.prototype,"fields",void 0);c.__decorate([I.property(h.fieldsIndex)],x.prototype,"fieldsIndex",void 0);c.__decorate([I.property({type:Pa,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],
x.prototype,"floorInfo",void 0);c.__decorate([I.property({type:P,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],x.prototype,"formTemplate",void 0);c.__decorate([I.property({type:W,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],x.prototype,"fullExtent",void 0);c.__decorate([I.property()],x.prototype,"gdbVersion",void 0);c.__decorate([I.property({readOnly:!0,type:Ca,json:{read:{source:"geometryProperties"}}})],x.prototype,"geometryFieldsInfo",
void 0);c.__decorate([I.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:Ka.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Ia,writer(Va,cb,Na){(Va=Va?Ka.toJSON(Va):null)&&B.setDeepValue(Na,Va,cb)}}}},read:{source:"layerDefinition.geometryType",reader:Ka.read}}})],x.prototype,"geometryType",void 0);c.__decorate([I.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],
x.prototype,"hasM",void 0);c.__decorate([I.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],x.prototype,"hasZ",void 0);c.__decorate([I.property({readOnly:!0,type:ia})],x.prototype,"heightModelInfo",void 0);c.__decorate([I.property({type:Date})],x.prototype,"historicMoment",void 0);c.__decorate([I.property(M.id)],x.prototype,"id",void 0);c.__decorate([I.property({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],x.prototype,"infoFor3D",void 0);
c.__decorate([I.property({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],x.prototype,"isTable",void 0);c.__decorate([G.reader("service","isTable",["type","geometryType"]),G.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],x.prototype,"readIsTable",null);c.__decorate([E.writer("web-map","isTable")],x.prototype,"writeIsTable",null);c.__decorate([I.property(M.labelsVisible)],x.prototype,"labelsVisible",void 0);c.__decorate([I.property({type:[Ea],
json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:La.reader},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:La.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],x.prototype,"labelingInfo",void 0);c.__decorate([I.property(M.opacityDrawingInfo)],x.prototype,"opacity",void 0);c.__decorate([I.property({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],x.prototype,"layerId",
void 0);c.__decorate([I.property(M.legendEnabled)],x.prototype,"legendEnabled",void 0);c.__decorate([I.property({type:["show","hide"]})],x.prototype,"listMode",void 0);c.__decorate([I.property(M.minScale)],x.prototype,"minScale",void 0);c.__decorate([G.reader("service","minScale",["minScale","effectiveMinScale"])],x.prototype,"readMinScale",null);c.__decorate([I.property(M.maxScale)],x.prototype,"maxScale",void 0);c.__decorate([G.reader("service","maxScale",["maxScale","effectiveMaxScale"])],x.prototype,
"readMaxScale",null);c.__decorate([I.property({type:String})],x.prototype,"globalIdField",void 0);c.__decorate([G.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),G.reader("service","globalIdField",["globalIdField","fields"])],x.prototype,"readGlobalIdFieldFromService",null);c.__decorate([I.property({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Ia}}}}})],x.prototype,"objectIdField",void 0);c.__decorate([G.reader("objectIdField",
["layerDefinition.objectIdField","layerDefinition.fields"]),G.reader("service","objectIdField",["objectIdField","fields"])],x.prototype,"readObjectIdFieldFromService",null);c.__decorate([I.property({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],x.prototype,"operationalLayerType",void 0);c.__decorate([I.property(h.outFields)],x.prototype,"outFields",void 0);c.__decorate([I.property({readOnly:!0})],x.prototype,"parsedUrl",null);c.__decorate([I.property({type:String,json:{origins:{"web-scene":{read:!0,
write:!0}},read:!1}})],x.prototype,"path",void 0);c.__decorate([I.property(M.popupEnabled)],x.prototype,"popupEnabled",void 0);c.__decorate([I.property({type:e,json:{name:"popupInfo",write:!0}})],x.prototype,"popupTemplate",void 0);c.__decorate([I.property({readOnly:!0})],x.prototype,"defaultPopupTemplate",null);c.__decorate([I.property({type:[ha],readOnly:!0})],x.prototype,"relationships",void 0);c.__decorate([I.property({types:u.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",
enabled:!1}},"web-scene":{types:u.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy(Va,cb,Na){return{ignoreOrigin:null==Na?void 0:Na.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(Va,cb,Na){return{ignoreOrigin:null==Na?void 0:Na.writeLayerSchema}}}}})],x.prototype,"renderer",null);c.__decorate([G.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),G.reader("renderer",["layerDefinition.drawingInfo.renderer",
"layerDefinition.defaultSymbol"])],x.prototype,"readRenderer",null);c.__decorate([I.property()],x.prototype,"sourceJSON",void 0);c.__decorate([I.property({type:Boolean})],x.prototype,"returnM",void 0);c.__decorate([I.property({type:Boolean})],x.prototype,"returnZ",void 0);c.__decorate([I.property(M.screenSizePerspectiveEnabled)],x.prototype,"screenSizePerspectiveEnabled",void 0);c.__decorate([I.property()],x.prototype,"source",null);c.__decorate([L.cast("source")],x.prototype,"castSource",null);c.__decorate([G.reader("portal-item",
"source",["featureSet"]),G.reader("web-map","source",["featureSet"])],x.prototype,"readSource",null);c.__decorate([I.property({readOnly:!0})],x.prototype,"serviceDefinitionExpression",void 0);c.__decorate([G.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],x.prototype,"readServiceDefinitionExpression",null);c.__decorate([I.property({type:Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],
x.prototype,"spatialReference",void 0);c.__decorate([I.property({type:Number})],x.prototype,"subtypeCode",void 0);c.__decorate([I.property({type:[ba]})],x.prototype,"templates",void 0);c.__decorate([G.reader("templates",["editFieldsInfo","creatorField","editorField","templates"])],x.prototype,"readTemplates",null);c.__decorate([I.property({type:ua})],x.prototype,"timeInfo",void 0);c.__decorate([I.property()],x.prototype,"title",void 0);c.__decorate([G.reader("service","title",["name"]),G.reader("portal-item",
"title",["layerDefinition.title","layerDefinition.name","title"])],x.prototype,"readTitle",null);c.__decorate([G.reader("web-map","title",["layerDefinition.name","title"])],x.prototype,"readTitleFromWebMap",null);c.__decorate([I.property({type:String})],x.prototype,"sublayerTitleMode",void 0);c.__decorate([I.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],x.prototype,"trackIdField",void 0);c.__decorate([I.property({json:{read:!1}})],x.prototype,"type",void 0);c.__decorate([I.property({type:String})],
x.prototype,"typeIdField",void 0);c.__decorate([G.reader("service","typeIdField"),G.reader("typeIdField",["layerDefinition.typeIdField"])],x.prototype,"readTypeIdField",null);c.__decorate([I.property({type:[T]})],x.prototype,"types",void 0);c.__decorate([G.reader("service","types",["types"]),G.reader("types",["layerDefinition.types"])],x.prototype,"readTypes",null);c.__decorate([I.property({readOnly:!0,json:{write:!1}})],x.prototype,"serverGens",void 0);c.__decorate([I.property({type:d.ofType(R.FeatureIndex),
readOnly:!0})],x.prototype,"indexes",void 0);c.__decorate([I.property(M.url)],x.prototype,"url",null);c.__decorate([E.writer("url")],x.prototype,"writeUrl",null);c.__decorate([I.property({readOnly:!0})],x.prototype,"userIsAdmin",void 0);c.__decorate([I.property({json:{origins:{service:{read:!0}},read:!1}})],x.prototype,"version",void 0);c.__decorate([G.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],
x.prototype,"readVersion",null);c.__decorate([I.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],x.prototype,"visible",void 0);c.__decorate([G.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],x.prototype,"readVisible",null);x=c.__decorate([F.subclass("esri.layers.FeatureLayer")],x);const bb=K.createTypeReader({types:r.symbolTypesRenderer});return x})},"esri/PopupTemplate":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/AttachmentsContent ./popup/content/FieldsContent ./popup/content/ExpressionContent ./popup/content/Content ./popup/content/CustomContent".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x,B,C,D,J,I,N,L){var G;w=c.ofType({key:"type",defaultKeyValue:"button",base:w,typeMap:{button:y,toggle:x}});const F={base:N,key:"type",typeMap:{media:B,custom:L,text:C,attachments:D,fields:J,expression:I}},E=l.getLogger("esri.PopupTemplate"),K=["attachments","fields","media","text","expression"];e=G=function(P){function W(){var Z=P.apply(this,arguments)||this;Z.actions=null;Z.content="";Z.expressionInfos=null;Z.fieldInfos=null;Z.layerOptions=null;
Z.lastEditInfoEnabled=!0;Z.outFields=null;Z.overwriteActions=!1;Z.returnGeometry=!1;Z.title="";Z.relatedRecordsInfo=null;return Z}a._inheritsLoose(W,P);var ia=W.prototype;ia.castContent=function(Z){if(Array.isArray(Z))return Z.map(V=>u.ensureOneOfType(F,V));if("string"===typeof Z||"function"===typeof Z||Z instanceof HTMLElement||q.isPromiseLike(Z))return Z;E.error("content error","unsupported content value",{value:Z});return null};ia.readContent=function(Z,V){({popupElements:Z}=V);return Array.isArray(Z)&&
0<Z.length?this._readPopupInfoElements(V):this._readPopupInfo(V)};ia.writeContent=function(Z,V,qa,sa){"string"===typeof Z?V.description=Z:Array.isArray(Z)&&(V.popupElements=Z.filter(Ba=>-1!==K.indexOf(Ba.type)).map(Ba=>Ba&&Ba.toJSON(sa)),V.popupElements.forEach(Ba=>{"attachments"===Ba.type?this._writeAttachmentContent(V):"media"===Ba.type?this._writeMediaContent(Ba,V):"text"===Ba.type&&this._writeTextContent(Ba,V)}))};ia.writeFieldInfos=function(Z,V,qa,sa){({content:qa}=this);qa=Array.isArray(qa)?
qa:null;if(Z){const Ba=qa?qa.filter(U=>"fields"===U.type):[],oa=Ba.length&&Ba.every(U=>{var ca;return null==(ca=U.fieldInfos)?void 0:ca.length});V.fieldInfos=Z.filter(Boolean).map(U=>{U=U.toJSON(sa);oa&&(U.visible=!1);return U})}if(qa)for(const Ba of qa)"fields"===Ba.type&&this._writeFieldsContent(Ba,V)};ia.writeLayerOptions=function(Z,V,qa,sa){V[qa]=!Z||null===Z.showNoDataRecords&&null===Z.returnTopmostRaster?null:Z.toJSON(sa)};ia.writeTitle=function(Z,V){V.title=Z||""};ia.clone=function(){var {actions:Z}=
this;Z=Z?h.clone(Z.toArray()):[];return new G({actions:Z,content:Array.isArray(this.content)?h.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?h.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?h.clone(this.fieldInfos):null,layerOptions:this.layerOptions?h.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?h.clone(this.outFields):null,overwriteActions:this.overwriteActions,
returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?h.clone(this.relatedRecordsInfo):null})};ia.collectRequiredFields=function(){var Z=a._asyncToGenerator(function*(V,qa){yield this._collectExpressionInfoFields(V,qa,this._getContentExpressionInfos(this.content,this.expressionInfos));g.collectFields(V,qa,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])});return function(V,
qa){return Z.apply(this,arguments)}}();ia.getRequiredFields=function(){var Z=a._asyncToGenerator(function*(V){const qa=new Set;yield this.collectRequiredFields(qa,V);return[...qa].sort()});return function(V){return Z.apply(this,arguments)}}();ia._writeFieldsContent=function(Z,V){Array.isArray(Z.fieldInfos)&&Z.fieldInfos.length&&(Z=h.clone(Z.fieldInfos),Array.isArray(V.fieldInfos)?Z.forEach(qa=>{const sa=V.fieldInfos.find(Ba=>Ba.fieldName.toLowerCase()===qa.fieldName.toLowerCase());sa?sa.visible=!0:
V.fieldInfos.push(qa)}):V.fieldInfos=Z)};ia._writeAttachmentContent=function(Z){Z.showAttachments||(Z.showAttachments=!0)};ia._writeTextContent=function(Z,V){!V.description&&Z.text&&(V.description=Z.text)};ia._writeMediaContent=function(Z,V){Array.isArray(Z.mediaInfos)&&Z.mediaInfos.length&&(Z=h.clone(Z.mediaInfos),Array.isArray(V.mediaInfos)?V.mediaInfos=[...V.mediaInfos,...Z]:V.mediaInfos=Z)};ia._readPopupInfoElements=function({description:Z,mediaInfos:V,popupElements:qa}){var sa=!1,Ba=!1;return qa.map(oa=>
{if("media"===oa.type)return oa.mediaInfos||!V||Ba||(oa.mediaInfos=V,Ba=!0),B.fromJSON(oa);if("text"===oa.type)return oa.text||!Z||sa||(oa.text=Z,sa=!0),C.fromJSON(oa);if("attachments"===oa.type)return D.fromJSON(oa);if("fields"===oa.type)return J.fromJSON(oa);if("expression"===oa.type)return I.fromJSON(oa)}).filter(Boolean)};ia._readPopupInfo=function({description:Z,mediaInfos:V,showAttachments:qa}){const sa=[];Z?sa.push(new C({text:Z})):sa.push(new J);Array.isArray(V)&&V.length&&sa.push(B.fromJSON({mediaInfos:V}));
qa&&sa.push(D.fromJSON({displayType:"auto"}));return sa.length?sa:Z};ia._getContentElementFields=function(Z){var V=null==Z?void 0:Z.type;return"attachments"===V?[...this._extractFieldNames(Z.title),...this._extractFieldNames(Z.description)]:"custom"===V?Z.outFields||[]:"fields"===V?[...this._extractFieldNames(Z.title),...this._extractFieldNames(Z.description),...this._getFieldInfoFields(Z.fieldInfos||this.fieldInfos)]:"media"===V?(V=Z.mediaInfos||[],[...this._extractFieldNames(Z.title),...this._extractFieldNames(Z.description),
...V.reduce((qa,sa)=>[...qa,...this._getMediaInfoFields(sa)],[])]):"text"===V?this._extractFieldNames(Z.text):[]};ia._getMediaInfoFields=function(Z){const {caption:V,title:qa,value:sa}=Z,{fields:Ba=[],normalizeField:oa,tooltipField:U,sourceURL:ca,linkURL:va}=sa||{};Z=[...this._extractFieldNames(qa),...this._extractFieldNames(V),...this._extractFieldNames(ca),...this._extractFieldNames(va),...Ba];oa&&Z.push(oa);U&&Z.push(U);return Z};ia._getContentExpressionInfos=function(Z,V){return Array.isArray(Z)?
Z.reduce((qa,sa)=>[...qa,..."expression"===sa.type&&sa.expressionInfo?[sa.expressionInfo]:[]],V||[]):[]};ia._getContentFields=function(Z){return"string"===typeof Z?this._extractFieldNames(Z):Array.isArray(Z)?Z.reduce((V,qa)=>[...V,...this._getContentElementFields(qa)],[]):[]};ia._collectExpressionInfoFields=function(){var Z=a._asyncToGenerator(function*(V,qa,sa){sa&&(yield Promise.all(sa.map(Ba=>g.collectArcadeFieldNames(V,qa,Ba.expression))))});return function(V,qa,sa){return Z.apply(this,arguments)}}();
ia._getFieldInfoFields=function(Z){return Z?Z.filter(V=>"undefined"===typeof V.visible?!0:!!V.visible).map(V=>V.fieldName).filter(V=>-1===V.indexOf("relationships/")&&-1===V.indexOf("expression/")):[]};ia._getActionsFields=function(Z){return Z?Z.toArray().reduce((V,qa)=>[...V,...this._getActionFields(qa)],[]):[]};ia._getActionFields=function(Z){const {className:V,title:qa,type:sa}=Z;Z="button"===sa||"toggle"===sa?Z.image:"";return[...this._extractFieldNames(qa),...this._extractFieldNames(V),...this._extractFieldNames(Z)]};
ia._getTitleFields=function(Z){return"string"===typeof Z?this._extractFieldNames(Z):[]};ia._extractFieldNames=function(Z){if(!Z||"string"!==typeof Z)return[];Z=Z.match(/{[^}]*}/g);if(!Z)return[];const V=/\{(\w+):.+\}/;return(Z=Z.filter(qa=>!(0===qa.indexOf("{relationships/")||0===qa.indexOf("{expression/"))).map(qa=>qa.replace(V,"{$1}")))?Z.map(qa=>qa.slice(1,-1)):[]};return W}(e.JSONSupport);b.__decorate([t.property({type:w})],e.prototype,"actions",void 0);b.__decorate([t.property()],e.prototype,
"content",void 0);b.__decorate([f.cast("content")],e.prototype,"castContent",null);b.__decorate([k.reader("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],e.prototype,"readContent",null);b.__decorate([p.writer("content",{popupElements:{type:c.ofType(r.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:c.ofType(A.types)},description:{type:String}})],e.prototype,"writeContent",null);b.__decorate([t.property({type:[d],json:{write:!0}})],e.prototype,
"expressionInfos",void 0);b.__decorate([t.property({type:[n]})],e.prototype,"fieldInfos",void 0);b.__decorate([p.writer("fieldInfos")],e.prototype,"writeFieldInfos",null);b.__decorate([t.property({type:v})],e.prototype,"layerOptions",void 0);b.__decorate([p.writer("layerOptions")],e.prototype,"writeLayerOptions",null);b.__decorate([t.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],e.prototype,"lastEditInfoEnabled",void 0);b.__decorate([t.property()],
e.prototype,"outFields",void 0);b.__decorate([t.property()],e.prototype,"overwriteActions",void 0);b.__decorate([t.property()],e.prototype,"returnGeometry",void 0);b.__decorate([t.property({json:{type:String}})],e.prototype,"title",void 0);b.__decorate([p.writer("title")],e.prototype,"writeTitle",null);b.__decorate([t.property({type:z,json:{write:!0}})],e.prototype,"relatedRecordsInfo",void 0);return e=G=b.__decorate([m.subclass("esri.PopupTemplate")],e)})},"esri/popup/content":function(){define("exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/ExpressionContent ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),
function(a,b,c,e,h,l,q,t){const f={base:null,key:"type",typeMap:{attachment:b,media:q,text:t,expression:h,field:l}};a.AttachmentsContent=b;a.BaseContent=c;a.CustomContent=e;a.ExpressionContent=h;a.FieldsContent=l;a.MediaContent=q;a.TextContent=t;a.isContent=function(k){return k instanceof c};a.persistableTypes=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,h,l,q,t){var f;e=f=function(k){function m(p){p=k.call(this,p)||this;p.description=null;p.displayType=null;p.title=null;p.type="attachments";return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({description:this.description,displayType:this.displayType,title:this.title})};return m}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"description",void 0);b.__decorate([c.property({type:["auto","preview","list"],json:{write:!0}})],e.prototype,
"displayType",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"title",void 0);b.__decorate([c.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=f=b.__decorate([q.subclass("esri.popup.content.AttachmentsContent")],e)})},"esri/popup/content/Content":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){c=function(f){function k(m){m=f.call(this,m)||this;m.type=null;return m}a._inheritsLoose(k,f);return k}(c.JSONSupport);b.__decorate([e.property({type:"attachments custom fields media text expression".split(" "),readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.popup.content.Content")],c)})},"esri/popup/content/CustomContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,h,l,q){var t;h=t=function(f){function k(m){m=f.call(this,m)||this;m.creator=null;m.destroyer=null;m.outFields=null;m.type="custom";return m}a._inheritsLoose(k,f);k.prototype.clone=function(){return new t({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?c.clone(this.outFields):null})};return k}(q);b.__decorate([e.property()],h.prototype,"creator",void 0);b.__decorate([e.property()],h.prototype,"destroyer",void 0);b.__decorate([e.property()],h.prototype,
"outFields",void 0);b.__decorate([e.property({type:["custom"],readOnly:!0})],h.prototype,"type",void 0);return h=t=b.__decorate([l.subclass("esri.popup.content.CustomContent")],h)})},"esri/popup/content/ExpressionContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../ElementExpressionInfo ./Content".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;e=k=function(m){function p(u){u=m.call(this,u)||this;u.expressionInfo=null;u.type="expression";return u}a._inheritsLoose(p,m);p.prototype.clone=function(){var u;return new k({expressionInfo:null==(u=this.expressionInfo)?void 0:u.clone()})};return p}(f);b.__decorate([c.property({type:t,json:{write:!0}})],e.prototype,"expressionInfo",void 0);b.__decorate([c.property({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=k=b.__decorate([q.subclass("esri.popup.content.ExpressionContent")],
e)})},"esri/popup/ElementExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t){var f;c=f=function(k){function m(p){p=k.call(this,p)||this;p.title=null;p.expression=null;p.returnType="dictionary";return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({title:this.title,
expression:this.expression})};return m}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"returnType",void 0);return c=f=b.__decorate([t.subclass("esri.popup.ElementExpressionInfo")],c)})},"esri/popup/content/FieldsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../FieldInfo ./Content".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;h=k=function(m){function p(g){g=m.call(this,g)||this;g.attributes=null;g.description=null;g.fieldInfos=null;g.title=null;g.type="fields";return g}a._inheritsLoose(p,m);var u=p.prototype;u.writeFieldInfos=function(g,r){r.fieldInfos=g&&g.map(d=>d.toJSON())};u.clone=function(){return new k(c.clone({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))};return p}(f);b.__decorate([e.property({type:Object,json:{write:!0}})],
h.prototype,"attributes",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],h.prototype,"description",void 0);b.__decorate([e.property({type:[t]})],h.prototype,"fieldInfos",void 0);b.__decorate([q.writer("fieldInfos")],h.prototype,"writeFieldInfos",null);b.__decorate([e.property({type:String,json:{write:!0}})],h.prototype,"title",void 0);b.__decorate([e.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],h.prototype,"type",void 0);return h=k=b.__decorate([l.subclass("esri.popup.content.FieldsContent")],
h)})},"esri/popup/FieldInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./support/FieldInfoFormat".split(" "),function(a,b,c,e,h,l,q,t,f,k){var m;e=m=function(p){function u(g){g=p.call(this,g)||this;g.fieldName=null;g.format=null;g.isEditable=!1;g.label=
null;g.stringFieldOption="text-box";g.statisticType=null;g.tooltip=null;g.visible=!0;return g}a._inheritsLoose(u,p);u.prototype.clone=function(){return new m({fieldName:this.fieldName,format:this.format?h.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};return u}(e.JSONSupport);b.__decorate([l.property({type:String,json:{write:!0}})],e.prototype,"fieldName",void 0);
b.__decorate([l.property({type:k,json:{write:!0}})],e.prototype,"format",void 0);b.__decorate([l.property({type:Boolean,json:{write:!0,default:!1}})],e.prototype,"isEditable",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],e.prototype,"label",void 0);b.__decorate([t.enumeration(new c.JSONMap({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],e.prototype,"stringFieldOption",void 0);b.__decorate([l.property({type:"count sum min max avg stddev var".split(" "),
json:{write:!0}})],e.prototype,"statisticType",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],e.prototype,"tooltip",void 0);b.__decorate([l.property({type:Boolean,json:{write:!0}})],e.prototype,"visible",void 0);return e=m=b.__decorate([f.subclass("esri.popup.FieldInfo")],e)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../intl/date ../../intl/number".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){var u;e=u=function(g){function r(n){n=g.call(this,n)||this;n.dateFormat=null;n.dateTimeFormatOptions=null;n.digitSeparator=!1;n.places=null;return n}a._inheritsLoose(r,g);var d=r.prototype;d.clone=function(){return new u({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};d.format=function(n){return this.dateFormat?m.formatDate(n,{...m.convertDateFormatToIntlOptions(this.dateFormat),...this.dateTimeFormatOptions}):p.formatNumber(n,
p.convertNumberFormatToIntlOptions(this))};return r}(e.JSONSupport);b.__decorate([f.enumeration(c.dictionary)],e.prototype,"dateFormat",void 0);b.__decorate([h.property({type:Object,json:{read:!1}})],e.prototype,"dateTimeFormatOptions",void 0);b.__decorate([h.property({type:Boolean,json:{write:!0}})],e.prototype,"digitSeparator",void 0);b.__decorate([h.property({type:t.Integer,json:{write:!0}})],e.prototype,"places",void 0);return e=u=b.__decorate([k.subclass("esri.popup.support.FieldInfoFormat")],
e)})},"esri/core/date":function(){define(["exports","./jsonMap"],function(a,b){const c={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')",
"short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')",
"long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')",
"day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')","day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')",
"long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')","long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",
year:"(datePattern: 'y', selector: 'date')"};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",
longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",
longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});const e=b.toJSON.bind(b),h=b.fromJSON.bind(b);a.dictionary=b;a.formats=c;a.fromJSON=h;a.getFormat=function(l){return c[l]};a.toJSON=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/date":function(){define(["exports",
"../core/jsonMap","./locale"],function(a,b,c){function e(r){r=r||g;if(!u.has(r)){var d=c.getLocale();d=p[c.getLocale()]||d;u.set(r,new Intl.DateTimeFormat(d,r))}return u.get(r)}var h={year:"numeric",month:"numeric",day:"numeric"},l={year:"numeric",month:"long",day:"numeric"},q={year:"numeric",month:"short",day:"numeric"};const t={year:"numeric",month:"long",weekday:"long",day:"numeric"},f={hour:"numeric",minute:"numeric"},k={...f,second:"numeric"},m={"short-date":h,"short-date-short-time":{...h,...f},
"short-date-short-time-24":{...h,...f,hour12:!1},"short-date-long-time":{...h,...k},"short-date-long-time-24":{...h,...k,hour12:!1},"short-date-le":h,"short-date-le-short-time":{...h,...f},"short-date-le-short-time-24":{...h,...f,hour12:!1},"short-date-le-long-time":{...h,...k},"short-date-le-long-time-24":{...h,...k,hour12:!1},"long-month-day-year":l,"long-month-day-year-short-time":{...l,...f},"long-month-day-year-short-time-24":{...l,...f,hour12:!1},"long-month-day-year-long-time":{...l,...k},
"long-month-day-year-long-time-24":{...l,...k,hour12:!1},"day-short-month-year":q,"day-short-month-year-short-time":{...q,...f},"day-short-month-year-short-time-24":{...q,...f,hour12:!1},"day-short-month-year-long-time":{...q,...k},"day-short-month-year-long-time-24":{...q,...k,hour12:!1},"long-date":t,"long-date-short-time":{...t,...f},"long-date-short-time-24":{...t,...f,hour12:!1},"long-date-long-time":{...t,...k},"long-date-long-time-24":{...t,...k,hour12:!1},"long-month-year":{month:"long",year:"numeric"},
"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":f,"long-time":k};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",
longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",
dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});h=b.apiValues;l=b.toJSON.bind(b);q=b.fromJSON.bind(b);const p={ar:"ar-u-nu-latn-ca-gregory"};let u=new WeakMap,g=m["short-date-short-time"];c.beforeLocaleChange(()=>{u=
new WeakMap;g=m["short-date-short-time"]});a.convertDateFormatToIntlOptions=function(r){return m[r]||null};a.dateFormats=h;a.dictionary=b;a.formatDate=function(r,d){return e(d).format(r)};a.fromJSON=q;a.getDateTimeFormatter=e;a.toJSON=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/number":function(){define(["exports","../core/maybe","./locale"],function(a,b,c){function e(t){const f=t||q;if(!l.has(f)){var k=c.getLocale();k=h[c.getLocale()]||k;l.set(f,new Intl.NumberFormat(k,t))}return b.assumeNonNull(l.get(f))}
const h={ar:"ar-u-nu-latn"};let l=new WeakMap,q={};c.beforeLocaleChange(()=>{l=new WeakMap;q={}});a.convertNumberFormatToIntlOptions=function(t={}){const f={};null!=t.digitSeparator&&(f.useGrouping=t.digitSeparator);null!=t.places&&(f.minimumFractionDigits=f.maximumFractionDigits=t.places);return f};a.formatNumber=function(t,f){return e(f).format(t)};a.getFormatter=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/MediaContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r){var d;h=d=function(n){function v(A){A=n.call(this,A)||this;A.activeMediaInfoIndex=null;A.attributes=null;A.description=null;A.mediaInfos=null;A.title=null;A.type="media";return A}a._inheritsLoose(v,n);var z=v.prototype;z.readMediaInfos=function(A){return A&&A.map(w=>{if("image"===w.type)return p.fromJSON(w);if("barchart"===w.type)return f.fromJSON(w);if("columnchart"===w.type)return k.fromJSON(w);if("linechart"===w.type)return u.fromJSON(w);if("piechart"===
w.type)return g.fromJSON(w)}).filter(Boolean)};z.writeMediaInfos=function(A,w){w.mediaInfos=A&&A.map(y=>y.toJSON())};z.clone=function(){return new d(c.clone({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))};return v}(m);b.__decorate([e.property()],h.prototype,"activeMediaInfoIndex",void 0);b.__decorate([e.property({type:Object,json:{write:!0}})],h.prototype,"attributes",void 0);b.__decorate([e.property({type:String,
json:{write:!0}})],h.prototype,"description",void 0);b.__decorate([e.property({types:[r.types]})],h.prototype,"mediaInfos",void 0);b.__decorate([l.reader("mediaInfos")],h.prototype,"readMediaInfos",null);b.__decorate([t.writer("mediaInfos")],h.prototype,"writeMediaInfos",null);b.__decorate([e.property({type:String,json:{write:!0}})],h.prototype,"title",void 0);b.__decorate([e.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],h.prototype,"type",void 0);return h=d=b.__decorate([q.subclass("esri.popup.content.MediaContent")],
h)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,c,e,h,l,q,t,f){var k;e=k=function(m){function p(u){u=m.call(this,u)||this;u.type="bar-chart";return u}a._inheritsLoose(p,m);p.prototype.clone=
function(){return new k({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return p}(t);b.__decorate([c.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:f.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=k=b.__decorate([q.subclass("esri.popup.content.BarChartMediaInfo")],e)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,b,c,e,h,l,q,t,f){e=function(k){function m(p){p=k.call(this,p)||this;p.type=null;p.value=null;return p}a._inheritsLoose(m,k);return m}(t);b.__decorate([c.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);b.__decorate([c.property({type:f,json:{write:!0}})],e.prototype,"value",void 0);return e=b.__decorate([q.subclass("esri.popup.content.mixins.ChartMediaInfo")],e)})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){c=function(f){function k(m){m=f.call(this,m)||this;m.altText=null;m.caption="";m.title="";m.type=null;return m}a._inheritsLoose(k,f);return k}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"altText",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"caption",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([e.property({type:["image","bar-chart","column-chart",
"line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.popup.content.mixins.MediaInfo")],c)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./ChartMediaInfoValueSeries".split(" "),
function(a,b,c,e,h,l,q,t){var f;c=f=function(k){function m(p){p=k.call(this,p)||this;p.fields=[];p.normalizeField=null;p.series=[];p.tooltipField=null;return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({fields:e.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})};return m}(c.JSONSupport);b.__decorate([h.property({type:[String],json:{write:!0}})],c.prototype,"fields",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,
"normalizeField",void 0);b.__decorate([h.property({type:[t],json:{read:!1}})],c.prototype,"series",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"tooltipField",void 0);return c=f=b.__decorate([q.subclass("esri.popup.content.support.ChartMediaInfoValue")],c)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){var f;c=f=function(k){function m(p){p=k.call(this,p)||this;p.tooltip=null;p.value=null;return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({tooltip:this.tooltip,value:this.value})};return m}(c);b.__decorate([e.property()],c.prototype,"tooltip",void 0);b.__decorate([e.property()],c.prototype,"value",void 0);return c=f=b.__decorate([t.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],c)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports",
"../../../core/jsonMap"],function(a,b){b=b.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;e=k=function(m){function p(u){u=m.call(this,u)||this;u.type="column-chart";return u}a._inheritsLoose(p,m);p.prototype.clone=function(){return new k({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return p}(t);b.__decorate([c.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:f.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=k=b.__decorate([q.subclass("esri.popup.content.ColumnChartMediaInfo")],
e)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),function(a,b,c,e,h,l,q,t,f){var k;e=k=function(m){function p(u){u=m.call(this,u)||this;u.refreshInterval=null;u.type="image";u.value=null;return u}a._inheritsLoose(p,
m);p.prototype.clone=function(){return new k({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};return p}(t);b.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"refreshInterval",void 0);b.__decorate([c.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);b.__decorate([c.property({type:f,json:{write:!0}})],e.prototype,"value",void 0);return e=k=b.__decorate([q.subclass("esri.popup.content.ImageMediaInfo")],
e)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t){var f;c=f=function(k){function m(p){p=k.call(this,p)||this;p.linkURL=null;p.sourceURL=null;return p}a._inheritsLoose(m,
k);m.prototype.clone=function(){return new f({linkURL:this.linkURL,sourceURL:this.sourceURL})};return m}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"linkURL",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"sourceURL",void 0);return c=f=b.__decorate([t.subclass("esri.popup.content.support.ImageMediaInfoValue")],c)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;e=k=function(m){function p(u){u=m.call(this,u)||this;u.type="line-chart";return u}a._inheritsLoose(p,m);p.prototype.clone=function(){return new k({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return p}(t);b.__decorate([c.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:f.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=k=b.__decorate([q.subclass("esri.popup.content.LineChartMediaInfo")],
e)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,c,e,h,l,q,t,f){var k;e=k=function(m){function p(u){u=m.call(this,u)||this;u.type="pie-chart";return u}a._inheritsLoose(p,m);p.prototype.clone=
function(){return new k({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return p}(t);b.__decorate([c.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:f.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=k=b.__decorate([q.subclass("esri.popup.content.PieChartMediaInfo")],e)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,c,e,h,l,q){b={base:q,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":c,"line-chart":h,"pie-chart":l,image:e}};a.default=b;a.types=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/TextContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,h,l,q,t){var f;e=f=function(k){function m(p){p=k.call(this,p)||this;p.text=null;p.type="text";return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({text:this.text})};return m}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"text",void 0);b.__decorate([c.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=f=b.__decorate([q.subclass("esri.popup.content.TextContent")],e)})},"esri/popup/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){var f;c=f=function(k){function m(p){p=k.call(this,p)||this;p.name=null;p.title=null;p.expression=null;p.returnType=null;return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return m}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);
b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:["string","number"],json:{write:!0}})],c.prototype,"returnType",void 0);return c=f=b.__decorate([t.subclass("esri.popup.ExpressionInfo")],c)})},"esri/popup/LayerOptions":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){var f;c=f=function(k){function m(p){p=k.call(this,p)||this;p.returnTopmostRaster=null;p.showNoDataRecords=null;return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};return m}(c.JSONSupport);b.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"returnTopmostRaster",void 0);b.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoDataRecords",
void 0);return c=f=b.__decorate([t.subclass("esri.popup.LayerOptions")],c)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/RelatedRecordsInfoFieldOrder".split(" "),function(a,b,c,e,h,l,q,t){var f;c=f=function(k){function m(p){p=k.call(this,p)||this;p.showRelatedRecords=null;
p.orderByFields=null;return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?e.clone(this.orderByFields):null})};return m}(c.JSONSupport);b.__decorate([h.property({type:Boolean,json:{write:!0}})],c.prototype,"showRelatedRecords",void 0);b.__decorate([h.property({type:[t],json:{write:!0}})],c.prototype,"orderByFields",void 0);return c=f=b.__decorate([q.subclass("esri.popup.RelatedRecordsInfo")],c)})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){var f;c=f=function(k){function m(p){p=k.call(this,p)||this;p.field=null;p.order=null;return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({field:this.field,order:this.order})};return m}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);b.__decorate([e.property({type:["asc","desc"],json:{write:!0}})],c.prototype,"order",void 0);return c=f=b.__decorate([t.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],
c)})},"esri/support/actions/ActionBase":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t,f){var k;c=k=function(m){function p(u){u=m.call(this,u)||this;u.active=!1;u.className=null;u.disabled=!1;u.id=null;u.indicator=!1;
u.title=null;u.type=null;u.visible=!0;return u}a._inheritsLoose(p,m);p.prototype.clone=function(){return new k({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};return p}(e.IdentifiableMixin(c));b.__decorate([h.property()],c.prototype,"active",void 0);b.__decorate([h.property()],c.prototype,"className",void 0);b.__decorate([h.property()],c.prototype,"disabled",void 0);b.__decorate([h.property()],c.prototype,
"id",void 0);b.__decorate([h.property()],c.prototype,"indicator",void 0);b.__decorate([h.property()],c.prototype,"title",void 0);b.__decorate([h.property()],c.prototype,"type",void 0);b.__decorate([h.property()],c.prototype,"visible",void 0);return c=k=b.__decorate([f.subclass("esri.support.actions.ActionBase")],c)})},"esri/support/actions/ActionButton":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,e,h,l,q,t){var f;e=f=function(k){function m(p){p=k.call(this,p)||this;p.image=null;p.type="button";return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};return m}(t);b.__decorate([c.property()],e.prototype,"image",void 0);return e=f=b.__decorate([q.subclass("esri.support.Action.ActionButton")],e)})},"esri/support/actions/ActionToggle":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,e,h,l,q,t){var f;e=f=function(k){function m(p){p=k.call(this,p)||this;p.image=null;p.type="toggle";p.value=!1;return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};return m}(t);b.__decorate([c.property()],e.prototype,"image",void 0);b.__decorate([c.property()],e.prototype,"value",void 0);
return e=f=b.__decorate([q.subclass("esri.support.Action.ActionToggle")],e)})},"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/LegendOptions ../support/arcadeOnDemand".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w){var y;const x=l.getLogger("esri.renderers.ClassBreaksRenderer");e=new e.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const B=g.ensureType(v);d=y=function(C){function D(I){I=C.call(this,I)||this;I._compiledValueExpression={valueExpression:null,compiledFunction:null};I.backgroundFillSymbol=null;I.classBreakInfos=null;I.defaultLabel=null;I.defaultSymbol=null;I.field=null;I.isMaxInclusive=
!0;I.legendOptions=null;I.normalizationField=null;I.normalizationTotal=null;I.type="class-breaks";I.valueExpression=null;I.valueExpressionTitle=null;I._set("classBreakInfos",[]);return I}a._inheritsLoose(D,C);var J=D.prototype;J.readClassBreakInfos=function(I,N,L){if(Array.isArray(I)){var G=N.minValue;return I.map(F=>{const E=new v;E.read(F,L);null==E.minValue&&(E.minValue=G);null==E.maxValue&&(E.maxValue=E.minValue);G=E.maxValue;return E})}};J.writeClassBreakInfos=function(I,N,L,G){I=I.map(F=>F.write({},
G));this._areClassBreaksConsecutive()&&I.forEach(F=>delete F.classMinValue);N[L]=I};J.castField=function(I){return null==I?I:"function"===typeof I?(x.error(".field: field must be a string value"),null):g.ensureString(I)};J.addClassBreakInfo=function(I,N,L){let G=null;G="number"===typeof I?new v({minValue:I,maxValue:N,symbol:c.ensureType(L)}):B(h.clone(I));this.classBreakInfos.push(G);1===this.classBreakInfos.length&&this.notifyChange("minValue")};J.removeClassBreakInfo=function(I,N){const L=this.classBreakInfos.length;
for(let G=0;G<L;G++){const F=[this.classBreakInfos[G].minValue,this.classBreakInfos[G].maxValue];if(F[0]===I&&F[1]===N){this.classBreakInfos.splice(G,1);break}}};J.getBreakIndex=function(I,N){this.valueExpression&&(q.isNone(N)||q.isNone(N.arcade))&&x.warn("");return this.valueExpression?this._getBreakIndexForExpression(I,N):this._getBreakIndexForField(I)};J.getClassBreakInfo=function(){var I=a._asyncToGenerator(function*(N,L){let G=L;this.valueExpression&&(q.isNone(L)||q.isNone(L.arcade))&&(G={...G,
arcade:yield w.loadArcade()});N=this.getBreakIndex(N,G);return-1!==N?this.classBreakInfos[N]:null});return function(N,L){return I.apply(this,arguments)}}();J.getSymbol=function(I,N){if(this.valueExpression&&(q.isNone(N)||q.isNone(N.arcade)))x.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return I=this.getBreakIndex(I,N),-1<I?this.classBreakInfos[I].symbol:this.defaultSymbol};J.getSymbolAsync=function(){var I=a._asyncToGenerator(function*(N,L){let G=L;if(this.valueExpression&&
(q.isNone(L)||q.isNone(L.arcade))){L=yield w.loadArcade();const {arcadeUtils:F}=L;F.hasGeometryOperations(this.valueExpression)&&(yield F.enableGeometryOperations());G={...G,arcade:L}}N=this.getBreakIndex(N,G);return-1<N?this.classBreakInfos[N].symbol:this.defaultSymbol});return function(N,L){return I.apply(this,arguments)}}();J.getSymbols=function(){const I=[];this.classBreakInfos.forEach(N=>{N.symbol&&I.push(N.symbol)});this.defaultSymbol&&I.push(this.defaultSymbol);return I};J.getAttributeHash=
function(){return this.visualVariables&&this.visualVariables.reduce((I,N)=>I+N.getAttributeHash(),"")};J.getMeshHash=function(){const I=JSON.stringify(this.backgroundFillSymbol),N=JSON.stringify(this.defaultSymbol),L=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,G=this.classBreakInfos.reduce((F,E)=>F+E.getMeshHash(),"");return`${I}.${N}.${G}.${L}.${this.field}.${this.valueExpression}`};J.clone=function(){return new y({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&
this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:h.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:h.clone(this.visualVariables),legendOptions:h.clone(this.legendOptions),
authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};J.collectRequiredFields=function(){var I=a._asyncToGenerator(function*(N,L){N=[this.collectVVRequiredFields(N,L),this.collectSymbolFields(N,L)];yield Promise.all(N)});return function(N,L){return I.apply(this,arguments)}}();J.collectSymbolFields=function(){var I=a._asyncToGenerator(function*(N,L){const G=[...this.getSymbols().map(F=>F.collectRequiredFields(N,L)),r.collectArcadeFieldNames(N,L,this.valueExpression)];r.collectField(N,L,this.field);
r.collectField(N,L,this.normalizationField);yield Promise.all(G)});return function(N,L){return I.apply(this,arguments)}}();J._getBreakIndexForExpression=function(I,N){const {viewingMode:L,scale:G,spatialReference:F,arcade:E}=q.unwrapOr(N,{});var K=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;N=q.unwrap(E).arcadeUtils;K||(K=N.createSyntaxTree(this.valueExpression),K=N.createFunction(K),this._compiledValueExpression.compiledFunction=
K);this._compiledValueExpression.valueExpression=this.valueExpression;I=N.executeFunction(K,N.createExecContext(I,N.getViewInfo({viewingMode:L,scale:G,spatialReference:F})));return this._getBreakIndexfromInfos(I)};J._getBreakIndexForField=function(I){var N=I.attributes;I=this.normalizationType;let L=parseFloat(N[this.field]);if(I){const G=this.normalizationTotal;N=parseFloat(N[this.normalizationField]);if("log"===I)L=Math.log(L)*Math.LOG10E;else if("percent-of-total"===I&&!isNaN(G))L=L/G*100;else if("field"===
I&&!isNaN(N)){if(isNaN(L)||isNaN(N))return-1;L/=N}}return this._getBreakIndexfromInfos(L)};J._getBreakIndexfromInfos=function(I){const N=this.isMaxInclusive;if(null!=I&&"number"===typeof I&&!isNaN(I))for(let L=0;L<this.classBreakInfos.length;L++){const G=[this.classBreakInfos[L].minValue,this.classBreakInfos[L].maxValue];if(G[0]<=I&&(N?I<=G[1]:I<G[1]))return L}return-1};J._areClassBreaksConsecutive=function(){const I=this.classBreakInfos,N=I.length;for(let L=1;L<N;L++)if(I[L-1].maxValue!==I[L].minValue)return!1;
return!0};a._createClass(D,[{key:"minValue",get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}},{key:"normalizationType",get:function(){let I=this._get("normalizationType");const N=!!this.normalizationField,L=null!=this.normalizationTotal;if(N||L)I=N&&"field"||L&&"percent-of-total"||null,N&&L&&x.warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===I||"percent-of-total"===I)I=null;return I},set:function(I){this._set("normalizationType",
I)}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return D}(n.VisualVariablesMixin(d));b.__decorate([t.property(z.rendererBackgroundFillSymbolProperty)],d.prototype,"backgroundFillSymbol",void 0);b.__decorate([t.property({type:[v]})],d.prototype,"classBreakInfos",void 0);b.__decorate([m.reader("classBreakInfos")],d.prototype,"readClassBreakInfos",null);b.__decorate([u.writer("classBreakInfos")],d.prototype,"writeClassBreakInfos",null);
b.__decorate([t.property({type:String,json:{write:!0}})],d.prototype,"defaultLabel",void 0);b.__decorate([t.property(z.rendererSymbolProperty)],d.prototype,"defaultSymbol",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],d.prototype,"field",void 0);b.__decorate([f.cast("field")],d.prototype,"castField",null);b.__decorate([t.property({type:Boolean})],d.prototype,"isMaxInclusive",void 0);b.__decorate([t.property({type:A.default,json:{write:!0}})],d.prototype,"legendOptions",void 0);
b.__decorate([t.property({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],d.prototype,"minValue",null);b.__decorate([t.property({type:String,json:{write:!0}})],d.prototype,"normalizationField",void 0);b.__decorate([t.property({type:Number,cast:C=>g.ensureNumber(C),json:{write:!0}})],d.prototype,"normalizationTotal",void 0);b.__decorate([t.property({type:e.apiValues,value:null,
json:{type:e.jsonValues,read:e.read,write:e.write}})],d.prototype,"normalizationType",null);b.__decorate([k.enumeration({classBreaks:"class-breaks"})],d.prototype,"type",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],d.prototype,"valueExpression",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],d.prototype,"valueExpressionTitle",void 0);return d=y=b.__decorate([p.subclass("esri.renderers.ClassBreaksRenderer")],d)})},"esri/symbols":function(){define("exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./chunks/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x,B,C,D,J,I,N,L,G,F,E){const K={base:B,key:"type",typeMap:{"simple-fill":w,"picture-fill":n,"picture-marker":v,"simple-line":y,"simple-marker":x,text:J,"label-3d":k,"line-3d":m,"mesh-3d":g,"point-3d":z,"polygon-3d":A,"web-style":L,cim:e},errorContext:"symbol"},P={base:B,key:"type",typeMap:{"picture-marker":v,"simple-marker":x,text:J,"web-style":L,cim:e},errorContext:"symbol"};c=c.createTypeReader({types:K});const W={base:B,key:"type",typeMap:{"simple-fill":w,
"picture-fill":n,"picture-marker":v,"simple-line":y,"simple-marker":x,text:J,"line-3d":m,"mesh-3d":g,"point-3d":z,"polygon-3d":A,"web-style":L,cim:e},errorContext:"symbol"},ia={base:B,key:"type",typeMap:{text:J,"label-3d":k},errorContext:"symbol"},Z={base:B,key:"type",typeMap:{"label-3d":k,"line-3d":m,"mesh-3d":g,"point-3d":z,"polygon-3d":A,"web-style":L},errorContext:"symbol"},V={base:B,key:"type",typeMap:{"line-3d":m,"mesh-3d":g,"point-3d":z,"polygon-3d":A,"web-style":L,cim:e},errorContext:"symbol"},
qa={base:B,key:"type",typeMap:{"label-3d":k},errorContext:"symbol"};b=b.ensureOneOfType(K);a.CIMSymbol=e;a.ExtrudeSymbol3DLayer=h;a.BaseFillSymbol=l;a.FillSymbol3DLayer=q;a.Font=t;a.IconSymbol3DLayer=f;a.LabelSymbol3D=k;a.LineSymbol3D=m;a.LineSymbol3DLayer=p;a.BaseMarkerSymbol=u;a.MeshSymbol3D=g;a.ObjectSymbol3DLayer=r;a.PathSymbol3DLayer=d;a.PictureFillSymbol=n;a.PictureMarkerSymbol=v;a.PointSymbol3D=z;a.PolygonSymbol3D=A;a.SimpleFillSymbol=w;a.SimpleLineSymbol=y;a.SimpleMarkerSymbol=x;a.BaseSymbol=
B;a.BaseSymbol3D=C;a.BaseSymbol3DLayer=D;a.TextSymbol=J;a.TextSymbol3DLayer=I;a.WaterSymbol3DLayer=N;a.WebStyleSymbol=L;a.LineCallout3D=G;a.LineCallout3DBorder=F.LineCallout3DBorder;Object.defineProperty(a,"Symbol3DVerticalOffset",{enumerable:!0,get:()=>E.Symbol3DVerticalOffset});a.ensureType=b;a.isSymbol=function(sa){return sa instanceof B};a.isSymbol2D=function(sa){if(!sa)return!1;switch(sa.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;
default:return!1}};a.isSymbol3D=function(sa){if(!sa)return!1;switch(sa.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};a.readSymbol=c;a.symbolTypes=K;a.symbolTypes3D=Z;a.symbolTypesCluster=P;a.symbolTypesLabel=ia;a.symbolTypesLabel3D=qa;a.symbolTypesRenderer=W;a.symbolTypesRenderer3D=V;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/CIMSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/string ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){var u;l=u=function(g){function r(n){n=g.call(this,n)||this;n.data=null;n.type="cim";return n}a._inheritsLoose(r,g);var d=r.prototype;d.readData=function(n,v){return v};d.writeData=function(n,v){if(n)for(const z in n)v[z]=n[z]};d.collectRequiredFields=function(){var n=a._asyncToGenerator(function*(v,z){if("CIMSymbolReference"===this.data.type){var A=this.data.primitiveOverrides;A&&(A=A.map(w=>m.collectArcadeFieldNames(v,z,w.valueExpressionInfo.expression)),yield Promise.all(A))}});
return function(v,z){return n.apply(this,arguments)}}();d.clone=function(){return new u({data:c.clone(this.data)})};d.hash=function(){return e.numericHash(JSON.stringify(this.data)).toString()};return r}(p);b.__decorate([h.property({json:{write:!1}})],l.prototype,"color",void 0);b.__decorate([h.property({json:{write:!0}})],l.prototype,"data",void 0);b.__decorate([t.reader("data",["symbol"])],l.prototype,"readData",null);b.__decorate([k.writer("data",{})],l.prototype,"writeData",null);b.__decorate([q.enumeration({CIMSymbolReference:"cim"},
{readOnly:!0})],l.prototype,"type",void 0);return l=u=b.__decorate([f.subclass("esri.symbols.CIMSymbol")],l)})},"esri/symbols/Symbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t,f,k,m){e=new e.JSONMap({esriSMS:"simple-marker",
esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let p=0;h=function(u){function g(d){d=u.call(this,d)||this;d.id=`sym${p++}`;d.type=null;return d}a._inheritsLoose(g,u);var r=g.prototype;r.readColor=function(d){return d&&null!=d[0]?[d[0],
d[1],d[2],d[3]/255]:d};r.collectRequiredFields=function(){var d=a._asyncToGenerator(function*(n,v){});return function(n,v){return d.apply(this,arguments)}}();r.hash=function(){return JSON.stringify(this.toJSON())};r.clone=function(){};a._createClass(g,[{key:"color",set:function(d){this._set("color",d)}}]);return g}(h.JSONSupport);b.__decorate([l.property({type:e.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:e.write}}})],h.prototype,"type",void 0);b.__decorate([l.property({type:c,
value:new c([0,0,0,1]),json:{write:{allowNull:!0}}})],h.prototype,"color",null);b.__decorate([k.reader("color")],h.prototype,"readColor",null);return h=b.__decorate([m.subclass("esri.symbols.Symbol")],h)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){var u;h=u=function(g){function r(d){d=g.call(this,d)||this;d.type="extrude";d.size=1;d.material=null;d.castShadows=!0;d.edges=null;return d}a._inheritsLoose(r,g);r.prototype.clone=function(){return new u({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};return r}(k);b.__decorate([t.enumeration({Extrude:"extrude"},{readOnly:!0})],h.prototype,"type",void 0);
b.__decorate([e.property({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],h.prototype,"size",void 0);b.__decorate([e.property({type:p.default,json:{write:!0}})],h.prototype,"material",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],h.prototype,"castShadows",void 0);b.__decorate([e.property(m.symbol3dEdgesProperty)],h.prototype,"edges",void 0);return h=u=b.__decorate([f.subclass("esri.symbols.ExtrudeSymbol3DLayer")],h)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,h,l,q,t,f){c=function(k){function m(p){p=k.call(this,p)||this;p.enabled=!0;p.type=null;return p}a._inheritsLoose(m,k);m.prototype.writeEnabled=function(p,u,g){p||(u[g]=p)};return m}(c.JSONSupport);b.__decorate([e.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],c.prototype,"enabled",void 0);b.__decorate([f.writer("enabled")],c.prototype,"writeEnabled",null);b.__decorate([e.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0})],
c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.symbols.Symbol3DLayer")],c)})},"esri/symbols/edges/utils":function(){define(["exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,c,e){a.symbol3dEdgesProperty={types:{key:"type",base:b,typeMap:{solid:e,sketch:c}},json:{write:!0}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k){e=function(m){function p(g){g=m.call(this,g)||this;g.color=new c([0,0,0,1]);g.extensionLength=0;g.size=l.px2pt(1);return g}a._inheritsLoose(p,m);var u=p.prototype;u.clone=function(){};u.cloneProperties=function(){return{color:h.clone(this.color),size:this.size,extensionLength:this.extensionLength}};return p}(e.JSONSupport);b.__decorate([q.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],e.prototype,"type",void 0);b.__decorate([q.property(k.colorAndTransparencyProperty)],
e.prototype,"color",void 0);b.__decorate([q.property({...k.screenSizeProperty,json:{write:{overridePolicy(m){return{enabled:!!m}}}}})],e.prototype,"extensionLength",void 0);b.__decorate([q.property(k.screenSizeProperty)],e.prototype,"size",void 0);return e=b.__decorate([f.subclass("esri.symbols.edges.Edges3D")],e)})},"esri/core/screenUtils":function(){define(["exports"],function(a){function b(e){return e?72*e/96:0}const c=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.castRenderScreenPointArray=function(e){return e};
a.castRenderScreenPointArray3=function(e){return e};a.castScreenPointArray=function(e){return e};a.createRenderScreenPoint=function(e=0,h=0){return{x:e,y:h}};a.createRenderScreenPointArray=function(e=0,h=0){return[e,h]};a.createRenderScreenPointArray3=function(e=0,h=0,l=0){return[e,h,l]};a.createScreenPoint=function(e=0,h=0){return{x:e,y:h}};a.createScreenPointArray=function(e=0,h=0){return[e,h]};a.pt2px=function(e){return e?e/72*96:0};a.px2pt=b;a.screenPointArrayToObject=function(e,h){return h?(h.x=
e[0],h.y=e[1],h):{x:e[0],y:e[1]}};a.screenPointObjectToArray=function(e,h){return h?(h[0]=e.x,h[1]=e.y,2<h.length&&(h[2]=0),h):[e.x,e.y]};a.toPt=function(e){if("string"===typeof e){var h=e.match(c);if(h){var l=Number(h[1]);h=h[3]&&h[3].toLowerCase();e="-"===e.charAt(0);l="px"===h?b(l):l;return e?-l:l}console.warn("screenUtils.toPt: input not recognized!");return null}return e};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/materialUtils":function(){define(["exports","../../Color",
"../../core/screenUtils","../../core/accessorSupport/ensureType","../../webdoc/support/opacityUtils"],function(a,b,c,e,h){c={type:Number,cast:c.toPt,json:{write:!0}};a.colorAndTransparencyProperty={type:b,json:{type:[e.Integer],default:null,read:{source:["color","transparency"],reader:function(l,q){l=null!=q.transparency?h.transparencyToOpacity(q.transparency):1;return(q=q.color)&&Array.isArray(q)?new b([q[0]||0,q[1]||0,q[2]||0,l]):null}},write:{target:{color:{type:[e.Integer]},transparency:{type:e.Integer}},
writer:function(l,q){q.color=l.toJSON().slice(0,3);l=h.opacityToTransparency(l.a);0!==l&&(q.transparency=l)}}}};a.screenSizeProperty=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;c=m=function(p){function u(g){g=p.call(this,g)||this;g.type="sketch";return g}a._inheritsLoose(u,p);u.prototype.clone=function(){return new m(this.cloneProperties())};return u}(k);b.__decorate([t.enumeration({sketch:"sketch"},{readOnly:!0})],c.prototype,"type",void 0);return c=m=b.__decorate([f.subclass("esri.symbols.edges.SketchEdges3D")],c)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;c=m=function(p){function u(g){g=p.call(this,g)||this;g.type="solid";return g}a._inheritsLoose(u,p);u.prototype.clone=function(){return new m(this.cloneProperties())};return u}(k);b.__decorate([t.enumeration({solid:"solid"},{readOnly:!0})],c.prototype,"type",void 0);return c=m=b.__decorate([f.subclass("esri.symbols.support.SolidEdges3D")],c)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m){var p;a.Symbol3DMaterial=p=function(u){function g(r){r=u.call(this,r)||this;r.color=null;return r}b._inheritsLoose(g,u);g.prototype.clone=function(){const r={color:h.isSome(this.color)?this.color.clone():null};return new p(r)};return g}(e.JSONSupport);c.__decorate([l.property(m.colorAndTransparencyProperty)],a.Symbol3DMaterial.prototype,"color",void 0);a.Symbol3DMaterial=p=c.__decorate([k.subclass("esri.symbols.support.Symbol3DMaterial")],a.Symbol3DMaterial);a.default=
a.Symbol3DMaterial;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/FillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./SimpleLineSymbol ./Symbol".split(" "),function(a,b,c,e,h,l,q,t,f){e=function(k){function m(p){p=k.call(this,p)||this;p.outline=null;p.type=null;return p}a._inheritsLoose(m,k);
m.prototype.hash=function(){return`${this.type}.${this.outline&&this.outline.hash()}`};return m}(f);b.__decorate([c.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":t}},json:{default:null,write:!0}})],e.prototype,"outline",void 0);b.__decorate([c.property({type:["simple-fill","picture-fill"],readOnly:!0})],e.prototype,"type",void 0);return e=b.__decorate([q.subclass("esri.symbols.FillSymbol")],e)})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol ./LineSymbolMarker".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m){var p;c=new c.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});k=p=function(u){function g(...d){d=u.call(this,...d)||this;d.type="simple-line";
d.style="solid";d.cap="round";d.join="round";d.marker=null;d.miterLimit=2;return d}a._inheritsLoose(g,u);var r=g.prototype;r.normalizeCtorArgs=function(d,n,v,z,A,w){if(d&&"string"!==typeof d)return d;const y={};null!=d&&(y.style=d);null!=n&&(y.color=n);null!=v&&(y.width=h.toPt(v));null!=z&&(y.cap=z);null!=A&&(y.join=A);null!=w&&(y.miterLimit=h.toPt(w));return y};r.clone=function(){var d;return new p({color:e.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,
marker:null==(d=this.marker)?void 0:d.clone()})};r.hash=function(){var d,n;return`${u.prototype.hash.call(this)}.${null==(d=this.color)?void 0:d.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${null==(n=this.marker)?void 0:n.hash()}`};return g}(k);b.__decorate([t.enumeration({esriSLS:"simple-line"},{readOnly:!0})],k.prototype,"type",void 0);b.__decorate([l.property({type:c.apiValues,json:{read:c.read,write:c.write}})],k.prototype,"style",void 0);b.__decorate([l.property({type:["butt",
"round","square"],json:{write:{overridePolicy:(u,g,r)=>({enabled:"round"!==u&&(null==r||null==r.origin)})}}})],k.prototype,"cap",void 0);b.__decorate([l.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(u,g,r)=>({enabled:"round"!==u&&(null==r||null==r.origin)})}}})],k.prototype,"join",void 0);b.__decorate([l.property({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":m}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],k.prototype,"marker",void 0);
b.__decorate([l.property({type:Number,json:{read:!1,write:!1}})],k.prototype,"miterLimit",void 0);return k=p=b.__decorate([f.subclass("esri.symbols.SimpleLineSymbol")],k)})},"esri/symbols/LineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,e,h,l,q,t,f,k){h=function(m){function p(u){u=m.call(this,u)||this;u.type="simple-line";u.width=.75;return u}a._inheritsLoose(p,m);p.prototype.hash=function(){return`${this.type}.${this.width}`};return p}(k);b.__decorate([t.enumeration({esriSLS:"simple-line"},{readOnly:!0})],h.prototype,"type",void 0);b.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],h.prototype,"width",void 0);return h=b.__decorate([f.subclass("esri.symbols.LineSymbol")],h)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m){var p;e=p=function(u){function g(d){d=u.call(this,d)||this;d.placement="begin-end";d.type="line-marker";d.style="arrow";return d}a._inheritsLoose(g,u);var r=g.prototype;r.writeStyle=function(d,n,v,z){n[v]="web-map"===(null==z?void 0:z.origin)?"arrow":d};r.readColor=function(d){return d&&null!=d[0]?[d[0],d[1],d[2],d[3]/255]:d};r.writeColor=function(d,n,v,z){"web-map"!==(null==z?void 0:z.origin)&&(n[v]=d)};r.clone=function(){return new p({color:h.clone(this.color),placement:this.placement,
style:this.style})};r.hash=function(){var d;return`${this.placement}.${null==(d=this.color)?void 0:d.hash()}.${this.style}`};a._createClass(g,[{key:"color",set:function(d){this._set("color",d)}}]);return g}(e.JSONSupport);b.__decorate([l.property({type:["begin","end","begin-end"],json:{write:!0}})],e.prototype,"placement",void 0);b.__decorate([t.enumeration({"line-marker":"line-marker"},{readOnly:!0}),l.property({json:{origins:{"web-map":{write:!1}}}})],e.prototype,"type",void 0);b.__decorate([l.property({type:"arrow circle square diamond cross x".split(" ")})],
e.prototype,"style",void 0);b.__decorate([m.writer("style")],e.prototype,"writeStyle",null);b.__decorate([l.property({type:c,value:null,json:{write:{allowNull:!0}}})],e.prototype,"color",null);b.__decorate([f.reader("color")],e.prototype,"readColor",null);b.__decorate([m.writer("color")],e.prototype,"writeColor",null);return e=p=b.__decorate([k.subclass("esri.symbols.LineSymbolMarker")],e)})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./patterns/LineStylePattern3D ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n){var v;h=v=function(z){function A(w){w=z.call(this,w)||this;w.type="fill";w.material=null;w.pattern=null;w.castShadows=!0;w.outline=null;w.edges=null;return w}a._inheritsLoose(A,z);A.prototype.clone=function(){const w={edges:c.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,pattern:c.isSome(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:c.isSome(this.outline)?
this.outline.clone():null};return new v(w)};A.fromSimpleFillSymbol=function(w){var y,x,B,C,D,J;const I=w.outline&&w.outline.style&&"inside-frame"!==w.outline.style&&"solid"!==w.outline.style?new p({style:w.outline.style}):null,N={size:null!=(y=null==(x=w.outline)?void 0:x.width)?y:0,color:(null!=(B=null==(C=w.outline)?void 0:C.color)?B:r.white).clone(),pattern:I};I&&null!=(D=w.outline)&&D.cap&&(N.patternCap=w.outline.cap);return new v({material:new d.Symbol3DFillMaterial({color:(null!=(J=w.color)?
J:r.transparentWhite).clone()}),pattern:w.style&&"solid"!==w.style?new u({style:w.style}):null,outline:N})};return A}(k);b.__decorate([t.enumeration({Fill:"fill"},{readOnly:!0})],h.prototype,"type",void 0);b.__decorate([e.property({type:d.Symbol3DFillMaterial,json:{write:!0}})],h.prototype,"material",void 0);b.__decorate([e.property(g.symbol3dPatternProperty)],h.prototype,"pattern",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],h.prototype,"castShadows",
void 0);b.__decorate([e.property({type:n,json:{write:!0}})],h.prototype,"outline",void 0);b.__decorate([e.property(m.symbol3dEdgesProperty)],h.prototype,"edges",void 0);return h=v=b.__decorate([f.subclass("esri.symbols.FillSymbol3DLayer")],h)})},"esri/symbols/patterns/LineStylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./LinePattern3D ./lineStyles".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m){var p;c=c.strict()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});k=p=function(u){function g(r){r=u.call(this,r)||this;r.type="style";r.style="solid";return r}a._inheritsLoose(g,u);g.prototype.clone=function(){return new p({style:this.style})};
return g}(k);b.__decorate([e.property({type:["style"]})],k.prototype,"type",void 0);b.__decorate([t.enumeration(c),e.property({type:m.lineStyles})],k.prototype,"style",void 0);return k=p=b.__decorate([f.subclass("esri.symbols.patterns.LineStylePattern3D")],k)})},"esri/symbols/patterns/LinePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){c=function(f){function k(m){return f.call(this,m)||this}a._inheritsLoose(k,f);k.prototype.clone=function(){};return k}(c.JSONSupport);b.__decorate([e.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.symbols.patterns.LinePattern3D")],c)})},"esri/symbols/patterns/lineStyles":function(){define(["exports"],function(a){a.lineStyles="dash dash-dot dot long-dash long-dash-dot long-dash-dot-dot none short-dash short-dash-dot short-dash-dot-dot short-dot solid".split(" ");
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Pattern3D ./styles".split(" "),function(a,b,c,e,h,l,q,t,f){var k;e=k=function(m){function p(u){u=m.call(this,u)||this;u.type="style";u.style="solid";return u}
a._inheritsLoose(p,m);p.prototype.clone=function(){return new k({style:this.style})};return p}(t);b.__decorate([c.property({type:["style"]})],e.prototype,"type",void 0);b.__decorate([c.property({type:f,json:{read:!0,write:!0}})],e.prototype,"style",void 0);return e=k=b.__decorate([q.subclass("esri.symbols.patterns.StylePattern3D")],e)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){c=function(f){function k(m){return f.call(this,m)||this}a._inheritsLoose(k,f);k.prototype.clone=function(){};return k}(c.JSONSupport);b.__decorate([e.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.symbols.patterns.Pattern3D")],c)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},
"esri/symbols/patterns/utils":function(){define(["exports","./LinePattern3D","./LineStylePattern3D","./Pattern3D","./StylePattern3D"],function(a,b,c,e,h){e={types:{key:"type",base:e,typeMap:{style:h}},json:{write:!0}};a.symbol3dLinePatternProperty={types:{key:"type",base:b,typeMap:{style:c}},json:{write:!0}};a.symbol3dPatternProperty=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],function(a,b){const c=new b("white"),
e=new b("black");b=new b([255,255,255,0]);a.black=e;a.isBlack=function(h){return 0===h.r&&0===h.g&&0===h.b};a.transparentWhite=b;a.white=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Symbol3DMaterial".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){var u;a.Symbol3DFillMaterial=u=function(g){function r(d){d=g.call(this,d)||this;d.colorMixMode=null;return d}b._inheritsLoose(r,g);r.prototype.clone=function(){const d={color:e.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new u(d)};return r}(p.Symbol3DMaterial);c.__decorate([k.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=u=c.__decorate([m.subclass("esri.symbols.support.Symbol3DFillMaterial")],
a.Symbol3DFillMaterial);a.default=a.Symbol3DFillMaterial;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DOutline":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../patterns/utils ./materialUtils ./symbolLayerUtils3D".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g){var r;e=r=function(d){function n(v){v=d.call(this,v)||this;v.color=new c([0,0,0,1]);v.size=l.px2pt(1);v.pattern=null;v.patternCap="butt";return v}a._inheritsLoose(n,d);n.prototype.clone=function(){const v={color:h.isSome(this.color)?this.color.clone():null,size:this.size,pattern:h.isSome(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new r(v)};return n}(e.JSONSupport);b.__decorate([q.property(u.colorAndTransparencyProperty)],e.prototype,
"color",void 0);b.__decorate([q.property(u.screenSizeProperty)],e.prototype,"size",void 0);b.__decorate([q.property(p.symbol3dLinePatternProperty)],e.prototype,"pattern",void 0);b.__decorate([q.property({type:g.lineCaps,json:{default:"butt",write:{overridePolicy(){return{enabled:h.isSome(this.pattern)}}}}})],e.prototype,"patternCap",void 0);return e=r=b.__decorate([m.subclass("esri.symbols.support.Symbol3DOutline")],e)})},"esri/symbols/support/symbolLayerUtils3D":function(){define(["exports","../../core/has",
"../../chunks/vec3f64","../../geometry/support/aaBoundingBox"],function(a,b,c,e){const h=e.fromValues(-.5,-.5,-.5,.5,.5,.5),l=e.fromValues(-.5,-.5,0,.5,.5,1),q=e.fromValues(-.5,-.5,0,.5,.5,.5);b=["butt","square","round"];e=[...b,"none"];a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_TETRAHEDRON=q;a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CUBE=h;a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CYLINDER=l;a.lineCaps=b;a.lineJoins=["miter","bevel","round"];a.objectSymbolLayerPrimitiveBoundingBox=function(t){switch(t){case "sphere":case "cube":case "diamond":return h;
case "cylinder":case "cone":case "inverted-cone":return l;case "tetrahedron":return q}};a.objectSymbolLayerSizeWithResourceSize=function(t,{isPrimitive:f,width:k,depth:m,height:p}){f=f?10:1;if(null==k&&null==p&&null==m)return[f*t[0],f*t[1],f*t[2]];k=c.fromValues(k,m,p);let u;for(m=0;3>m;m++)if(p=k[m],null!=p){u=p/t[m];break}for(m=0;3>m;m++)null==k[m]&&(k[m]=t[m]*u);return k};a.pathCaps=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports",
"../../core/maybe","../Extent","./aaBoundingRect"],function(a,b,c,e){function h(d=g){return[d[0],d[1],d[2],d[3],d[4],d[5]]}function l(d,n,v,z,A,w,y=h()){y[0]=d;y[1]=n;y[2]=v;y[3]=z;y[4]=A;y[5]=w;return y}function q(d){return d[0]>=d[3]?0:d[3]-d[0]}function t(d){return d[1]>=d[4]?0:d[4]-d[1]}function f(d){return d[2]>=d[5]?0:d[5]-d[2]}function k(d,n){return Math.max(n[0],d[0])<=Math.min(n[3],d[3])&&Math.max(n[1],d[1])<=Math.min(n[4],d[4])&&Math.max(n[2],d[2])<=Math.min(n[5],d[5])}function m(d,n){d[0]=
n[0];d[1]=n[1];d[2]=n[2];d[3]=n[3];d[4]=n[4];d[5]=n[5];return d}function p(d){return 6===d.length}const u=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],g=[0,0,0,0,0,0],r=h();a.NEGATIVE_INFINITY=u;a.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];a.ZERO=g;a.allFinite=function(d){for(let n=0;6>n;n++)if(!isFinite(d[n]))return!1;return!0};a.center=function(d,n=[0,0,0]){n[0]=d[0]+q(d)/2;n[1]=d[1]+t(d)/2;n[2]=d[2]+f(d)/2;return n};a.contains=function(d,n){return n[0]>=
d[0]&&n[1]>=d[1]&&n[2]>=d[2]&&n[3]<=d[3]&&n[4]<=d[4]&&n[5]<=d[5]};a.containsPoint=function(d,n){return n[0]>=d[0]&&n[1]>=d[1]&&n[2]>=d[2]&&n[0]<=d[3]&&n[1]<=d[4]&&n[2]<=d[5]};a.containsPointWithMargin=function(d,n,v){return n[0]>=d[0]-v&&n[1]>=d[1]-v&&n[2]>=d[2]-v&&n[0]<=d[3]+v&&n[1]<=d[4]+v&&n[2]<=d[5]+v};a.create=h;a.depth=t;a.diameter=function(d){const n=q(d),v=f(d);d=t(d);return Math.sqrt(n*n+v*v+d*d)};a.empty=function(d){return d?m(d,u):h(u)};a.equals=function(d,n,v){if(b.isNone(d)||b.isNone(n))return d===
n;if(!p(d)||!p(n))return!1;if(v)for(let z=0;z<d.length;z++){if(!v(d[z],n[z]))return!1}else for(v=0;v<d.length;v++)if(d[v]!==n[v])return!1;return!0};a.expandWithAABB=function(d,n){d[0]=Math.min(d[0],n[0]);d[1]=Math.min(d[1],n[1]);d[2]=Math.min(d[2],n[2]);d[3]=Math.max(d[3],n[3]);d[4]=Math.max(d[4],n[4]);d[5]=Math.max(d[5],n[5])};a.expandWithBuffer=function(d,n,v=0,z=n.length/3){let A=d[0],w=d[1],y=d[2],x=d[3],B=d[4],C=d[5];for(let D=0;D<z;D++)A=Math.min(A,n[v+3*D]),w=Math.min(w,n[v+3*D+1]),y=Math.min(y,
n[v+3*D+2]),x=Math.max(x,n[v+3*D]),B=Math.max(B,n[v+3*D+1]),C=Math.max(C,n[v+3*D+2]);d[0]=A;d[1]=w;d[2]=y;d[3]=x;d[4]=B;d[5]=C};a.expandWithNestedArray=function(d,n,v){const z=n.length;let A=d[0],w=d[1],y=d[2],x=d[3],B=d[4],C=d[5];if(v)for(v=0;v<z;v++){var D=n[v];A=Math.min(A,D[0]);w=Math.min(w,D[1]);y=Math.min(y,D[2]);x=Math.max(x,D[0]);B=Math.max(B,D[1]);C=Math.max(C,D[2])}else for(v=0;v<z;v++)D=n[v],A=Math.min(A,D[0]),w=Math.min(w,D[1]),x=Math.max(x,D[0]),B=Math.max(B,D[1]);d[0]=A;d[1]=w;d[2]=
y;d[3]=x;d[4]=B;d[5]=C};a.expandWithOffset=function(d,n,v,z){d[0]=Math.min(d[0],d[0]+n);d[3]=Math.max(d[3],d[3]+n);d[1]=Math.min(d[1],d[1]+v);d[4]=Math.max(d[4],d[4]+v);d[2]=Math.min(d[2],d[2]+z);d[5]=Math.max(d[5],d[5]+z)};a.expandWithRect=function(d,n){d[0]=Math.min(d[0],n[0]);d[1]=Math.min(d[1],n[1]);d[3]=Math.max(d[3],n[2]);d[4]=Math.max(d[4],n[3])};a.expandWithVec3=function(d,n){d[0]=Math.min(d[0],n[0]);d[1]=Math.min(d[1],n[1]);d[2]=Math.min(d[2],n[2]);d[3]=Math.max(d[3],n[0]);d[4]=Math.max(d[4],
n[1]);d[5]=Math.max(d[5],n[2])};a.fromExtent=function(d,n=h()){n[0]=d.xmin;n[1]=d.ymin;n[2]=d.zmin;n[3]=d.xmax;n[4]=d.ymax;n[5]=d.zmax;return n};a.fromMinMax=function(d,n,v=h()){v[0]=d[0];v[1]=d[1];v[2]=d[2];v[3]=n[0];v[4]=n[1];v[5]=n[2];return v};a.fromRect=function(d,n){d[0]=n[0];d[1]=n[1];d[2]=Number.NEGATIVE_INFINITY;d[3]=n[2];d[4]=n[3];d[5]=Number.POSITIVE_INFINITY;return d};a.fromValues=l;a.getMax=function(d,n){n[0]=d[3];n[1]=d[4];n[2]=d[5];return n};a.getMin=function(d,n){n[0]=d[0];n[1]=d[1];
n[2]=d[2];return n};a.height=f;a.intersects=k;a.intersectsClippingArea=function(d,n){return b.isNone(n)?!0:k(d,n)};a.is=p;a.isPoint=function(d){return 0===q(d)&&0===t(d)&&0===f(d)};a.maximumDimension=function(d){return Math.max(q(d),f(d),t(d))};a.offset=function(d,n,v,z,A=d){A[0]=d[0]+n;A[1]=d[1]+v;A[2]=d[2]+z;A[3]=d[3]+n;A[4]=d[4]+v;A[5]=d[5]+z;return A};a.scale=function(d,n,v=d){const z=d[0]+q(d)/2,A=d[1]+t(d)/2,w=d[2]+f(d)/2;v[0]=z+(d[0]-z)*n;v[1]=A+(d[1]-A)*n;v[2]=w+(d[2]-w)*n;v[3]=z+(d[3]-z)*
n;v[4]=A+(d[4]-A)*n;v[5]=w+(d[5]-w)*n;return v};a.set=m;a.setMax=function(d,n,v=d){v[3]=n[0];v[4]=n[1];v[5]=n[2];v!==d&&(v[0]=d[0],v[1]=d[1],v[2]=d[2]);return d};a.setMin=function(d,n,v=d){v[0]=n[0];v[1]=n[1];v[2]=n[2];v!==d&&(v[3]=d[3],v[4]=d[4],v[5]=d[5]);return v};a.size=function(d,n=[0,0,0]){n[0]=q(d);n[1]=t(d);n[2]=f(d);return n};a.toExtent=function(d,n){return isFinite(d[2])||isFinite(d[5])?new c({xmin:d[0],xmax:d[3],ymin:d[1],ymax:d[4],zmin:d[2],zmax:d[5],spatialReference:n}):new c({xmin:d[0],
xmax:d[3],ymin:d[1],ymax:d[4],spatialReference:n})};a.toRect=function(d,n){n||(n=e.create());n[0]=d[0];n[1]=d[1];n[2]=d[3];n[3]=d[4];return n};a.width=q;a.wrap=function(d,n,v,z,A,w){return l(d,n,v,z,A,w,r)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],function(a,b,c,e,h){function l(g=u){return[g[0],g[1],g[2],g[3]]}function q(g,r){g!==r&&(g[0]=r[0],g[1]=
r[1],g[2]=r[2],g[3]=r[3]);return g}function t(g){return e.isNone(g)||g[0]>=g[2]?0:g[2]-g[0]}function f(g){return g[1]>=g[3]?0:g[3]-g[1]}function k(g,r,d){return r>=g[0]&&d>=g[1]&&r<=g[2]&&d<=g[3]}function m(g){return null!=g&&4===g.length}const p=[Infinity,Infinity,-Infinity,-Infinity],u=[0,0,0,0];a.NEGATIVE_INFINITY=p;a.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];a.UNIT=[0,0,1,1];a.ZERO=u;a.allFinite=function(g){for(let r=0;4>r;r++)if(!isFinite(g[r]))return!1;return!0};a.area=function(g){return t(g)*
f(g)};a.center=function(g,r=[0,0]){r[0]=(g[0]+g[2])/2;r[1]=(g[1]+g[3])/2;return r};a.clone=function(g){return[g[0],g[1],g[2],g[3]]};a.contains=function(g,r){return r[0]>=g[0]&&r[2]<=g[2]&&r[1]>=g[1]&&r[3]<=g[3]};a.containsPoint=function(g,r){return k(g,r[0],r[1])};a.containsPointObject=function(g,r){return k(g,r.x,r.y)};a.containsPointWithMargin=function(g,r,d){return r[0]>=g[0]-d&&r[1]>=g[1]-d&&r[0]<=g[2]+d&&r[1]<=g[3]+d};a.containsXY=k;a.copy=q;a.create=l;a.distance=function(g,r){const d=(g[1]+
g[3])/2,n=Math.max(Math.abs(r[0]-(g[0]+g[2])/2)-t(g)/2,0);g=Math.max(Math.abs(r[1]-d)-f(g)/2,0);return Math.sqrt(n*n+g*g)};a.empty=function(g){return g?q(g,p):l(p)};a.equals=function(g,r){return m(g)&&m(r)?g[0]===r[0]&&g[1]===r[1]&&g[2]===r[2]&&g[3]===r[3]:g===r};a.expand=function(g,r,d){if(e.isNone(r))q(d,g);else if("length"in r)if(m(r))d[0]=Math.min(g[0],r[0]),d[1]=Math.min(g[1],r[1]),d[2]=Math.max(g[2],r[2]),d[3]=Math.max(g[3],r[3]);else{if(2===r.length||3===r.length)d[0]=Math.min(g[0],r[0]),d[1]=
Math.min(g[1],r[1]),d[2]=Math.max(g[2],r[0]),d[3]=Math.max(g[3],r[1])}else switch(r.type){case "extent":d[0]=Math.min(g[0],r.xmin);d[1]=Math.min(g[1],r.ymin);d[2]=Math.max(g[2],r.xmax);d[3]=Math.max(g[3],r.ymax);break;case "point":d[0]=Math.min(g[0],r.x),d[1]=Math.min(g[1],r.y),d[2]=Math.max(g[2],r.x),d[3]=Math.max(g[3],r.y)}};a.expandPointInPlace=function(g,r){r[0]<g[0]&&(g[0]=r[0]);r[0]>g[2]&&(g[2]=r[0]);r[1]<g[1]&&(g[1]=r[1]);r[1]>g[3]&&(g[3]=r[1])};a.expandWithNestedArray=function(g,r,d=g){const n=
r.length;let v=g[0],z=g[1],A=g[2];g=g[3];for(let w=0;w<n;w++){const y=r[w];v=Math.min(v,y[0]);z=Math.min(z,y[1]);A=Math.max(A,y[0]);g=Math.max(g,y[1])}d[0]=v;d[1]=z;d[2]=A;d[3]=g;return d};a.fromExtent=function(g,r=l()){r[0]=g.xmin;r[1]=g.ymin;r[2]=g.xmax;r[3]=g.ymax;return r};a.fromValues=function(g,r,d,n,v=l()){v[0]=g;v[1]=r;v[2]=d;v[3]=n;return v};a.height=f;a.intersection=function(g,r,d){if(e.isNone(r))return q(d,g);const n=r[0],v=r[1],z=r[2];r=r[3];d[0]=c.clamp(g[0],n,z);d[1]=c.clamp(g[1],v,
r);d[2]=c.clamp(g[2],n,z);d[3]=c.clamp(g[3],v,r);return d};a.intersects=function(g,r){return Math.max(r[0],g[0])<=Math.min(r[2],g[2])&&Math.max(r[1],g[1])<=Math.min(r[3],g[3])};a.intersectsSphere=function(g,r){const d=r[3];var n=Math.abs(r[0]-.5*(g[0]+g[2]));const v=.5*(g[2]-g[0]);if(n>d+v)return!1;var z=.5*(g[3]-g[1]);g=Math.abs(r[1]-.5*(g[1]+g[3]));if(g>d+z)return!1;if(n<v||g<z)return!0;n-=v;z=g-z;return n*n+z*z<=d*d};a.is=m;a.isPoint=function(g){return(0===t(g)||!isFinite(g[0]))&&(0===f(g)||!isFinite(g[1]))};
a.offset=function(g,r,d,n=g){n[0]=g[0]+r;n[1]=g[1]+d;n[2]=g[2]+r;n[3]=g[3]+d;return n};a.pad=function(g,r,d=g){d[0]=g[0]-r;d[1]=g[1]-r;d[2]=g[2]+r;d[3]=g[3]+r;return d};a.setMax=function(g,r,d=g){d[2]=r[0];d[3]=r[1];d!==g&&(d[0]=g[0],d[1]=g[1]);return g};a.setMin=function(g,r,d=g){d[0]=r[0];d[1]=r[1];d!==g&&(d[2]=g[2],d[3]=g[3]);return d};a.size=function(g,r){r[0]=g[2]-g[0];r[1]=g[3]-g[1]};a.toExtent=function(g,r){return new h({xmin:g[0],ymin:g[1],xmax:g[2],ymax:g[3],spatialReference:r})};a.width=
t;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/Font":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t,f){var k;c=k=function(m){function p(g){g=m.call(this,g)||this;g.decoration="none";g.family="sans-serif";g.size=9;g.style=
"normal";g.weight="normal";return g}a._inheritsLoose(p,m);var u=p.prototype;u.castSize=function(g){return e.toPt(g)};u.clone=function(){return new k({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};u.hash=function(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`};return p}(c.JSONSupport);b.__decorate([h.property({type:["underline","line-through","none"],json:{default:"none",write:!0}})],c.prototype,"decoration",
void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"family",void 0);b.__decorate([h.property({type:Number,json:{write:{overridePolicy(m,p,u){return{enabled:!u||!u.textSymbol3D}}}}})],c.prototype,"size",void 0);b.__decorate([t.cast("size")],c.prototype,"castSize",null);b.__decorate([h.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],c.prototype,"style",void 0);b.__decorate([h.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",
write:!0}})],c.prototype,"weight",void 0);return c=k=b.__decorate([f.subclass("esri.symbols.Font")],c)})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DIconOutline ./support/Symbol3DMaterial".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v){function z(B){const C="width"in B?B.width:B.size,D="height"in B?B.height:B.size,J=A(B.xoffset);B=A(B.yoffset);return(J||B)&&C&&D?{x:-J/C,y:B/D}:null}function A(B){return isFinite(B)?B:0}var w;const y=c.getLogger("esri.symbols.IconSymbol3DLayer");c=w=function(B){function C(D){D=B.call(this,D)||this;D.material=null;D.resource=null;D.type="icon";D.size=12;D.anchor="center";D.anchorPosition=void 0;D.outline=void 0;return D}a._inheritsLoose(C,B);C.prototype.clone=
function(){return new w({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:e.isSome(this.material)?this.material.clone():null,outline:e.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};C.fromSimpleMarkerSymbol=function(D){const J=D.color||u.white,I=z(D),N=D.outline&&0<D.outline.width?{size:D.outline.width,color:(D.outline.color||u.white).clone()}:null;var L=w,G=D.size;{D=D.style;
const F=x[D];F?D=F:(y.warn(`${D} cannot be mapped to Icon symbol. Fallback to "circle"`),D="circle")}return new L({size:G,resource:{primitive:D},material:{color:J},outline:N,anchor:I?"relative":void 0,anchorPosition:I})};C.fromPictureMarkerSymbol=function(D){const J=!D.color||u.isBlack(D.color)?u.white:D.color,I=z(D);return new w({size:D.width<=D.height?D.height:D.width,resource:{href:D.url},material:{color:J.clone()},anchor:I?"relative":void 0,anchorPosition:I})};C.fromCIMSymbol=function(D){return new w({resource:{href:h.makeData({mediaType:"application/json",
data:JSON.stringify(D.data)})}})};return C}(p);b.__decorate([l.property({type:v.default,json:{write:!0}})],c.prototype,"material",void 0);b.__decorate([l.property({type:g.default,json:{write:!0}})],c.prototype,"resource",void 0);b.__decorate([k.enumeration({Icon:"icon"},{readOnly:!0})],c.prototype,"type",void 0);b.__decorate([l.property(r.screenSizeProperty)],c.prototype,"size",void 0);b.__decorate([k.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",
topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),l.property({json:{default:"center"}})],c.prototype,"anchor",void 0);b.__decorate([l.property({type:d.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:B=>new d.Symbol3DAnchorPosition2D({x:B[0],y:B[1]})},write:{writer:(B,C)=>{C.anchorPosition=[B.x,B.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],c.prototype,"anchorPosition",void 0);b.__decorate([l.property({type:n,json:{write:!0}})],
c.prototype,"outline",void 0);c=w=b.__decorate([m.subclass("esri.symbols.IconSymbol3DLayer")],c);const x={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return c})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r){var d;e=e.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=d=function(n){function v(A){return n.call(this,A)||this}b._inheritsLoose(v,n);var z=v.prototype;z.readHref=function(A,w,y){return A?r.fromJSON(A,y):w.dataURI};z.writeHref=function(A,w,y,x){A&&(l.isDataProtocol(A)?w.dataURI=A:(w.href=r.toJSON(A,x),l.isAbsolute(w.href)&&(w.href=l.normalize(w.href))))};z.clone=function(){return new d({href:this.href,
primitive:this.primitive})};return v}(h.JSONSupport);c.__decorate([q.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);c.__decorate([p.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);c.__decorate([g.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);c.__decorate([m.enumeration(e)],a.IconSymbol3DLayerResource.prototype,"primitive",void 0);
a.IconSymbol3DLayerResource=d=c.__decorate([u.subclass("esri.symbols.support.IconSymbol3DLayerResource")],a.IconSymbol3DLayerResource);a.default=a.IconSymbol3DLayerResource;a.defaultPrimitive="circle";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;a.Symbol3DAnchorPosition2D=k=function(m){function p(){var u=m.apply(this,arguments)||this;u.x=0;u.y=0;return u}b._inheritsLoose(p,m);p.prototype.clone=function(){return new k({x:this.x,y:this.y})};return p}(e);c.__decorate([h.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);c.__decorate([h.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=k=c.__decorate([f.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],
a.Symbol3DAnchorPosition2D);a.default=a.Symbol3DAnchorPosition2D;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DIconOutline":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){var u;e=u=function(g){function r(d){d=g.call(this,d)||this;d.color=new c([0,0,0,1]);d.size=l.px2pt(1);return d}a._inheritsLoose(r,g);r.prototype.clone=function(){const d={color:h.isSome(this.color)?this.color.clone():null,size:this.size};return new u(d)};return r}(e.JSONSupport);b.__decorate([q.property(p.colorAndTransparencyProperty)],e.prototype,"color",void 0);b.__decorate([q.property(p.screenSizeProperty)],e.prototype,"size",void 0);return e=u=b.__decorate([m.subclass("esri.symbols.support.Symbol3DIconOutline")],
e)})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,b,c,e,h,l,q,t,f,k,m,p){var u;const g=c.ofType({base:null,key:"type",typeMap:{text:k}});
c=u=function(r){function d(v){v=r.call(this,v)||this;v.verticalOffset=null;v.callout=null;v.styleOrigin=null;v.symbolLayers=new g;v.type="label-3d";return v}a._inheritsLoose(d,r);var n=d.prototype;n.supportsCallout=function(){return!0};n.hasVisibleCallout=function(){return m.hasVisibleCallout(this)};n.hasVisibleVerticalOffset=function(){return m.hasVisibleVerticalOffset(this)};n.clone=function(){return new u({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail),
callout:e.clone(this.callout),verticalOffset:e.clone(this.verticalOffset)})};d.fromTextSymbol=function(v){return new u({symbolLayers:[k.fromTextSymbol(v)]})};return d}(f);b.__decorate([h.property({type:p.default,json:{write:!0}})],c.prototype,"verticalOffset",void 0);b.__decorate([h.property(m.calloutProperty)],c.prototype,"callout",void 0);b.__decorate([h.property({json:{read:!1,write:!1}})],c.prototype,"styleOrigin",void 0);b.__decorate([h.property({type:g})],c.prototype,"symbolLayers",void 0);
b.__decorate([q.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=u=b.__decorate([t.subclass("esri.symbols.LabelSymbol3D")],c)})},"esri/symbols/Symbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../portal/Portal ../chunks/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x,B,C,D,J,I){const N={icon:z,object:w,line:A,path:y,fill:v,extrude:n,text:C,water:D};f=c.ofType({base:B,key:"type",typeMap:N,errorContext:"symbol-layer"});const L=h.getLogger("esri.symbols.Symbol3D");h=function(G){function F(K){K=G.call(this,K)||this;K.styleOrigin=null;K.thumbnail=null;K.type=null;const P=K.__accessor__&&K.__accessor__.metadatas&&K.__accessor__.metadatas.symbolLayers;K._set("symbolLayers",new (P&&P.type||c));return K}a._inheritsLoose(F,
G);var E=F.prototype;E.readStyleOrigin=function(K,P,W){if(K.styleUrl&&K.name)return P=d.fromJSON(K.styleUrl,W),new J({styleUrl:P,name:K.name});if(K.styleName&&K.name)return new J({portal:W&&W.portal||r.getDefault(),styleName:K.styleName,name:K.name});W&&W.messages&&W.messages.push(new q("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:W,definition:K}))};E.writeStyleOrigin=function(K,P,W,ia){K.styleUrl&&K.name?(W=d.toJSON(K.styleUrl,
ia),l.isAbsolute(W)&&(W=l.normalize(W)),P.styleOrigin={styleUrl:W,name:K.name}):K.styleName&&K.name&&(K.portal&&ia&&ia.portal&&!l.hasSamePortal(K.portal.restUrl,ia.portal.restUrl)?ia&&ia.messages&&ia.messages.push(new q("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):P.styleOrigin={styleName:K.styleName,name:K.name})};E.normalizeCtorArgs=function(K){return K instanceof B||K&&N[K.type]?
{symbolLayers:[K]}:Array.isArray(K)?{symbolLayers:K}:K};a._createClass(F,[{key:"color",get:function(){return null},set:function(K){L.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}},{key:"symbolLayers",set:function(K){e.referenceSetter(K,this._get("symbolLayers"))}}]);return F}(x);b.__decorate([t.property({json:{read:!1,write:!1}})],h.prototype,"color",null);b.__decorate([t.property({type:f,nonNullable:!0,json:{write:!0}}),
m.cast(e.castForReferenceSetter)],h.prototype,"symbolLayers",null);b.__decorate([t.property({type:J})],h.prototype,"styleOrigin",void 0);b.__decorate([p.reader("styleOrigin")],h.prototype,"readStyleOrigin",null);b.__decorate([g.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],h.prototype,"writeStyleOrigin",null);b.__decorate([t.property({type:I.default,json:{read:!1}})],h.prototype,"thumbnail",void 0);b.__decorate([t.property({type:["point-3d",
"line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],h.prototype,"type",void 0);return h=b.__decorate([u.subclass("esri.symbols.Symbol3D")],h)})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./patterns/LineStylePattern3D ./patterns/utils ./support/colors ./support/materialUtils ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n){var v;l=v=function(z){function A(w){w=z.call(this,w)||this;w.material=null;w.type="line";w.join="miter";w.cap="butt";w.size=e.px2pt(1);w.pattern=null;return w}a._inheritsLoose(A,z);A.prototype.clone=function(){const w={enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:c.isSome(this.pattern)?this.pattern.clone():null};return new v(w)};A.fromSimpleLineSymbol=function(w){w={enabled:!0,
size:w.width||1,cap:w.cap||"butt",join:w.join||"miter",pattern:w.style&&"inside-frame"!==w.style?new p({style:w.style}):null,material:new d.Symbol3DMaterial({color:(w.color||g.white).clone()})};return new v(w)};return A}(m);b.__decorate([h.property({type:d.Symbol3DMaterial,json:{write:!0}})],l.prototype,"material",void 0);b.__decorate([f.enumeration({Line:"line"},{readOnly:!0})],l.prototype,"type",void 0);b.__decorate([h.property({type:n.lineJoins,json:{write:!0,default:"miter"}})],l.prototype,"join",
void 0);b.__decorate([h.property({type:n.lineCaps,json:{write:!0,default:"butt"}})],l.prototype,"cap",void 0);b.__decorate([h.property(r.screenSizeProperty)],l.prototype,"size",void 0);b.__decorate([h.property(u.symbol3dLinePatternProperty)],l.prototype,"pattern",void 0);return l=v=b.__decorate([k.subclass("esri.symbols.LineSymbol3DLayer")],l)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){var g;h=g=function(r){function d(n){n=r.call(this,n)||this;n.material=null;n.castShadows=!0;n.resource=null;n.type="object";n.width=void 0;n.height=void 0;n.depth=void 0;n.anchor=void 0;n.anchorPosition=void 0;n.heading=void 0;n.tilt=void 0;n.roll=void 0;return n}a._inheritsLoose(d,r);d.prototype.clone=function(){return new g({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,
enabled:this.enabled,height:this.height,material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};a._createClass(d,[{key:"isPrimitive",get:function(){return!this.resource||"string"!==typeof this.resource.href}}]);return d}(k);b.__decorate([e.property({type:u.default,json:{write:!0}})],h.prototype,"material",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],h.prototype,
"castShadows",void 0);b.__decorate([e.property({type:m.default,json:{write:!0}})],h.prototype,"resource",void 0);b.__decorate([t.enumeration({Object:"object"},{readOnly:!0})],h.prototype,"type",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],h.prototype,"width",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],h.prototype,"height",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],h.prototype,"depth",void 0);b.__decorate([t.enumeration({center:"center",
top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),e.property({json:{default:"origin"}})],h.prototype,"anchor",void 0);b.__decorate([e.property({type:p.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:r=>new p.Symbol3DAnchorPosition3D({x:r[0],y:r[1],z:r[2]})},write:{writer:(r,d)=>{d.anchorPosition=[r.x,r.y,r.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],h.prototype,"anchorPosition",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],h.prototype,
"heading",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],h.prototype,"tilt",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],h.prototype,"roll",void 0);b.__decorate([e.property({readOnly:!0})],h.prototype,"isPrimitive",null);return h=g=b.__decorate([f.subclass("esri.symbols.ObjectSymbol3DLayer")],h)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){var u;e=e.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=u=function(g){function r(){return g.apply(this,arguments)||this}b._inheritsLoose(r,g);r.prototype.clone=function(){return new u({href:this.href,primitive:this.primitive})};return r}(h.JSONSupport);c.__decorate([l.property({type:String,json:{read:p.read,write:p.write}})],a.ObjectSymbol3DLayerResource.prototype,
"href",void 0);c.__decorate([k.enumeration(e)],a.ObjectSymbol3DLayerResource.prototype,"primitive",void 0);a.ObjectSymbol3DLayerResource=u=c.__decorate([m.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a.ObjectSymbol3DLayerResource);a.default=a.ObjectSymbol3DLayerResource;a.defaultPrimitive="sphere";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;a.Symbol3DAnchorPosition3D=k=function(m){function p(){var u=m.apply(this,arguments)||this;u.x=0;u.y=0;u.z=0;return u}b._inheritsLoose(p,m);p.prototype.clone=function(){return new k({x:this.x,y:this.y,z:this.z})};return p}(e);c.__decorate([h.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);c.__decorate([h.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);c.__decorate([h.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,
"z",void 0);a.Symbol3DAnchorPosition3D=k=c.__decorate([f.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],a.Symbol3DAnchorPosition3D);a.default=a.Symbol3DAnchorPosition3D;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){var g;h=g=function(r){function d(v){v=r.call(this,v)||this;v.material=null;v.castShadows=!0;v.type="path";v.profile="circle";v.join="miter";v.cap="butt";v.width=void 0;v.height=void 0;v.anchor="center";v.profileRotation="all";return v}a._inheritsLoose(d,r);var n=d.prototype;n.readWidth=function(v,z){return null!=v?v:null==z.height&&null!=z.size?z.size:void 0};n.readHeight=function(v,z){return null!=v?v:null==z.width&&null!=z.size?z.size:void 0};n.clone=function(){return new g({enabled:this.enabled,
material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};return d}(m);b.__decorate([e.property({type:p.default,json:{write:!0}})],h.prototype,"material",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],h.prototype,"castShadows",void 0);b.__decorate([t.enumeration({Path:"path"},{readOnly:!0})],
h.prototype,"type",void 0);b.__decorate([e.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],h.prototype,"profile",void 0);b.__decorate([e.property({type:u.lineJoins,json:{write:!0,default:"miter"}})],h.prototype,"join",void 0);b.__decorate([e.property({type:u.pathCaps,json:{write:!0,default:"butt"}})],h.prototype,"cap",void 0);b.__decorate([e.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],h.prototype,"width",void 0);b.__decorate([f.reader("width",
["width","size","height"])],h.prototype,"readWidth",null);b.__decorate([e.property({type:Number,json:{write:!0}})],h.prototype,"height",void 0);b.__decorate([f.reader("height",["height","size","width"])],h.prototype,"readHeight",null);b.__decorate([e.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],h.prototype,"anchor",void 0);b.__decorate([e.property({type:["heading","all"],json:{write:!0,default:"all"}})],h.prototype,"profileRotation",void 0);return h=g=b.__decorate([k.subclass("esri.symbols.PathSymbol3DLayer")],
h)})},"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial".split(" "),function(a,b,c,e,h,l,q,t,f,k,m,p,u,g){var r;
l=r=function(d){function n(z){z=d.call(this,z)||this;z._userSize=void 0;z.halo=null;z.material=null;z.text=void 0;z.type="text";return z}a._inheritsLoose(n,d);var v=n.prototype;v.writeFont=function(z,A,w,y){A.font=z.write({},{...y,textSymbol3D:!0});delete A.font.size};v.clone=function(){return new r({enabled:this.enabled,font:this.font&&c.clone(this.font),halo:this.halo&&c.clone(this.halo),material:e.isSome(this.material)?this.material.clone():null,size:this.size,text:this.text})};n.fromTextSymbol=
function(z){var A=z.haloColor;var w=z.haloSize;A=A&&0<w?{color:c.clone(A),size:w}:null;w=z.font?z.font.clone():new k;return new r({size:w.size,font:w,halo:A,material:z.color?{color:z.color.clone()}:null,text:z.text})};a._createClass(n,[{key:"font",get:function(){return this._get("font")||null},set:function(z){z&&this._userSize&&(z.size=this._userSize);this._set("font",z)}},{key:"size",get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9},set:function(z){this._userSize=
z;this.font&&(this.font.size=this._userSize);this.notifyChange("size")}}]);return n}(m);b.__decorate([h.property({type:k,json:{write:!0}})],l.prototype,"font",null);b.__decorate([f.writer("font")],l.prototype,"writeFont",null);b.__decorate([h.property({type:u.default,json:{write:!0}})],l.prototype,"halo",void 0);b.__decorate([h.property({type:g.default,json:{write:!0}})],l.prototype,"material",void 0);b.__decorate([h.property(p.screenSizeProperty),h.property()],l.prototype,"size",null);b.__decorate([h.property({type:String,
json:{write:!0}})],l.prototype,"text",void 0);b.__decorate([q.enumeration({Text:"text"},{readOnly:!0})],l.prototype,"type",void 0);return l=r=b.__decorate([t.subclass("esri.symbols.TextSymbol3DLayer")],l)})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;a.Symbol3DHalo=m=function(p){function u(){var g=p.apply(this,arguments)||this;g.color=new e([0,0,0,1]);g.size=0;return g}b._inheritsLoose(u,p);u.prototype.clone=function(){return new m({color:l.clone(this.color),size:this.size})};return u}(h.JSONSupport);c.__decorate([q.property(k.colorAndTransparencyProperty)],a.Symbol3DHalo.prototype,"color",void 0);c.__decorate([q.property(k.screenSizeProperty)],a.Symbol3DHalo.prototype,"size",void 0);a.Symbol3DHalo=m=c.__decorate([f.subclass("esri.symbols.support.Symbol3DHalo")],
a.Symbol3DHalo);a.default=a.Symbol3DHalo;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer".split(" "),function(a,b,c,e,h,l,q,t,f){var k;f=k=function(p){function u(g){g=p.call(this,g)||
this;g.color=m.clone();g.type="water";g.waterbodySize="medium";g.waveDirection=null;g.waveStrength="moderate";return g}a._inheritsLoose(u,p);u.prototype.clone=function(){return new k({color:e.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};return u}(f);b.__decorate([h.property({type:c,nonNullable:!0,json:{type:[l.Integer],write:(p,u,g)=>u[g]=p.toArray(1),default:()=>m.clone(),defaultEquals:p=>p.toCss(!0)===m.toCss(!0)}})],f.prototype,
"color",void 0);b.__decorate([q.enumeration({Water:"water"},{readOnly:!0})],f.prototype,"type",void 0);b.__decorate([h.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],f.prototype,"waterbodySize",void 0);b.__decorate([h.property({type:Number,json:{write:!0,default:null}})],f.prototype,"waveDirection",void 0);b.__decorate([h.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],f.prototype,"waveStrength",void 0);f=k=b.__decorate([t.subclass("esri.symbols.WaterSymbol3DLayer")],
f);const m=new c([0,119,190]);return f})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../portal/Portal".split(" "),function(a,b,c,e,h,l,q,t,f){var k;c=k=function(m){function p(){var u=m.apply(this,arguments)||this;u.portal=null;return u}
a._inheritsLoose(p,m);p.prototype.clone=function(){return new k({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};return p}(c);b.__decorate([e.property({type:String})],c.prototype,"name",void 0);b.__decorate([e.property({type:String})],c.prototype,"styleUrl",void 0);b.__decorate([e.property({type:String})],c.prototype,"styleName",void 0);b.__decorate([e.property({type:f})],c.prototype,"portal",void 0);return c=k=b.__decorate([t.subclass("esri.symbols.support.StyleOrigin")],
c)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t,f){var k;a.Thumbnail=k=function(m){function p(){return m.apply(this,arguments)||this}b._inheritsLoose(p,m);p.prototype.clone=function(){return new k({url:this.url})};
return p}(e);c.__decorate([h.property({type:String})],a.Thumbnail.prototype,"url",void 0);a.Thumbnail=k=c.__decorate([f.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);a.default=a.Thumbnail;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/callouts/calloutUtils":function(){define(["exports","./Callout3D","./LineCallout3D"],function(a,b,c){function e(h){if(!h)return!1;h=h.verticalOffset;return!h||0>=h.screenLength||0>=h.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",
base:b,typeMap:{line:c}},json:{write:!0}};a.hasVisibleCallout=function(h){if(!h||!h.supportsCallout||!h.supportsCallout())return!1;const l=h.callout;return l&&l.visible?e(h)?!0:!1:!1};a.hasVisibleVerticalOffset=e;a.isCalloutSupport=function(h){return"point-3d"===h.type||"label-3d"===h.type};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){c=function(f){function k(m){m=f.call(this,m)||this;m.visible=!0;return m}a._inheritsLoose(k,f);k.prototype.clone=function(){};return k}(c.JSONSupport);b.__decorate([e.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"visible",void 0);return c=b.__decorate([t.subclass("esri.symbols.callouts.Callout3D")],c)})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Callout3D ../../chunks/LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){var g;t=g=function(r){function d(n){n=r.call(this,n)||this;n.type="line";n.color=new c([0,0,0,1]);n.size=l.px2pt(1);n.border=null;return n}a._inheritsLoose(d,r);d.prototype.clone=function(){return new g({color:e.clone(this.color),size:this.size,border:e.clone(this.border)})};a._createClass(d,[{key:"visible",get:function(){return 0<this.size&&h.isSome(this.color)&&0<this.color.a}}]);return d}(m);b.__decorate([f.enumeration({line:"line"},{readOnly:!0})],t.prototype,
"type",void 0);b.__decorate([q.property(u.colorAndTransparencyProperty)],t.prototype,"color",void 0);b.__decorate([q.property(u.screenSizeProperty)],t.prototype,"size",void 0);b.__decorate([q.property({type:p.LineCallout3DBorder$1,json:{write:!0}})],t.prototype,"border",void 0);b.__decorate([q.property({readOnly:!0})],t.prototype,"visible",null);return t=g=b.__decorate([k.subclass("esri.symbols.callouts.LineCallout3D")],t)})},"esri/chunks/LineCallout3DBorder":function(){define("exports ./_rollupPluginBabelHelpers ./tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../symbols/support/materialUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;a.LineCallout3DBorder$2=m=function(p){function u(){var g=p.apply(this,arguments)||this;g.color=new e("white");return g}b._inheritsLoose(u,p);u.prototype.clone=function(){return new m({color:l.clone(this.color)})};return u}(h.JSONSupport);c.__decorate([q.property(k.colorAndTransparencyProperty)],a.LineCallout3DBorder$2.prototype,"color",void 0);a.LineCallout3DBorder$2=m=c.__decorate([f.subclass("esri.symbols.callouts.LineCallout3DBorder")],a.LineCallout3DBorder$2);
c=a.LineCallout3DBorder$2;h=Object.freeze({__proto__:null,get LineCallout3DBorder(){return a.LineCallout3DBorder$2},default:c});a.LineCallout3DBorder=h;a.LineCallout3DBorder$1=c})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;a.Symbol3DVerticalOffset=m=function(p){function u(){var g=p.apply(this,arguments)||this;g.screenLength=0;g.minWorldLength=0;return g}b._inheritsLoose(u,p);u.prototype.clone=function(){return new m({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};return u}(e.JSONSupport);c.__decorate([h.property(k.screenSizeProperty)],a.Symbol3DVerticalOffset.prototype,"screenLength",void 0);c.__decorate([h.property({type:Number,
json:{write:!0,default:0}})],a.Symbol3DVerticalOffset.prototype,"minWorldLength",void 0);c.__decorate([h.property({type:Number,json:{write:!0}})],a.Symbol3DVerticalOffset.prototype,"maxWorldLength",void 0);a.Symbol3DVerticalOffset=m=c.__decorate([f.subclass("esri.symbols.support.Symbol3DVerticalOffset")],a.Symbol3DVerticalOffset);a.default=a.Symbol3DVerticalOffset;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/LineSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m){var p;const u=c.ofType({base:null,key:"type",typeMap:{line:f,path:k}});c=c.ofType({base:null,key:"type",typeMap:{line:f,path:k}});m=p=function(g){function r(d){d=g.call(this,d)||this;d.symbolLayers=new u;d.type="line-3d";return d}a._inheritsLoose(r,g);r.prototype.clone=function(){return new p({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};r.fromSimpleLineSymbol=function(d){return new p({symbolLayers:[f.fromSimpleLineSymbol(d)]})};
return r}(m);b.__decorate([h.property({type:u,json:{type:c}})],m.prototype,"symbolLayers",void 0);b.__decorate([q.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],m.prototype,"type",void 0);return m=p=b.__decorate([t.subclass("esri.symbols.LineSymbol3D")],m)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,e,h,l,q,t,f){h=function(k){function m(p){p=k.call(this,p)||this;p.angle=0;p.type=null;p.xoffset=0;p.yoffset=0;p.size=9;return p}a._inheritsLoose(m,k);m.prototype.hash=function(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`};return m}(f);b.__decorate([e.property({type:Number,json:{read:k=>k&&-1*k,write:(k,m)=>m.angle=k&&-1*k}})],h.prototype,"angle",void 0);b.__decorate([e.property({type:["simple-marker","picture-marker"],readOnly:!0})],h.prototype,
"type",void 0);b.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],h.prototype,"xoffset",void 0);b.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],h.prototype,"yoffset",void 0);b.__decorate([e.property({type:Number,cast:k=>"auto"===k?k:c.toPt(k),json:{write:!0}})],h.prototype,"size",void 0);return h=b.__decorate([t.subclass("esri.symbols.MarkerSymbol")],h)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;const p=c.ofType({base:null,key:"type",typeMap:{fill:f}});c=m=function(u){function g(r){r=u.call(this,r)||this;r.symbolLayers=new p;r.type="mesh-3d";return r}a._inheritsLoose(g,u);g.prototype.clone=function(){return new m({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};return g}(k);b.__decorate([h.property({type:p})],c.prototype,"symbolLayers",void 0);b.__decorate([q.enumeration({MeshSymbol3D:"mesh-3d"},
{readOnly:!0})],c.prototype,"type",void 0);return c=m=b.__decorate([t.subclass("esri.symbols.MeshSymbol3D")],c)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./support/urlUtils".split(" "),function(a,b,c,e,h,l,q,t,f,k){var m;
l=m=function(p){function u(...r){r=p.call(this,...r)||this;r.type="picture-fill";r.url=null;r.xscale=1;r.yscale=1;r.width=12;r.height=12;r.xoffset=0;r.yoffset=0;r.source=null;return r}a._inheritsLoose(u,p);var g=u.prototype;g.normalizeCtorArgs=function(r,d,n,v){if(r&&"string"!==typeof r&&null==r.imageData)return r;const z={};r&&(z.url=r);d&&(z.outline=d);null!=n&&(z.width=e.toPt(n));null!=v&&(z.height=e.toPt(v));return z};g.clone=function(){const r=new m({color:c.clone(this.color),height:this.height,
outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});r._set("source",c.clone(this.source));return r};g.hash=function(){var r;return`${p.prototype.hash.call(this)}.${null==(r=this.color)?void 0:r.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`};return u}(f);b.__decorate([q.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],l.prototype,
"type",void 0);b.__decorate([h.property(k.urlPropertyDefinition)],l.prototype,"url",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],l.prototype,"xscale",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],l.prototype,"yscale",void 0);b.__decorate([h.property({type:Number,cast:e.toPt,json:{write:!0}})],l.prototype,"width",void 0);b.__decorate([h.property({type:Number,cast:e.toPt,json:{write:!0}})],l.prototype,"height",void 0);b.__decorate([h.property({type:Number,cast:e.toPt,
json:{write:!0}})],l.prototype,"xoffset",void 0);b.__decorate([h.property({type:Number,cast:e.toPt,json:{write:!0}})],l.prototype,"yoffset",void 0);b.__decorate([h.property(k.sourcePropertyDefinition)],l.prototype,"source",void 0);return l=m=b.__decorate([t.subclass("esri.symbols.PictureFillSymbol")],l)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c){function e(t,f,k){return f.imageData?b.makeData({mediaType:f.contentType||
"image/png",isBase64:!0,data:f.imageData}):h(f.url,k)}function h(t,f){return!f||"service"!==f.origin&&"portal-item"!==f.origin||!f.layer||"feature"!==f.layer.type&&"stream"!==f.layer.type||b.isAbsolute(t)||!f.layer.parsedUrl?c.fromJSON(t,f):b.join(f.layer.parsedUrl.path,"images",t)}function l(t,f,k,m){b.isDataProtocol(t)?(t=b.dataComponents(t),f.contentType=t.mediaType,f.imageData=t.data,k&&k.imageData===f.imageData&&k.url&&c.write(k.url,f,"url",m)):c.write(t,f,"url",m)}const q={json:{read:{source:["imageData",
"url"],reader:e},write:{writer(t,f,k,m){l(t,f,this.source,m)}}}};a.read=h;a.readImageDataOrUrl=e;a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,f,k){t={};f.imageData&&(t.imageData=f.imageData);f.contentType&&(t.contentType=f.contentType);f.url&&(t.url=h(f.url,k));return t}}}};a.urlPropertyDefinition=q;a.writeImageDataAndUrl=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m){var p;l=p=function(u){function g(...d){d=u.call(this,...d)||this;d.color=null;d.type="picture-marker";d.url=null;d.source=null;d.height=12;d.width=12;d.size=null;return d}a._inheritsLoose(g,u);var r=g.prototype;r.normalizeCtorArgs=function(d,n,v){if(d&&"string"!==typeof d&&null==d.imageData)return d;const z={};d&&(z.url=d);null!=n&&(z.width=e.toPt(n));null!=v&&(z.height=e.toPt(v));return z};r.readHeight=function(d,n){return n.size||d};r.readWidth=function(d,n){return n.size||
d};r.clone=function(){const d=new p({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});d._set("source",c.clone(this.source));return d};r.hash=function(){return`${u.prototype.hash.call(this)}.${this.height}.${this.url}.${this.width}`};return g}(k);b.__decorate([h.property({json:{write:!1}})],l.prototype,"color",void 0);b.__decorate([q.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],l.prototype,"type",void 0);b.__decorate([h.property(m.urlPropertyDefinition)],
l.prototype,"url",void 0);b.__decorate([h.property(m.sourcePropertyDefinition)],l.prototype,"source",void 0);b.__decorate([h.property({type:Number,cast:e.toPt,json:{write:!0}})],l.prototype,"height",void 0);b.__decorate([t.reader("height",["height","size"])],l.prototype,"readHeight",null);b.__decorate([h.property({type:Number,cast:e.toPt,json:{write:!0}})],l.prototype,"width",void 0);b.__decorate([h.property({json:{write:!1}})],l.prototype,"size",void 0);return l=p=b.__decorate([f.subclass("esri.symbols.PictureMarkerSymbol")],
l)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d){var n;const v=c.ofType({base:null,key:"type",typeMap:{icon:m,object:p,text:g}});c=c.ofType({base:null,key:"type",typeMap:{icon:m,object:p}});u=n=function(z){function A(y){y=z.call(this,y)||this;y.verticalOffset=null;y.callout=null;y.symbolLayers=new v;y.type="point-3d";return y}a._inheritsLoose(A,z);var w=A.prototype;w.writeSymbolLayers=function(y,x,B,C){const D=y.filter(J=>"text"!==J.type);C&&C.messages&&D.length<y.length&&(y=y.find(J=>"text"===J.type),C.messages.push(new e("symbol-layer:unsupported",
"Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:y})));x[B]=D.map(J=>J.write({},C)).toArray()};w.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const y of this.symbolLayers.items)switch(y.type){case "icon":case "text":case "object":continue;default:return!1}return!0};w.hasVisibleCallout=function(){return r.hasVisibleCallout(this)};w.hasVisibleVerticalOffset=function(){return r.hasVisibleVerticalOffset(this)};w.clone=function(){return new n({verticalOffset:h.clone(this.verticalOffset),
callout:h.clone(this.callout),styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};A.fromSimpleMarkerSymbol=function(y){return new n({symbolLayers:[m.fromSimpleMarkerSymbol(y)]})};A.fromPictureMarkerSymbol=function(y){return new n({symbolLayers:[m.fromPictureMarkerSymbol(y)]})};A.fromCIMSymbol=function(y){var x,B;return"CIMPointSymbol"!==(null==(x=y.data)?void 0:null==(B=x.symbol)?void 0:B.type)?null:y.data.symbol.callout?new n({symbolLayers:[m.fromCIMSymbol(y)],
callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new n({symbolLayers:[m.fromCIMSymbol(y)]})};A.fromTextSymbol=function(y){return new n({symbolLayers:[g.fromTextSymbol(y)]})};return A}(u);b.__decorate([l.property({type:d.default,json:{write:!0}})],u.prototype,"verticalOffset",void 0);b.__decorate([l.property(r.calloutProperty)],u.prototype,"callout",void 0);b.__decorate([l.property({type:v,json:{type:c,origins:{"web-scene":{type:c}}}})],u.prototype,"symbolLayers",void 0);
b.__decorate([k.writer("web-scene","symbolLayers")],u.prototype,"writeSymbolLayers",null);b.__decorate([t.enumeration({PointSymbol3D:"point-3d"},{readOnly:!0})],u.prototype,"type",void 0);return u=n=b.__decorate([f.subclass("esri.symbols.PointSymbol3D")],u)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z){var A;const w=c.ofType({base:null,key:"type",typeMap:{extrude:p,fill:u,icon:g,line:r,object:d,text:v,water:z}});c=c.ofType({base:null,key:"type",typeMap:{extrude:p,fill:u,icon:g,line:r,object:d,water:z}});n=A=function(y){function x(C){C=y.call(this,C)||this;C.symbolLayers=new w;C.type="polygon-3d";return C}a._inheritsLoose(x,y);var B=x.prototype;B.writeSymbolLayers=function(C,D,J,I){const N=C.filter(L=>"text"!==L.type);I&&I.messages&&N.length<C.length&&
(C=C.find(L=>"text"===L.type),I.messages.push(new e("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:C})));D[J]=N.map(L=>L.write({},I)).toArray()};B.clone=function(){return new A({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})};x.fromJSON=function(C){const D=new A;D.read(C);if(2===D.symbolLayers.length&&"fill"===D.symbolLayers.getItemAt(0).type&&"line"===D.symbolLayers.getItemAt(1).type){const J=
D.symbolLayers.getItemAt(0),I=D.symbolLayers.getItemAt(1);!I.enabled||C.symbolLayers&&C.symbolLayers[1]&&!1===C.symbolLayers[1].enable||(J.outline={size:I.size,color:l.isSome(I.material)?I.material.color:null});D.symbolLayers.removeAt(1)}return D};x.fromSimpleFillSymbol=function(C){return new A({symbolLayers:[u.fromSimpleFillSymbol(C)]})};return x}(n);b.__decorate([q.property({type:w,json:{type:c}})],n.prototype,"symbolLayers",void 0);b.__decorate([m.writer("web-scene","symbolLayers")],n.prototype,
"writeSymbolLayers",null);b.__decorate([f.enumeration({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],n.prototype,"type",void 0);return n=A=b.__decorate([k.subclass("esri.symbols.PolygonSymbol3D")],n)})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./SimpleLineSymbol".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m){var p;e=new e.JSONMap({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});k=p=function(u){function g(...d){d=u.call(this,...d)||this;d.color=new c([0,0,0,.25]);d.outline=new m;d.type="simple-fill";d.style="solid";return d}a._inheritsLoose(g,u);var r=g.prototype;r.normalizeCtorArgs=
function(d,n,v){if(d&&"string"!==typeof d)return d;const z={};d&&(z.style=d);n&&(z.outline=n);v&&(z.color=v);return z};r.clone=function(){return new p({color:h.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})};r.hash=function(){return`${u.prototype.hash.call(this)}${this.style}.${this.color&&this.color.hash()}`};return g}(k);b.__decorate([l.property()],k.prototype,"color",void 0);b.__decorate([l.property()],k.prototype,"outline",void 0);b.__decorate([t.enumeration({esriSFS:"simple-fill"},
{readOnly:!0})],k.prototype,"type",void 0);b.__decorate([l.property({type:e.apiValues,json:{read:e.read,write:e.write}})],k.prototype,"style",void 0);return k=p=b.__decorate([f.subclass("esri.symbols.SimpleFillSymbol")],k)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){var g;e=new e.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});p=g=function(r){function d(...v){v=r.call(this,...v)||this;v.color=new c([255,255,255,.25]);v.type="simple-marker";v.size=12;v.style="circle";v.outline=new u;return v}a._inheritsLoose(d,r);var n=d.prototype;n.normalizeCtorArgs=function(v,z,A,w){if(v&&"string"!==typeof v)return v;const y={};
v&&(y.style=v);null!=z&&(y.size=l.toPt(z));A&&(y.outline=A);w&&(y.color=w);return y};n.writeColor=function(v,z){v&&"x"!==this.style&&"cross"!==this.style&&(z.color=v.toJSON());null===v&&(z.color=null)};n.clone=function(){return new g({angle:this.angle,color:h.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};n.hash=function(){var v;return`${r.prototype.hash.call(this)}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${null==
(v=this.outline)?void 0:v.hash()}`};a._createClass(d,[{key:"path",set:function(v){this.style="path";this._set("path",v)}}]);return d}(p);b.__decorate([q.property()],p.prototype,"color",void 0);b.__decorate([m.writer("color")],p.prototype,"writeColor",null);b.__decorate([f.enumeration({esriSMS:"simple-marker"},{readOnly:!0})],p.prototype,"type",void 0);b.__decorate([q.property()],p.prototype,"size",void 0);b.__decorate([q.property({type:e.apiValues,json:{read:e.read,write:e.write}})],p.prototype,"style",
void 0);b.__decorate([q.property({type:String,json:{write:!0}})],p.prototype,"path",null);b.__decorate([q.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":u}},json:{default:null,write:!0}})],p.prototype,"outline",void 0);return p=g=b.__decorate([k.subclass("esri.symbols.SimpleMarkerSymbol")],p)})},"esri/symbols/TextSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){var u;p=u=function(g){function r(...n){n=g.call(this,...n)||this;n.backgroundColor=null;n.borderLineColor=null;n.borderLineSize=null;n.font=new m;n.horizontalAlignment="center";n.kerning=!0;n.haloColor=null;n.haloSize=null;n.rightToLeft=null;n.rotated=!1;n.text="";n.type="text";n.verticalAlignment=null;n.xoffset=0;n.yoffset=0;n.angle=0;n.width=null;n.lineWidth=192;n.lineHeight=1;return n}a._inheritsLoose(r,g);var d=r.prototype;d.normalizeCtorArgs=function(n,v,z){if(n&&
"string"!==typeof n)return n;const A={};n&&(A.text=n);v&&(A.font=v);z&&(A.color=z);return A};d.writeLineWidth=function(n,v,z,A){A&&"string"!==typeof A||(v[z]=n)};d.castLineWidth=function(n){return h.toPt(n)};d.writeLineHeight=function(n,v,z,A){A&&"string"!==typeof A||(v[z]=n)};d.clone=function(){return new u({angle:this.angle,backgroundColor:e.clone(this.backgroundColor),borderLineColor:e.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:e.clone(this.color),font:this.font&&this.font.clone(),
haloColor:e.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};d.hash=function(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&
this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`};return r}(p);b.__decorate([l.property({type:c,json:{write:!0}})],p.prototype,"backgroundColor",void 0);b.__decorate([l.property({type:c,json:{write:!0}})],p.prototype,"borderLineColor",void 0);b.__decorate([l.property({type:Number,
json:{write:!0}})],p.prototype,"borderLineSize",void 0);b.__decorate([l.property({type:m,json:{write:!0}})],p.prototype,"font",void 0);b.__decorate([l.property({type:["left","right","center","justify"],json:{write:!0}})],p.prototype,"horizontalAlignment",void 0);b.__decorate([l.property({type:Boolean,json:{write:!0}})],p.prototype,"kerning",void 0);b.__decorate([l.property({type:c,json:{write:!0}})],p.prototype,"haloColor",void 0);b.__decorate([l.property({type:Number,cast:h.toPt,json:{write:!0}})],
p.prototype,"haloSize",void 0);b.__decorate([l.property({type:Boolean,json:{write:!0}})],p.prototype,"rightToLeft",void 0);b.__decorate([l.property({type:Boolean,json:{write:!0}})],p.prototype,"rotated",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],p.prototype,"text",void 0);b.__decorate([t.enumeration({esriTS:"text"},{readOnly:!0})],p.prototype,"type",void 0);b.__decorate([l.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],p.prototype,"verticalAlignment",
void 0);b.__decorate([l.property({type:Number,cast:h.toPt,json:{write:!0}})],p.prototype,"xoffset",void 0);b.__decorate([l.property({type:Number,cast:h.toPt,json:{write:!0}})],p.prototype,"yoffset",void 0);b.__decorate([l.property({type:Number,json:{read:g=>g&&-1*g,write:(g,r)=>r.angle=g&&-1*g}})],p.prototype,"angle",void 0);b.__decorate([l.property({type:Number,json:{write:!0}})],p.prototype,"width",void 0);b.__decorate([l.property({type:Number})],p.prototype,"lineWidth",void 0);b.__decorate([k.writer("lineWidth")],
p.prototype,"writeLineWidth",null);b.__decorate([q.cast("lineWidth")],p.prototype,"castLineWidth",null);b.__decorate([l.property({type:Number})],p.prototype,"lineHeight",void 0);b.__decorate([k.writer("lineHeight")],p.prototype,"writeLineHeight",null);return p=u=b.__decorate([f.subclass("esri.symbols.TextSymbol")],p)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/Portal ../chunks/persistableUrlUtils ./Symbol ./support/Thumbnail".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r){function d(){return new Promise((z,A)=>a(["./support/webStyleSymbolUtils"],z,A))}var n;const v=e.getLogger("esri.symbols.WebStyleSymbol");e=n=function(z){function A(y){y=z.call(this,y)||this;y.styleName=null;y.portal=null;y.styleUrl=null;y.thumbnail=null;y.name=null;y.type="web-style";return y}b._inheritsLoose(A,z);var w=A.prototype;w.read=function(y,x){this.portal=x?x.portal:void 0;z.prototype.read.call(this,y,x)};w.clone=function(){return new n({name:this.name,
styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};w.fetchSymbol=function(y){return this._fetchSymbol("webRef",y)};w.fetchCIMSymbol=function(y){return this._fetchSymbol("cimRef",y)};w._fetchSymbol=function(){var y=b._asyncToGenerator(function*(x,B){const C=yield d();h.throwIfAborted(B);x=C.resolveWebStyleSymbol(this,{portal:this.portal},x,B);x.catch(D=>{v.error("#fetchSymbol()","Failed to create symbol from style",D)});return x});return function(x,B){return y.apply(this,arguments)}}();
return A}(g);c.__decorate([l.property({json:{write:!1}})],e.prototype,"color",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],e.prototype,"styleName",void 0);c.__decorate([l.property({type:p,json:{write:!1}})],e.prototype,"portal",void 0);c.__decorate([l.property({type:String,json:{read:u.read,write:u.write}})],e.prototype,"styleUrl",void 0);c.__decorate([l.property({type:r.default,json:{read:!1}})],e.prototype,"thumbnail",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],
e.prototype,"name",void 0);c.__decorate([k.enumeration({styleSymbolReference:"web-style"},{readOnly:!0})],e.prototype,"type",void 0);return e=n=c.__decorate([m.subclass("esri.symbols.WebStyleSymbol")],e)})},"esri/renderers/Renderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/AuthoringInfo".split(" "),
function(a,b,c,e,h,l,q,t,f,k){c=new c.JSONMap({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});e=function(m){function p(g){g=m.call(this,g)||this;g.authoringInfo=null;g.type=null;return g}a._inheritsLoose(p,m);var u=p.prototype;u.getRequiredFields=function(){var g=a._asyncToGenerator(function*(r){if(!this.collectRequiredFields)return[];const d=new Set;yield this.collectRequiredFields(d,r);
return Array.from(d).sort()});return function(r){return g.apply(this,arguments)}}();u.getSymbol=function(g,r){};u.getSymbolAsync=function(){var g=a._asyncToGenerator(function*(r,d){});return function(r,d){return g.apply(this,arguments)}}();u.getSymbols=function(){return[]};u.getAttributeHash=function(){return JSON.stringify(this)};u.getMeshHash=function(){return JSON.stringify(this)};return p}(e.JSONSupport);b.__decorate([h.property({type:k,json:{write:!0}})],e.prototype,"authoringInfo",void 0);b.__decorate([h.property({type:c.apiValues,
readOnly:!0,json:{type:c.jsonValues,read:!1,write:{writer:c.write,ignoreOrigin:!0}}})],e.prototype,"type",void 0);return e=b.__decorate([f.subclass("esri.renderers.Renderer")],e)})},"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../rest/support/colorRamps".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){var u;const g=new c.JSONMap({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"});c=new c.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});
const r="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");e=u=function(d){function n(z){z=d.call(this,z)||this;z.colorRamp=null;z.lengthUnit=null;z.maxSliderValue=null;z.minSliderValue=null;z.visualVariables=null;return z}a._inheritsLoose(n,d);var v=n.prototype;v.readColorRamp=function(z){if(z)return p.fromJSON(z)};v.clone=function(){return new u({classificationMethod:this.classificationMethod,colorRamp:h.clone(this.colorRamp),
fields:this.fields&&this.fields.slice(0),field1:h.clone(this.field1),field2:h.clone(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(z=>z.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme})};
a._createClass(n,[{key:"classificationMethod",get:function(){const z=this._get("classificationMethod"),A=this.type;return A&&"relationship"!==A?"class-breaks-size"===A||"class-breaks-color"===A?z||"manual":null:z},set:function(z){this._set("classificationMethod",z)}},{key:"fields",get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(z){this._set("fields",z)}},{key:"field1",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},
set:function(z){this._set("field1",z)}},{key:"field2",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(z){this._set("field2",z)}},{key:"focus",get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(z){this._set("focus",z)}},{key:"numClasses",get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(z){this._set("numClasses",z)}},{key:"statistics",get:function(){return"univariate-color-size"===
this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null},set:function(z){this._set("statistics",z)}},{key:"standardDeviationInterval",get:function(){const z=this.type;return z&&"relationship"!==z&&"class-breaks-size"!==z&&"class-breaks-color"!==z?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(z){this._set("standardDeviationInterval",z)}},{key:"type",get:function(){return this._get("type")},
set:function(z){let A=z;"classed-size"===z?A="class-breaks-size":"classed-color"===z&&(A="class-breaks-color");this._set("type",A)}},{key:"univariateSymbolStyle",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null},set:function(z){this._set("univariateSymbolStyle",z)}},{key:"univariateTheme",get:function(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null},set:function(z){this._set("univariateTheme",
z)}}]);return n}(e.JSONSupport);b.__decorate([l.property({type:g.apiValues,value:null,json:{type:g.jsonValues,read:g.read,write:g.write,origins:{"web-document":{default:"manual",type:g.jsonValues,read:g.read,write:g.write}}}})],e.prototype,"classificationMethod",null);b.__decorate([l.property({types:p.types,json:{write:!0}})],e.prototype,"colorRamp",void 0);b.__decorate([t.reader("colorRamp")],e.prototype,"readColorRamp",null);b.__decorate([l.property({type:[String],value:null,json:{write:!0}})],
e.prototype,"fields",null);b.__decorate([l.property({type:k.default,value:null,json:{write:!0}})],e.prototype,"field1",null);b.__decorate([l.property({type:k.default,value:null,json:{write:!0}})],e.prototype,"field2",null);b.__decorate([l.property({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],e.prototype,"focus",null);b.__decorate([l.property({type:Number,value:null,json:{type:q.Integer,write:!0}})],e.prototype,"numClasses",null);b.__decorate([l.property({type:r,json:{type:r,read:!1,write:!1,
origins:{"web-scene":{read:!0,write:!0}}}})],e.prototype,"lengthUnit",void 0);b.__decorate([l.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"maxSliderValue",void 0);b.__decorate([l.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"minSliderValue",void 0);b.__decorate([l.property({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"statistics",null);b.__decorate([l.property({type:[.25,
.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],e.prototype,"standardDeviationInterval",null);b.__decorate([l.property({type:c.apiValues,value:null,json:{type:c.jsonValues,read:c.read,write:c.write}})],e.prototype,"type",null);b.__decorate([l.property({type:[m],json:{write:!0}})],e.prototype,"visualVariables",void 0);b.__decorate([l.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),value:null,json:{write:!0,
origins:{"web-scene":{write:!1}}}})],e.prototype,"univariateSymbolStyle",null);b.__decorate([l.property({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],e.prototype,"univariateTheme",null);return e=u=b.__decorate([f.subclass("esri.renderers.support.AuthoringInfo")],e)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AuthoringInfoClassBreakInfo".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;a.AuthoringInfoFieldInfo=k=function(m){function p(u){u=m.call(this,u)||this;u.field="";u.normalizationField="";u.label="";u.classBreakInfos=[];return u}b._inheritsLoose(p,m);p.prototype.clone=function(){return new k({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:h.clone(this.classBreakInfos)})};return p}(e.JSONSupport);c.__decorate([l.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"field",
void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"normalizationField",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);c.__decorate([l.property({type:[f.default],json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=k=c.__decorate([t.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);a.default=a.AuthoringInfoFieldInfo;
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t,f){var k;a.AuthoringInfoClassBreakInfo=k=function(m){function p(u){u=m.call(this,
u)||this;u.minValue=0;u.maxValue=0;return u}b._inheritsLoose(p,m);p.prototype.clone=function(){return new k({minValue:this.minValue,maxValue:this.maxValue})};return p}(e.JSONSupport);c.__decorate([h.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);c.__decorate([h.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"maxValue",void 0);a.AuthoringInfoClassBreakInfo=k=c.__decorate([f.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],
a.AuthoringInfoClassBreakInfo);a.default=a.AuthoringInfoClassBreakInfo;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,
h,l,q,t,f){var k;l=new c.JSONMap({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"});c=new c.JSONMap({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});q={key(g){return"number"===typeof g?"number":"string"},typeMap:{number:Number,string:String},base:null};const m=["high-to-low","above-and-below","centered-on","extremes"],p=[...new Set("high-to-low above-and-below centered-on extremes 90-10 above below high-to-low above-and-below 90-10 above below".split(" "))],
u="seconds minutes hours days months years".split(" ");e=k=function(g){function r(n){n=g.call(this,n)||this;n.endTime=null;n.field=null;n.maxSliderValue=null;n.minSliderValue=null;n.startTime=null;n.type=null;n.units=null;return n}a._inheritsLoose(r,g);var d=r.prototype;d.castEndTime=function(n){return"string"===typeof n||"number"===typeof n?n:null};d.castStartTime=function(n){return"string"===typeof n||"number"===typeof n?n:null};d.clone=function(){return new k({endTime:this.endTime,field:this.field,
maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};a._createClass(r,[{key:"style",get:function(){return"color"===this.type?this._get("style"):null},set:function(n){this._set("style",n)}},{key:"theme",get:function(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null},set:function(n){this._set("theme",n)}}]);return r}(e.JSONSupport);b.__decorate([h.property({types:q,
json:{write:!0}})],e.prototype,"endTime",void 0);b.__decorate([t.cast("endTime")],e.prototype,"castEndTime",null);b.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],e.prototype,"maxSliderValue",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],e.prototype,"minSliderValue",void 0);b.__decorate([h.property({types:q,json:{write:!0}})],e.prototype,"startTime",void 0);b.__decorate([t.cast("startTime")],
e.prototype,"castStartTime",null);b.__decorate([h.property({type:l.apiValues,value:null,json:{type:l.jsonValues,read:l.read,write:l.write}})],e.prototype,"style",null);b.__decorate([h.property({type:p,value:null,json:{type:p,origins:{"web-scene":{type:m,write:{writer:(g,r)=>{-1<m.indexOf(g)&&(r.theme=g)}}}},write:!0}})],e.prototype,"theme",null);b.__decorate([h.property({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],e.prototype,"type",void 0);b.__decorate([h.property({type:u,
json:{type:u,write:!0}})],e.prototype,"units",void 0);return e=k=b.__decorate([f.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],e)})},"esri/rest/support/colorRamps":function(){define(["exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,c,e){c={key:"type",base:c,typeMap:{algorithmic:b,multipart:e}};a.fromJSON=function(h){return h&&h.type?"algorithmic"===h.type?b.fromJSON(h):"multipart"===h.type?e.fromJSON(h):null:null};a.types=c;Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/rest/support/AlgorithmicColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./ColorRamp".split(" "),function(a,b,c,e,h,l,q,t,f){var k;f=k=function(m){function p(u){u=m.call(this,u)||this;u.algorithm=null;u.fromColor=null;
u.toColor=null;u.type="algorithmic";return u}a._inheritsLoose(p,m);p.prototype.clone=function(){return new k({fromColor:e.clone(this.fromColor),toColor:e.clone(this.toColor),algorithm:this.algorithm})};return p}(f);b.__decorate([q.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],f.prototype,"algorithm",void 0);b.__decorate([h.property({type:c,json:{type:[l.Integer],write:!0}})],f.prototype,"fromColor",void 0);b.__decorate([h.property({type:c,json:{type:[l.Integer],
write:!0}})],f.prototype,"toColor",void 0);b.__decorate([h.property({type:["algorithmic"]})],f.prototype,"type",void 0);return f=k=b.__decorate([t.subclass("esri.rest.support.AlgorithmicColorRamp")],f)})},"esri/rest/support/ColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){c=function(f){function k(m){m=f.call(this,m)||this;m.type=null;return m}a._inheritsLoose(k,f);return k}(c.JSONSupport);b.__decorate([e.property({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.rest.support.ColorRamp")],c)})},"esri/rest/support/MultipartColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,c,e,h,l,q,t){var f;h=f=function(k){function m(p){p=k.call(this,p)||this;p.colorRamps=null;p.type="multipart";return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({colorRamps:c.clone(this.colorRamps)})};return m}(t);b.__decorate([e.property({type:[q],json:{write:!0}})],h.prototype,"colorRamps",void 0);b.__decorate([e.property({type:["multipart"]})],h.prototype,"type",void 0);return h=f=b.__decorate([l.subclass("esri.rest.support.MultipartColorRamp")],h)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/fieldUtils ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n){const v={base:d,key:"type",typeMap:{opacity:u,color:p,rotation:g,size:r}};a.VisualVariablesMixin=z=>{z=function(A){function w(){var x=A.apply(this,arguments)||this;x._vvFactory=new n;return x}b._inheritsLoose(w,A);var y=w.prototype;y.readVisualVariables=function(x,B,C){return this._vvFactory.readVariables(x,B,C)};y.writeVisualVariables=function(x,B,C,D){B[C]=this._vvFactory.writeVariables(x,D)};y.hasVisualVariables=function(x,B){return x?0<this.getVisualVariablesForType(x,
B).length:0<this.getVisualVariablesForType("size",B).length||0<this.getVisualVariablesForType("color",B).length||0<this.getVisualVariablesForType("opacity",B).length||0<this.getVisualVariablesForType("rotation",B).length};y.getVisualVariablesForType=function(x,B){const C=this.visualVariables;return C?C.filter(D=>D.type===x&&("string"===typeof B?D.target===B:!1===B?!D.target:!0)):[]};y.collectVVRequiredFields=function(){var x=b._asyncToGenerator(function*(B,C){let D=[];this.visualVariables&&(D=D.concat(this.visualVariables));
for(const J of D)J&&(J.field&&m.collectField(B,C,J.field),J.normalizationField&&m.collectField(B,C,J.normalizationField),J.valueExpression&&(yield m.collectArcadeFieldNames(B,C,J.valueExpression)))});return function(B,C){return x.apply(this,arguments)}}();b._createClass(w,[{key:"visualVariables",set:function(x){this._vvFactory.visualVariables=x;this._set("visualVariables",this._vvFactory.visualVariables)}},{key:"arcadeRequiredForVisualVariables",get:function(){if(!this.visualVariables)return!1;for(const x of this.visualVariables)if(x.arcadeRequired)return!0;
return!1}}]);return w}(z);c.__decorate([e.property({types:[v],value:null,json:{write:!0}})],z.prototype,"visualVariables",null);c.__decorate([t.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],z.prototype,"readVisualVariables",null);c.__decorate([k.writer("visualVariables")],z.prototype,"writeVisualVariables",null);return z=c.__decorate([f.subclass("esri.renderers.mixins.VisualVariablesMixin")],z)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/ColorStop".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;e=k=function(m){function p(g){g=m.call(this,g)||this;g.type="color";g.normalizationField=null;return g}a._inheritsLoose(p,m);var u=p.prototype;u.clone=function(){return new k({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(g=>g.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};u.getAttributeHash=function(){return`${m.prototype.getAttributeHash.call(this)}-${this.normalizationField}`};
u._interpolateData=function(){return this.stops&&this.stops.map(g=>g.value||0)};a._createClass(p,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(g){g&&Array.isArray(g)&&(g=g.filter(r=>!!r),g.sort((r,d)=>r.value-d.value));this._set("stops",g)}}]);return p}(t);b.__decorate([c.property({readOnly:!0})],e.prototype,"cache",null);b.__decorate([c.property({type:["color"],json:{type:["colorInfo"]}})],e.prototype,
"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"normalizationField",void 0);b.__decorate([c.property({type:[f],json:{write:!0}})],e.prototype,"stops",null);return e=k=b.__decorate([q.subclass("esri.renderers.visualVariables.ColorVariable")],e)})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){const u=h.getLogger("esri.renderers.visualVariables.VisualVariable");c=new c.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});e=function(g){function r(n){n=g.call(this,n)||this;n.index=null;n.type=null;n.field=null;n.valueExpression=null;n.valueExpressionTitle=null;n.legendOptions=null;return n}a._inheritsLoose(r,g);var d=r.prototype;d.castField=function(n){return null==n?n:"function"===typeof n?(u.error(".field: field must be a string value"),
null):m.ensureString(n)};d.clone=function(){};d.getAttributeHash=function(){return`${this.type}-${this.field}-${this.valueExpression}`};a._createClass(r,[{key:"arcadeRequired",get:function(){return!!this.valueExpression}}]);return r}(e.JSONSupport);b.__decorate([l.property()],e.prototype,"index",void 0);b.__decorate([l.property({type:c.apiValues,readOnly:!0,json:{read:c.read,write:c.write}})],e.prototype,"type",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);
b.__decorate([f.cast("field")],e.prototype,"castField",null);b.__decorate([l.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);b.__decorate([l.property({readOnly:!0})],e.prototype,"arcadeRequired",null);b.__decorate([l.property({type:p,json:{write:!0}})],e.prototype,"legendOptions",void 0);return e=b.__decorate([k.subclass("esri.renderers.visualVariables.VisualVariable")],
e)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../support/LegendOptions".split(" "),function(a,b,c,e,h,l,q,t){var f;e=f=function(k){function m(){var p=k.apply(this,arguments)||this;p.showLegend=null;
return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({title:this.title,showLegend:this.showLegend})};return m}(t.default);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"showLegend",void 0);return e=f=b.__decorate([q.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],e)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;a.LegendOptions=k=function(m){function p(){var u=m.apply(this,arguments)||this;u.title=null;return u}b._inheritsLoose(p,m);p.prototype.clone=function(){return new k({title:this.title})};return p}(e.JSONSupport);c.__decorate([h.property({type:String,json:{write:!0}})],a.LegendOptions.prototype,"title",void 0);a.LegendOptions=k=c.__decorate([f.subclass("esri.renderers.support.LegendOptions")],a.LegendOptions);a.default=a.LegendOptions;Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),function(a,b,c,e,h,l,q,t,f,k){var m;e=m=function(p){function u(r){r=
p.call(this,r)||this;r.color=null;r.label=null;r.value=null;return r}a._inheritsLoose(u,p);var g=u.prototype;g.writeValue=function(r,d,n){d[n]=null==r?0:r};g.clone=function(){return new m({color:this.color&&this.color.clone(),label:this.label,value:this.value})};return u}(e.JSONSupport);b.__decorate([h.property({type:c,json:{type:[t.Integer],write:!0}})],e.prototype,"color",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"label",void 0);b.__decorate([h.property({type:Number,
json:{write:{writerEnsuresNonNull:!0}}})],e.prototype,"value",void 0);b.__decorate([k.writer("value")],e.prototype,"writeValue",null);return e=m=b.__decorate([f.subclass("esri.renderers.visualVariables.support.ColorStop")],e)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/OpacityStop".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;e=k=function(m){function p(g){g=m.call(this,g)||this;g.type="opacity";g.normalizationField=null;return g}a._inheritsLoose(p,m);var u=p.prototype;u.clone=function(){return new k({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(g=>g.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};u.getAttributeHash=function(){return`${m.prototype.getAttributeHash.call(this)}-${this.normalizationField}`};
u._interpolateData=function(){return this.stops&&this.stops.map(g=>g.value||0)};a._createClass(p,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(g){g&&Array.isArray(g)&&(g=g.filter(r=>!!r),g.sort((r,d)=>r.value-d.value));this._set("stops",g)}}]);return p}(t);b.__decorate([c.property({readOnly:!0})],e.prototype,"cache",null);b.__decorate([c.property({type:["opacity"],json:{type:["transparencyInfo"]}})],
e.prototype,"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"normalizationField",void 0);b.__decorate([c.property({type:[f],json:{write:!0}})],e.prototype,"stops",null);return e=k=b.__decorate([q.subclass("esri.renderers.visualVariables.OpacityVariable")],e)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m){var p;c=p=function(u){function g(d){d=u.call(this,d)||this;d.label=null;d.opacity=null;d.value=null;return d}a._inheritsLoose(g,u);var r=g.prototype;r.readOpacity=function(d,n){return m.transparencyToOpacity(n.transparency)};r.writeOpacity=function(d,n,v){n[v]=m.opacityToTransparency(d)};r.clone=function(){return new p({label:this.label,opacity:this.opacity,value:this.value})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,
"label",void 0);b.__decorate([e.property({type:Number,json:{type:q.Integer,write:{target:"transparency"}}})],c.prototype,"opacity",void 0);b.__decorate([t.reader("opacity",["transparency"])],c.prototype,"readOpacity",null);b.__decorate([k.writer("opacity")],c.prototype,"writeOpacity",null);b.__decorate([e.property({type:Number,json:{write:!0}})],c.prototype,"value",void 0);return c=p=b.__decorate([f.subclass("esri.renderers.visualVariables.support.OpacityStop")],c)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;h=m=function(p){function u(r){r=p.call(this,r)||this;r.axis=null;r.type="rotation";r.rotationType="geographic";r.valueExpressionTitle=null;return r}a._inheritsLoose(u,p);var g=u.prototype;g.writeValueExpressionTitleWebScene=function(r,d,n,v){v&&v.messages&&v.messages.push(new c("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}]`+
".valueExpressionTitle",context:v}))};g.clone=function(){return new m({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};a._createClass(u,[{key:"cache",get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}}]);return u}(k);b.__decorate([e.property({readOnly:!0})],h.prototype,"cache",null);b.__decorate([e.property({type:["heading",
"tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],h.prototype,"axis",void 0);b.__decorate([e.property({type:["rotation"],json:{type:["rotationInfo"]}})],h.prototype,"type",void 0);b.__decorate([e.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],h.prototype,"rotationType",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],h.prototype,"valueExpressionTitle",void 0);b.__decorate([f.writer("web-scene",
"valueExpressionTitle")],h.prototype,"writeValueExpressionTitleWebScene",null);return h=m=b.__decorate([t.subclass("esri.renderers.visualVariables.RotationVariable")],h)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v){function z(C){if(null!=C){if("string"===typeof C||"number"===typeof C)return l.toPt(C);if("size"===C.type){if(n.isSizeVariable(C))return C;C={...C};delete C.type;return new B(C)}}}function A(C,D,J){if("object"!==typeof C)return C;D=new B;D.read(C,J);return D}var w;const y=h.getLogger("esri.renderers.visualVariables.SizeVariable");h=new e.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"});const x=new e.JSONMap({unknown:"unknown",
inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});let B=w=function(C){function D(I){I=C.call(this,I)||this;I.axis=null;I.legendOptions=null;I.normalizationField=null;I.scaleBy=null;I.target=null;I.type="size";I.useSymbolValue=null;I.valueExpression=null;I.valueRepresentation=null;I.valueUnit=null;return I}a._inheritsLoose(D,
C);var J=D.prototype;J.castMaxSize=function(I){return z(I)};J.readMaxSize=function(I,N,L){return A(I,N,L)};J.castMinSize=function(I){return z(I)};J.readMinSize=function(I,N,L){return A(I,N,L)};J.readValueExpression=function(I,N){return I||N.expression&&"$view.scale"};J.writeValueExpressionWebScene=function(I,N,L,G){"$view.scale"===I?G&&G.messages&&(I=this.index,G.messages.push(new c("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:("string"===typeof I?I:`visualVariables[${I}]`)+".valueExpression",context:G}))):N[L]=I};J.readValueUnit=function(I){return I?x.read(I):null};J.clone=function(){return new w({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:n.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:n.isSizeVariable(this.minSize)?this.minSize.clone():
this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(I=>I.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};J.flipSizes=function(){if("clamped-linear"===this.transformationType){const {minSize:I,maxSize:N}=this;this.minSize=N;this.maxSize=I;return this}if("stops"===this.transformationType){const I=this.stops,N=I.map(G=>
G.size).reverse(),L=I.length;for(let G=0;G<L;G++)I[G].size=N[G]}return this};J.getAttributeHash=function(){return`${C.prototype.getAttributeHash.call(this)}-${this.target}-${this.normalizationField}`};J._interpolateData=function(){return this.stops&&this.stops.map(I=>I.value||0)};a._createClass(D,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:v.viewScaleRE.test(this.valueExpression)}}},{key:"expression",set:function(I){y.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");
"view.scale"===I?(this.valueExpression="$view.scale",this._set("expression",I)):this._set("expression",null)}},{key:"index",set:function(I){n.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${I}].maxSize`);n.isSizeVariable(this.minSize)&&(this.minSize.index=`visualVariables[${I}].minSize`);this._set("index",I)}},{key:"inputValueType",get:function(){return n.getInputValueType(this)}},{key:"maxDataValue",set:function(I){I&&this.stops&&(y.warn("cannot set maxDataValue when stops is not null."),
I=null);this._set("maxDataValue",I)}},{key:"maxSize",set:function(I){I&&this.stops&&(y.warn("cannot set maxSize when stops is not null."),I=null);this._set("maxSize",I)}},{key:"minDataValue",set:function(I){I&&this.stops&&(y.warn("cannot set minDataValue when stops is not null."),I=null);this._set("minDataValue",I)}},{key:"minSize",set:function(I){I&&this.stops&&(y.warn("cannot set minSize when stops is not null."),I=null);this._set("minSize",I)}},{key:"arcadeRequired",get:function(){return this.valueExpression?
!0:this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired}},{key:"stops",set:function(I){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?I&&Array.isArray(I)&&(I=I.filter(N=>!!N),I.sort((N,L)=>N.value-L.value)):I&&(y.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),I=null);this._set("stops",I)}},{key:"transformationType",
get:function(){return n.getTransformationType(this,this.inputValueType)}}]);return D}(g);b.__decorate([q.property({readOnly:!0})],B.prototype,"cache",null);b.__decorate([q.property({type:h.apiValues,json:{type:h.jsonValues,origins:{"web-map":{read:!1}},read:h.read,write:h.write}})],B.prototype,"axis",void 0);b.__decorate([q.property({type:String,value:null,json:{read:!1}})],B.prototype,"expression",null);b.__decorate([q.property()],B.prototype,"index",null);b.__decorate([q.property({type:String,readOnly:!0})],
B.prototype,"inputValueType",null);b.__decorate([q.property({type:d,json:{write:!0}})],B.prototype,"legendOptions",void 0);b.__decorate([q.property({type:Number,value:null,json:{write:!0}})],B.prototype,"maxDataValue",null);b.__decorate([q.property({type:Number,value:null,json:{write:!0}})],B.prototype,"maxSize",null);b.__decorate([k.cast("maxSize")],B.prototype,"castMaxSize",null);b.__decorate([m.reader("maxSize")],B.prototype,"readMaxSize",null);b.__decorate([q.property({type:Number,value:null,
json:{write:!0}})],B.prototype,"minDataValue",null);b.__decorate([q.property({type:Number,value:null,json:{write:!0}})],B.prototype,"minSize",null);b.__decorate([k.cast("minSize")],B.prototype,"castMinSize",null);b.__decorate([m.reader("minSize")],B.prototype,"readMinSize",null);b.__decorate([q.property({type:String,json:{write:!0}})],B.prototype,"normalizationField",void 0);b.__decorate([q.property({readOnly:!0})],B.prototype,"arcadeRequired",null);b.__decorate([q.property({type:String})],B.prototype,
"scaleBy",void 0);b.__decorate([q.property({type:[r],value:null,json:{write:!0}})],B.prototype,"stops",null);b.__decorate([q.property({type:["outline"],json:{write:!0}})],B.prototype,"target",void 0);b.__decorate([q.property({type:String,readOnly:!0})],B.prototype,"transformationType",null);b.__decorate([q.property({type:["size"],json:{type:["sizeInfo"]}})],B.prototype,"type",void 0);b.__decorate([q.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],B.prototype,"useSymbolValue",
void 0);b.__decorate([q.property({type:String,json:{write:!0}})],B.prototype,"valueExpression",void 0);b.__decorate([m.reader("valueExpression",["valueExpression","expression"])],B.prototype,"readValueExpression",null);b.__decorate([u.writer("web-scene","valueExpression")],B.prototype,"writeValueExpressionWebScene",null);b.__decorate([q.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],B.prototype,"valueRepresentation",void 0);b.__decorate([q.property({type:x.apiValues,
json:{write:x.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],B.prototype,"valueUnit",void 0);b.__decorate([m.reader("valueUnit")],B.prototype,"readValueUnit",null);return B=w=b.__decorate([p.subclass("esri.renderers.visualVariables.SizeVariable")],B)})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;c=k=function(m){function p(u){u=m.call(this,u)||this;u.label=null;u.size=null;u.value=null;return u}a._inheritsLoose(p,m);p.prototype.clone=function(){return new k({label:this.label,size:this.size,value:this.value})};return p}(c.JSONSupport);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([h.property({type:Number,cast:e.toPt,json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],
c.prototype,"value",void 0);return c=k=b.__decorate([f.subclass("esri.renderers.visualVariables.support.SizeStop")],c)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./VisualVariableLegendOptions".split(" "),
function(a,b,c,e,h,l,q,t){var f;e=f=function(k){function m(){var p=k.apply(this,arguments)||this;p.customValues=null;return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};return m}(t);b.__decorate([c.property({type:[Number],json:{write:!0}})],e.prototype,"customValues",void 0);return e=f=b.__decorate([q.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],
e)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],function(a){function b(c){return c.valueExpression?"expression":c.field&&"string"===typeof c.field?"field":"unknown"}a.getInputValueType=b;a.getTransformationType=function(c,e){return"unknown"===(e||b(c))?"constant":c.stops?"stops":null!=c.minSize&&null!=c.maxSize&&null!=c.minDataValue&&null!=c.maxDataValue?"clamped-linear":"unknown"===(c.valueUnit||"unknown")?null!=c.minSize&&null!=c.minDataValue?c.minSize&&
c.minDataValue?"proportional":"additive":"identity":"real-world-size"};a.isSizeVariable=function(c){return c&&"esri.renderers.visualVariables.SizeVariable"===c.declaredClass};a.isValidNumber=function(c){return null!=c&&!isNaN(c)&&isFinite(c)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../../core/maybe ../../support/lengthUtils ./sizeVariableUtils".split(" "),
function(a,b,c,e,h,l,q,t){function f(w,y,x){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.filter(G=>"color"===G.type)[0]:w)if("esri.renderers.visualVariables.ColorVariable"!==w.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var B="number"===typeof y,C=B?null:y,D=C&&C.attributes,J=B?y:null,I=w.field,{ipData:N,hasExpression:L}=w.cache;y=w.cache.compiledFunc;if(!I&&!L)return(x=w.stops)&&x[0]&&x[0].color;if("number"!==
typeof J)if(L){if(!l.isSome(x)||!l.isSome(x.arcade)){v.error("Use of arcade expressions requires an arcade context");return}J=x.arcade.arcadeUtils;I=J.getViewInfo({viewingMode:x.viewingMode,scale:x.scale,spatialReference:x.spatialReference});C=J.createExecContext(C,I);y||(y=J.createSyntaxTree(w.valueExpression),y=J.createFunction(y),w.cache.compiledFunc=y);J=J.executeFunction(y,C)}else D&&(J=D[I]);C=w.normalizationField;D=D?parseFloat(D[C]):void 0;if(null!=J&&(!C||B||!isNaN(D)&&0!==D)&&(isNaN(D)||
B||(J/=D),B=n(J,N)))return D=B[0],C=B[1],x=D===C?w.stops[D].color:b.blendColors(w.stops[D].color,w.stops[C].color,B[2],l.isSome(x)?x.color:void 0),new b(x)}}function k(w,y,x){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.filter(G=>"opacity"===G.type)[0]:w)if("esri.renderers.visualVariables.OpacityVariable"!==w.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var B="number"===typeof y,C=B?null:y,D=C&&C.attributes,
J=B?y:null,I=w.field,{ipData:N,hasExpression:L}=w.cache;y=w.cache.compiledFunc;if(!I&&!L)return(w=w.stops)&&w[0]&&w[0].opacity;if("number"!==typeof J)if(L){if(l.isNone(x)||l.isNone(x.arcade)){v.error("Use of arcade expressions requires an arcade context");return}J=x.arcade.arcadeUtils;x=J.getViewInfo({viewingMode:x.viewingMode,scale:x.scale,spatialReference:x.spatialReference});x=J.createExecContext(C,x);y||(C=J.createSyntaxTree(w.valueExpression),y=J.createFunction(C),w.cache.compiledFunc=y);J=J.executeFunction(y,
x)}else D&&(J=D[I]);x=w.normalizationField;D=D?parseFloat(D[x]):void 0;if(null!=J&&(!x||B||!isNaN(D)&&0!==D)&&(isNaN(D)||B||(J/=D),B=n(J,N))){x=B[0];D=B[1];if(x===D)return w.stops[x].opacity;x=w.stops[x].opacity;return x+(w.stops[D].opacity-x)*B[2]}}}function m(w,y,x){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.filter(G=>"rotation"===G.type)[0]:w)if("esri.renderers.visualVariables.RotationVariable"!==w.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");
else{var B=w.axis||"heading",C="heading"===B&&"arithmetic"===w.rotationType?90:0;B="heading"===B&&"arithmetic"===w.rotationType?-1:1;var D="number"===typeof y?null:y,J=D&&D.attributes,I=w.field,{hasExpression:N}=w.cache;y=w.cache.compiledFunc;var L=0;if(!I&&!N)return L;if(N){if(l.isNone(x)||l.isNone(x.arcade)){v.error("Use of arcade expressions requires an arcade context");return}J=x.arcade.arcadeUtils;x=J.getViewInfo({viewingMode:x.viewingMode,scale:x.scale,spatialReference:x.spatialReference});
x=J.createExecContext(D,x);y||(y=J.createSyntaxTree(w.valueExpression),y=J.createFunction(y),w.cache.compiledFunc=y);L=J.executeFunction(y,x)}else J&&(L=J[I]||0);return L="number"!==typeof L||isNaN(L)?null:C+B*L}}function p(w,y,x){const B="number"===typeof y;var C=B?null:y;const D=C&&C.attributes;var J=B?y:null;const {isScaleDriven:I}=w.cache;y=w.cache.compiledFunc;if(I)C=l.isSome(x)?x.scale:void 0,x=l.isSome(x)?x.view:void 0,null==C||"3d"===x?(C=x=null,(C=w.stops)?(x=C[0].value,C=C[C.length-1].value):
(x=w.minDataValue||0,C=w.maxDataValue||0),x=(x+C)/2):x=C,J=x;else if(!B)switch(w.inputValueType){case "expression":if(l.isNone(x)||l.isNone(x.arcade)){v.error("Use of arcade expressions requires an arcade context");return}J=x.arcade.arcadeUtils;x=J.getViewInfo({viewingMode:x.viewingMode,scale:x.scale,spatialReference:x.spatialReference});x=J.createExecContext(C,x);y||(C=J.createSyntaxTree(w.valueExpression),y=J.createFunction(C),w.cache.compiledFunc=y);J=J.executeFunction(y,x);break;case "field":D&&
(J=D[w.field]);break;case "unknown":J=null}if(!t.isValidNumber(J))return null;if(B||!w.normalizationField)return J;w=D?parseFloat(D[w.normalizationField]):null;return t.isValidNumber(w)&&0!==w?J/w:null}function u(w,y,x){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.filter(C=>"size"===C.type)[0]:w)if("esri.renderers.visualVariables.SizeVariable"!==w.declaredClass)v.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");else{var B=p(w,y,x);
y=d(B,w,y,x,w.cache.ipData);return null===y||void 0===y||isNaN(y)?0:y}}function g(w,y,x){return null==w?null:t.isSizeVariable(w)?u(w,y,x):t.isValidNumber(w)?w:null}function r(w,y,x){return t.isValidNumber(x)&&w>x?x:t.isValidNumber(y)&&w<y?y:w}function d(w,y,x,B,C){switch(y.transformationType){case "additive":return B=g(y.minSize,x,B),y=w+(B||y.minDataValue);case "constant":return w=(w=y.stops)&&w.length&&w[0].size,null==w&&(w=y.minSize),y=g(w,x,B);case "clamped-linear":C=(w-y.minDataValue)/(y.maxDataValue-
y.minDataValue);var D=g(y.minSize,x,B);x=g(y.maxSize,x,B);B=l.isSome(B)?B.shape:void 0;w<=y.minDataValue?y=D:w>=y.maxDataValue?y=x:"area"===y.scaleBy&&B?(w=(y="circle"===B)?A*(D/2)**2:D*D,w+=C*((y?A*(x/2)**2:x*x)-w),y=y?2*Math.sqrt(w/A):Math.sqrt(w)):y=D+C*(x-D);return y;case "proportional":return C=l.isSome(B)?B.shape:void 0,w/=y.minDataValue,D=g(y.minSize,x,B),y=g(y.maxSize,x,B),B=null,B="circle"===C?2*Math.sqrt(w*(D/2)**2):"square"===C||"diamond"===C||"image"===C?Math.sqrt(w*D**2):w*D,y=r(B,D,
y);case "stops":{const [J,I,N]=n(w,C);J===I?y=g(y.stops[J].size,x,B):(w=g(y.stops[J].size,x,B),y=g(y.stops[I].size,x,B),y=w+(y-w)*N)}return y;case "real-world-size":return C=(l.isSome(B)&&B.resolution?B.resolution:1)*q.meterIn[y.valueUnit],D=g(y.minSize,x,B),B=g(y.maxSize,x,B),{valueRepresentation:y}=y,x=null,x="area"===y?2*Math.sqrt(w/A)/C:"radius"===y||"distance"===y?2*w/C:w/C,y=r(x,D,B);case "identity":return w;case "unknown":return null}}function n(w,y){if(y){var x=0,B=y.length-1;y.some((C,D)=>
{if(w<C)return B=D,!0;x=D;return!1});return[x,B,(w-y[x])/(y[B]-y[x])]}}const v=h.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),z=new c,A=Math.PI;a.getAllSizes=function(w,y,x){const B=["proportional","proportional","proportional"];for(const C of w)switch(w=C.useSymbolValue?"symbol-value":u(C,y,x),C.axis){case "width":B[0]=w;break;case "depth":B[1]=w;break;case "height":B[2]=w;break;case "width-and-depth":B[0]=w;B[1]=w;break;case "all":case void 0:case null:B[0]=w;B[1]=w;B[2]=
w;break;default:e.neverReached(C.axis)}return B};a.getColor=f;a.getOpacity=k;a.getRotationAngle=m;a.getSize=u;a.getSizeForValue=d;a.getSizeFromNumberOrVariable=g;a.getSizeRangeAtScale=function(w,y,x){const {isScaleDriven:B}=w.cache;if(!(B&&"3d"===x||y))return null;x={scale:y,view:x};y=g(w.minSize,z,x);w=g(w.maxSize,z,x);if(null!=y||null!=w)return y>w&&(x=w,w=y,y=x),{minSize:y,maxSize:w}};a.getVisualVariableValues=function(w,y,x){if(w.visualVariables){var B=[],C=[],D=[],J=[],I=[];for(const N of w.visualVariables)switch(N.type){case "color":C.push(N);
break;case "opacity":D.push(N);break;case "rotation":I.push(N);break;case "size":J.push(N)}C.forEach(N=>{const L=f(N,y,x);B.push({variable:N,value:L})});D.forEach(N=>{const L=k(N,y,x);B.push({variable:N,value:L})});I.forEach(N=>{const L=m(N,y,x);B.push({variable:N,value:L})});J.forEach(N=>{const L=u(N,y,x);B.push({variable:N,value:L})});return B.filter(N=>null!=N.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/Graphic":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/uid ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){var g;l=g=function(r){function d(...v){v=r.call(this,...v)||this;v.isAggregate=!1;v.layer=null;v.popupTemplate=null;v.sourceLayer=null;Object.defineProperty(a._assertThisInitialized(v),"uid",{value:f.generateUID(),configurable:!0});return v}a._inheritsLoose(d,r);var n=d.prototype;n.normalizeCtorArgs=function(v,z,A,w){return v&&!v.declaredClass?v:{geometry:v,symbol:z,attributes:A,popupTemplate:w}};n.getEffectivePopupTemplate=function(v=!1){if(this.popupTemplate)return this.popupTemplate;
for(const z of[this.sourceLayer,this.layer])if(z){if("popupTemplate"in z&&z.popupTemplate)return z.popupTemplate;if(v&&"defaultPopupTemplate"in z&&t.isSome(z.defaultPopupTemplate))return z.defaultPopupTemplate}return null};n.getAttribute=function(v){return this.attributes&&this.attributes[v]};n.setAttribute=function(v,z){if(this.attributes){const A=this.getAttribute(v);this.attributes[v]=z;this._notifyLayer("attributes",A,z,v)}else this.attributes={[v]:z},this._notifyLayer("attributes",void 0,z,v)};
n.getObjectId=function(){return this.sourceLayer?"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};n.toJSON=function(){return{geometry:t.isSome(this.geometry)?this.geometry.toJSON():null,symbol:t.isSome(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};n.clone=function(){return new g(this.cloneProperties())};n.notifyGeometryChanged=function(){this._notifyLayer("geometry",
this.geometry,this.geometry)};n.cloneProperties=function(){return{attributes:q.clone(this.attributes),geometry:q.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:q.clone(this.symbol),visible:this.visible}};n._notifyLayer=function(v,z,A,w){this.layer&&"graphicChanged"in this.layer&&(z={graphic:this,property:v,oldValue:z,newValue:A},"attributes"===v&&(z.attributeName=w),this.layer.graphicChanged(z))};a._createClass(d,
[{key:"attributes",set:function(v){const z=this._get("attributes");z!==v&&(this._set("attributes",v),this._notifyLayer("attributes",z,v))}},{key:"geometry",set:function(v){const z=this._get("geometry");z!==v&&(this._set("geometry",v),this._notifyLayer("geometry",z,v))}},{key:"symbol",set:function(v){const z=this._get("symbol");z!==v&&(this._set("symbol",v),this._notifyLayer("symbol",z,v))}},{key:"visible",set:function(v){const z=this._get("visible");z!==v&&(this._set("visible",v),this._notifyLayer("visible",
z,v))}}]);return d}(l.JSONSupport);b.__decorate([k.property({value:null})],l.prototype,"attributes",null);b.__decorate([k.property({value:null,types:c.geometryTypes,json:{read:u.fromJSON}})],l.prototype,"geometry",null);b.__decorate([k.property({type:Boolean})],l.prototype,"isAggregate",void 0);b.__decorate([k.property()],l.prototype,"layer",void 0);b.__decorate([k.property({type:e})],l.prototype,"popupTemplate",void 0);b.__decorate([k.property()],l.prototype,"sourceLayer",void 0);b.__decorate([k.property({value:null,
types:h.symbolTypes})],l.prototype,"symbol",null);b.__decorate([k.property({type:Boolean,value:!0})],l.prototype,"visible",null);l=g=b.__decorate([p.subclass("esri.Graphic")],l);(l||(l={})).generateUID=f.generateUID;return l})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r){const d=h.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),n={color:p,size:r,opacity:u,rotation:g},v=new e.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),z=/^\[([^\]]+)\]$/i;c=function(A){function w(){var x=A.apply(this,arguments)||this;x.colorVariables=null;x.opacityVariables=null;x.rotationVariables=null;x.sizeVariables=null;return x}a._inheritsLoose(w,A);var y=w.prototype;y.readVariables=function(x,
B,C){const {rotationExpression:D,rotationType:J}=B;if(B=(B=D&&D.match(z))&&B[1])x||(x=[]),x.push({type:"rotationInfo",rotationType:J,field:B});if(x)return x.map(I=>{var N=v.read(I.type);const L=n[N];L||(d.warn(`Unknown variable type: ${N}`),C&&C.messages&&C.messages.push(new l("visual-variable:unsupported",`visualVariable of type '${N}' is not supported`,{definition:I,context:C})));N=new L;N.read(I,C);return N})};y.writeVariables=function(x,B){const C=[];for(const D of x)(x=D.toJSON(B))&&C.push(x);
return C};y._resetVariables=function(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]};a._createClass(w,[{key:"visualVariables",set:function(x){this._resetVariables();if((x=x&&x.filter(C=>!!C))&&x.length){for(var B of x)switch(B.type){case "color":this.colorVariables.push(B);break;case "opacity":this.opacityVariables.push(B);break;case "rotation":this.rotationVariables.push(B);break;case "size":this.sizeVariables.push(B)}this.sizeVariables.length&&
this.sizeVariables.some(C=>!!C.target)&&x.sort((C,D)=>{let J=null;return J=C.target===D.target?0:C.target?1:-1});for(B=0;B<x.length;B++)x[B].index=B}this._set("visualVariables",x)}}]);return w}(c);b.__decorate([q.property()],c.prototype,"visualVariables",null);return c=b.__decorate([m.subclass("esri.renderers.visualVariables.VisualVariableFactory")],c)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;c=k=function(m){function p(g){g=m.call(this,g)||this;g.description=null;g.label=null;g.minValue=null;g.maxValue=0;g.symbol=null;return g}a._inheritsLoose(p,m);var u=p.prototype;u.clone=function(){return new k({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};u.getMeshHash=function(){const g=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${g}`};return p}(c.JSONSupport);
b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([e.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0);b.__decorate([e.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0);b.__decorate([e.property(f.rendererSymbolProperty)],
c.prototype,"symbol",void 0);return c=k=b.__decorate([t.subclass("esri.renderers.support.ClassBreakInfo")],c)})},"esri/renderers/support/commonProperties":function(){define("exports ../../symbols ../../core/accessorSupport/extensions/serializableProperty/reader ../../symbols/support/jsonUtils ../../symbols/Symbol ../../symbols/PolygonSymbol3D".split(" "),function(a,b,c,e,h,l){c={types:b.symbolTypesRenderer,json:{write:{writer:e.write},origins:{"web-scene":{types:b.symbolTypesRenderer3D,write:{writer:e.write},
read:{reader:c.createTypeReader({types:b.symbolTypesRenderer3D})}}}}};a.rendererBackgroundFillSymbolProperty={types:{base:h,key:"type",typeMap:{"simple-fill":b.symbolTypes.typeMap["simple-fill"],"picture-fill":b.symbolTypes.typeMap["picture-fill"],"polygon-3d":b.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:e.write},origins:{"web-scene":{type:l,write:{writer:e.write}}}}};a.rendererSymbolProperty=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/jsonUtils":function(){define("exports ../../symbols ../../core/Error ../../core/maybe ../Symbol3D ./symbolConversion ../WebStyleSymbol".split(" "),
function(a,b,c,e,h,l,q){function t(f,k,m){if(!f)return null;if(!(!m||"web-scene"!==m.origin||f instanceof h||f instanceof q)){const p=l.to3D(f,{retainCIM:!0});if(e.isSome(p.symbol))return p.symbol.write(k,m);m.messages&&m.messages.push(new c("symbol:unsupported",`Symbols of type '${f.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:f,context:m,error:p.error}));return null}return m&&"web-map"===m.origin&&"web-style"===f.type?(m.messages&&
m.messages.push(new c("symbol:unsupported",`Symbols of type '${f.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:f,context:m})),null):f.write(k,m)}a.fromJSON=function(f,k){return b.readSymbol(f,null,k)};a.write=function(f,k,m,p){(f=t(f,{},p))&&(k[m]=f)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/symbolConversion":function(){define("exports ../../symbols ../../core/Error ../WebStyleSymbol ../PointSymbol3D ../SimpleLineSymbol ../LineSymbol3D ../SimpleMarkerSymbol ../PictureMarkerSymbol ../SimpleFillSymbol ../PolygonSymbol3D ../TextSymbol ../LabelSymbol3D".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){const g={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};a.to3D=function(r,d=g){if(!r)return{symbol:null};const {retainId:n=g.retainId,ignoreDrivers:v=g.ignoreDrivers,hasLabelingContext:z=g.hasLabelingContext,retainCIM:A=g.retainCIM}=d;if(b.isSymbol3D(r)||r instanceof e)var w=r.clone();else if("cim"===r.type){var y;d=null==(w=r.data)?void 0:null==(y=w.symbol)?void 0:y.type;if("CIMPointSymbol"!==d)return{error:new c("symbol-conversion:unsupported-cim-symbol",
`CIM symbol of type '${d||"unknown"}' is unsupported in 3D`,{symbol:r})};w=A?r.clone():h.fromCIMSymbol(r)}else if(r instanceof l)w=q.fromSimpleLineSymbol(r);else if(r instanceof t)w=h.fromSimpleMarkerSymbol(r);else if(r instanceof f)w=h.fromPictureMarkerSymbol(r);else if(r instanceof k)w=m.fromSimpleFillSymbol(r);else if(r instanceof p)w=z?u.fromTextSymbol(r):h.fromTextSymbol(r);else return{error:new c("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${r.type||r.declaredClass}' is unsupported in 3D`,
{symbol:r})};n&&"cim"!==w.type&&(w.id=r.id);if(v&&b.isSymbol3D(w))for(r=0;r<w.symbolLayers.length;++r)w.symbolLayers.getItemAt(r)._ignoreDrivers=!0;return{symbol:w}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../request ../core/Error ../core/lang ../core/Logger ../core/LRUCache ../core/maybe ../core/promiseUtils ../core/string ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ../support/arcadeOnDemand ../symbols/CIMSymbol".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A){var w;const y=q.getLogger("esri.renderers.DictionaryRenderer"),x={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};q=w=function(B){function C(J){J=B.call(this,J)||this;J._ongoingRequests=new Map;J._symbolCache=new t(100);J.config=null;J.fieldMap=null;J.scaleExpression=null;J.scaleExpressionTitle=null;J.url=null;J.type="dictionary";return J}a._inheritsLoose(C,B);var D=C.prototype;
D.writeData=function(J,I){J&&(I.scalingExpressionInfo={expression:J,returnType:"number"})};D.writeVisualVariables=function(J,I,N,L){null!=L&&L.origin||B.prototype.writeVisualVariables.call(this,J,I,N,L)};D.clone=function(){return new w({config:l.clone(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:l.clone(this.fieldMap),url:l.clone(this.url),visualVariables:l.clone(this.visualVariables)})};D.getSymbolAsync=function(){var J=a._asyncToGenerator(function*(I,
N){this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(N));try{var L=yield this._dictionaryPromise}catch(W){if(k.isAbortError(W))return this._dictionaryPromise=null}var G={};if(this.fieldMap)for(var F of this._symbolFields){var E=this.fieldMap[F];G[F]=E&&null!==I.attributes[E]&&void 0!==I.attributes[E]?""+I.attributes[E]:""}L=L(G,N);if(!L||"string"!==typeof L)return null;const K=m.numericHash(L).toString();if(G=this._symbolCache.get(K))return G.catch(()=>{this._symbolCache.pop(K)}),
G;F=L.split(";");L=[];G=[];for(const W of F)if(W&&0!==W.length)if(-1!==W.indexOf("po:")){var P=W.substr(3).split("|");3===P.length&&(F=P[0],E=P[1],P=P[2],"DashTemplate"===E?P=P.split(" ").map(ia=>Number(ia)):"Color"===E?(P=(new c(P)).toRgba(),P=[P[0],P[1],P[2],255*P[3]]):P=Number(P),G.push({primitiveName:F,propertyName:E,value:P}))}else if(-1!==W.indexOf("|"))for(const ia of W.split("|")){if(this._itemNames.has(ia)){L.push(ia);break}}else this._itemNames.has(W)&&L.push(W);I=f.isSome(I.geometry)&&
(I.geometry.hasZ||"point"!==I.geometry.type)?!1:!0;N=this._cimPartsToCIMSymbol(L,G,I,N);this._symbolCache.put(K,N,1);return N});return function(I,N){return J.apply(this,arguments)}}();D.collectRequiredFields=function(){var J=a._asyncToGenerator(function*(I,N){yield this.collectVVRequiredFields(I,N);this.scaleExpression&&(yield d.collectArcadeFieldNames(I,N,this.scaleExpression));for(const L in this.fieldMap){const G=this.fieldMap[L];N.has(G)&&I.add(G)}});return function(I,N){return J.apply(this,arguments)}}();
D.fetchResources=function(){var J=a._asyncToGenerator(function*(I){if(this._dictionaryPromise)return this._dictionaryPromise;if(this.url){var N=f.isSome(I)?I.abortOptions:null;N=e(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},...N});var [{data:L}]=yield Promise.all([N,z.loadArcade()]);if(!L)throw this._dictionaryPromise=null,new h("esri.renderers.DictionaryRenderer","Bad dictionary data!");N=L.expression;var G=L.authoringInfo;this._refSymbolUrlTemplate=this.url+
"/"+L.cimRefTemplateUrl;this._itemNames=new Set(L.itemsNames);this._symbolFields=G.symbol;L={};if(this.config){const K=this.config;for(var F in K)L[F]=K[F]}if(G.configuration)for(var E of G.configuration)L.hasOwnProperty(E.name)||(L[E.name]=E.value);F=[];if(f.isSome(I)&&I.fields&&this.fieldMap)for(const K of this._symbolFields){const P=this.fieldMap[K];E=I.fields.filter(W=>W.name===P);0<E.length&&F.push({...E[0],name:K})}return this._dictionaryPromise=z.createDictionaryExpression(N,f.isSome(I)?I.spatialReference:
null,F,L).then(K=>{const P={scale:0};return(W,ia)=>{W=K.repurposeFeature({geometry:null,attributes:W});P.scale=f.isSome(ia)?ia.scale:void 0;return K.evaluate({$feature:W,$view:P})}}).catch(K=>{y.error("Creating dictinoary expression failed:",K);return null})}y.error("no valid URL!")});return function(I){return J.apply(this,arguments)}}();D.getSymbol=function(){return null};D.getSymbols=function(){return[]};D.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((J,I)=>
J+I.getAttributeHash(),"")};D.getMeshHash=function(){return`${this.url}-${JSON.stringify(this.fieldMap)}`};D.getSymbolFields=function(){return this._symbolFields};D._getSymbolPart=function(){var J=a._asyncToGenerator(function*(I,N){if(this._ongoingRequests.has(I))return this._ongoingRequests.get(I).then(G=>G.data);const L=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,I);N=e(L,{responseType:"json",query:{f:"json"},...N});this._ongoingRequests.set(I,N);try{return(yield N).data}catch(G){return this._ongoingRequests.delete(I),
Promise.reject(G)}});return function(I,N){return J.apply(this,arguments)}}();D._combineSymbolParts=function(J,I,N){if(!J||0===J.length)return null;const L={...J[0]};if(1<J.length){L.symbolLayers=[];for(const G of J)L.symbolLayers.unshift(...G.symbolLayers)}N&&(L.callout=x);return{type:"CIMSymbolReference",symbol:L,primitiveOverrides:I}};D._cimPartsToCIMSymbol=function(){var J=a._asyncToGenerator(function*(I,N,L,G){const F=Array(I.length);for(let E=0;E<I.length;E++)F[E]=this._getSymbolPart(I[E],G);
I=yield Promise.all(F);return new A({data:this._combineSymbolParts(I,N,L)})});return function(I,N,L,G){return J.apply(this,arguments)}}();a._createClass(C,[{key:"arcadeRequired",get:function(){return!0}}]);return C}(v.VisualVariablesMixin(n));b.__decorate([p.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],q.prototype,"config",void 0);b.__decorate([p.property({type:Object,json:{write:!0}})],q.prototype,"fieldMap",void 0);b.__decorate([p.property({type:String,
json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],q.prototype,"scaleExpression",void 0);b.__decorate([r.writer("scaleExpression")],q.prototype,"writeData",null);b.__decorate([p.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(B){return{enabled:!!B&&!!this.scaleExpression}}}}})],q.prototype,"scaleExpressionTitle",void 0);b.__decorate([p.property({type:String,json:{write:!0}})],q.prototype,"url",void 0);
b.__decorate([r.writer("visualVariables")],q.prototype,"writeVisualVariables",null);return q=w=b.__decorate([g.subclass("esri.renderers.DictionaryRenderer")],q)})},"esri/core/LRUCache":function(){define(["../chunks/_rollupPluginBabelHelpers","./MemCache"],function(a,b){return function(){function c(h,l){this._storage=new b.MemCacheStorage;this._storage.maxSize=h;l&&this._storage.registerRemoveFunc("",l)}var e=c.prototype;e.put=function(h,l,q){this._storage.put(h,l,q,1)};e.pop=function(h){return this._storage.pop(h)};
e.get=function(h){return this._storage.get(h)};e.clear=function(){this._storage.clearAll()};e.destroy=function(){this._storage.destroy()};a._createClass(c,[{key:"maxSize",get:function(){return this._storage.maxSize},set:function(h){this._storage.maxSize=h}}]);return c}()})},"esri/core/MemCache":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./PooledArray"],function(a,b,c,e){let h=function(){function q(f,k,m){this._namespace=f;this._storage=k;this._removeFunc=!1;this._miss=
this._hit=0;this._storage.register(this);this._namespace+=":";m&&(this._storage.registerRemoveFunc(this._namespace,m),this._removeFunc=!0)}var t=q.prototype;t.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this);this._storage=null};t.resetHitRate=function(){this._hit=this._miss=0};t.put=function(f,k,m,p=0){this._storage.put(this._namespace+f,k,m,p)};t.get=function(f){f=this._storage.get(this._namespace+
f);void 0===f?++this._miss:++this._hit;return f};t.pop=function(f){f=this._storage.pop(this._namespace+f);void 0===f?++this._miss:++this._hit;return f};t.updateSize=function(f,k,m){this._storage.updateSize(this._namespace+f,k,m)};t.clear=function(){this._storage.clear(this._namespace)};t.clearAll=function(){this._storage.clearAll()};t.getStats=function(){return this._storage.getStats()};t.resetStats=function(){this._storage.resetStats()};b._createClass(q,[{key:"namespace",get:function(){return this._namespace.slice(0,
-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}}]);return q}(),l=function(){function q(f=10485760){this._maxSize=f;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new e;this._users=new e}var t=q.prototype;t.destroy=function(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null};t.register=function(f){this._users.push(f)};
t.deregister=function(f){this._users.removeUnordered(f)};t.registerRemoveFunc=function(f,k){this._removeFuncs.push([f,k])};t.deregisterRemoveFunc=function(f){this._removeFuncs.filterInPlace(k=>k[0]!==f)};t.put=function(f,k,m,p){const u=this._db.get(f);u&&(this._size-=u.size,this._db.delete(f),u.entry!==k&&this._notifyRemove(f,u.entry,0));m>this._maxSize?this._notifyRemove(f,k,0):void 0===k?console.warn("Refusing to cache undefined entry "):!m||0>m?console.warn("Refusing to cache entry with invalid size "+
m):(p=1+Math.max(p,-3)- -3,this._db.set(f,{entry:k,size:m,lifetime:p,lives:p}),this._size+=m,this._checkSizeLimit())};t.updateSize=function(f,k,m){const p=this._db.get(f);if(p&&p.entry===k){for(this._size-=p.size;m>this._maxSize;)if(m=this._notifyRemove(f,k,1),!(c.isSome(m)&&0<m)){this._db.delete(f);return}p.size=m;this._size+=m;this._checkSizeLimit()}};t.pop=function(f){const k=this._db.get(f);if(k)return this._size-=k.size,this._db.delete(f),++this._hit,k.entry;++this._miss};t.get=function(f){const k=
this._db.get(f);if(void 0===k)++this._miss;else return this._db.delete(f),k.lives=k.lifetime,this._db.set(f,k),++this._hit,k.entry};t.getStats=function(){const f={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},k={},m=[];this._db.forEach((g,r)=>{const d=g.lifetime;m[d]=(m[d]||0)+g.size;this._users.forAll(n=>{n=n.namespace;r.startsWith(n)&&(k[n]=(k[n]||0)+g.size)})});const p={};this._users.forAll(g=>
{const r=g.namespace;!isNaN(g.hitRate)&&0<g.hitRate?(k[r]=k[r]||0,p[r]=Math.round(100*g.hitRate)+"%"):p[r]="0%"});var u=Object.keys(k);u.sort((g,r)=>k[r]-k[g]);u.forEach(g=>f[g]=Math.round(k[g]/2**20)+"MB / "+p[g]);for(u=m.length-1;0<=u;--u){const g=m[u];g&&(f["Priority "+(u+-3-1)]=Math.round(g/this.size*100)+"%")}return f};t.resetStats=function(){this._hit=this._miss=0;this._users.forAll(f=>f.resetHitRate())};t.clear=function(f){this._db.forEach((k,m)=>{m.startsWith(f)&&(this._size-=k.size,this._db.delete(m),
this._notifyRemove(m,k.entry,0))})};t.clearAll=function(){this._db.forEach((f,k)=>this._notifyRemove(k,f.entry,0));this._size=0;this._db.clear()};t._getHitRate=function(){return this._hit/(this._hit+this._miss)};t._notifyRemove=function(f,k,m){let p;this._removeFuncs.some(u=>f.startsWith(u[0])?(u=u[1](k,m),"number"===typeof u&&(p=u),!0):!1);return p};t._checkSizeLimit=function(){if(!(this._size<=this._maxSize))for(const [f,k]of this._db){this._db.delete(f);if(1>=k.lives){this._size-=k.size;const m=
this._notifyRemove(f,k.entry,1);c.isSome(m)&&0<m&&(this._size+=m,k.lives=k.lifetime,k.size=m,this._db.set(f,k))}else--k.lives,this._db.set(f,k);if(this._size<=.9*this.maxSize)break}};b._createClass(q,[{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(f){this._maxSize=Math.max(f,0);this._checkSizeLimit()}}]);return q}();a.MIN_PRIORITY=-3;a.MemCache=h;a.MemCacheStorage=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d){var n;l=n=function(v){function z(w){w=v.call(this,w)||this;w.attributes=null;w.backgroundColor=new c([0,0,0,0]);w.blendDots=!0;w.dotBlendingEnabled=!0;w.dotShape="square";w.dotSize=1;w.legendOptions=null;w.outline=new d;w.dotValue=null;w.referenceDotValue=null;w.referenceScale=null;w.seed=1;w.type="dot-density";return w}a._inheritsLoose(z,v);var A=z.prototype;A.calculateDotValue=function(w){if(null==this.referenceScale)return this.dotValue;w=w/this.referenceScale*
this.dotValue;return 1>w?1:w};A.getSymbol=function(){return new r({outline:this.outline})};A.getSymbolAsync=function(){var w=a._asyncToGenerator(function*(){return this.getSymbol()});return function(){return w.apply(this,arguments)}}();A.getSymbols=function(){return[this.getSymbol()]};A.getAttributeHash=function(){return this.attributes&&this.attributes.reduce((w,y)=>w+y.getAttributeHash(),"")};A.getMeshHash=function(){return JSON.stringify(this.outline)};A.clone=function(){return new n({attributes:e.clone(this.attributes),
backgroundColor:e.clone(this.backgroundColor),dotBlendingEnabled:e.clone(this.dotBlendingEnabled),dotShape:e.clone(this.dotShape),dotSize:e.clone(this.dotSize),dotValue:e.clone(this.dotValue),legendOptions:e.clone(this.legendOptions),outline:e.clone(this.outline),referenceScale:e.clone(this.referenceScale),visualVariables:e.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};A.getControllerHash=function(){const w=this.attributes.map(x=>x.field||x.valueExpression||
""),y=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${w}-${y}`};A.collectRequiredFields=function(){var w=a._asyncToGenerator(function*(y,x){yield this.collectVVRequiredFields(y,x);for(const B of this.attributes)B.valueExpression&&(yield k.collectArcadeFieldNames(y,x,B.valueExpression)),B.field&&y.add(B.field)});return function(y,x){return w.apply(this,arguments)}}();return z}(p.VisualVariablesMixin(m));b.__decorate([t.property({type:[u],json:{write:!0}})],l.prototype,"attributes",
void 0);b.__decorate([t.property({type:c,json:{write:!0}})],l.prototype,"backgroundColor",void 0);b.__decorate([t.property({type:Boolean}),h.aliasOf("dotBlendingEnabled")],l.prototype,"blendDots",void 0);b.__decorate([t.property({type:Boolean,json:{write:!0}})],l.prototype,"dotBlendingEnabled",void 0);b.__decorate([t.property({type:String,json:{write:!1}})],l.prototype,"dotShape",void 0);b.__decorate([t.property({type:Number,json:{write:!1}})],l.prototype,"dotSize",void 0);b.__decorate([t.property({type:g,
json:{write:!0}})],l.prototype,"legendOptions",void 0);b.__decorate([t.property({type:d,json:{default:null,write:!0}})],l.prototype,"outline",void 0);b.__decorate([t.property({type:Number,json:{write:!0}})],l.prototype,"dotValue",void 0);b.__decorate([t.property({type:Number}),h.aliasOf("dotValue")],l.prototype,"referenceDotValue",void 0);b.__decorate([t.property({type:Number,json:{write:!0}})],l.prototype,"referenceScale",void 0);b.__decorate([t.property({type:Number,json:{write:!0}})],l.prototype,
"seed",void 0);b.__decorate([q.enumeration({dotDensity:"dot-density"})],l.prototype,"type",void 0);return l=n=b.__decorate([f.subclass("esri.renderers.DotDensityRenderer")],l)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["exports","./property"],function(a,b){a.aliasOf=function(c,e){return b.property({aliasOf:e?{...e,source:c}:c})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m){var p;const u=h.getLogger("esri.renderers.support.AttributeColorInfo");e=p=function(g){function r(n){n=g.call(this,n)||this;n.color=null;n.field=null;n.label=null;n.valueExpression=null;n.valueExpressionTitle=null;return n}a._inheritsLoose(r,g);var d=r.prototype;d.castField=function(n){return null==n?n:"function"===typeof n?(u.error(".field: field must be a string value"),null):m.ensureString(n)};d.getAttributeHash=function(){return`${this.field}-${this.valueExpression}`};
d.clone=function(){return new p({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};return r}(e.JSONSupport);b.__decorate([l.property({type:c,json:{type:[Number],write:!0}})],e.prototype,"color",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([f.cast("field")],e.prototype,"castField",null);b.__decorate([l.property({type:String,json:{write:!0}})],
e.prototype,"label",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);return e=p=b.__decorate([k.subclass("esri.renderers.support.AttributeColorInfo")],e)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){var f;c=f=function(k){function m(){var p=k.apply(this,arguments)||this;p.unit=null;return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({unit:this.unit})};return m}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"unit",void 0);return c=f=b.__decorate([t.subclass("esri.renderers.support.DotDensityLegendOptions")],c)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./support/HeatmapColorStop".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m){var p;l=p=function(u){function g(d){d=u.call(this,d)||this;d.blurRadius=10;d.colorStops=[new m({ratio:0,color:new c("rgba(255, 140, 0, 0)")}),new m({ratio:.75,color:new c("rgba(255, 140, 0, 1)")}),new m({ratio:.9,color:new c("rgba(255, 0,   0, 1)")})];d.field=null;d.fieldOffset=0;d.maxPixelIntensity=100;d.minPixelIntensity=0;d.type="heatmap";return d}a._inheritsLoose(g,u);var r=g.prototype;r.collectRequiredFields=function(){var d=a._asyncToGenerator(function*(n,v){const z=
this.field;z&&"string"===typeof z&&f.collectField(n,v,z)});return function(n,v){return d.apply(this,arguments)}}();r.getAttributeHash=function(){return null};r.getMeshHash=function(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`};r.clone=function(){return new p({blurRadius:this.blurRadius,colorStops:e.clone(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})};return g}(k);b.__decorate([h.property({type:Number,
json:{write:!0}})],l.prototype,"blurRadius",void 0);b.__decorate([h.property({type:[m],json:{write:!0}})],l.prototype,"colorStops",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],l.prototype,"field",void 0);b.__decorate([h.property({type:Number,json:{write:{overridePolicy:(u,g,r)=>({enabled:null==r})}}})],l.prototype,"fieldOffset",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],l.prototype,"maxPixelIntensity",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],
l.prototype,"minPixelIntensity",void 0);b.__decorate([q.enumeration({heatmap:"heatmap"})],l.prototype,"type",void 0);return l=p=b.__decorate([t.subclass("esri.renderers.HeatmapRenderer")],l)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;e=k=function(m){function p(u){u=m.call(this,u)||this;u.color=null;u.ratio=null;return u}a._inheritsLoose(p,m);p.prototype.clone=function(){return new k({color:this.color,ratio:this.ratio})};return p}(e.JSONSupport);b.__decorate([h.property({type:c,json:{write:!0}})],e.prototype,"color",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],e.prototype,"ratio",void 0);return e=k=b.__decorate([f.subclass("esri.renderers.support.HeatmapColorStop")],e)})},"esri/renderers/SimpleRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;h=m=function(p){function u(r){r=p.call(this,r)||this;r.description=null;r.label=null;r.symbol=null;r.type="simple";return r}a._inheritsLoose(u,p);var g=u.prototype;g.collectRequiredFields=function(){var r=a._asyncToGenerator(function*(d,n){yield Promise.all([this.collectSymbolFields(d,n),this.collectVVRequiredFields(d,n)])});return function(d,n){return r.apply(this,arguments)}}();g.collectSymbolFields=function(){var r=a._asyncToGenerator(function*(d,n){yield Promise.all(this.getSymbols().map(v=>
v.collectRequiredFields(d,n)))});return function(d,n){return r.apply(this,arguments)}}();g.getSymbol=function(r,d){return this.symbol};g.getSymbolAsync=function(){var r=a._asyncToGenerator(function*(d,n){return this.symbol});return function(d,n){return r.apply(this,arguments)}}();g.getSymbols=function(){return this.symbol?[this.symbol]:[]};g.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((r,d)=>r+d.getAttributeHash(),"")};g.getMeshHash=function(){return this.getSymbols().reduce((r,
d)=>r+=JSON.stringify(d),"")};g.clone=function(){return new m({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:c.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};a._createClass(u,[{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}}]);return u}(f.VisualVariablesMixin(t));b.__decorate([e.property({type:String,json:{write:!0}})],h.prototype,"description",void 0);b.__decorate([e.property({type:String,
json:{write:!0}})],h.prototype,"label",void 0);b.__decorate([e.property(k.rendererSymbolProperty)],h.prototype,"symbol",void 0);b.__decorate([l.enumeration({simple:"simple"})],h.prototype,"type",void 0);return h=m=b.__decorate([q.subclass("esri.renderers.SimpleRenderer")],h)})},"esri/renderers/UniqueValueRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../symbols ../core/Error ../core/lang ../core/Logger ../core/maybe ../core/object ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/LegendOptions ./support/UniqueValueInfo ../support/arcadeOnDemand ../chunks/persistableUrlUtils ../symbols/support/styleUtils ../symbols/WebStyleSymbol".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x,B,C,D,J){var I;const N=l.getLogger("esri.renderers.UniqueValueRenderer"),L=d.ensureType(x);l=I=function(G){function F(K){K=G.call(this,K)||this;K._valueInfoMap={};K._isDefaultSymbolDerived=!1;K.type="unique-value";K.backgroundFillSymbol=null;K.field=null;K.field2=null;K.field3=null;K.valueExpression=null;K.valueExpressionTitle=null;K.legendOptions=null;K.defaultLabel=null;K.fieldDelimiter=null;K.portal=null;K.styleOrigin=null;K.diff={uniqueValueInfos(P,
W){if(P||W){if(!P||!W)return{type:"complete",oldValue:P,newValue:W};var ia=!1,Z={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let V=0;V<W.length;V++){const qa=P.find(sa=>sa.value===W[V].value);qa?r.diff(qa,W[V])?(Z.changed.push({type:"complete",oldValue:qa,newValue:W[V]}),ia=!0):Z.unchanged.push({oldValue:qa,newValue:W[V]}):(Z.added.push(W[V]),ia=!0)}for(let V=0;V<P.length;V++)W.find(qa=>qa.value===P[V].value)||(Z.removed.push(P[V]),ia=!0);return ia?Z:void 0}}};K._set("uniqueValueInfos",
[]);return K}a._inheritsLoose(F,G);var E=F.prototype;E.castField=function(K){return null==K||"function"===typeof K?K:d.ensureString(K)};E.writeField=function(K,P,W,ia){"string"===typeof K?P[W]=K:ia&&ia.messages?ia.messages.push(new e("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):N.error(".field: cannot write field to JSON since it's not a string value")};E.readPortal=function(K,P,W){return W.portal||v.getDefault()};E.readStyleOrigin=function(K,P,
W){if(P.styleName)return Object.freeze({styleName:P.styleName});if(P.styleUrl)return K=C.fromJSON(P.styleUrl,W),Object.freeze({styleUrl:K})};E.writeStyleOrigin=function(K,P,W,ia){K.styleName?P.styleName=K.styleName:K.styleUrl&&(P.styleUrl=C.toJSON(K.styleUrl,ia))};E.addUniqueValueInfo=function(K,P){this.styleOrigin?N.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(K="object"===typeof K?L(K):new x({value:K,symbol:c.ensureType(P)}),
this.uniqueValueInfos.push(K),this._valueInfoMap[K.value]=K)};E.removeUniqueValueInfo=function(K){if(this.styleOrigin)N.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let P=0;P<this.uniqueValueInfos.length;P++)if(this.uniqueValueInfos[P].value===K+""){delete this._valueInfoMap[K];this.uniqueValueInfos.splice(P,1);break}};E.getUniqueValueInfo=function(){var K=a._asyncToGenerator(function*(P,W){let ia=W;this.valueExpression&&
(q.isNone(W)||q.isNone(W.arcade))&&(ia={...ia,arcade:yield B.loadArcade()});return this._getUniqueValueInfo(P,ia)});return function(P,W){return K.apply(this,arguments)}}();E.getSymbol=function(K,P){if(this.valueExpression&&(q.isNone(P)||q.isNone(P.arcade)))N.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return(K=this._getUniqueValueInfo(K,P))&&K.symbol||this.defaultSymbol};E.getSymbolAsync=function(){var K=a._asyncToGenerator(function*(P,W){if(this.valueExpression&&
(q.isNone(W)||q.isNone(W.arcade))){const ia=yield B.loadArcade(),{arcadeUtils:Z}=ia;Z.hasGeometryOperations(this.valueExpression)&&(yield Z.enableGeometryOperations());W={...W,arcade:ia}}return(P=this._getUniqueValueInfo(P,W))&&P.symbol||this.defaultSymbol});return function(P,W){return K.apply(this,arguments)}}();E.getSymbols=function(){const K=[];for(const P of this.uniqueValueInfos)P.symbol&&K.push(P.symbol);this.defaultSymbol&&K.push(this.defaultSymbol);return K};E.getAttributeHash=function(){return this.visualVariables&&
this.visualVariables.reduce((K,P)=>K+P.getAttributeHash(),"")};E.getMeshHash=function(){const K=JSON.stringify(this.backgroundFillSymbol),P=JSON.stringify(this.defaultSymbol),W=this.uniqueValueInfos.reduce((ia,Z)=>ia+Z.getMeshHash(),"");return`${K}.${P}.${W}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`};E.clone=function(){const K=new I({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:h.clone(this.defaultSymbol),
valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:h.clone(this.visualVariables),legendOptions:h.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:h.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(K._isDefaultSymbolDerived=!0);K._set("portal",this.portal);const P=h.clone(this.uniqueValueInfos);this.styleOrigin&&(K._set("styleOrigin",Object.freeze(h.clone(this.styleOrigin))),
Object.freeze(P));K._set("uniqueValueInfos",P);K._updateValueInfoMap();return K};E.collectRequiredFields=function(){var K=a._asyncToGenerator(function*(P,W){P=[this.collectVVRequiredFields(P,W),this.collectSymbolFields(P,W)];yield Promise.all(P)});return function(P,W){return K.apply(this,arguments)}}();E.collectSymbolFields=function(){var K=a._asyncToGenerator(function*(P,W){const ia=[...this.getSymbols().map(Z=>Z.collectRequiredFields(P,W)),n.collectArcadeFieldNames(P,W,this.valueExpression)];n.collectField(P,
W,this.field);n.collectField(P,W,this.field2);n.collectField(P,W,this.field3);yield Promise.all(ia)});return function(P,W){return K.apply(this,arguments)}}();E.populateFromStyle=function(){return D.fetchStyle(this.styleOrigin,{portal:this.portal}).then(K=>{const P=[];this._valueInfoMap={};K&&K.data&&Array.isArray(K.data.items)&&K.data.items.forEach(W=>{var ia=new J({styleUrl:K.styleUrl,styleName:K.styleName,portal:this.portal,name:W.name});this.defaultSymbol||W.name!==K.data.defaultItem||(this.defaultSymbol=
ia,this._isDefaultSymbolDerived=!0);ia=new x({value:W.name,symbol:ia});P.push(ia);this._valueInfoMap[W.name]=ia});this._set("uniqueValueInfos",Object.freeze(P));!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0);return this})};E._updateValueInfoMap=function(){this._valueInfoMap={};this.uniqueValueInfos.forEach(K=>this._valueInfoMap[K.value+""]=K)};E._getUniqueValueInfo=function(K,P){return this.valueExpression?this._getUnqiueValueInfoForExpression(K,
P):this._getUnqiueValueInfoForFields(K)};E._getUnqiueValueInfoForExpression=function(K,P){const {viewingMode:W,scale:ia,spatialReference:Z,arcade:V}=q.unwrapOr(P,{});var qa=this._cache.compiledFunc;P=q.unwrap(V).arcadeUtils;qa||(qa=P.createSyntaxTree(this.valueExpression),qa=P.createFunction(qa),this._cache.compiledFunc=qa);K=P.executeFunction(qa,P.createExecContext(K,P.getViewInfo({viewingMode:W,scale:ia,spatialReference:Z})));return this._valueInfoMap[K+""]};E._getUnqiueValueInfoForFields=function(K){const P=
this.field,W=K.attributes;if("function"!==typeof P&&this.field2){K=this.field2;var ia=this.field3;const Z=[];P&&Z.push(W[P]);K&&Z.push(W[K]);ia&&Z.push(W[ia]);ia=Z.join(this.fieldDelimiter||"")}else"function"===typeof P?ia=P(K):P&&(ia=W[P]);return this._valueInfoMap[ia+""]};F.fromPortalStyle=function(K,P){const W=new I(P&&P.properties);W._set("styleOrigin",Object.freeze({styleName:K}));W._set("portal",P&&P.portal||v.getDefault());P=W.populateFromStyle();P.catch(ia=>{N.error(`#fromPortalStyle('${K}'[, ...])`,
"Failed to create unique value renderer from style name",ia)});return P};F.fromStyleUrl=function(K,P){P=new I(P&&P.properties);P._set("styleOrigin",Object.freeze({styleUrl:K}));P=P.populateFromStyle();P.catch(W=>{N.error(`#fromStyleUrl('${K}'[, ...])`,"Failed to create unique value renderer from style URL",W)});return P};a._createClass(F,[{key:"_cache",get:function(){return{compiledFunc:null}}},{key:"defaultSymbol",set:function(K){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",K)}},{key:"uniqueValueInfos",
set:function(K){this.styleOrigin?N.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",K),this._updateValueInfoMap())}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return F}(A.VisualVariablesMixin(z));b.__decorate([f.property({readOnly:!0})],l.prototype,"_cache",null);b.__decorate([m.enumeration({uniqueValue:"unique-value"})],l.prototype,"type",
void 0);b.__decorate([f.property(w.rendererBackgroundFillSymbolProperty)],l.prototype,"backgroundFillSymbol",void 0);b.__decorate([f.property({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],l.prototype,"field",void 0);b.__decorate([k.cast("field")],l.prototype,"castField",null);b.__decorate([g.writer("field")],l.prototype,"writeField",null);b.__decorate([f.property({type:String,json:{write:!0}})],l.prototype,"field2",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],
l.prototype,"field3",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],l.prototype,"valueExpression",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],l.prototype,"valueExpressionTitle",void 0);b.__decorate([f.property({type:y.default,json:{write:!0}})],l.prototype,"legendOptions",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],l.prototype,"defaultLabel",void 0);b.__decorate([f.property(t.deepMerge({...w.rendererSymbolProperty},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},
origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],l.prototype,"defaultSymbol",null);b.__decorate([f.property({type:String,json:{write:!0}})],l.prototype,"fieldDelimiter",void 0);b.__decorate([f.property({type:v,readOnly:!0})],l.prototype,"portal",void 0);b.__decorate([p.reader("portal",["styleName"])],l.prototype,"readPortal",null);b.__decorate([f.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],l.prototype,"styleOrigin",
void 0);b.__decorate([p.reader("styleOrigin",["styleName","styleUrl"])],l.prototype,"readStyleOrigin",null);b.__decorate([g.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],l.prototype,"writeStyleOrigin",null);b.__decorate([f.property({type:[x],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],l.prototype,"uniqueValueInfos",null);return l=I=b.__decorate([u.subclass("esri.renderers.UniqueValueRenderer")],l)})},"esri/core/accessorSupport/diffUtils":function(){define(["exports",
"../Accessor","../Collection","../maybe","./utils"],function(a,b,c,e,h){function l(g){return g instanceof c?Object.keys(g.items):g instanceof b?h.getProperties(g).keys():g?Object.keys(g):[]}function q(g,r){return g instanceof c?g.items[r]:g[r]}function t(g,r){return Array.isArray(g)&&Array.isArray(r)?g.length!==r.length:!1}function f(g){return g?g.declaredClass:null}function k(g,r){const d=g.diff;if(d&&"function"===typeof d)return d(g,r);const n=l(g),v=l(r);if(0!==n.length||0!==v.length){if(!n.length||
!v.length||t(g,r))return{type:"complete",oldValue:g,newValue:r};var z=v.filter(y=>-1===n.indexOf(y)),A=n.filter(y=>-1===v.indexOf(y));A=n.filter(y=>-1<v.indexOf(y)&&q(g,y)!==q(r,y)).concat(z,A).sort();if((z=f(g))&&-1<u.indexOf(z)&&A.length)return{type:"complete",oldValue:g,newValue:r};var w;z=g instanceof b&&r instanceof b;for(const y of A){A=q(g,y);const x=q(r,y);!(z||"function"!==typeof A&&"function"!==typeof x)||A===x||null==A&&null==x||(A=d&&d[y]&&"function"===typeof d[y]?d[y](A,x):"object"===
typeof A&&"object"===typeof x&&f(A)===f(x)?k(A,x):{type:"complete",oldValue:A,newValue:x},e.isSome(A)&&(e.isSome(w)?w.diff[y]=A:w={type:"partial",diff:{[y]:A}}))}return w}}function m(g,r){if(e.isNone(g))return!1;r=r.split(".");for(const d of r){if("complete"===g.type)break;if("partial"===g.type){if(g=g.diff[d],!g)return!1}else return!1}return!0}function p(g){if(e.isNone(g))return!0;switch(g.type){case "complete":return!1;case "collection":for(const r of g.added)if(!p(r))return!1;for(const r of g.removed)if(!p(r))return!1;
for(const r of g.changed)if(!p(r))return!1;return!0;case "partial":for(const r in g.diff)if(!p(g.diff[r]))return!1;return!0}}const u=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];a.diff=function(g,r){if(!("function"===typeof g||"function"===typeof r||e.isNone(g)&&e.isNone(r)))return e.isNone(g)||e.isNone(r)||"object"===typeof g&&"object"===typeof r&&f(g)!==f(r)?{type:"complete",oldValue:g,newValue:r}:k(g,r)};a.hasDiff=
m;a.hasDiffAny=function(g,r){for(const d of r)if(m(g,d))return!0;return!1};a.isEmpty=p;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,c,e,
h,l,q,t,f){var k;c=k=function(m){function p(g){g=m.call(this,g)||this;g.description=null;g.label=null;g.symbol=null;g.value=null;return g}a._inheritsLoose(p,m);var u=p.prototype;u.clone=function(){return new k({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};u.getMeshHash=function(){const g=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${g}`};return p}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],
c.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([e.property(f.rendererSymbolProperty)],c.prototype,"symbol",void 0);b.__decorate([e.property({type:[String,Number],json:{type:String,write:{writer:(m,p)=>{p.value=null==m?void 0:m.toString()}}}})],c.prototype,"value",void 0);return c=k=b.__decorate([t.subclass("esri.renderers.support.UniqueValueInfo")],c)})},"esri/symbols/support/styleUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../request ../../core/Error ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags".split(" "),
function(a,b,c,e,h,l,q,t,f){function k(d,n){return m.apply(this,arguments)}function m(){m=b._asyncToGenerator(function*(d,n){try{return{data:(yield g(d,n)).data,baseUrl:l.removeFile(d),styleUrl:d}}catch(v){return h.throwIfAbortError(v),null}});return m.apply(this,arguments)}function p(d,n,v){n=n&&n.portal||q.getDefault();let z;const A=`${n.url} - ${n.user&&n.user.username} - ${d}`;r[A]||(r[A]=u(d,n,v).then(w=>{z=w;return w.fetchData()}).then(w=>({data:w,baseUrl:z.itemUrl,styleName:d})));return r[A]}
function u(d,n,v){return n.load(v).then(()=>{const z=new t({disableExtraQuery:!0,query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${d}"`});return n.queryItems(z,v)}).then(({results:z})=>{let A=null;const w=d.toLowerCase();if(z&&Array.isArray(z))for(const y of z)if(y.typeKeywords.some(x=>x.toLowerCase()===w)&&"Style"===y.type&&"esri_en"===y.owner){A=y;break}if(!A)throw new e("symbolstyleutils:style-not-found",`The style '${d}' could not be found`,{styleName:d});return A.load(v)})}function g(d,
n){n={responseType:"json",query:{f:"json"},...n};return c(l.normalize(d),n)}const r={};a.Style2DUrlTemplate="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson";a.fetchStyle=function(d,n,v){return d.styleUrl?k(d.styleUrl,v):d.styleName?p(d.styleName,n,v):Promise.reject(new e("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))};a.makeCIMSymbolRef=function(d){return null===
d||"CIMSymbolReference"===d.type?d:{type:"CIMSymbolReference",symbol:d}};a.requestJSON=g;a.styleNameFromItem=function(d){for(const n of d.typeKeywords)if(/^Esri.*Style$/.test(n)&&"Esri Style"!==n)return n};a.symbolUrlFromStyleItem=function(d,n){if("cimRef"===n)return d.cimRef;if(d.formatInfos&&!f.enableWebStyleForceWOSR())for(const v of d.formatInfos)if("gltf"===v.type)return v.href;return d.webRef};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/featureFlags":function(){define(["exports",
"../core/has"],function(a,b){a.disableContextNavigation=()=>!!b("enable-feature:disable-context-navigation");a.enableDirect3DObjectFeatureLayerDisplay=()=>!!b("enable-feature:direct-3d-object-feature-layer-display");a.enableWebStyleForceWOSR=()=>!!b("enable-feature:force-wosr");Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/jsonUtils":function(){define(["exports","../../core/Warning","../../core/accessorSupport/extensions/serializableProperty/reader","./types"],function(a,
b,c,e){function h(q,t,f){return q?q&&(q.styleName||q.styleUrl)&&"uniqueValue"!==q.type?(f&&f.messages&&f.messages.push(new b("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+q.type+"'",{definition:q,context:f})),null):l(q,t,f):null}const l=c.createTypeReader({types:e.rendererTypes});a.fromJSON=function(q,t){return h(q,null,t)};a.read=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/types":function(){define("exports ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../Renderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),
function(a,b,c,e,h,l,q,t){const f={key:"type",base:l,typeMap:{simple:q,"unique-value":t,"class-breaks":b},errorContext:"renderer"};a.rendererTypes={key:"type",base:l,typeMap:{heatmap:h,simple:q,"unique-value":t,"class-breaks":b,"dot-density":e,dictionary:c},errorContext:"renderer"};a.webSceneRendererTypes=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./ReadOnlyMultiOriginJSONSupport ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){const k=p=>{p=function(u){function g(...d){return u.call(this,...d)||this}b._inheritsLoose(g,u);var r=g.prototype;r.clear=function(d,n="user"){return q.getProperties(this).store.delete(d,l.nameToId(n))};r.write=function(d={},n){d=d||{};t.write(this,d,n);return d};r.setAtOrigin=function(d,n,v){q.getProperties(this).setAtOrigin(d,n,l.nameToId(v))};r.removeOrigin=function(d){const n=q.getProperties(this).store;d=l.nameToId(d);const v=n.keys(d);for(const z of v)n.originOf(z)===
d&&n.set(z,n.get(z,d),6)};r.updateOrigin=function(d,n){const v=q.getProperties(this).store;n=l.nameToId(n);const z=this.get(d);for(let A=n+1;A<l.OriginIdNum;++A)v.delete(d,A);v.set(d,z,n)};r.toJSON=function(d){return this.write({},d)};return g}(p);p=c.__decorate([f.subclass("esri.core.WriteableMultiOriginJSONSupport")],p);p.prototype.toJSON.isDefaultToJSON=!0;return p},m=p=>{p=function(u){function g(...r){return u.call(this,...r)||this}b._inheritsLoose(g,u);return g}(k(h.ReadOnlyMultiOriginJSONMixin(p)));
return p=c.__decorate([f.subclass("esri.core.MultiOriginJSONSupport")],p)};a.MultiOriginJSONSupport=function(p){function u(){return p.apply(this,arguments)||this}b._inheritsLoose(u,p);return u}(m(e));a.MultiOriginJSONSupport=c.__decorate([f.subclass("esri.core.MultiOriginJSONSupport")],a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f,k){const m=p=>{p=function(u){function g(...d){d=u.call(this,...d)||this;const n=h.assumeNonNull(f.getProperties(b._assertThisInitialized(d))),v=n.metadatas,z=n.store,A=new l;n.store=A;z.keys().forEach(w=>{A.set(w,z.get(w),0)});Object.keys(v).forEach(w=>{n.internalGet(w)&&A.set(w,n.internalGet(w),0)});return d}b._inheritsLoose(g,u);var r=g.prototype;r.read=function(d,n){t.read(this,d,n)};r.getAtOrigin=function(d,n){const v=f.getProperties(this).store,z=q.nameToId(n);if("string"===
typeof d)return v.get(d,z);const A={};d.forEach(w=>{A[w]=v.get(w,z)});return A};r.originOf=function(d){return q.idToName(this.originIdOf(d))};r.originIdOf=function(d){return f.getProperties(this).store.originOf(d)};r.revert=function(d,n){const v=f.getProperties(this).store,z=q.nameToId(n),A=f.getProperties(this);("string"===typeof d?"*"===d?v.keys(z):[d]:d).forEach(w=>{A.invalidate(w);v.revert(w,z);A.commit(w)})};return g}(p);return p=c.__decorate([k.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],
p)};a.ReadOnlyMultiOriginJSONSupport=function(p){function u(){return p.apply(this,arguments)||this}b._inheritsLoose(u,p);return u}(m(e));a.ReadOnlyMultiOriginJSONSupport=c.__decorate([k.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["../lang","../maybe","./PropertyOrigin"],function(a,b,c){return function(){function e(){this._propertyOriginMap=
new Map;this._originStores=Array(c.OriginIdNum);this._values=new Map}var h=e.prototype;h.clone=function(l){const q=new e;var t=this._originStores[0];t&&t.forEach((f,k)=>{q.set(k,a.clone(f),0)});for(let f=2;f<c.OriginIdNum;f++)(t=this._originStores[f])&&t.forEach((k,m)=>{l&&l.has(m)||q.set(m,a.clone(k),f)});return q};h.get=function(l,q){return(q=void 0===q?this._values:this._originStores[q])?q.get(l):void 0};h.keys=function(l){return(l=null==l?this._values:this._originStores[l])?[...l.keys()]:[]};
h.set=function(l,q,t=6){var f=this._originStores[t];f||(f=new Map,this._originStores[t]=f);f.set(l,q);return!this._values.has(l)||b.assumeNonNull(this._propertyOriginMap.get(l))<=t?(f=this._values.get(l),this._values.set(l,q),this._propertyOriginMap.set(l,t),f!==q):!1};h.delete=function(l,q=6){var t=this._originStores[q];if(t){var f=t.get(l);t.delete(l);if(this._values.has(l)&&this._propertyOriginMap.get(l)===q)for(this._values.delete(l),--q;0<=q;q--)if((t=this._originStores[q])&&t.has(l)){this._values.set(l,
t.get(l));this._propertyOriginMap.set(l,q);break}return f}};h.has=function(l,q){return(q=void 0===q?this._values:this._originStores[q])?q.has(l):!1};h.revert=function(l,q){for(;0<q&&!this.has(l,q);)--q;var t=this._originStores[q];t=t&&t.get(l);const f=this._values.get(l);this._values.set(l,t);this._propertyOriginMap.set(l,q);return f!==t};h.originOf=function(l){return this._propertyOriginMap.get(l)||0};h.forEach=function(l){this._values.forEach(l)};return e}()})},"esri/core/sql":function(){define(["require",
"exports","../chunks/_rollupPluginBabelHelpers"],function(a,b,c){function e(){e=c._asyncToGenerator(function*(h,l){const {WhereClause:q}=yield new Promise((t,f)=>a(["./sql/WhereClause"],t,f));return q.create(h,l)});return e.apply(this,arguments)}b.parseWhereClause=function(h,l){return e.apply(this,arguments)};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/form/FormTemplate":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExpressionInfo ./elements/GroupElement ./support/elements".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){var u;const g=p.buildTypeMaps(m);c=u=function(r){function d(v){v=r.call(this,v)||this;v.description=null;v.elements=null;v.expressionInfos=null;v.title=null;return v}a._inheritsLoose(d,r);var n=d.prototype;n.castElements=function(v){return p.ensureType(v,g)};n.readElements=function(v,z){return p.fromJSON(z.formElements,g)};n.writeElements=function(v,z){z.formElements=p.toJSON(v,g)};n.clone=function(){return new u({description:this.description,expressionInfos:e.clone(this.expressionInfos),
elements:e.clone(this.elements),title:this.title})};return d}(c.JSONSupport);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([h.property({json:{write:!0}})],c.prototype,"elements",void 0);b.__decorate([l.cast("elements")],c.prototype,"castElements",null);b.__decorate([q.reader("elements",["formElements"])],c.prototype,"readElements",null);b.__decorate([f.writer("elements")],c.prototype,"writeElements",null);b.__decorate([h.property({type:[k],
json:{write:!0}})],c.prototype,"expressionInfos",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=u=b.__decorate([t.subclass("esri.form.FormTemplate")],c)})},"esri/form/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,c,e,h,l,q,t){var f;c=f=function(k){function m(p){p=k.call(this,p)||this;p.expression=null;p.name=null;p.returnType="boolean";p.title=null;return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return m}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);
b.__decorate([e.property({type:["boolean"],json:{write:!0}})],c.prototype,"returnType",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=f=b.__decorate([t.subclass("esri.form.ExpressionInfo")],c)})},"esri/form/elements/GroupElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./Element ../support/elements".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;f=m=function(u){function g(d){d=u.call(this,d)||this;d.elements=null;d.initialState="expanded";d.type="group";return d}a._inheritsLoose(g,u);var r=g.prototype;r.castElements=function(d){return k.ensureType(d,p,!1)};r.readElements=function(d,n){return k.fromJSON(n.formElements,p,!1)};r.writeElements=function(d,n){n.formElements=k.toJSON(d,p,!1)};r.clone=function(){return new m({description:this.description,elements:c.clone(this.elements),initialState:this.initialState,
label:this.label,visibilityExpression:this.visibilityExpression})};return g}(f);b.__decorate([e.property({json:{write:!0}})],f.prototype,"elements",void 0);b.__decorate([h.cast("elements")],f.prototype,"castElements",null);b.__decorate([l.reader("elements",["formElements"])],f.prototype,"readElements",null);b.__decorate([t.writer("elements")],f.prototype,"writeElements",null);b.__decorate([e.property({type:["collapsed","expanded"],json:{write:!0}})],f.prototype,"initialState",void 0);b.__decorate([e.property({type:String,
json:{read:!1,write:!0}})],f.prototype,"type",void 0);f=m=b.__decorate([q.subclass("esri.form.elements.GroupElement")],f);const p=k.buildTypeMaps(f);return f})},"esri/form/elements/Element":function(){define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],function(a,b,c,e,h){c=function(l){function q(t){t=l.call(this,t)||this;t.description=null;t.label=null;
t.type=null;t.visibilityExpression=null;return t}a._inheritsLoose(q,l);return q}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([e.property()],c.prototype,"type",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"visibilityExpression",void 0);return c=b.__decorate([h.subclass("esri.form.elements.Element")],c)})},"esri/form/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttachmentElement ../elements/Element ../elements/FieldElement ../elements/RelationshipElement".split(" "),
function(a,b,c,e,h,l){a.buildTypeMaps=function(q){return{typesWithGroup:{base:e,key:"type",typeMap:{attachment:c,field:h,group:q,relationship:l}},typesWithoutGroup:{base:e,key:"type",typeMap:{attachment:c,field:h,relationship:l}}}};a.ensureType=function(q,t,f=!0){return q?q.map(k=>b.ensureOneOfType(f?t.typesWithGroup:t.typesWithoutGroup,k)):null};a.fromJSON=function(q,t,f=!0){if(!q)return null;const k=f?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return q.filter(m=>k[m.type]).map(m=>k[m.type].fromJSON(m))};
a.toJSON=function(q,t,f=!0){if(!q)return null;const k=f?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return q.filter(m=>k[m.type]).map(m=>m.toJSON())};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/form/elements/AttachmentElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Element ./inputs/AttachmentInput".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;e=k=function(m){function p(u){u=m.call(this,u)||this;u.attachmentKeyword=null;u.editable=!0;u.input=null;u.type="attachment";return u}a._inheritsLoose(p,m);p.prototype.clone=function(){return new k({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})};return p}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"attachmentKeyword",
void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"editable",void 0);b.__decorate([c.property({type:f,json:{read:{source:"inputType"},write:{target:"inputType"}}})],e.prototype,"input",void 0);b.__decorate([c.property({type:["attachment"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=k=b.__decorate([q.subclass("esri.form.elements.AttachmentElement")],e)})},"esri/form/elements/inputs/AttachmentInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){var f;c=f=function(k){function m(p){p=k.call(this,p)||this;p.type=null;return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({type:this.type})};return m}(c.JSONSupport);b.__decorate([e.property({type:"attachment audio document image signature video".split(" "),json:{write:!0}})],c.prototype,"type",void 0);return c=f=b.__decorate([t.subclass("esri.form.elements.inputs.AttachmentInput")],c)})},"esri/form/elements/FieldElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Element ./support/inputs ../../layers/support/domains".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;e=m=function(p){function u(g){g=p.call(this,g)||this;g.domain=null;g.editable=!0;g.fieldName=null;g.hint=null;g.input=null;g.requiredExpression=null;g.type="field";return g}a._inheritsLoose(u,p);u.prototype.clone=function(){return new m({description:this.description,domain:this.domain,editable:this.editable,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,visibilityExpression:this.visibilityExpression})};
return u}(t);b.__decorate([c.property({types:k.types,json:{read:{reader:k.fromJSON},write:!0}})],e.prototype,"domain",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"editable",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"fieldName",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"hint",void 0);b.__decorate([c.property({types:f.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],e.prototype,
"input",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"requiredExpression",void 0);b.__decorate([c.property({type:String,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=m=b.__decorate([q.subclass("esri.form.elements.FieldElement")],e)})},"esri/form/elements/support/inputs":function(){define("exports ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DateTimePickerInput ../inputs/Input ../inputs/RadioButtonsInput ../inputs/SwitchInput ../inputs/TextAreaInput ../inputs/TextBoxInput".split(" "),
function(a,b,c,e,h,l,q,t,f){a.types={base:h,key:"type",typeMap:{"barcode-scanner":b,"combo-box":c,"datetime-picker":e,"radio-buttons":l,switch:q,"text-area":t,"text-box":f}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,e,h,l,q,t){var f;e=f=function(k){function m(p){p=k.call(this,p)||this;p.type="barcode-scanner";return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({maxLength:this.maxLength,minLength:this.minLength})};return m}(t);b.__decorate([c.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=f=b.__decorate([q.subclass("esri.form.elements.inputs.BarcodeScannerInput")],e)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,h,l,q,t){e=function(f){function k(m){m=f.call(this,m)||this;m.maxLength=null;m.minLength=0;return m}a._inheritsLoose(k,f);return k}(t);b.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"maxLength",void 0);b.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"minLength",void 0);return e=b.__decorate([q.subclass("esri.form.elements.inputs.TextInput")],e)})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){c=function(f){function k(m){m=f.call(this,m)||this;m.type=null;return m}a._inheritsLoose(k,f);return k}(c.JSONSupport);b.__decorate([e.property()],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.form.elements.inputs.Input")],c)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,h,l,q,t){var f;e=f=function(k){function m(p){p=k.call(this,p)||this;p.noValueOptionLabel=null;p.showNoValueOption=!1;p.type="combo-box";return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})};return m}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"noValueOptionLabel",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"showNoValueOption",
void 0);b.__decorate([c.property({type:["combo-box"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=f=b.__decorate([q.subclass("esri.form.elements.inputs.ComboBoxInput")],e)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,c,e,h,l,q,t,f,k){function m(u){return null!=u?new Date(u):null}var p;e=p=function(u){function g(d){d=u.call(this,d)||this;d.includeTime=!1;d.max=null;d.min=null;d.type="datetime-picker";return d}a._inheritsLoose(g,u);var r=g.prototype;r.readMax=function(d,n){return m(n.max)};r.writeMax=function(d,n){n.max=d?d.getTime():null};r.readMin=function(d,n){return m(n.min)};r.writeMin=function(d,n){n.min=d?d.getTime():null};r.clone=function(){return new p({includeTime:this.includeTime,max:this.max,
min:this.min,type:this.type})};return g}(k);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"includeTime",void 0);b.__decorate([c.property({type:Date,json:{type:Number,write:!0}})],e.prototype,"max",void 0);b.__decorate([q.reader("max")],e.prototype,"readMax",null);b.__decorate([f.writer("max")],e.prototype,"writeMax",null);b.__decorate([c.property({type:Date,json:{type:Number,write:!0}})],e.prototype,"min",void 0);b.__decorate([q.reader("min")],e.prototype,"readMin",null);b.__decorate([f.writer("min")],
e.prototype,"writeMin",null);b.__decorate([c.property({type:["datetime-picker"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=p=b.__decorate([t.subclass("esri.form.elements.inputs.DateTimePickerInput")],e)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,h,l,q,t){var f;e=f=function(k){function m(p){p=k.call(this,p)||this;p.noValueOptionLabel=null;p.showNoValueOption=!1;p.type="radio-buttons";return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})};return m}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"noValueOptionLabel",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"showNoValueOption",
void 0);b.__decorate([c.property({type:["radio-buttons"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=f=b.__decorate([q.subclass("esri.form.elements.inputs.RadioButtonsInput")],e)})},"esri/form/elements/inputs/SwitchInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,h,l,q,t){var f;e=f=function(k){function m(p){p=k.call(this,p)||this;p.offValue=null;p.onValue=null;p.type="switch";return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({offValue:this.offValue,onValue:this.onValue})};return m}(t);b.__decorate([c.property({type:[String,Number],json:{write:!0}})],e.prototype,"offValue",void 0);b.__decorate([c.property({type:[String,Number],json:{write:!0}})],e.prototype,"onValue",void 0);b.__decorate([c.property({type:["switch"],
json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=f=b.__decorate([q.subclass("esri.form.elements.inputs.SwitchInput")],e)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),function(a,b,c,e,h,l,q,t){var f;
e=f=function(k){function m(p){p=k.call(this,p)||this;p.type="text-area";return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({maxLength:this.maxLength,minLength:this.minLength})};return m}(t);b.__decorate([c.property({type:["text-area"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=f=b.__decorate([q.subclass("esri.form.elements.inputs.TextAreaInput")],e)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,e,h,l,q,t){var f;e=f=function(k){function m(p){p=k.call(this,p)||this;p.type="text-box";return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({maxLength:this.maxLength,minLength:this.minLength})};return m}(t);b.__decorate([c.property({type:["text-box"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=f=b.__decorate([q.subclass("esri.form.elements.inputs.TextBoxInput")],e)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(a,b,c,e,h,l){b={key:"type",base:e,typeMap:{range:l,"coded-value":c,inherited:h}};a.CodedValueDomain=c;a.DomainBase=e;a.InheritedDomain=h;a.RangeDomain=l;a.fromJSON=function(q){if(!q||!q.type)return null;switch(q.type){case "range":return l.fromJSON(q);case "codedValue":return c.fromJSON(q);case "inherited":return h.fromJSON(q)}return null};a.types=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;h=k=function(m){function p(g){g=m.call(this,g)||this;g.codedValues=null;g.type="coded-value";return g}a._inheritsLoose(p,m);var u=p.prototype;u.getName=function(g){let r=null;if(this.codedValues){const d=String(g);this.codedValues.some(n=>{String(n.code)===d&&(r=n.name);return!!r})}return r};u.clone=function(){return new k({codedValues:c.clone(this.codedValues),name:this.name})};return p}(f);b.__decorate([e.property({type:[t.default],json:{write:!0}})],h.prototype,
"codedValues",void 0);b.__decorate([l.enumeration({codedValue:"coded-value"})],h.prototype,"type",void 0);return h=k=b.__decorate([q.subclass("esri.layers.support.CodedValueDomain")],h)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;a.CodedValue=k=function(m){function p(u){u=m.call(this,u)||this;u.name=null;u.code=null;return u}b._inheritsLoose(p,m);p.prototype.clone=function(){return new k({name:this.name,code:this.code})};return p}(e.JSONSupport);c.__decorate([h.property({type:String,json:{write:!0}})],a.CodedValue.prototype,"name",void 0);c.__decorate([h.property({type:[String,Number],json:{write:!0}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=k=c.__decorate([f.subclass("esri.layers.support.CodedValue")],
a.CodedValue);a.default=a.CodedValue;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t,f,k){c=
new c.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});e=function(m){function p(u){u=m.call(this,u)||this;u.name=null;u.type=null;return u}a._inheritsLoose(p,m);return p}(e.JSONSupport);b.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"name",void 0);b.__decorate([f.enumeration(c)],e.prototype,"type",void 0);return e=b.__decorate([k.subclass("esri.layers.support.Domain")],e)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;c=m=function(p){function u(g){g=p.call(this,g)||this;g.type="inherited";return g}a._inheritsLoose(u,p);u.prototype.clone=function(){return new m};return u}(k);b.__decorate([t.enumeration({inherited:"inherited"})],c.prototype,"type",void 0);return c=m=b.__decorate([f.subclass("esri.layers.support.InheritedDomain")],c)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;e=k=function(m){function p(u){u=m.call(this,u)||this;u.maxValue=null;u.minValue=null;u.type="range";return u}a._inheritsLoose(p,m);p.prototype.clone=function(){return new k({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return p}(f);b.__decorate([c.property({type:Number,json:{type:[Number],read:{source:"range",reader(m,p){return p.range&&p.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",
writer(m,p,u){p[u]=[this.minValue||0,m]}}}})],e.prototype,"maxValue",void 0);b.__decorate([c.property({type:Number,json:{type:[Number],read:{source:"range",reader(m,p){return p.range&&p.range[0]}},write:{target:"range",writer(m,p,u){p[u]=[m,this.maxValue||0]}}}})],e.prototype,"minValue",void 0);b.__decorate([q.enumeration({range:"range"})],e.prototype,"type",void 0);return e=k=b.__decorate([t.subclass("esri.layers.support.RangeDomain")],e)})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Element ../../popup/support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,e,h,l,q,t){var f;h=f=function(k){function m(p){p=k.call(this,p)||this;p.displayCount=null;p.displayType="list";p.editable=!0;p.orderByFields=null;p.relationshipId=null;p.type="relationship";return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:c.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})};
return m}(q);b.__decorate([e.property({type:Number,json:{write:!0}})],h.prototype,"displayCount",void 0);b.__decorate([e.property({type:["list"],json:{write:!0}})],h.prototype,"displayType",void 0);b.__decorate([e.property({type:Boolean,json:{write:!0}})],h.prototype,"editable",void 0);b.__decorate([e.property({type:[t],json:{write:!0}})],h.prototype,"orderByFields",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],h.prototype,"relationshipId",void 0);b.__decorate([e.property({type:["relationship"],
json:{read:!1,write:!0}})],h.prototype,"type",void 0);return h=f=b.__decorate([l.subclass("esri.form.elements.RelationshipElement")],h)})},"esri/geometry/HeightModelInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){function g(z,A){return new q("height-unit:unsupported",`Height unit of value '${z}' is not supported`,A)}function r(z,A){return new q("height-model:unsupported",`Height model of value '${z}' is not supported`,A)}var d;const n=e.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});f=n.jsonValues.slice();c.removeUnordered(f,"orthometric");const v=e.strict()({meter:"meters",foot:"feet","us-foot":"us-feet",
"clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});c=d=function(z){function A(y){y=z.call(this,y)||this;y.heightModel=
"gravity-related-height";y.heightUnit="meters";y.vertCRS=null;return y}a._inheritsLoose(A,z);var w=A.prototype;w.writeHeightModel=function(y,x,B){return n.write(y,x,B)};w.readHeightModel=function(y,x,B){if(x=n.read(y))return x;B&&B.messages&&B.messages.push(r(y,{context:B}));return null};w.readHeightUnit=function(y,x,B){if(x=v.read(y))return x;B&&B.messages&&B.messages.push(g(y,{context:B}));return null};w.readHeightUnitService=function(y,x,B){if(x=l.unitFromRESTJSON(y)||v.read(y))return x;B&&B.messages&&
B.messages.push(g(y,{context:B}));return null};w.readVertCRS=function(y,x){return x.vertCRS||x.ellipsoid||x.geoid};w.clone=function(){return new d({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})};w.equals=function(y){return y?this===y?!0:this.heightModel===y.heightModel&&this.heightUnit===y.heightUnit&&this.vertCRS===y.vertCRS:!1};A.deriveUnitFromSR=function(y,x){x=l.getVerticalUnitStringForSR(x);return new d({heightModel:y.heightModel,heightUnit:x,vertCRS:y.vertCRS})};
w.write=function(y,x){x={origin:"web-scene",...x};return z.prototype.write.call(this,y,x)};A.fromJSON=function(y){if(!y)return null;const x=new d;x.read(y,{origin:"web-scene"});return x};return A}(h.JSONSupport);b.__decorate([t.property({type:n.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:f,default:"ellipsoidal"}}}})],c.prototype,"heightModel",void 0);b.__decorate([u.writer("web-scene","heightModel")],c.prototype,"writeHeightModel",null);b.__decorate([m.reader(["web-scene","service"],
"heightModel")],c.prototype,"readHeightModel",null);b.__decorate([t.property({type:v.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:v.jsonValues,write:v.write}}}})],c.prototype,"heightUnit",void 0);b.__decorate([m.reader("web-scene","heightUnit")],c.prototype,"readHeightUnit",null);b.__decorate([m.reader("service","heightUnit")],c.prototype,"readHeightUnitService",null);b.__decorate([t.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],c.prototype,"vertCRS",
void 0);b.__decorate([m.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],c.prototype,"readVertCRS",null);return c=d=b.__decorate([p.subclass("esri.geometry.HeightModelInfo")],c)})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/HandleOwner ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/maybe ../../../core/Promise ../../../core/workers/workers ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryZScale ../../../rest/support/FeatureSet ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x,B,C){let D=0;const J=m.getLogger("esri.layers.graphics.sources.MemorySource");a.MemorySource=function(I){function N(G){G=I.call(this,G)||this;G._idToClientGraphic=null;G.type="memory";return G}b._inheritsLoose(N,I);var L=N.prototype;L.load=function(G){G=p.isSome(G)?G.signal:null;this.addResolvingPromise(this._startWorker(G));return Promise.resolve(this)};L.destroy=function(){var G;null==(G=this._connection)?void 0:G.close();this._connection=null};
L.applyEdits=function(G){return this.load().then(()=>this._applyEdits(G))};L.openPorts=function(){return this.load().then(()=>this._connection.openPorts())};L.queryFeatures=function(){var G=b._asyncToGenerator(function*(F,E={}){yield this.load(E);E=yield this._connection.invoke("queryFeatures",F?F.toJSON():null,E);w.applyFeatureSetZUnitScaling(F,this.layer.spatialReference,E);F=y.fromJSON(E);if(!this._requiresClientGraphicMapping())return F;E=this.layer.objectIdField;for(const K of F.features){const P=
this._idToClientGraphic.get(K.attributes[E]);P&&(K.geometry=P.geometry)}F.geometryType=this.layer.geometryType;return F});return function(F){return G.apply(this,arguments)}}();L.queryFeaturesJSON=function(){var G=b._asyncToGenerator(function*(F,E={}){if(this._requiresClientGraphicMapping())throw new q("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield this.load(E);E=yield this._connection.invoke("queryFeatures",F?F.toJSON():null,
E);w.applyFeatureSetZUnitScaling(F,this.layer.spatialReference,E);return E});return function(F){return G.apply(this,arguments)}}();L.queryFeatureCount=function(G,F={}){return this.load(F).then(()=>this._connection.invoke("queryFeatureCount",G?G.toJSON():null,F))};L.queryObjectIds=function(G,F={}){return this.load(F).then(()=>this._connection.invoke("queryObjectIds",G?G.toJSON():null,F))};L.queryExtent=function(G,F={}){return this.load(F).then(()=>this._connection.invoke("queryExtent",G?G.toJSON():
null,F)).then(E=>({count:E.count,extent:x.fromJSON(E.extent)}))};L.querySnapping=function(G,F={}){return this.load(F).then(()=>this._connection.invoke("querySnapping",G,F))};L._applyEdits=function(){var G=b._asyncToGenerator(function*(F){if(!this._connection)throw new q("feature-layer-source:edit-failure","Memory source not loaded");const E=this.layer.objectIdField;let K=null;const P=[],W=[];yield Promise.all([this._prepareClientMapping(F.addFeatures,null),this._prepareClientMapping(F.updateFeatures,
null)]);const ia=sa=>"objectId"in sa&&null!=sa.objectId?sa.objectId:"attributes"in sa&&null!=sa.attributes[E]?sa.attributes[E]:null;F.addFeatures&&(K=this._prepareAddFeatures(F.addFeatures));if(F.deleteFeatures)for(var Z of F.deleteFeatures){const sa=ia(Z);null!=sa&&P.push(sa)}Z=F.updateFeatures&&this._idToClientGraphic?new Map:null;if(F.updateFeatures)for(const sa of F.updateFeatures)W.push(this._serializeFeature(sa)),Z&&(F=ia(sa),null!=F&&Z.set(F,sa));A.unapplyEditsZUnitScaling(K?K.features:null,
W,this.layer.spatialReference);const {fullExtent:V,featureEditResults:qa}=yield this._connection.invoke("applyEdits",{adds:K?K.features:[],updates:W,deletes:P});this.fullExtent=V;K&&K.finish(qa.uidToObjectId);this._updateClientGraphicIds(Z,qa);return this._createEditsResult(qa)});return function(F){return G.apply(this,arguments)}}();L._prepareClientMapping=function(){var G=b._asyncToGenerator(function*(F,E){if("mesh"===this.layerOrSourceGeometryType&&!p.isNone(F)){var K=[];for(const {geometry:P}of F)!p.isSome(P)||
"mesh"!==P.type||P.hasExtent||P.loaded||K.push(P.load({signal:E}));K.length&&(yield Promise.all(K))}});return function(F,E){return G.apply(this,arguments)}}();L._updateClientGraphicIds=function(G,F){if(this._idToClientGraphic){if(G)for(const E of F.updateResults){if(!E.success)continue;const K=G.get(E.objectId);null!=K&&this._addIdToClientGraphic(K)}for(const E of F.deleteResults)E.success&&this._idToClientGraphic.delete(E.objectId)}};L._createEditsResult=function(G){return{addFeatureResults:G.addResults?
G.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:G.updateResults?G.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:G.deleteResults?G.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}};L._createFeatureEditResult=function(G){const F=!0===G.success?null:G.error||{code:void 0,description:void 0};return{objectId:G.objectId,globalId:G.globalId,error:F?new q("feature-layer-source:edit-failure",
F.description,{code:F.code}):null}};L._prepareAddFeatures=function(G){const F=new Map,E=Array(G.length);let K=null;for(let W=0;W<G.length;W++){const ia=G[W],Z=this._serializeFeature(ia);!K&&p.isSome(ia.geometry)&&(K=ia.geometry.type);E[W]=Z;F.set(`${Z.uid}`,ia)}const P=this;return{features:E,inferredGeometryType:K,finish(W){const ia=P.sourceJSON.objectIdField;for(const Z in W){const V=W[Z],qa=F.get(Z);qa&&(qa.attributes||(qa.attributes={}),-1===V?delete qa.attributes[ia]:qa.attributes[ia]=V,P._addIdToClientGraphic(qa))}}}};
L._addIdToClientGraphic=function(G){if(this._idToClientGraphic){var F=this.sourceJSON.objectIdField;F=G.attributes&&G.attributes[F];null!=F&&this._idToClientGraphic.set(F,G)}};L._requiresClientGraphicMapping=function(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)};L._geometryRequiresClientGraphicMapping=function(G){return this._geometryTypeRequiresClientGraphicMapping(G.type)};L._geometryTypeRequiresClientGraphicMapping=function(G){return"mesh"===G||"multipatch"===
G||"extent"===G};L._serializeFeature=function(G){const {attributes:F}=G;G=this._geometryForSerialization(G);const E=(D++).toString();return G?{uid:E,geometry:G.toJSON(),attributes:F}:{uid:E,attributes:F}};L._geometryForSerialization=function(G){({geometry:G}=G);return p.isNone(G)?null:this._geometryRequiresClientGraphicMapping(G)?G.extent?B.fromExtent(G.extent):null:G};L._startWorker=function(){var G=b._asyncToGenerator(function*(F){this._connection=yield g.open("MemorySourceWorker",{strategy:f("feature-layers-workers")?
"dedicated":"local",signal:F});const {fields:E,spatialReference:K,objectIdField:P,hasM:W,hasZ:ia,timeInfo:Z}=this.layer;var V="defaults"===this.layer.originOf("spatialReference");yield this._prepareClientMapping(this.items,F);const qa=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",Ba=>{J.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");Ba.preventDefault()}));V={features:qa.features,fields:E&&E.map(Ba=>Ba.toJSON()),
geometryType:C.typeKebabDictionary.toJSON(this.workerGeometryType),hasM:"mesh"===this.layerOrSourceGeometryType?!1:W,hasZ:"mesh"===this.layerOrSourceGeometryType?!0:ia,objectIdField:P,spatialReference:V?null:K&&K.toJSON(),timeInfo:Z?Z.toJSON():null};F=yield this._connection.invoke("load",V,{signal:F});for(var sa of F.warnings)J.warn(sa.message,{layer:this.layer,warning:sa});F.featureErrors.length&&J.warn(`Encountered ${F.featureErrors.length} validation errors while loading features`,F.featureErrors);
sa=F.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(qa.inferredGeometryType)&&(sa.geometryType=C.typeKebabDictionary.toJSON(qa.inferredGeometryType));this.sourceJSON=sa;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);qa.finish(F.assignedObjectIds)});return function(F){return G.apply(this,arguments)}}();b._createClass(N,[{key:"workerGeometryType",get:function(){var G;const F=null==(G=this.layer)?void 0:G.geometryType;return F?this._geometryTypeRequiresClientGraphicMapping(F)?
"polygon":F:null}},{key:"layerOrSourceGeometryType",get:function(){var G,F,E;return null!=(G=null==(F=this.layer)?void 0:F.geometryType)?G:null==(E=this.sourceJSON)?void 0:E.geometryType}}]);return N}(k.LoadableMixin(u.EsriPromiseMixin(t.HandleOwnerMixin(l))));c.__decorate([v.shared({Type:h,ensureType:n.ensureType(h)})],a.MemorySource.prototype,"itemType",void 0);c.__decorate([r.property()],a.MemorySource.prototype,"type",void 0);c.__decorate([r.property({constructOnly:!0})],a.MemorySource.prototype,
"layer",void 0);c.__decorate([r.property({readOnly:!0})],a.MemorySource.prototype,"workerGeometryType",null);c.__decorate([r.property()],a.MemorySource.prototype,"sourceJSON",void 0);a.MemorySource=c.__decorate([z.subclass("esri.layers.graphics.sources.MemorySource")],a.MemorySource);a.default=a.MemorySource;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/workers":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),
function(a,b,c,e,h,l,q,t,f){function k(w){if(w&&w.__esModule)return w;const y=Object.create(null);if(w)for(const x in w)if("default"!==x){const B=Object.getOwnPropertyDescriptor(w,x);Object.defineProperty(y,x,B.get?B:{enumerable:!0,get:()=>w[x]})}y.default=w;return Object.freeze(y)}function m(w,y){return p.apply(this,arguments)}function p(){p=c._asyncToGenerator(function*(w,y){const x=new q;yield x.open(w,y);return x});return p.apply(this,arguments)}function u(){u=c._asyncToGenerator(function*(w,
y={}){if("string"!==typeof w)throw new e("workers:undefined-module","modulePath is missing");var x=y.strategy||"distributed";h("host-webworker")&&!h("esri-workers")&&(x="local");if("local"===x){var B=yield t.loadWorker(w);B||(B=yield new Promise((C,D)=>a([w],J=>C(k(J)),D)));l.throwIfAborted(y.signal);x=y.client||B;B=t.connect(B);return m([B],{...y,client:x})}yield g();l.throwIfAborted(y.signal);if("dedicated"===x)return x=n++%d,x=yield v[x].open(w,y),m([x],y);if(y.maxNumWorkers&&0<y.maxNumWorkers&&
(x=Math.min(y.maxNumWorkers,d),x<d)){B=Array(x);for(let C=0;C<x;++C){const D=n++%d;B[C]=v[D].open(w,y)}return m(B,y)}x=v.map(C=>C.open(w,y));return m(x,y)});return u.apply(this,arguments)}function g(){return r.apply(this,arguments)}function r(){r=c._asyncToGenerator(function*(){if(z)return z;A=new AbortController;const w=[];for(let y=0;y<d;y++){const x=f.create(y).then(B=>v[y]=B);w.push(x)}return z=Promise.all(w)});return r.apply(this,arguments)}let d=h("esri-workers-debug")?1:h("host-browser")?navigator.hardwareConcurrency-
1:0;d||(d=h("safari")&&h("mac")||h("trident")?7:2);let n=0;const v=[];let z=null,A;b.Connection=q;b.RemoteClient=t;b.initialize=function(){g()};b.open=function(w){return u.apply(this,arguments)};b.openWithPorts=function(w,y){return m(w,{client:y})};b.terminate=function(){z&&(A.abort(),z=null);for(let w=0;w<v.length;w++)v[w]&&v[w].terminate();v.length=0};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/core/workers/Connection":function(){define(["../../chunks/_rollupPluginBabelHelpers","../handleUtils",
"../Logger","../promiseUtils","./RemoteClient"],function(a,b,c,e,h){const l=c.getLogger("esri.core.workers.Connection");return function(){function q(){this._clients=[];this._clientPromises=[];this._clientIdx=0}var t=q.prototype;t.destroy=function(){this.close()};t.open=function(f,k){return new Promise((m,p)=>{let u=!0;const g=r=>{e.throwIfAborted(k.signal);u&&(u=!1,r())};this._clients.length=f.length;this._clientPromises.length=f.length;for(let r=0;r<f.length;++r){const d=f[r];e.isPromiseLike(d)?
this._clientPromises[r]=d.then(n=>{this._clients[r]=new h(n,k);g(m);return this._clients[r]},()=>{g(p);return null}):(this._clients[r]=new h(d,k),this._clientPromises[r]=Promise.resolve(this._clients[r]),g(m))}})};t.broadcast=function(f,k,m){const p=Array(this._clientPromises.length);for(let u=0;u<this._clientPromises.length;++u)p[u]=this._clientPromises[u].then(g=>g.invoke(f,k,m));return p};t.close=function(){for(const f of this._clientPromises)f.then(k=>k.close());this._clients.length=0;this._clientPromises.length=
0};t.getAvailableClient=function(){let f;for(let k=0;k<this._clients.length;++k){const m=this._clients[k];if(!m)f=f||[],f.push(this._clientPromises[k]);else if(!m.isBusy())return Promise.resolve(m)}return f?Promise.race(f):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))};t.invoke=function(f,k,m){let p=null;Array.isArray(m)?(l.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),p={transferList:m}):p=
m;return this.closed?Promise.reject(Error("Connection closed")):this.getAvailableClient().then(u=>u.invoke(f,k,p))};t.on=function(f,k){return Promise.all(this._clientPromises).then(()=>b.handlesGroup(this._clients.map(m=>m.on(f,k))))};t.openPorts=function(){return new Promise(f=>{const k=Array(this._clientPromises.length);let m=k.length;for(let p=0;p<this._clientPromises.length;++p)this._clientPromises[p].then(u=>{k[p]=u.openPort();0===--m&&f(k)})})};a._createClass(q,[{key:"closed",get:function(){return!this._clients||
!this._clients.length}},{key:"test",get:function(){return{numClients:this._clients.length}}}]);return q}()})},"esri/core/workers/RemoteClient":function(){define("require ../../kernel ../Error ../events ../maybe ../promiseUtils ./utils ../../support/revision".split(" "),function(a,b,c,e,h,l,q,t){const f=z=>Object.freeze({__proto__:null,default:z}),k={statsWorker:()=>new Promise((z,A)=>a(["../../smartMapping/statistics/support/statsWorker"],z,A)),geometryEngineWorker:()=>new Promise((z,A)=>a(["../../geometry/geometryEngineWorker"],
z,A)),CSVSourceWorker:()=>new Promise((z,A)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],z,A)),EdgeProcessingWorker:()=>new Promise((z,A)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],z,A)),ElevationSamplerWorker:()=>new Promise((z,A)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],z,A)),FeatureServiceSnappingSourceWorker:()=>new Promise((z,A)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],
z,A)),GeoJSONSourceWorker:()=>new Promise((z,A)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],w=>z(f(w)),A)),LercWorker:()=>new Promise((z,A)=>a(["../../layers/support/LercWorker"],w=>z(f(w)),A)),MemorySourceWorker:()=>new Promise((z,A)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],w=>z(f(w)),A)),PBFDecoderWorker:()=>new Promise((z,A)=>a(["../../views/3d/support/PBFDecoderWorker"],w=>z(f(w)),A)),Pipeline:()=>new Promise((z,A)=>a(["../../views/2d/layers/features/Pipeline"],
z,A)),PointCloudWorker:()=>new Promise((z,A)=>a(["../../views/3d/layers/PointCloudWorker"],w=>z(f(w)),A)),RasterWorker:()=>new Promise((z,A)=>a(["../../layers/support/RasterWorker"],w=>z(f(w)),A)),SceneLayerWorker:()=>new Promise((z,A)=>a(["../../views/3d/layers/SceneLayerWorker"],z,A)),WFSSourceWorker:()=>new Promise((z,A)=>a(["../../layers/graphics/sources/WFSSourceWorker"],w=>z(f(w)),A)),WorkerTileHandler:()=>new Promise((z,A)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],w=>z(f(w)),
A))},{CLOSE:m,ABORT:p,INVOKE:u,RESPONSE:g,OPEN_PORT:r,ON:d}=q.MessageType;let n=function(){function z(w){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=w;this._timer=null;this._process=this._process.bind(this)}var A=z.prototype;A.push=function(w){w.type===q.MessageType.ABORT?this._cancelledJobIds.add(w.jobId):(this._invokeMessages.push(w),null===this._timer&&(this._timer=setTimeout(this._process,0)))};A.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();
this._timer=null};A._process=function(){this._timer=null;for(const w of this._invokeMessages)this._cancelledJobIds.has(w.jobId)||this._invoke(w);this._cancelledJobIds.clear();this._invokeMessages.length=0};return z}(),v=function(){function z(w,y){this._port=w;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new n(x=>this._onInvokeMessage(x));this._client=y.client;this._onMessage=this._onMessage.bind(this);this._channel=y.channel;this._schedule=y.schedule;this._port.addEventListener("message",
this._onMessage);this._port.start()}z.connect=function(w){const y=new MessageChannel;w="function"===typeof w?new w:"default"in w&&"function"===typeof w.default?new w.default:w;const x=new z(y.port1,{channel:y,client:w});"object"===typeof w&&"remoteClient"in w&&(w.remoteClient=x);z.clients.set(x,w);return y.port2};z.loadWorker=function(w){return(w=k[w])?w():Promise.resolve(null)};var A=z.prototype;A.close=function(){this._post({type:m});this._close()};A.isBusy=function(){return 0<this._outJobs.size};
A.invoke=function(w,y,x){const B=x&&x.signal,C=x&&x.transferList;if(!this._port)return Promise.reject(new c("worker:port-closed",`Cannot call invoke('${w}'), port is closed`,{methodName:w,data:y}));const D=q.newJobId();return new Promise((J,I)=>{const N=l.onAbortOrThrow(B,()=>{var L;const G=this._outJobs.get(D);G&&(this._outJobs.delete(D),null==(L=G.abortHandle)?void 0:L.remove(),this._post({type:p,jobId:D}),I(l.createAbortError()))});this._outJobs.set(D,{resolve:J,reject:I,abortHandle:N,debugInfo:w});
this._post({type:u,jobId:D,methodName:w,abortable:null!=B},y,C)})};A.on=function(w,y){function x(C){y(C.data)}const B=new MessageChannel;this._port.postMessage({type:q.MessageType.ON,eventType:w,port:B.port2},[B.port2]);B.port1.addEventListener("message",x);B.port1.start();return{remove(){B.port1.postMessage({type:q.MessageType.CLOSE});B.port1.close();B.port1.removeEventListener("message",x)}}};A.openPort=function(){const w=new MessageChannel;this._post({type:r,port:w.port2});return w.port1};A._close=
function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(w=>{var y;null==(y=w.abortHandle)?void 0:y.remove();w.reject(l.createAbortError(`Worker closing, aborting job calling '${w.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=this._schedule=null};A._onMessage=function(w){h.isSome(this._schedule)?this._schedule(()=>this._processMessage(w)):this._processMessage(w)};
A._processMessage=function(w){if(w=q.receiveMessage(w))switch(w.type){case g:this._onResponseMessage(w);break;case u:this._invokeQueue.push(w);break;case p:this._onAbortMessage(w);break;case m:this._onCloseMessage();break;case r:this._onOpenPortMessage(w);break;case d:this._onOnMessage(w)}};A._onAbortMessage=function(w){const y=this._inJobs,x=w.jobId,B=y.get(x);this._invokeQueue.push(w);B&&(B.controller&&B.controller.abort(),y.delete(x))};A._onCloseMessage=function(){const w=this._client;this._close();
w&&"destroy"in w&&z.clients.get(this)===w&&w.destroy();z.clients.delete(this);w&&w.remoteClient&&(w.remoteClient=null)};A._onInvokeMessage=function(w){const {methodName:y,jobId:x,data:B,abortable:C}=w;w=C?new AbortController:null;const D=this._inJobs;let J=this._client,I=J[y],N;try{if(!I&&y&&-1!==y.indexOf(".")){const L=y.split(".");for(let G=0;G<L.length-1;G++)J=J[L[G]],I=J[L[G+1]]}if("function"!==typeof I)throw new TypeError(`${y} is not a function`);N=I.call(J,B,{client:this,signal:w?w.signal:
null})}catch(L){this._post({type:g,jobId:x,error:q.toInvokeError(L)});return}l.isPromiseLike(N)?(D.set(x,{controller:w,promise:N}),N.then(L=>{D.has(x)&&(D.delete(x),this._post({type:g,jobId:x},L))},L=>{D.has(x)&&(D.delete(x),l.isAbortError(L)||this._post({type:g,jobId:x,error:q.toInvokeError(L||{message:`Error encountered at method ${y}`})}))})):this._post({type:g,jobId:x},N)};A._onOpenPortMessage=function(w){new z(w.port,{client:this._client})};A._onOnMessage=function(w){const {port:y}=w,x=this._client.on(w.eventType,
C=>{y.postMessage(C)}),B=e.on(w.port,"message",C=>{q.receiveMessage(C).type===q.MessageType.CLOSE&&(B.remove(),x.remove(),y.close())})};A._onResponseMessage=function(w){var y;const {jobId:x,error:B,data:C}=w;w=this._outJobs;if(w.has(x)){var D=w.get(x);w.delete(x);null==(y=D.abortHandle)?void 0:y.remove();B?D.reject(c.fromJSON(JSON.parse(B))):D.resolve(C)}};A._post=function(w,y,x){return q.postMessage(this._port,w,y,x)};return z}();v.kernelInfo={revision:t.commitHash,version:b.version,buildDate:t.buildDate};
v.clients=new Map;return v})},"esri/core/workers/utils":function(){define(["exports","../has"],function(a,b){function c(l){return l&&"object"===typeof l&&("result"in l||"transferList"in l)}function e(l){if(!l||!l.length)return null;if(b("esri-workers-arraybuffer-transfer"))return l;l=l.filter(q=>!(q instanceof ArrayBuffer||q&&q.constructor&&"ArrayBuffer"===q.constructor.name));return l.length?l:null}a.MessageType=void 0;(function(l){l[l.HANDSHAKE=0]="HANDSHAKE";l[l.OPEN=1]="OPEN";l[l.OPENED=2]="OPENED";
l[l.RESPONSE=3]="RESPONSE";l[l.INVOKE=4]="INVOKE";l[l.ABORT=5]="ABORT";l[l.CLOSE=6]="CLOSE";l[l.OPEN_PORT=7]="OPEN_PORT";l[l.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let h=0;a.isTranferableResult=c;a.newJobId=function(){return h++};a.postMessage=function(l,q,t,f){q.type===a.MessageType.OPEN_PORT?l.postMessage(q,[q.port]):q.type!==a.MessageType.INVOKE&&q.type!==a.MessageType.RESPONSE?l.postMessage(q):(c(t)?(f=e(t.transferList),q.data=t.result):(f=e(f),q.data=t),f?l.postMessage(q,f):l.postMessage(q))};
a.receiveMessage=function(l){return l?(l=l.data)?"string"===typeof l?JSON.parse(l):l:null:null};a.toInvokeError=function(l){return l?"string"===typeof l?JSON.stringify({name:"message",message:l}):l.toJSON?JSON.stringify(l):JSON.stringify({name:l.name,message:l.message,details:l.details||{stack:l.stack}}):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/WorkerOwner":function(){define("../../chunks/_rollupPluginBabelHelpers ../../kernel ../Error ../Logger ../promiseUtils ./utils ./workerFactory".split(" "),
function(a,b,c,e,h,l,q){const t=e.getLogger("esri.core.workers"),{ABORT:f,INVOKE:k,OPEN:m,OPENED:p,RESPONSE:u}=l.MessageType;return function(){function g(d,n){this._outJobs=new Map;this._inJobs=new Map;this.worker=d;this.id=n;d.addEventListener("message",this._onMessage.bind(this));d.addEventListener("error",v=>{v.preventDefault();t.error(v)})}g.create=function(){var d=a._asyncToGenerator(function*(n){const v=yield q.createWorker();return new g(v,n)});return function(n){return d.apply(this,arguments)}}();
var r=g.prototype;r.terminate=function(){this.worker.terminate()};r.open=function(){var d=a._asyncToGenerator(function*(n,v={}){const {signal:z}=v,A=l.newJobId();return new Promise((w,y)=>{const x=h.onAbortOrThrow(z,()=>{this._outJobs.delete(A);this._post({type:f,jobId:A})});this._outJobs.set(A,{resolve:w,reject:y,abortHandle:x});this._post({type:m,jobId:A,modulePath:n})})});return function(n){return d.apply(this,arguments)}}();r._onMessage=function(d){if(d=l.receiveMessage(d))switch(d.type){case p:this._onOpenedMessage(d);
break;case u:this._onResponseMessage(d);break;case f:this._onAbortMessage(d);break;case k:this._onInvokeMessage(d)}};r._onAbortMessage=function(d){const n=this._inJobs;d=d.jobId;const v=n.get(d);v&&(v.controller&&v.controller.abort(),n.delete(d))};r._onInvokeMessage=function(d){const {methodName:n,jobId:v,data:z,abortable:A}=d;d=A?new AbortController:null;const w=this._inJobs,y=b.workerMessages[n];let x;try{if("function"!==typeof y)throw new TypeError(`${n} is not a function`);x=y.call(null,z,{signal:d?
d.signal:null})}catch(B){this._post({type:u,jobId:v,error:l.toInvokeError(B)});return}h.isPromiseLike(x)?(w.set(v,{controller:d,promise:x}),x.then(B=>{w.has(v)&&(w.delete(v),this._post({type:u,jobId:v},B))},B=>{w.has(v)&&(w.delete(v),B||(B={message:"Error encountered at method"+n}),h.isAbortError(B)||this._post({type:u,jobId:v,error:l.toInvokeError(B||{message:`Error encountered at method ${n}`})}))})):this._post({type:u,jobId:v},x)};r._onOpenedMessage=function(d){var n;const {jobId:v,data:z}=d;if(d=
this._outJobs.get(v))this._outJobs.delete(v),null==(n=d.abortHandle)?void 0:n.remove(),d.resolve(z)};r._onResponseMessage=function(d){var n;const {jobId:v,error:z,data:A}=d;if(d=this._outJobs.get(v))this._outJobs.delete(v),null==(n=d.abortHandle)?void 0:n.remove(),z?d.reject(c.fromJSON(JSON.parse(z))):d.resolve(A)};r._post=function(d,n,v){return l.postMessage(this.worker,d,n,v)};return g}()})},"esri/core/workers/workerFactory":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../assets ../../config ../../intl ../../kernel ../has ../Logger ../urlUtils ./loaderConfig ./utils ./WorkerFallback ../../intl/locale ../../support/revision".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g){function r(){r=b._asyncToGenerator(function*(){if(!q("esri-workers"))return d(new p);if(!w&&!y)try{const C='let globalId\x3d0;const outgoing\x3dnew Map,configuration\x3dJSON.parse("{CONFIGURATION}");self.esriConfig\x3dconfiguration.esriConfig;const workerPath\x3dself.esriConfig.workers.workerPath,HANDSHAKE\x3d0,OPEN\x3d1,OPENED\x3d2,RESPONSE\x3d3,INVOKE\x3d4,ABORT\x3d5;function createAbortError(){const e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t\x3dr\x26\x26r.signal,n\x3dglobalId++;return new Promise(((r,i)\x3d\x3e{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()\x3d\x3e{outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!\x3dt,data:o})}))}let workerRevisionChecked\x3d!1;function checkWorkerRevision(e){if(!workerRevisionChecked\x26\x26e.kernelInfo){workerRevisionChecked\x3d!0;const{revision:o,buildDate:r,version:t}\x3dconfiguration.kernelInfo,{revision:n,buildDate:i,version:s}\x3de.kernelInfo;o!\x3d\x3dn\x26\x26console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o\x3dreceiveMessage(e);if(!o)return;const r\x3do.jobId;switch(o.type){case 1:let e;function t(o){const t\x3de.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(r\x3d\x3e{e\x3dr.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e\x3d\x3ee||new Promise((e\x3d\x3e{require([o.modulePath],e)})))).then(t)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((r\x3d\x3e(e\x3dr.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e\x3d\x3ee||System.import(o.modulePath))).then(t):(self.RemoteClient||importScripts(workerPath),e\x3dself.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e\x3doutgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig\x3dconfiguration.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.replace('"{CONFIGURATION}"',
`'${v()}'`);w=URL.createObjectURL(new Blob([C],{type:"text/javascript"}))}catch(C){y=C||{}}let B;if(w)try{B=new Worker(w,{name:`esri-worker-${x++}`})}catch(C){z.warn("Failed to create Worker. Fallback to execute module in main thread",y),B=new p}else z.warn("Failed to create Worker. Fallback to execute module in main thread",y),B=new p;return d(B)});return r.apply(this,arguments)}function d(B){return n.apply(this,arguments)}function n(){n=b._asyncToGenerator(function*(B){return new Promise(C=>{function D(I){(I=
m.receiveMessage(I))&&I.type===A&&(B.removeEventListener("message",D),B.removeEventListener("error",J),C(B))}function J(I){I.preventDefault();B.removeEventListener("message",D);B.removeEventListener("error",J);z.warn("Failed to create Worker. Fallback to execute module in main thread",I);B=new p;B.addEventListener("message",D);B.addEventListener("error",J)}B.addEventListener("message",D);B.addEventListener("error",J)})});return n.apply(this,arguments)}function v(){if(null!=e["default"]){var B={...e};
delete B["default"];B=JSON.parse(JSON.stringify(B))}else B=JSON.parse(JSON.stringify(e));B.assetsPath=f.makeAbsolute(B.assetsPath);B.request.interceptors=[];B.log.interceptors=[];B.locale=u.getLocale();B.has={"esri-csp-restrictions":q("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":q("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":q("esri-2d-query-centroid-enabled"),"featurelayer-pbf":q("featurelayer-pbf"),"featurelayer-simplify-thresholds":q("featurelayer-simplify-thresholds"),
"featurelayer-simplify-payload-size-factors":q("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":q("featurelayer-simplify-mobile-factor"),"esri-atomics":q("esri-atomics"),"esri-shared-array-buffer":q("esri-shared-array-buffer"),"esri-tiles-debug":q("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":q("esri-workers-arraybuffer-transfer"),"host-webworker":1};B.workers.loaderUrl?B.workers.loaderUrl=f.makeAbsolute(B.workers.loaderUrl):k.DEFAULT_LOADER_URL&&(B.workers.loaderUrl=
k.DEFAULT_LOADER_URL);B.workers.workerPath=B.workers.workerPath?f.makeAbsolute(B.workers.workerPath):"esri/core/workers/RemoteClient";var C=e.workers.loaderConfig;C=k.default({baseUrl:null==C?void 0:C.baseUrl,locale:u.getLocale(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...null==C?void 0:C.has},map:{...null==C?void 0:C.map},paths:{...null==C?void 0:C.paths},packages:(null==C?void 0:C.packages)||[]});return JSON.stringify({esriConfig:B,loaderConfig:C,kernelInfo:{version:l.version,
buildDate:g.buildDate,revision:g.commitHash}})}const z=t.getLogger("esri.core.workers"),{HANDSHAKE:A}=m.MessageType;let w,y,x=0;a.createWorker=function(){return r.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),function(a,b,c,e,h,l,q,t){l.registerMessageBundleLoader(q.createJSONLoader({pattern:"esri/",location:t.getAssetUrl}));
a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.convertNumberFormatToIntlOptions=c.convertNumberFormatToIntlOptions;a.formatNumber=c.formatNumber;a.substitute=e.substitute;a.getLocale=h.getLocale;a.onLocaleChange=h.onLocaleChange;a.prefersRTL=h.prefersRTL;a.setLocale=h.setLocale;a.fetchMessageBundle=l.fetchMessageBundle;a.normalizeMessageBundleLocale=l.normalizeMessageBundleLocale;a.registerMessageBundleLoader=l.registerMessageBundleLoader;a.createJSONLoader=
q.createJSONLoader;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(a,b,c,e,h,l){function q(f){switch(typeof f){case "string":return f;case "number":return l.formatNumber(f);case "boolean":return""+f;default:return f instanceof Date?h.formatDate(f):""}}const t=b.getLogger("esri.intl");a.substitute=function(f,k,m={}){const {format:p={}}=m;return e.replace(f,u=>{{const d=
u.indexOf(":");if(-1===d)var g=u.trim();else{g=u.slice(0,d).trim();var r=u.slice(d+1).trim()}if(g)if(u=c.getDeepValue(g,k),null==u)r="";else if(g=p[r]||p[g])b:switch(g.type){case "date":r=h.formatDate(u,g.intlOptions);break b;case "number":r=l.formatNumber(u,g.intlOptions);break b;default:t.warn("missing format descriptor for key {key}"),r=q(u)}else if(r)b:switch(r.toLowerCase()){case "dateformat":r=h.formatDate(u);break b;case "numberformat":r=l.formatNumber(u);break b;default:t.warn(`inline format is unsupported since 4.12: ${r}`),
r=/^(dateformat|datestring)/i.test(r)?h.formatDate(u):/^numberformat/i.test(r)?l.formatNumber(u):q(u)}else r=q(u);else r=""}return r})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/t9n":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../request ../core/Error ../core/maybe ./messages".split(" "),function(a,b,c,e,h,l){function q(u,g,r,d){return t.apply(this,arguments)}function t(){t=b._asyncToGenerator(function*(u,g,r,d){var n=g.exec(r);if(!n)throw new e("esri-intl:invalid-bundle",
`Bundle id "${r}" is not compatible with the pattern "${g}"`);g=n[1]?`${n[1]}/`:"";n=n[2];const v=l.normalizeMessageBundleLocale(d);d=`${g}${n}.json`;g=v?`${g}${n}_${v}.json`:d;let z;try{z=yield f(u(g))}catch(A){if(g===d)throw new e("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:A});try{z=yield f(u(d))}catch(w){throw new e("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:w});}}return z});return t.apply(this,arguments)}function f(u){return k.apply(this,arguments)}function k(){k=
b._asyncToGenerator(function*(u){if(h.isSome(p.fetchBundleAsset))return p.fetchBundleAsset(u);u=yield c(u,{responseType:"text"});return JSON.parse(u.data)});return k.apply(this,arguments)}let m=function(){function u({base:g="",pattern:r,location:d=new URL(window.location.href)}){let n;n="string"===typeof d?v=>(new URL(v,new URL(d,window.location.href))).href:d instanceof URL?v=>(new URL(v,d)).href:d;this.pattern="string"===typeof r?new RegExp(`^${r}`):r;this.getAssetUrl=n;g=g?g.endsWith("/")?g:g+
"/":"";this.matcher=new RegExp(`^${g}(?:(.*)/)?(.*)$`)}u.prototype.fetchMessageBundle=function(g,r){return q(this.getAssetUrl,this.matcher,g,r)};return u}();const p={};a.JSONLoader=m;a.createJSONLoader=function(u){return new m(u)};a.test=p;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/loaderConfig":function(){define(["exports","../../assets","../has","../urlUtils"],function(a,b,c,e){a.DEFAULT_LOADER_URL=null;a.DEFAULT_LOADER_URL=e.makeAbsolute(b.getAssetUrl("esri/core/workers/init.js"));
var h=e.makeAbsolute(b.getAssetUrl("dojo/"));var l=[{name:"esri",location:"../esri"}];a.default=function(q){const t={async:q.async,isDebug:q.isDebug,locale:q.locale,baseUrl:q.baseUrl,has:{...q.has},map:{...q.map},packages:q.packages&&q.packages.concat()||[],paths:{...q.paths}};q.hasOwnProperty("async")||(t.async=!0);q.hasOwnProperty("isDebug")||(t.isDebug=!1);q.baseUrl||(t.baseUrl=h);null==l?void 0:l.forEach(f=>{a:{var k=t.packages;for(const m of k)if(m.name===f.name)break a;k.push(f)}});return t};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/WorkerFallback":function(){define(["require","../../chunks/_rollupPluginBabelHelpers","../nextTick","./RemoteClient","./utils"],function(a,b,c,e,h){function l(t){if(t&&t.__esModule)return t;const f=Object.create(null);if(t)for(const k in t)if("default"!==k){const m=Object.getOwnPropertyDescriptor(t,k);Object.defineProperty(f,k,m.get?m:{enumerable:!0,get:()=>t[k]})}f.default=t;return Object.freeze(f)}let q=function(){const t=document.createDocumentFragment();
["addEventListener","dispatchEvent","removeEventListener"].forEach(f=>{this[f]=(...k)=>t[f](...k)})};return function(){function t(){this._dispatcher=new q;this._workerPostMessage({type:h.MessageType.HANDSHAKE})}var f=t.prototype;f.terminate=function(){};f.postMessage=function(k){c.nextTick(()=>{this._workerMessageHandler(new MessageEvent("message",{data:k}))})};f.dispatchEvent=function(k){return this._dispatcher.dispatchEvent(k)};f.addEventListener=function(k,m,p){this._dispatcher.addEventListener(k,
m,p)};f.removeEventListener=function(k,m,p){this._dispatcher.removeEventListener(k,m,p)};f._workerPostMessage=function(k){c.nextTick(()=>{this.dispatchEvent(new MessageEvent("message",{data:k}))})};f._workerMessageHandler=function(){var k=b._asyncToGenerator(function*(m){if((m=h.receiveMessage(m))&&m.type===h.MessageType.OPEN){const {modulePath:p,jobId:u}=m;(m=yield e.loadWorker(p))||(m=yield new Promise((g,r)=>a([p],d=>g(l(d)),r)));m=e.connect(m);this._workerPostMessage({type:h.MessageType.OPENED,
jobId:u,data:m})}});return function(m){return k.apply(this,arguments)}}();b._createClass(t,[{key:"onmessage",get:function(){return this._onmessageHandler},set:function(k){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=k)&&this.addEventListener("message",k)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},set:function(k){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler);
(this._onmessageerrorHandler=k)&&this.addEventListener("messageerror",k)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(k){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=k)&&this.addEventListener("error",k)}}]);return t}()})},"esri/rest/query/operations/editsZScale":function(){define(["exports","../../../core/maybe","../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],function(a,b,c,e){function h(q,
t,f){if(null==q.hasM||q.hasZ)for(const k of t)for(const m of k)2<m.length&&(m[2]*=f)}function l(q,t,f){if(q)for(const p of q){q=p.geometry;var k=t,m=f;if(!b.isNone(q)&&q.spatialReference&&!e.equals(q.spatialReference,k)&&(k=c.getMetersPerVerticalUnitForSR(q.spatialReference)/m,1!==k))if("x"in q)null!=q.z&&(q.z*=k);else if("rings"in q)h(q,q.rings,k);else if("paths"in q)h(q,q.paths,k);else if("points"in q&&(null==q.hasM||q.hasZ))for(const u of q.points)2<u.length&&(u[2]*=k)}}a.unapplyEditsZUnitScaling=
function(q,t,f){if((q||t)&&f){var k=c.getMetersPerVerticalUnitForSR(f);l(q,f,k);l(t,f,k)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/queryZScale":function(){define(["exports","../../../core/maybe","../../../geometry/support/zscale"],function(a,b,c){a.applyFeatureSetZUnitScaling=function(e,h,l){if(l&&l.features&&l.hasZ&&(e=c.getGeometryZScaler(l.geometryType,h,e.outSpatialReference),!b.isNone(e)))for(const q of l.features)e(q.geometry)};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(a,b,c,e){a.getGeometryZScaler=function(h,l,q){if(b.isNone(l)||b.isNone(q)||q.vcsWkid||e.equals(l,q))return null;l=c.getMetersPerVerticalUnitForSR(l);q=c.getMetersPerVerticalUnitForSR(q);const t=l/q;if(1===t)return null;switch(h){case "point":case "esriGeometryPoint":return f=>{f&&null!=f.z&&(f.z*=t)};case "polyline":case "esriGeometryPolyline":return f=>
{if(f)for(const k of f.paths)for(const m of k)2<m.length&&(m[2]*=t)};case "polygon":case "esriGeometryPolygon":return f=>{if(f)for(const k of f.rings)for(const m of k)2<m.length&&(m[2]*=t)};case "multipoint":case "esriGeometryMultipoint":return f=>{if(f)for(const k of f.points)2<k.length&&(k[2]*=t)};case "extent":case "esriGeometryExtent":return f=>{f&&null!=f.zmin&&null!=f.zmax&&(f.zmin*=t,f.zmax*=t)};default:return null}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/support/FeatureSet":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n){const v=new h.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});h=function(z){function A(y){y=z.call(this,y)||this;y.displayFieldName=null;y.exceededTransferLimit=!1;y.features=[];y.fields=null;y.geometryType=null;y.hasM=!1;y.hasZ=!1;y.queryGeometry=null;y.spatialReference=null;return y}a._inheritsLoose(A,z);var w=A.prototype;
w.readFeatures=function(y,x){x=r.fromJSON(x.spatialReference);const B=[];for(let D=0;D<y.length;D++){var C=y[D];const J=e.fromJSON(C);C=C.geometry&&C.geometry.spatialReference;q.isSome(J.geometry)&&!C&&(J.geometry.spatialReference=x);B.push(J)}return B};w.writeGeometryType=function(y,x,B,C){if(y)v.write(y,x,B,C);else if({features:y}=this,y)for(const D of y)if(D&&q.isSome(D.geometry)){v.write(D.geometry.type,x,B,C);break}};w.readQueryGeometry=function(y,x){if(!y)return null;const B=!!y.spatialReference;
y=d.fromJSON(y);!B&&x.spatialReference&&(y.spatialReference=r.fromJSON(x.spatialReference));return y};w.writeSpatialReference=function(y,x){if(y)x.spatialReference=y.toJSON();else if({features:y}=this,y)for(const B of y)if(B&&q.isSome(B.geometry)&&B.geometry.spatialReference){x.spatialReference=B.geometry.spatialReference.toJSON();break}};w.toJSON=function(y){const x=this.write();if(x.features&&Array.isArray(y)&&0<y.length)for(let B=0;B<x.features.length;B++){const C=x.features[B];if(C.geometry){const D=
y&&y[B];C.geometry=D&&D.toJSON()||C.geometry}}return x};w.quantize=function(y){const {scale:[x,B],translate:[C,D]}=y,J=this.features,I=this._getQuantizationFunction(this.geometryType,N=>Math.round((N-C)/x),N=>Math.round((D-N)/B));for(let N=0,L=J.length;N<L;N++)I(q.unwrap(J[N].geometry))||(J.splice(N,1),N--,L--);this.transform=y;return this};w.unquantize=function(){const {geometryType:y,features:x,transform:B}=this;if(!B)return this;const {translate:[C,D],scale:[J,I]}=B,N=this._getHydrationFunction(y,
L=>L*J+C,L=>D-L*I);for(const {geometry:L}of x)q.isSome(L)&&N(L);this.transform=null;return this};w._quantizePoints=function(y,x,B){let C,D;const J=[];for(let N=0,L=y.length;N<L;N++){var I=y[N];if(0<N){const G=x(I[0]);I=B(I[1]);if(G!==C||I!==D)J.push([G-C,I-D]),C=G,D=I}else C=x(I[0]),D=B(I[1]),J.push([C,D])}return 0<J.length?J:null};w._getQuantizationFunction=function(y,x,B){return"point"===y?C=>{C.x=x(C.x);C.y=B(C.y);return C}:"polyline"===y||"polygon"===y?C=>{const D=d.isPolygon(C)?C.rings:C.paths,
J=[];for(let I=0,N=D.length;I<N;I++){const L=this._quantizePoints(D[I],x,B);L&&J.push(L)}return 0<J.length?(d.isPolygon(C)?C.rings=J:C.paths=J,C):null}:"multipoint"===y?C=>{const D=this._quantizePoints(C.points,x,B);return 0<D.length?(C.points=D,C):null}:"extent"===y?C=>C:null};w._getHydrationFunction=function(y,x,B){if("point"===y)return C=>{C.x=x(C.x);C.y=B(C.y)};if("polyline"===y||"polygon"===y)return C=>{C=d.isPolygon(C)?C.rings:C.paths;let D,J;for(let I=0,N=C.length;I<N;I++){const L=C[I];for(let G=
0,F=L.length;G<F;G++){const E=L[G];0<G?(D+=E[0],J+=E[1]):(D=E[0],J=E[1]);E[0]=x(D);E[1]=B(J)}}};if("extent"===y)return C=>{C.xmin=x(C.xmin);C.ymin=B(C.ymin);C.xmax=x(C.xmax);C.ymax=B(C.ymax)};if("multipoint"===y)return C=>{C=C.points;let D,J;for(let I=0,N=C.length;I<N;I++){const L=C[I];0<I?(D+=L[0],J+=L[1]):(D=L[0],J=L[1]);L[0]=x(D);L[1]=B(J)}}};return A}(l.JSONSupport);b.__decorate([t.property({type:String,json:{write:!0}})],h.prototype,"displayFieldName",void 0);b.__decorate([t.property({type:Boolean,
json:{write:{overridePolicy(z){return{enabled:z}}}}})],h.prototype,"exceededTransferLimit",void 0);b.__decorate([t.property({type:[e],json:{write:!0}})],h.prototype,"features",void 0);b.__decorate([p.reader("features")],h.prototype,"readFeatures",null);b.__decorate([t.property({type:[n],json:{write:!0}})],h.prototype,"fields",void 0);b.__decorate([t.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:v.read}}})],h.prototype,"geometryType",void 0);b.__decorate([g.writer("geometryType")],
h.prototype,"writeGeometryType",null);b.__decorate([t.property({type:Boolean,json:{write:{overridePolicy(z){return{enabled:z}}}}})],h.prototype,"hasM",void 0);b.__decorate([t.property({type:Boolean,json:{write:{overridePolicy(z){return{enabled:z}}}}})],h.prototype,"hasZ",void 0);b.__decorate([t.property({types:c.geometryTypes,json:{write:!0}})],h.prototype,"queryGeometry",void 0);b.__decorate([p.reader("queryGeometry")],h.prototype,"readQueryGeometry",null);b.__decorate([t.property({type:r,json:{write:!0}})],
h.prototype,"spatialReference",void 0);b.__decorate([g.writer("spatialReference")],h.prototype,"writeSpatialReference",null);b.__decorate([t.property({json:{write:!0}})],h.prototype,"transform",void 0);h=b.__decorate([u.subclass("esri.rest.support.FeatureSet")],h);h.prototype.toJSON.isDefaultToJSON=!0;return h})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){var g;const r=new c.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});c=g=function(d){function n(z){z=d.call(this,z)||this;
z.alias=null;z.defaultValue=void 0;z.description=null;z.domain=null;z.editable=!0;z.length=-1;z.name=null;z.nullable=!0;z.type=null;z.valueType=null;return z}a._inheritsLoose(n,d);var v=n.prototype;v.readDescription=function(z,{description:A}){let w;try{w=JSON.parse(A)}catch(y){}return w?w.value:null};v.readValueType=function(z,{description:A}){let w;try{w=JSON.parse(A)}catch(y){}return w?r.fromJSON(w.fieldValueType):null};v.clone=function(){return new g({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};return n}(e.JSONSupport);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);b.__decorate([h.property({type:[String,Number],json:{write:{allowNull:!0}}})],c.prototype,"defaultValue",void 0);b.__decorate([h.property()],c.prototype,"description",void 0);b.__decorate([k.reader("description")],
c.prototype,"readDescription",null);b.__decorate([h.property({types:p.types,json:{read:{reader:p.fromJSON},write:!0}})],c.prototype,"domain",void 0);b.__decorate([h.property({type:Boolean,json:{write:!0}})],c.prototype,"editable",void 0);b.__decorate([h.property({type:t.Integer,json:{write:!0}})],c.prototype,"length",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([h.property({type:Boolean,json:{write:!0}})],c.prototype,"nullable",void 0);b.__decorate([f.enumeration(u.kebabDict)],
c.prototype,"type",void 0);b.__decorate([h.property()],c.prototype,"valueType",void 0);b.__decorate([k.reader("valueType",["description"])],c.prototype,"readValueType",null);return c=g=b.__decorate([m.subclass("esri.layers.support.Field")],c)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(a,b){b=new b.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",
esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});a.kebabDict=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/APIKeyMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){a.APIKeyMixin=f=>{f=function(k){function m(){return k.apply(this,arguments)||this}b._inheritsLoose(m,k);b._createClass(m,[{key:"apiKey",get:function(){var p;return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?null==(p=this.portalItem)?void 0:p.apiKey:null},set:function(p){null!=p?this._override("apiKey",p):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}}]);return m}(f);c.__decorate([e.property({type:String})],f.prototype,"apiKey",null);
return f=c.__decorate([t.subclass("esri.layers.mixins.APIKeyMixin")],f)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/arcgisLayerUrl".split(" "),function(a,
b,c,e,h,l,q,t,f,k,m){a.ArcGISService=p=>{p=function(u){function g(){return u.apply(this,arguments)||this}b._inheritsLoose(g,u);b._createClass(g,[{key:"title",get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const r=m.parse(this.url);if(h.isSome(r)&&r.title)return r.title}return this._get("title")||""},set:function(r){this._set("title",r)}},{key:"url",set:function(r){this._set("url",m.sanitizeUrl(r,e.getLogger(this.declaredClass)))}}]);
return g}(p);c.__decorate([l.property()],p.prototype,"title",null);c.__decorate([l.property({type:String})],p.prototype,"url",null);return p=c.__decorate([k.subclass("esri.layers.mixins.ArcGISService")],p)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/maybe","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c,e){function h(u){u=c.urlToObject(u);u=u.path.match(k)||u.path.match(m);if(!u)return null;
const [,g,r,d,n]=u;u=r.indexOf("/");return{title:q(-1!==u?r.slice(u+1):r),serverType:t[d.toLowerCase()],sublayer:null!=n&&""!==n?parseInt(n,10):null,url:{path:g}}}function l(u){return(u=c.urlToObject(u).path.match(p))?{serviceUrl:u[1],sublayerId:Number(u[2])}:null}function q(u){u=u.replace(/\s*[/_]+\s*/g," ");return u[0].toUpperCase()+u.slice(1)}const t={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},
f=Object.values(t),k=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${f.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),m=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${f.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),p=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;a.cleanTitle=q;a.isAGOLUrl=function(u){return u?(new c.Url(c.makeAbsolute(u))).authority.toLowerCase().includes("arcgis.com"):!1};a.isArcGISUrl=function(u){return!!k.test(u)};a.isHostedAgolService=function(u){if(!u)return!1;
u=u.toLowerCase();const g=-1!==u.indexOf(".arcgis.com/");u=-1!==u.indexOf("//services")||-1!==u.indexOf("//tiles")||-1!==u.indexOf("//features");return g&&u};a.isHostedSecuredProxyService=function(u,g){return g&&u&&-1!==u.toLowerCase().indexOf(g.toLowerCase())};a.isServerOrServicesAGOLUrl=function(u){if(!u)return!1;u=(new c.Url(c.makeAbsolute(u))).authority.toLowerCase();return"server.arcgisonline.com"===u||"services.arcgisonline.com"===u};a.isWmsServer=function(u){if(!u)return!1;var g=u.toLowerCase();
u=-1!==g.indexOf("/services/");const r=-1!==g.indexOf("/mapserver/wmsserver"),d=-1!==g.indexOf("/imageserver/wmsserver");g=-1!==g.indexOf("/wmsserver");return u&&(r||d||g)};a.parse=h;a.parseNonStandardSublayerUrl=l;a.sanitizeUrl=function(u,g){return u?c.removeTrailingSlash(c.removeQueryParameters(u,g)):u};a.sanitizeUrlWithLayerId=function(u){let {url:g}=u;if(!g)return{url:g};g=c.removeQueryParameters(g,u.logger);const r=c.urlToObject(g),d=h(r.path);let n;b.isSome(d)?(null!=d.sublayer&&null==u.layer.layerId&&
(n=d.sublayer),g=d.url.path):u.nonStandardUrlAllowed&&(u=l(r.path),b.isSome(u)&&(g=u.serviceUrl,n=u.sublayerId));return{url:c.removeTrailingSlash(g),layerId:n}};a.serverTypes=f;a.titleFromUrlAndName=function(u,g){const r=[];u&&(u=h(u),b.isSome(u)&&u.title&&r.push(u.title));g&&(g=q(g),r.push(g));if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")};a.writeUrlWithLayerId=function(u,
g,r,d,n){e.write(g,d,"url",n);d.url&&null!=u.layerId&&(d.url=c.join(d.url,r,u.layerId.toString()))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils".split(" "),function(a,b,c,e,h,l,q,t,f){a.BlendLayer=
k=>{k=function(m){function p(){var u=m.apply(this,arguments)||this;u.blendMode="normal";u.effect=null;return u}b._inheritsLoose(p,m);return p}(k);c.__decorate([e.property({type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),nonNullable:!0,
json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0}}}})],k.prototype,"blendMode",void 0);c.__decorate([e.property({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:f.read},write:{allowNull:!0,writer:f.write}}}}})],k.prototype,"effect",void 0);return k=c.__decorate([t.subclass("esri.layers.mixins.BlendLayer")],k)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/effects/jsonUtils":function(){define(["exports","../../core/Error","../../core/object","./parser","./utils"],
function(a,b,c,e,h){function l(k){return(k=e.parse(k))?h.isEffectFunctions(k)?k.map(m=>m.toJSON()):k.map(({scale:m,effects:p})=>({scale:m,value:p.map(u=>u.toJSON())})):null}function q(k){if(!k||0===k.length)return null;var m=(m=k[0])?"scale"in m:!1;if(m){m=[];for(const p of k)m.push({scale:p.scale,value:t(p.value)});return m}return t(k)}function t(k){if(!k||!k.length)return"";const m=[];for(const r of k){k=[];switch(r.type){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":case "opacity":k=
[f(r,"amount")];break;case "blur":k=[f(r,"radius","pt")];break;case "hue-rotate":k=[f(r,"angle","deg")];break;case "drop-shadow":k=f(r,"xoffset","pt");var p=f(r,"yoffset","pt"),u=f(r,"blurRadius","pt");var g=r;if(null==g.color)throw new b("effect:missing-parameter",`Missing parameter '${"color"}' in ${g.type} effect`,{effect:g});g=g.color;g=`rgba(${g[0]||0}, ${g[1]||0}, ${g[2]||0}, ${g[3]/255||0})`;k=[k,p,u,g];break;case "bloom":k=[f(r,"strength"),f(r,"radius","pt"),f(r,"threshold")]}k=`${r.type}(${k.filter(Boolean).join(" ")})`;
e.parse(k);m.push(k)}return m.join(" ")}function f(k,m,p){if(null==k[m])throw new b("effect:missing-parameter",`Missing parameter '${m}' in ${k.type} effect`,{effect:k});return p?k[m]+p:""+k[m]}a.effectFunctionsFromJSON=t;a.fromJSON=q;a.read=function(k,m,p){try{return q(k)}catch(g){var u;null==p?void 0:null==(u=p.messages)?void 0:u.push(g)}return null};a.toJSON=l;a.write=function(k,m,p,u){try{const g=l(k);c.setDeepValue(p,g,m)}catch(g){u.messages&&u.messages.push(g)}};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/layers/effects/parser":function(){define("exports ../../colorUtils ../../core/Error ./effects ../../chunks/_commonjsHelpers ./utils".split(" "),function(a,b,c,e,h,l){function q(w){let y;if(!w)return[];try{y=d.exports.parse(w)}catch(x){throw new c("effect:invalid-syntax","Invalid effect syntax",{value:w,error:x});}return y.map(x=>t(x))}function t(w){try{switch(w.name){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":var y,x=1;f(w.parameters,
1);1===w.parameters.length&&(x=p(w.parameters[0]));return y=new e.ColorMatrixEffect(w.name,x);case "opacity":var B;x=1;f(w.parameters,1);1===w.parameters.length&&(x=p(w.parameters[0]));return B=new e.OpacityEffect(x);case "hue-rotate":var C;x=0;f(w.parameters,1);if(1===w.parameters.length){var D=w.parameters[0];if("quantity"!==D.type||!(0===D.value&&null===D.unit||D.unit&&null!=n[D.unit]))throw new c("effect:type-error",`Expected <angle>, Actual: ${k(D)}`,{term:D});x=D.value*n[D.unit]||0}return C=
new e.HueRotateEffect(x);case "blur":var J;x=0;f(w.parameters,1);1===w.parameters.length&&(x=g(w.parameters[0]),m(x,w.parameters[0]));return J=new e.BlurEffect(x);case "drop-shadow":B=[];C=null;for(var I of w.parameters)if("color"===I.type){B.length&&Object.freeze(B);if(C)throw new c("effect:type-error","Accepts only one color",{});a:{var N=void 0;y=I;switch(y.colorType){case "hex":C=b.hex2rgba(y.value);break a;case "named":C=r(y.value);break a;case "function":var L=y.value;f(L.parameters,4);if(z.test(L.name))N=
[p(L.parameters[0]),p(L.parameters[1]),p(L.parameters[2]),L.parameters[3]?p(L.parameters[3]):1];else if(A.test(L.name))N=b.hsla2rgba(u(L.parameters[0]),p(L.parameters[1]),p(L.parameters[2]),L.parameters[3]?p(L.parameters[3]):1);else throw new c("effect:syntax-error",`Invalid color function '${L.name}'`,{colorFunction:L});C=N;break a}C=void 0}}else{const G=g(I);if(Object.isFrozen(B))throw new c("effect:type-error","\x3clength\x3e parameters not consecutive",{lengths:B});B.push(G);3===B.length&&m(G,
I)}if(2>B.length||3<B.length)throw new c("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${B.length}}`,{lengths:B});return x=new e.DropShadowEffect(B[0],B[1],B[2]||0,C||r("black"));case "bloom":return x=1,I=L=0,f(w.parameters,3),w.parameters[0]&&(x=p(w.parameters[0])),w.parameters[1]&&(L=g(w.parameters[1]),m(L,w.parameters[1])),w.parameters[2]&&(I=p(w.parameters[2])),N=new e.BloomEffect(x,L,I)}}catch(G){throw G.details.filter=w,G;}throw new c("effect:unknown-effect",`Effect '${w.name}' is not supported`,
{effect:w});}function f(w,y){if(w.length>y)throw new c("effect:type-error",`Function supports up to ${y} parameters, Actual: ${w.length}`,{parameters:w});}function k(w){if("color"===w.type)return"\x3ccolor\x3e";if(w.unit){if(v[w.unit])return"\x3clength\x3e";if(n[w.unit])return"\x3cangle\x3e";if("%"===w.unit)return"\x3cpercentage\x3e"}return"\x3cdouble\x3e"}function m(w,y){if(0>w)throw new c("effect:type-error",`Negative values are not allowed, Actual: ${w}`,{term:y});}function p(w){if("quantity"!==
w.type||null!==w.unit&&"%"!==w.unit)throw new c("effect:type-error",`Expected <double> or <percentage>, Actual: ${k(w)}`,{term:w});const y=w.value;m(y,w);return"%"===w.unit?.01*y:y}function u(w){if("quantity"!==w.type||null!==w.unit)throw new c("effect:type-error",`Expected <double>, Actual: ${k(w)}`,{term:w});m(w.value,w);return w.value}function g(w){if("quantity"!==w.type||!(0===w.value&&null===w.unit||w.unit&&null!=v[w.unit]))throw new c("effect:type-error",`Expected <length>, Actual: ${k(w)}`,
{term:w});return w.value*v[w.unit]||0}function r(w){if(!b.isNamedColor(w))throw new c("effect:unknown-color",`color '${w}' isn't valid`,{namedColor:w});return b.getNamedColorCopy(w)}var d={exports:{}};(function(w){(function(y,x){w.exports&&(w.exports=x())})(h.commonjsGlobal,function(){function y(B,C,D,J){B=Error.call(this,B);Object.setPrototypeOf&&Object.setPrototypeOf(B,y.prototype);B.expected=C;B.found=D;B.location=J;B.name="SyntaxError";return B}function x(B,C,D){D=D||" ";if(B.length>C)return B;
C-=B.length;D+=D.repeat(C);return B+D.slice(0,C)}(function(B,C){function D(){this.constructor=B}D.prototype=C.prototype;B.prototype=new D})(y,Error);y.prototype.format=function(B){var C="Error: "+this.message;if(this.location){var D=null,J;for(J=0;J<B.length;J++)if(B[J].source===this.location.source){D=B[J].text.split(/\r\n|\n|\r/g);break}B=this.location.start;J=this.location.source+":"+B.line+":"+B.column;if(D){var I=this.location.end,N=x("",B.line.toString().length);D=D[B.line-1];I=B.line===I.line?
I.column:D.length+1;C+="\n --\x3e "+J+"\n"+N+" |\n"+B.line+" | "+D+"\n"+N+" | "+x("",B.column-1)+x("",I-B.column,"^")}else C+="\n at "+J}return C};y.buildMessage=function(B,C){function D(G){return G.charCodeAt(0).toString(16).toUpperCase()}function J(G){return G.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+D(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+D(F)})}
function I(G){return G.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(F){return"\\x0"+D(F)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(F){return"\\x"+D(F)})}function N(G){return L[G.type](G)}var L={literal:function(G){return'"'+J(G.text)+'"'},class:function(G){var F=G.parts.map(function(E){return Array.isArray(E)?I(E[0])+"-"+I(E[1]):I(E)});return"["+
(G.inverted?"^":"")+F+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(G){return G.description}};return"Expected "+function(G){G=G.map(N);var F,E;G.sort();if(0<G.length){for(E=F=1;F<G.length;F++)G[F-1]!==G[F]&&(G[E]=G[F],E++);G.length=E}switch(G.length){case 1:return G[0];case 2:return G[0]+" or "+G[1];default:return G.slice(0,-1).join(", ")+", or "+G[G.length-1]}}(B)+" but "+(C?'"'+J(C)+'"':"end of input")+" found."};return{SyntaxError:y,parse:function(B,
C){function D(Wa,za){return{type:"literal",text:Wa,ignoreCase:za}}function J(Wa,za,Qa){return{type:"class",parts:Wa,inverted:za,ignoreCase:Qa}}function I(Wa){return{type:"other",description:Wa}}function N(Wa){var za=fb[Wa],Qa;if(!za){for(Qa=Wa-1;!fb[Qa];)Qa--;za=fb[Qa];for(za={line:za.line,column:za.column};Qa<Wa;)10===B.charCodeAt(Qa)?(za.line++,za.column=1):za.column++,Qa++;fb[Wa]=za}return za}function L(Wa,za){var Qa=N(Wa),$a=N(za);return{source:qa,start:{offset:Wa,line:Qa.line,column:Qa.column},
end:{offset:za,line:$a.line,column:$a.column}}}function G(Wa){xa<eb||(xa>eb&&(eb=xa,db=[]),db.push(Wa))}function F(){Ta++;var Wa=xa;P();if(B.substr(xa,4)===oa){var za=oa;xa+=4}else za=V,0===Ta&&G(Ga);za!==V?(P(),Ya=Wa,Wa=[]):(xa=Wa,Wa=V);Ta--;Wa===V&&0===Ta&&G(wa);if(Wa===V)if(Wa=[],za=E(),za!==V)for(;za!==V;)Wa.push(za),za=E();else Wa=V;return Wa}function E(){var Wa=xa;P();Ta++;var za=xa;var Qa=W();if(Qa!==V){if(40===B.charCodeAt(xa)){var $a=va;xa++}else $a=V,0===Ta&&G(ya);$a!==V?(Ya=za,za=Qa):(xa=
za,za=V)}else xa=za,za=V;Ta--;za===V&&(Qa=V,0===Ta&&G(na));if(za!==V){P();Qa=xa;$a=K();if($a!==V){var ib=[];var hb=xa;var kb=P();if(44===B.charCodeAt(xa)){var jb=ca;xa++}else jb=V,0===Ta&&G(Oa);jb===V&&(jb=null);var mb=P();var lb=K();lb!==V?hb=kb=[kb,jb,mb,lb]:(xa=hb,hb=V);for(;hb!==V;)ib.push(hb),hb=xa,kb=P(),44===B.charCodeAt(xa)?(jb=ca,xa++):(jb=V,0===Ta&&G(Oa)),jb===V&&(jb=null),mb=P(),lb=K(),lb!==V?hb=kb=[kb,jb,mb,lb]:(xa=hb,hb=V);Ya=Qa;Qa=0<ib.length?[$a].concat(Z(ib,3)):[$a]}else xa=Qa,Qa=
V;Qa===V&&(Qa=null);P();41===B.charCodeAt(xa)?($a=U,xa++):($a=V,0===Ta&&G(Ha));$a!==V?(P(),Ya=Wa,Wa={type:"function",name:za,parameters:Qa||[]}):(xa=Wa,Wa=V)}else xa=Wa,Wa=V;return Wa}function K(){var Wa=xa;Ta++;var za=xa;P();var Qa=ia();if(Qa!==V){if(37===B.charCodeAt(xa)){var $a=Aa;xa++}else $a=V,0===Ta&&G(Ka);$a!==V?(Ya=za,za={value:Qa,unit:"%"}):(xa=za,za=V)}else xa=za,za=V;Ta--;za===V&&0===Ta&&G(Ia);za===V&&(Ta++,za=xa,P(),Qa=ia(),Qa!==V?(B.substr(xa,2)===H?($a=H,xa+=2):($a=V,0===Ta&&G(Za)),
$a!==V?(Ya=za,za={value:Qa,unit:"px"}):(xa=za,za=V)):(xa=za,za=V),za===V&&(za=xa,P(),Qa=ia(),Qa!==V?(B.substr(xa,2)===O?($a=O,xa+=2):($a=V,0===Ta&&G(bb)),$a!==V?(Ya=za,za={value:Qa,unit:"cm"}):(xa=za,za=V)):(xa=za,za=V),za===V&&(za=xa,P(),Qa=ia(),Qa!==V?(B.substr(xa,2)===la?($a=la,xa+=2):($a=V,0===Ta&&G(Va)),$a!==V?(Ya=za,za={value:Qa,unit:"mm"}):(xa=za,za=V)):(xa=za,za=V),za===V&&(za=xa,P(),Qa=ia(),Qa!==V?(B.substr(xa,2)===Q?($a=Q,xa+=2):($a=V,0===Ta&&G(cb)),$a!==V?(Ya=za,za={value:Qa,unit:"in"}):
(xa=za,za=V)):(xa=za,za=V),za===V&&(za=xa,P(),Qa=ia(),Qa!==V?(B.substr(xa,2)===S?($a=S,xa+=2):($a=V,0===Ta&&G(Na)),$a!==V?(Ya=za,za={value:Qa,unit:"pt"}):(xa=za,za=V)):(xa=za,za=V),za===V&&(za=xa,P(),Qa=ia(),Qa!==V?(B.substr(xa,2)===M?($a=M,xa+=2):($a=V,0===Ta&&G(ka)),$a!==V?(Ya=za,za={value:Qa,unit:"pc"}):(xa=za,za=V)):(xa=za,za=V)))))),Ta--,za===V&&0===Ta&&G(Ua),za===V&&(Ta++,za=xa,Qa=ia(),Qa!==V?(B.substr(xa,3)===R?($a=R,xa+=3):($a=V,0===Ta&&G(Ja)),$a!==V?(Ya=za,za={value:Qa,unit:"deg"}):(xa=za,
za=V)):(xa=za,za=V),za===V&&(za=xa,Qa=ia(),Qa!==V?(B.substr(xa,3)===aa?($a=aa,xa+=3):($a=V,0===Ta&&G(Sa)),$a!==V?(Ya=za,za={value:Qa,unit:"rad"}):(xa=za,za=V)):(xa=za,za=V),za===V&&(za=xa,Qa=ia(),Qa!==V?(B.substr(xa,4)===ba?($a=ba,xa+=4):($a=V,0===Ta&&G(ab)),$a!==V?(Ya=za,za={value:Qa,unit:"grad"}):(xa=za,za=V)):(xa=za,za=V),za===V&&(za=xa,Qa=ia(),Qa!==V?(B.substr(xa,4)===T?($a=T,xa+=4):($a=V,0===Ta&&G(gb)),$a!==V?(Ya=za,za={value:Qa,unit:"turn"}):(xa=za,za=V)):(xa=za,za=V)))),Ta--,za===V&&(Qa=V,
0===Ta&&G(pa)),za===V&&(Ta++,za=xa,P(),Qa=ia(),Qa!==V?(Ya=za,za={value:Qa,unit:null}):(xa=za,za=V),Ta--,za===V&&0===Ta&&G(ja))));za!==V&&(Ya=Wa,za={type:"quantity",value:za.value,unit:za.unit});Wa=za;if(Wa===V){Wa=xa;Ta++;za=xa;35===B.charCodeAt(xa)?(Qa=X,xa++):(Qa=V,0===Ta&&G(Y));if(Qa!==V){Qa=[];Pa.test(B.charAt(xa))?($a=B.charAt(xa),xa++):($a=V,0===Ta&&G(fa));if($a!==V)for(;$a!==V;)Qa.push($a),Pa.test(B.charAt(xa))?($a=B.charAt(xa),xa++):($a=V,0===Ta&&G(fa));else Qa=V;Qa!==V?(Ya=za,za={type:"hex",
value:B.substring(Ya,xa)}):(xa=za,za=V)}else xa=za,za=V;za===V&&(za=xa,Qa=E(),Qa!==V&&(Ya=za,Qa={type:"function",value:Qa}),za=Qa,za===V&&(za=xa,Qa=W(),Qa!==V&&(Ya=za,Qa={type:"named",value:B.substring(Ya,xa)}),za=Qa));Ta--;za===V&&(Qa=V,0===Ta&&G(Da));za!==V&&(Ya=Wa,za={type:"color",colorType:za.type,value:za.value});Wa=za}return Wa}function P(){Ta++;var Wa=[];if(Ea.test(B.charAt(xa))){var za=B.charAt(xa);xa++}else za=V,0===Ta&&G(ea);for(;za!==V;)Wa.push(za),Ea.test(B.charAt(xa))?(za=B.charAt(xa),
xa++):(za=V,0===Ta&&G(ea));Ta--;za=V;0===Ta&&G(Xa);return Wa}function W(){Ta++;var Wa=xa;var za=[];if(La.test(B.charAt(xa))){var Qa=B.charAt(xa);xa++}else Qa=V,0===Ta&&G(Fa);if(Qa!==V)for(;Qa!==V;)za.push(Qa),La.test(B.charAt(xa))?(Qa=B.charAt(xa),xa++):(Qa=V,0===Ta&&G(Fa));else za=V;za!==V&&(Ya=Wa,za=B.substring(Ya,xa));Wa=za;Ta--;Wa===V&&(za=V,0===Ta&&G(ta));return Wa}function ia(){var Wa=xa;ha.test(B.charAt(xa))?(B.charAt(xa),xa++):0===Ta&&G(da);var za=xa;var Qa=[];if(ua.test(B.charAt(xa))){var $a=
B.charAt(xa);xa++}else $a=V,0===Ta&&G(ra);for(;$a!==V;)Qa.push($a),ua.test(B.charAt(xa))?($a=B.charAt(xa),xa++):($a=V,0===Ta&&G(ra));46===B.charCodeAt(xa)?($a=ma,xa++):($a=V,0===Ta&&G(Ma));if($a!==V){var ib=[];if(ua.test(B.charAt(xa))){var hb=B.charAt(xa);xa++}else hb=V,0===Ta&&G(ra);if(hb!==V)for(;hb!==V;)ib.push(hb),ua.test(B.charAt(xa))?(hb=B.charAt(xa),xa++):(hb=V,0===Ta&&G(ra));else ib=V;ib!==V?za=Qa=[Qa,$a,ib]:(xa=za,za=V)}else xa=za,za=V;if(za===V)if(za=[],ua.test(B.charAt(xa))?(Qa=B.charAt(xa),
xa++):(Qa=V,0===Ta&&G(ra)),Qa!==V)for(;Qa!==V;)za.push(Qa),ua.test(B.charAt(xa))?(Qa=B.charAt(xa),xa++):(Qa=V,0===Ta&&G(ra));else za=V;if(za!==V){Qa=xa;101===B.charCodeAt(xa)?($a=Ca,xa++):($a=V,0===Ta&&G(Ra));if($a!==V){ha.test(B.charAt(xa))?(ib=B.charAt(xa),xa++):(ib=V,0===Ta&&G(da));ib===V&&(ib=null);hb=[];ua.test(B.charAt(xa))?(za=B.charAt(xa),xa++):(za=V,0===Ta&&G(ra));if(za!==V)for(;za!==V;)hb.push(za),ua.test(B.charAt(xa))?(za=B.charAt(xa),xa++):(za=V,0===Ta&&G(ra));else hb=V;hb!==V?Qa=$a=[$a,
ib,hb]:(xa=Qa,Qa=V)}else xa=Qa,Qa=V;Qa===V&&(Qa=null);Ya=Wa;Wa=parseFloat(B.substring(Ya,xa))}else xa=Wa,Wa=V;return Wa}function Z(Wa,za){return Wa.map(function(Qa){return Qa[za]})}C=void 0!==C?C:{};var V={},qa=C.grammarSource,sa={start:F},Ba=F,oa="none",U=")",ca=",",va="(",Aa="%",H="px",O="cm",la="mm",Q="in",S="pt",M="pc",R="deg",aa="rad",ba="grad",T="turn",X="#",ma=".",Ca="e",Ea=/^[ \t\n\r]/,La=/^[a-z\-]/,Pa=/^[0-9a-fA-F]/,ha=/^[+\-]/,ua=/^[0-9]/,wa=I("none"),Ga=D("none",!1),Ha=D(")",!1),Oa=D(",",
!1),Xa=I("whitespace"),ea=J([" ","\t","\n","\r"],!1,!1),na=I("function"),ya=D("(",!1),ta=I("identifier"),Fa=J([["a","z"],"-"],!1,!1),Ia=I("percentage"),Ka=D("%",!1),Ua=I("length"),Za=D("px",!1),bb=D("cm",!1),Va=D("mm",!1),cb=D("in",!1),Na=D("pt",!1),ka=D("pc",!1),pa=I("angle"),Ja=D("deg",!1),Sa=D("rad",!1),ab=D("grad",!1),gb=D("turn",!1),ja=I("number"),Da=I("color"),Y=D("#",!1),fa=J([["0","9"],["a","f"],["A","F"]],!1,!1),da=J(["+","-"],!1,!1),ra=J([["0","9"]],!1,!1),Ma=D(".",!1),Ra=D("e",!1),xa=0,
Ya=0,fb=[{line:1,column:1}],eb=0,db=[],Ta=0;if("startRule"in C){if(!(C.startRule in sa))throw Error("Can't start parsing from rule \""+C.startRule+'".');Ba=sa[C.startRule]}C=Ba();if(C!==V&&xa===B.length)return C;C!==V&&xa<B.length&&G({type:"end"});throw function(Wa,za,Qa){return new y(y.buildMessage(Wa,za),Wa,za,Qa)}(db,eb<B.length?B.charAt(eb):null,eb<B.length?L(eb,eb+1):L(eb,eb));}}})})(d);const n={deg:1,grad:.9,rad:180/Math.PI,turn:360},v={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72},z=
/^rgba?/i,A=/^hsla?/i;a.parse=function(w){if(!w||0===w.length)return null;if("string"===typeof w)return(w=q(w))&&0!==w.length?w:null;w=w.map(y=>{if(!Number.isFinite(y.scale)||0>=y.scale)throw new c("effect:invalid-scale","scale must be finite and greater than 0",{stop:y});return{scale:y.scale,effects:q(y.value)}});w.sort((y,x)=>x.effects.length-y.effects.length);for(let y=0;y<w.length-1;y++){if(!l.canInterpolateEffects(w[y].effects,w[y+1].effects))throw new c("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",
{a:w[y].effects,b:w[y+1].effects});l.normalizeEffects(w[y].effects,w[y+1].effects)}w.sort((y,x)=>x.scale-y.scale);return w};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/effects/effects":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../colorUtils ../../core/screenUtils ../../chunks/mat4f32 ./colorMatrixFunctions".split(" "),function(a,b,c,e,h,l){function q(r,d,n){return r+(d-r)*n}function t(r){return Math.round(1E3*e.px2pt(r))/1E3}let f=function(){function r(n,
v,z){this.strength=n;this.radius=v;this.threshold=z;this.type="bloom"}var d=r.prototype;d.interpolate=function(n,v,z){this.strength=q(n.strength,v.strength,z);this.radius=q(n.radius,v.radius,z);this.threshold=q(n.threshold,v.threshold,z)};d.clone=function(){return new r(this.strength,this.radius,this.threshold)};d.toJSON=function(){return{type:"bloom",radius:t(this.radius),strength:this.strength,threshold:this.threshold}};return r}(),k=function(){function r(n){this.radius=n;this.type="blur"}var d=
r.prototype;d.interpolate=function(n,v,z){this.radius=Math.round(q(n.radius,v.radius,z))};d.clone=function(){return new r(this.radius)};d.toJSON=function(){return{type:"blur",radius:t(this.radius)}};return r}(),m=function(){function r(n,v){this.type=n;this.amount=v;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}var d=r.prototype;d.interpolate=function(n,v,z){this.amount=q(n.amount,v.amount,z);this._updateMatrix()};d.clone=function(){return new r(this.type,
this.amount)};d.toJSON=function(){return{type:this.type,amount:this.amount}};d._updateMatrix=function(){const n=this._colorMatrix||h.create();switch(this.type){case "brightness":this._colorMatrix=l.brightness(n,this.amount);break;case "contrast":this._colorMatrix=l.contrast(n,this.amount);break;case "grayscale":this._colorMatrix=l.grayscale(n,this.amount);break;case "invert":this._colorMatrix=l.invert(n,this.amount);break;case "saturate":this._colorMatrix=l.saturate(n,this.amount);break;case "sepia":this._colorMatrix=
l.sepia(n,this.amount)}};b._createClass(r,[{key:"colorMatrix",get:function(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}}]);return r}(),p=function(){function r(n,v,z,A){this.offsetX=n;this.offsetY=v;this.blurRadius=z;this.color=A;this.type="drop-shadow"}var d=r.prototype;d.interpolate=function(n,v,z){this.offsetX=q(n.offsetX,v.offsetX,z);this.offsetY=q(n.offsetY,v.offsetY,z);this.blurRadius=q(n.blurRadius,v.blurRadius,z);this.color[0]=Math.round(q(n.color[0],v.color[0],z));this.color[1]=
Math.round(q(n.color[1],v.color[1],z));this.color[2]=Math.round(q(n.color[2],v.color[2],z));this.color[3]=q(n.color[3],v.color[3],z)};d.clone=function(){return new r(this.offsetX,this.offsetY,this.blurRadius,[...this.color])};d.toJSON=function(){const n=[...this.color];n[3]*=255;return{type:"drop-shadow",xoffset:t(this.offsetX),yoffset:t(this.offsetY),blurRadius:t(this.blurRadius),color:n}};return r}(),u=function(){function r(n){this.angle=n;this.type="hue-rotate"}var d=r.prototype;d.interpolate=
function(n,v,z){this.angle=q(n.angle,v.angle,z);this._updateMatrix()};d.clone=function(){return new r(this.angle)};d.toJSON=function(){return{type:"hue-rotate",angle:this.angle}};d._updateMatrix=function(){const n=this._colorMatrix||h.create();this._colorMatrix=l.rotateHue(n,this.angle)};b._createClass(r,[{key:"colorMatrix",get:function(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}}]);return r}(),g=function(){function r(n){this.amount=n;this.type="opacity";this.amount=Math.min(this.amount,
1)}var d=r.prototype;d.interpolate=function(n,v,z){this.amount=q(n.amount,v.amount,z)};d.clone=function(){return new r(this.amount)};d.toJSON=function(){return{type:"opacity",amount:this.amount}};return r}();a.BloomEffect=f;a.BlurEffect=k;a.ColorMatrixEffect=m;a.DropShadowEffect=p;a.HueRotateEffect=u;a.OpacityEffect=g;a.createEffectWithInitialValues=function(r){switch(r.type){case "grayscale":case "sepia":case "invert":return new m(r.type,0);case "saturate":case "brightness":case "contrast":return new m(r.type,
1);case "opacity":return new g(1);case "hue-rotate":return new u(0);case "blur":return new k(0);case "drop-shadow":return new p(0,0,0,[...c.getNamedColor("transparent")]);case "bloom":return new f(0,0,1)}};a.isColorMatrixEffect=function(r){return"colorMatrix"in r};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/mat4f32":function(){define(["exports"],function(a){function b(){const t=new Float32Array(16);t[0]=1;t[5]=1;t[10]=1;t[15]=1;return t}function c(t){const f=new Float32Array(16);
f[0]=t[0];f[1]=t[1];f[2]=t[2];f[3]=t[3];f[4]=t[4];f[5]=t[5];f[6]=t[6];f[7]=t[7];f[8]=t[8];f[9]=t[9];f[10]=t[10];f[11]=t[11];f[12]=t[12];f[13]=t[13];f[14]=t[14];f[15]=t[15];return f}function e(t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x){const B=new Float32Array(16);B[0]=t;B[1]=f;B[2]=k;B[3]=m;B[4]=p;B[5]=u;B[6]=g;B[7]=r;B[8]=d;B[9]=n;B[10]=v;B[11]=z;B[12]=A;B[13]=w;B[14]=y;B[15]=x;return B}function h(t,f){return new Float32Array(t,f,16)}const l=b(),q=Object.freeze({__proto__:null,create:b,clone:c,fromValues:e,
createView:h,IDENTITY:l});a.IDENTITY=l;a.clone=c;a.create=b;a.createView=h;a.fromValues=e;a.mat4f32=q})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../chunks/mat4"],function(a,b){a.brightness=(c,e)=>{c=b.set(c,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return b.transpose(c,c)};a.contrast=(c,e)=>{c=b.set(c,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return b.transpose(c,c)};a.grayscale=(c,e)=>{e=1-e;c=b.set(c,.2126+.7874*e,.7152-.7152*e,.0722-.0722*e,0,.2126-.2126*e,.7152+
.2848*e,.0722-.0722*e,0,.2126-.2126*e,.7152-.7152*e,.0722+.9278*e,0,0,0,0,1);return b.transpose(c,c)};a.invert=(c,e)=>{const h=1-2*e;c=b.set(c,h,0,0,e,0,h,0,e,0,0,h,e,0,0,0,1);return b.transpose(c,c)};a.rotateHue=(c,e)=>{const h=Math.sin(e*Math.PI/180);e=Math.cos(e*Math.PI/180);c=b.set(c,.213+.787*e-.213*h,.715-.715*e-.715*h,.072-.072*e+.928*h,0,.213-.213*e+.143*h,.715+.285*e+.14*h,.072-.072*e-.283*h,0,.213-.213*e-.787*h,.715-.715*e+.715*h,.072+.928*e+.072*h,0,0,0,0,1);return b.transpose(c,c)};a.saturate=
(c,e)=>{c=b.set(c,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return b.transpose(c,c)};a.sepia=(c,e)=>{e=1-e;c=b.set(c,.393+.607*e,.769-.769*e,.189-.189*e,0,.349-.349*e,.686+.314*e,.168-.168*e,0,.272-.272*e,.534-.534*e,.131+.869*e,0,0,0,0,1);return b.transpose(c,c)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(a,b,c){function e(H,O){H[0]=
O[0];H[1]=O[1];H[2]=O[2];H[3]=O[3];H[4]=O[4];H[5]=O[5];H[6]=O[6];H[7]=O[7];H[8]=O[8];H[9]=O[9];H[10]=O[10];H[11]=O[11];H[12]=O[12];H[13]=O[13];H[14]=O[14];H[15]=O[15];return H}function h(H,O,la,Q,S,M,R,aa,ba,T,X,ma,Ca,Ea,La,Pa,ha){H[0]=O;H[1]=la;H[2]=Q;H[3]=S;H[4]=M;H[5]=R;H[6]=aa;H[7]=ba;H[8]=T;H[9]=X;H[10]=ma;H[11]=Ca;H[12]=Ea;H[13]=La;H[14]=Pa;H[15]=ha;return H}function l(H){H[0]=1;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=1;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=1;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}
function q(H,O){if(H===O){const la=O[1],Q=O[2],S=O[3],M=O[6],R=O[7],aa=O[11];H[1]=O[4];H[2]=O[8];H[3]=O[12];H[4]=la;H[6]=O[9];H[7]=O[13];H[8]=Q;H[9]=M;H[11]=O[14];H[12]=S;H[13]=R;H[14]=aa}else H[0]=O[0],H[1]=O[4],H[2]=O[8],H[3]=O[12],H[4]=O[1],H[5]=O[5],H[6]=O[9],H[7]=O[13],H[8]=O[2],H[9]=O[6],H[10]=O[10],H[11]=O[14],H[12]=O[3],H[13]=O[7],H[14]=O[11],H[15]=O[15];return H}function t(H,O){const la=O[0],Q=O[1],S=O[2],M=O[3],R=O[4],aa=O[5],ba=O[6],T=O[7],X=O[8],ma=O[9],Ca=O[10],Ea=O[11],La=O[12],Pa=O[13],
ha=O[14];O=O[15];const ua=la*aa-Q*R,wa=la*ba-S*R,Ga=la*T-M*R,Ha=Q*ba-S*aa,Oa=Q*T-M*aa,Xa=S*T-M*ba,ea=X*Pa-ma*La,na=X*ha-Ca*La,ya=X*O-Ea*La,ta=ma*ha-Ca*Pa,Fa=ma*O-Ea*Pa,Ia=Ca*O-Ea*ha;let Ka=ua*Ia-wa*Fa+Ga*ta+Ha*ya-Oa*na+Xa*ea;if(!Ka)return null;Ka=1/Ka;H[0]=(aa*Ia-ba*Fa+T*ta)*Ka;H[1]=(S*Fa-Q*Ia-M*ta)*Ka;H[2]=(Pa*Xa-ha*Oa+O*Ha)*Ka;H[3]=(Ca*Oa-ma*Xa-Ea*Ha)*Ka;H[4]=(ba*ya-R*Ia-T*na)*Ka;H[5]=(la*Ia-S*ya+M*na)*Ka;H[6]=(ha*Ga-La*Xa-O*wa)*Ka;H[7]=(X*Xa-Ca*Ga+Ea*wa)*Ka;H[8]=(R*Fa-aa*ya+T*ea)*Ka;H[9]=(Q*ya-
la*Fa-M*ea)*Ka;H[10]=(La*Oa-Pa*Ga+O*ua)*Ka;H[11]=(ma*Ga-X*Oa-Ea*ua)*Ka;H[12]=(aa*na-R*ta-ba*ea)*Ka;H[13]=(la*ta-Q*na+S*ea)*Ka;H[14]=(Pa*wa-La*Ha-ha*ua)*Ka;H[15]=(X*Ha-ma*wa+Ca*ua)*Ka;return H}function f(H,O){const la=O[0],Q=O[1],S=O[2],M=O[3],R=O[4],aa=O[5],ba=O[6],T=O[7],X=O[8],ma=O[9],Ca=O[10],Ea=O[11],La=O[12],Pa=O[13],ha=O[14];O=O[15];H[0]=aa*(Ca*O-Ea*ha)-ma*(ba*O-T*ha)+Pa*(ba*Ea-T*Ca);H[1]=-(Q*(Ca*O-Ea*ha)-ma*(S*O-M*ha)+Pa*(S*Ea-M*Ca));H[2]=Q*(ba*O-T*ha)-aa*(S*O-M*ha)+Pa*(S*T-M*ba);H[3]=-(Q*
(ba*Ea-T*Ca)-aa*(S*Ea-M*Ca)+ma*(S*T-M*ba));H[4]=-(R*(Ca*O-Ea*ha)-X*(ba*O-T*ha)+La*(ba*Ea-T*Ca));H[5]=la*(Ca*O-Ea*ha)-X*(S*O-M*ha)+La*(S*Ea-M*Ca);H[6]=-(la*(ba*O-T*ha)-R*(S*O-M*ha)+La*(S*T-M*ba));H[7]=la*(ba*Ea-T*Ca)-R*(S*Ea-M*Ca)+X*(S*T-M*ba);H[8]=R*(ma*O-Ea*Pa)-X*(aa*O-T*Pa)+La*(aa*Ea-T*ma);H[9]=-(la*(ma*O-Ea*Pa)-X*(Q*O-M*Pa)+La*(Q*Ea-M*ma));H[10]=la*(aa*O-T*Pa)-R*(Q*O-M*Pa)+La*(Q*T-M*aa);H[11]=-(la*(aa*Ea-T*ma)-R*(Q*Ea-M*ma)+X*(Q*T-M*aa));H[12]=-(R*(ma*ha-Ca*Pa)-X*(aa*ha-ba*Pa)+La*(aa*Ca-ba*ma));
H[13]=la*(ma*ha-Ca*Pa)-X*(Q*ha-S*Pa)+La*(Q*Ca-S*ma);H[14]=-(la*(aa*ha-ba*Pa)-R*(Q*ha-S*Pa)+La*(Q*ba-S*aa));H[15]=la*(aa*Ca-ba*ma)-R*(Q*Ca-S*ma)+X*(Q*ba-S*aa);return H}function k(H){const O=H[0],la=H[1],Q=H[2],S=H[3],M=H[4],R=H[5],aa=H[6],ba=H[7],T=H[8],X=H[9],ma=H[10],Ca=H[11],Ea=H[12],La=H[13],Pa=H[14];H=H[15];return(O*R-la*M)*(ma*H-Ca*Pa)-(O*aa-Q*M)*(X*H-Ca*La)+(O*ba-S*M)*(X*Pa-ma*La)+(la*aa-Q*R)*(T*H-Ca*Ea)-(la*ba-S*R)*(T*Pa-ma*Ea)+(Q*ba-S*aa)*(T*La-X*Ea)}function m(H,O,la){const Q=O[0],S=O[1],
M=O[2],R=O[3],aa=O[4],ba=O[5],T=O[6],X=O[7],ma=O[8],Ca=O[9],Ea=O[10],La=O[11],Pa=O[12],ha=O[13],ua=O[14];O=O[15];let wa=la[0],Ga=la[1],Ha=la[2],Oa=la[3];H[0]=wa*Q+Ga*aa+Ha*ma+Oa*Pa;H[1]=wa*S+Ga*ba+Ha*Ca+Oa*ha;H[2]=wa*M+Ga*T+Ha*Ea+Oa*ua;H[3]=wa*R+Ga*X+Ha*La+Oa*O;wa=la[4];Ga=la[5];Ha=la[6];Oa=la[7];H[4]=wa*Q+Ga*aa+Ha*ma+Oa*Pa;H[5]=wa*S+Ga*ba+Ha*Ca+Oa*ha;H[6]=wa*M+Ga*T+Ha*Ea+Oa*ua;H[7]=wa*R+Ga*X+Ha*La+Oa*O;wa=la[8];Ga=la[9];Ha=la[10];Oa=la[11];H[8]=wa*Q+Ga*aa+Ha*ma+Oa*Pa;H[9]=wa*S+Ga*ba+Ha*Ca+Oa*ha;
H[10]=wa*M+Ga*T+Ha*Ea+Oa*ua;H[11]=wa*R+Ga*X+Ha*La+Oa*O;wa=la[12];Ga=la[13];Ha=la[14];Oa=la[15];H[12]=wa*Q+Ga*aa+Ha*ma+Oa*Pa;H[13]=wa*S+Ga*ba+Ha*Ca+Oa*ha;H[14]=wa*M+Ga*T+Ha*Ea+Oa*ua;H[15]=wa*R+Ga*X+Ha*La+Oa*O;return H}function p(H,O,la){const Q=la[0],S=la[1];la=la[2];let M=void 0,R=void 0,aa=void 0,ba=void 0,T=void 0,X=void 0,ma=void 0,Ca=void 0,Ea=void 0,La=void 0,Pa=void 0,ha=void 0;O===H?(H[12]=O[0]*Q+O[4]*S+O[8]*la+O[12],H[13]=O[1]*Q+O[5]*S+O[9]*la+O[13],H[14]=O[2]*Q+O[6]*S+O[10]*la+O[14],H[15]=
O[3]*Q+O[7]*S+O[11]*la+O[15]):(M=O[0],R=O[1],aa=O[2],ba=O[3],T=O[4],X=O[5],ma=O[6],Ca=O[7],Ea=O[8],La=O[9],Pa=O[10],ha=O[11],H[0]=M,H[1]=R,H[2]=aa,H[3]=ba,H[4]=T,H[5]=X,H[6]=ma,H[7]=Ca,H[8]=Ea,H[9]=La,H[10]=Pa,H[11]=ha,H[12]=M*Q+T*S+Ea*la+O[12],H[13]=R*Q+X*S+La*la+O[13],H[14]=aa*Q+ma*S+Pa*la+O[14],H[15]=ba*Q+Ca*S+ha*la+O[15]);return H}function u(H,O,la){const Q=la[0],S=la[1];la=la[2];H[0]=O[0]*Q;H[1]=O[1]*Q;H[2]=O[2]*Q;H[3]=O[3]*Q;H[4]=O[4]*S;H[5]=O[5]*S;H[6]=O[6]*S;H[7]=O[7]*S;H[8]=O[8]*la;H[9]=
O[9]*la;H[10]=O[10]*la;H[11]=O[11]*la;H[12]=O[12];H[13]=O[13];H[14]=O[14];H[15]=O[15];return H}function g(H,O,la,Q){let S=Q[0],M=Q[1];Q=Q[2];let R=Math.sqrt(S*S+M*M+Q*Q);var aa=void 0,ba=void 0;let T=void 0,X=void 0,ma=void 0,Ca=void 0,Ea=void 0,La=void 0,Pa=void 0,ha=void 0,ua=void 0,wa=void 0,Ga=void 0,Ha=void 0,Oa=void 0,Xa=void 0,ea=void 0,na=void 0,ya=void 0,ta=void 0,Fa=void 0,Ia=void 0;ba=aa=void 0;if(R<c.EPSILON)return null;R=1/R;S*=R;M*=R;Q*=R;aa=Math.sin(la);ba=Math.cos(la);T=1-ba;X=O[0];
ma=O[1];Ca=O[2];Ea=O[3];La=O[4];Pa=O[5];ha=O[6];ua=O[7];wa=O[8];Ga=O[9];Ha=O[10];Oa=O[11];Xa=S*S*T+ba;ea=M*S*T+Q*aa;na=Q*S*T-M*aa;ya=S*M*T-Q*aa;ta=M*M*T+ba;Fa=Q*M*T+S*aa;Ia=S*Q*T+M*aa;aa=M*Q*T-S*aa;ba=Q*Q*T+ba;H[0]=X*Xa+La*ea+wa*na;H[1]=ma*Xa+Pa*ea+Ga*na;H[2]=Ca*Xa+ha*ea+Ha*na;H[3]=Ea*Xa+ua*ea+Oa*na;H[4]=X*ya+La*ta+wa*Fa;H[5]=ma*ya+Pa*ta+Ga*Fa;H[6]=Ca*ya+ha*ta+Ha*Fa;H[7]=Ea*ya+ua*ta+Oa*Fa;H[8]=X*Ia+La*aa+wa*ba;H[9]=ma*Ia+Pa*aa+Ga*ba;H[10]=Ca*Ia+ha*aa+Ha*ba;H[11]=Ea*Ia+ua*aa+Oa*ba;O!==H&&(H[12]=O[12],
H[13]=O[13],H[14]=O[14],H[15]=O[15]);return H}function r(H,O,la){const Q=Math.sin(la);la=Math.cos(la);const S=O[4],M=O[5],R=O[6],aa=O[7],ba=O[8],T=O[9],X=O[10],ma=O[11];O!==H&&(H[0]=O[0],H[1]=O[1],H[2]=O[2],H[3]=O[3],H[12]=O[12],H[13]=O[13],H[14]=O[14],H[15]=O[15]);H[4]=S*la+ba*Q;H[5]=M*la+T*Q;H[6]=R*la+X*Q;H[7]=aa*la+ma*Q;H[8]=ba*la-S*Q;H[9]=T*la-M*Q;H[10]=X*la-R*Q;H[11]=ma*la-aa*Q;return H}function d(H,O,la){const Q=Math.sin(la);la=Math.cos(la);const S=O[0],M=O[1],R=O[2],aa=O[3],ba=O[8],T=O[9],
X=O[10],ma=O[11];O!==H&&(H[4]=O[4],H[5]=O[5],H[6]=O[6],H[7]=O[7],H[12]=O[12],H[13]=O[13],H[14]=O[14],H[15]=O[15]);H[0]=S*la-ba*Q;H[1]=M*la-T*Q;H[2]=R*la-X*Q;H[3]=aa*la-ma*Q;H[8]=S*Q+ba*la;H[9]=M*Q+T*la;H[10]=R*Q+X*la;H[11]=aa*Q+ma*la;return H}function n(H,O,la){const Q=Math.sin(la);la=Math.cos(la);const S=O[0],M=O[1],R=O[2],aa=O[3],ba=O[4],T=O[5],X=O[6],ma=O[7];O!==H&&(H[8]=O[8],H[9]=O[9],H[10]=O[10],H[11]=O[11],H[12]=O[12],H[13]=O[13],H[14]=O[14],H[15]=O[15]);H[0]=S*la+ba*Q;H[1]=M*la+T*Q;H[2]=R*
la+X*Q;H[3]=aa*la+ma*Q;H[4]=ba*la-S*Q;H[5]=T*la-M*Q;H[6]=X*la-R*Q;H[7]=ma*la-aa*Q;return H}function v(H,O){H[0]=1;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=1;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=1;H[11]=0;H[12]=O[0];H[13]=O[1];H[14]=O[2];H[15]=1;return H}function z(H,O){H[0]=O[0];H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=O[1];H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=O[2];H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function A(H,O,la){let Q=la[0],S=la[1];la=la[2];let M=Math.sqrt(Q*Q+S*S+la*la),R=void 0,aa=void 0,ba=void 0;
if(M<c.EPSILON)return null;M=1/M;Q*=M;S*=M;la*=M;R=Math.sin(O);aa=Math.cos(O);ba=1-aa;H[0]=Q*Q*ba+aa;H[1]=S*Q*ba+la*R;H[2]=la*Q*ba-S*R;H[3]=0;H[4]=Q*S*ba-la*R;H[5]=S*S*ba+aa;H[6]=la*S*ba+Q*R;H[7]=0;H[8]=Q*la*ba+S*R;H[9]=S*la*ba-Q*R;H[10]=la*la*ba+aa;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function w(H,O){const la=Math.sin(O);O=Math.cos(O);H[0]=1;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=O;H[6]=la;H[7]=0;H[8]=0;H[9]=-la;H[10]=O;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function y(H,O){const la=
Math.sin(O);O=Math.cos(O);H[0]=O;H[1]=0;H[2]=-la;H[3]=0;H[4]=0;H[5]=1;H[6]=0;H[7]=0;H[8]=la;H[9]=0;H[10]=O;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function x(H,O){const la=Math.sin(O);O=Math.cos(O);H[0]=O;H[1]=la;H[2]=0;H[3]=0;H[4]=-la;H[5]=O;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=1;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function B(H,O,la){var Q=O[0],S=O[1],M=O[2],R=O[3],aa=Q+Q,ba=S+S;const T=M+M;O=Q*aa;const X=Q*ba;Q*=T;const ma=S*ba;S*=T;M*=T;aa*=R;ba*=R;R*=T;H[0]=1-(ma+M);H[1]=X+
R;H[2]=Q-ba;H[3]=0;H[4]=X-R;H[5]=1-(O+M);H[6]=S+aa;H[7]=0;H[8]=Q+ba;H[9]=S-aa;H[10]=1-(O+ma);H[11]=0;H[12]=la[0];H[13]=la[1];H[14]=la[2];H[15]=1;return H}function C(H,O){const la=Aa,Q=-O[0],S=-O[1],M=-O[2],R=O[3],aa=O[4],ba=O[5],T=O[6],X=O[7],ma=Q*Q+S*S+M*M+R*R;0<ma?(la[0]=2*(aa*R+X*Q+ba*M-T*S)/ma,la[1]=2*(ba*R+X*S+T*Q-aa*M)/ma,la[2]=2*(T*R+X*M+aa*S-ba*Q)/ma):(la[0]=2*(aa*R+X*Q+ba*M-T*S),la[1]=2*(ba*R+X*S+T*Q-aa*M),la[2]=2*(T*R+X*M+aa*S-ba*Q));B(H,O,la);return H}function D(H,O){H[0]=O[12];H[1]=O[13];
H[2]=O[14];return H}function J(H,O){const la=O[0],Q=O[1],S=O[2],M=O[4],R=O[5],aa=O[6],ba=O[8],T=O[9];O=O[10];H[0]=Math.sqrt(la*la+Q*Q+S*S);H[1]=Math.sqrt(M*M+R*R+aa*aa);H[2]=Math.sqrt(ba*ba+T*T+O*O);return H}function I(H,O){const la=O[0]+O[5]+O[10];let Q=0;0<la?(Q=2*Math.sqrt(la+1),H[3]=.25*Q,H[0]=(O[6]-O[9])/Q,H[1]=(O[8]-O[2])/Q,H[2]=(O[1]-O[4])/Q):O[0]>O[5]&&O[0]>O[10]?(Q=2*Math.sqrt(1+O[0]-O[5]-O[10]),H[3]=(O[6]-O[9])/Q,H[0]=.25*Q,H[1]=(O[1]+O[4])/Q,H[2]=(O[8]+O[2])/Q):O[5]>O[10]?(Q=2*Math.sqrt(1+
O[5]-O[0]-O[10]),H[3]=(O[8]-O[2])/Q,H[0]=(O[1]+O[4])/Q,H[1]=.25*Q,H[2]=(O[6]+O[9])/Q):(Q=2*Math.sqrt(1+O[10]-O[0]-O[5]),H[3]=(O[1]-O[4])/Q,H[0]=(O[8]+O[2])/Q,H[1]=(O[6]+O[9])/Q,H[2]=.25*Q);return H}function N(H,O,la,Q){var S=O[0],M=O[1],R=O[2],aa=O[3],ba=S+S,T=M+M,X=R+R;O=S*ba;const ma=S*T;S*=X;const Ca=M*T;M*=X;R*=X;ba*=aa;T*=aa;aa*=X;X=Q[0];const Ea=Q[1];Q=Q[2];H[0]=(1-(Ca+R))*X;H[1]=(ma+aa)*X;H[2]=(S-T)*X;H[3]=0;H[4]=(ma-aa)*Ea;H[5]=(1-(O+R))*Ea;H[6]=(M+ba)*Ea;H[7]=0;H[8]=(S+T)*Q;H[9]=(M-ba)*Q;
H[10]=(1-(O+Ca))*Q;H[11]=0;H[12]=la[0];H[13]=la[1];H[14]=la[2];H[15]=1;return H}function L(H,O,la,Q,S){var M=O[0],R=O[1],aa=O[2],ba=O[3],T=M+M,X=R+R,ma=aa+aa;O=M*T;var Ca=M*X,Ea=M*ma;M=R*X;R*=ma;var La=aa*ma;aa=ba*T;X*=ba;const Pa=ba*ma;var ha=Q[0],ua=Q[1];ma=Q[2];Q=S[0];ba=S[1];S=S[2];T=(1-(M+La))*ha;const wa=(Ca+Pa)*ha;ha*=Ea-X;Ca=(Ca-Pa)*ua;La=(1-(O+La))*ua;ua*=R+aa;Ea=(Ea+X)*ma;R=(R-aa)*ma;O=(1-(O+M))*ma;H[0]=T;H[1]=wa;H[2]=ha;H[3]=0;H[4]=Ca;H[5]=La;H[6]=ua;H[7]=0;H[8]=Ea;H[9]=R;H[10]=O;H[11]=
0;H[12]=la[0]+Q-(T*Q+Ca*ba+Ea*S);H[13]=la[1]+ba-(wa*Q+La*ba+R*S);H[14]=la[2]+S-(ha*Q+ua*ba+O*S);H[15]=1;return H}function G(H,O){var la=O[0],Q=O[1],S=O[2];O=O[3];var M=la+la,R=Q+Q;const aa=S+S;la*=M;const ba=Q*M;Q*=R;const T=S*M,X=S*R;S*=aa;M*=O;R*=O;O*=aa;H[0]=1-Q-S;H[1]=ba+O;H[2]=T-R;H[3]=0;H[4]=ba-O;H[5]=1-la-S;H[6]=X+M;H[7]=0;H[8]=T+R;H[9]=X-M;H[10]=1-la-Q;H[11]=0;H[12]=0;H[13]=0;H[14]=0;H[15]=1;return H}function F(H,O,la,Q,S,M,R){const aa=1/(la-O),ba=1/(S-Q),T=1/(M-R);H[0]=2*M*aa;H[1]=0;H[2]=
0;H[3]=0;H[4]=0;H[5]=2*M*ba;H[6]=0;H[7]=0;H[8]=(la+O)*aa;H[9]=(S+Q)*ba;H[10]=(R+M)*T;H[11]=-1;H[12]=0;H[13]=0;H[14]=R*M*2*T;H[15]=0;return H}function E(H,O,la,Q,S){O=1/Math.tan(O/2);let M=void 0;H[0]=O/la;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=O;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[11]=-1;H[12]=0;H[13]=0;H[15]=0;null!=S&&Infinity!==S?(M=1/(Q-S),H[10]=(S+Q)*M,H[14]=2*S*Q*M):(H[10]=-1,H[14]=-2*Q);return H}function K(H,O,la,Q){const S=Math.tan(O.upDegrees*Math.PI/180),M=Math.tan(O.downDegrees*Math.PI/180),R=Math.tan(O.leftDegrees*
Math.PI/180);O=Math.tan(O.rightDegrees*Math.PI/180);const aa=2/(R+O),ba=2/(S+M);H[0]=aa;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=ba;H[6]=0;H[7]=0;H[8]=-((R-O)*aa*.5);H[9]=(S-M)*ba*.5;H[10]=Q/(la-Q);H[11]=-1;H[12]=0;H[13]=0;H[14]=Q*la/(la-Q);H[15]=0;return H}function P(H,O,la,Q,S,M,R){const aa=1/(O-la),ba=1/(Q-S),T=1/(M-R);H[0]=-2*aa;H[1]=0;H[2]=0;H[3]=0;H[4]=0;H[5]=-2*ba;H[6]=0;H[7]=0;H[8]=0;H[9]=0;H[10]=2*T;H[11]=0;H[12]=(O+la)*aa;H[13]=(S+Q)*ba;H[14]=(R+M)*T;H[15]=1;return H}function W(H,O,la,Q){let S=
void 0,M=void 0;var R=void 0,aa=void 0;let ba=void 0,T=void 0;var X=void 0,ma=void 0;let Ca=void 0,Ea=void 0;const La=O[0],Pa=O[1];O=O[2];R=Q[0];aa=Q[1];Q=Q[2];X=la[0];ma=la[1];la=la[2];if(Math.abs(La-X)<c.EPSILON&&Math.abs(Pa-ma)<c.EPSILON&&Math.abs(O-la)<c.EPSILON)return l(H);X=La-X;ma=Pa-ma;Ca=O-la;Ea=1/Math.sqrt(X*X+ma*ma+Ca*Ca);X*=Ea;ma*=Ea;Ca*=Ea;S=aa*Ca-Q*ma;M=Q*X-R*Ca;R=R*ma-aa*X;(Ea=Math.sqrt(S*S+M*M+R*R))?(Ea=1/Ea,S*=Ea,M*=Ea,R*=Ea):R=M=S=0;aa=ma*R-Ca*M;ba=Ca*S-X*R;T=X*M-ma*S;(Ea=Math.sqrt(aa*
aa+ba*ba+T*T))?(Ea=1/Ea,aa*=Ea,ba*=Ea,T*=Ea):T=ba=aa=0;H[0]=S;H[1]=aa;H[2]=X;H[3]=0;H[4]=M;H[5]=ba;H[6]=ma;H[7]=0;H[8]=R;H[9]=T;H[10]=Ca;H[11]=0;H[12]=-(S*La+M*Pa+R*O);H[13]=-(aa*La+ba*Pa+T*O);H[14]=-(X*La+ma*Pa+Ca*O);H[15]=1;return H}function ia(H,O,la,Q){const S=O[0],M=O[1];O=O[2];var R=Q[0];const aa=Q[1];var ba=Q[2];Q=S-la[0];let T=M-la[1];la=O-la[2];let X=Q*Q+T*T+la*la;0<X&&(X=1/Math.sqrt(X),Q*=X,T*=X,la*=X);let ma=aa*la-ba*T;ba=ba*Q-R*la;R=R*T-aa*Q;X=ma*ma+ba*ba+R*R;0<X&&(X=1/Math.sqrt(X),ma*=
X,ba*=X,R*=X);H[0]=ma;H[1]=ba;H[2]=R;H[3]=0;H[4]=T*R-la*ba;H[5]=la*ma-Q*R;H[6]=Q*ba-T*ma;H[7]=0;H[8]=Q;H[9]=T;H[10]=la;H[11]=0;H[12]=S;H[13]=M;H[14]=O;H[15]=1;return H}function Z(H){return"mat4("+H[0]+", "+H[1]+", "+H[2]+", "+H[3]+", "+H[4]+", "+H[5]+", "+H[6]+", "+H[7]+", "+H[8]+", "+H[9]+", "+H[10]+", "+H[11]+", "+H[12]+", "+H[13]+", "+H[14]+", "+H[15]+")"}function V(H){return Math.sqrt(H[0]**2+H[1]**2+H[2]**2+H[3]**2+H[4]**2+H[5]**2+H[6]**2+H[7]**2+H[8]**2+H[9]**2+H[10]**2+H[11]**2+H[12]**2+H[13]**
2+H[14]**2+H[15]**2)}function qa(H,O,la){H[0]=O[0]+la[0];H[1]=O[1]+la[1];H[2]=O[2]+la[2];H[3]=O[3]+la[3];H[4]=O[4]+la[4];H[5]=O[5]+la[5];H[6]=O[6]+la[6];H[7]=O[7]+la[7];H[8]=O[8]+la[8];H[9]=O[9]+la[9];H[10]=O[10]+la[10];H[11]=O[11]+la[11];H[12]=O[12]+la[12];H[13]=O[13]+la[13];H[14]=O[14]+la[14];H[15]=O[15]+la[15];return H}function sa(H,O,la){H[0]=O[0]-la[0];H[1]=O[1]-la[1];H[2]=O[2]-la[2];H[3]=O[3]-la[3];H[4]=O[4]-la[4];H[5]=O[5]-la[5];H[6]=O[6]-la[6];H[7]=O[7]-la[7];H[8]=O[8]-la[8];H[9]=O[9]-la[9];
H[10]=O[10]-la[10];H[11]=O[11]-la[11];H[12]=O[12]-la[12];H[13]=O[13]-la[13];H[14]=O[14]-la[14];H[15]=O[15]-la[15];return H}function Ba(H,O,la){H[0]=O[0]*la;H[1]=O[1]*la;H[2]=O[2]*la;H[3]=O[3]*la;H[4]=O[4]*la;H[5]=O[5]*la;H[6]=O[6]*la;H[7]=O[7]*la;H[8]=O[8]*la;H[9]=O[9]*la;H[10]=O[10]*la;H[11]=O[11]*la;H[12]=O[12]*la;H[13]=O[13]*la;H[14]=O[14]*la;H[15]=O[15]*la;return H}function oa(H,O,la,Q){H[0]=O[0]+la[0]*Q;H[1]=O[1]+la[1]*Q;H[2]=O[2]+la[2]*Q;H[3]=O[3]+la[3]*Q;H[4]=O[4]+la[4]*Q;H[5]=O[5]+la[5]*Q;
H[6]=O[6]+la[6]*Q;H[7]=O[7]+la[7]*Q;H[8]=O[8]+la[8]*Q;H[9]=O[9]+la[9]*Q;H[10]=O[10]+la[10]*Q;H[11]=O[11]+la[11]*Q;H[12]=O[12]+la[12]*Q;H[13]=O[13]+la[13]*Q;H[14]=O[14]+la[14]*Q;H[15]=O[15]+la[15]*Q;return H}function U(H,O){return H[0]===O[0]&&H[1]===O[1]&&H[2]===O[2]&&H[3]===O[3]&&H[4]===O[4]&&H[5]===O[5]&&H[6]===O[6]&&H[7]===O[7]&&H[8]===O[8]&&H[9]===O[9]&&H[10]===O[10]&&H[11]===O[11]&&H[12]===O[12]&&H[13]===O[13]&&H[14]===O[14]&&H[15]===O[15]}function ca(H,O){if(H===O)return!0;const la=H[0],Q=H[1],
S=H[2],M=H[3],R=H[4],aa=H[5],ba=H[6],T=H[7],X=H[8],ma=H[9],Ca=H[10],Ea=H[11],La=H[12],Pa=H[13],ha=H[14];H=H[15];const ua=O[0],wa=O[1],Ga=O[2],Ha=O[3],Oa=O[4],Xa=O[5],ea=O[6],na=O[7],ya=O[8],ta=O[9],Fa=O[10],Ia=O[11],Ka=O[12],Ua=O[13],Za=O[14];O=O[15];return Math.abs(la-ua)<=c.EPSILON*Math.max(1,Math.abs(la),Math.abs(ua))&&Math.abs(Q-wa)<=c.EPSILON*Math.max(1,Math.abs(Q),Math.abs(wa))&&Math.abs(S-Ga)<=c.EPSILON*Math.max(1,Math.abs(S),Math.abs(Ga))&&Math.abs(M-Ha)<=c.EPSILON*Math.max(1,Math.abs(M),
Math.abs(Ha))&&Math.abs(R-Oa)<=c.EPSILON*Math.max(1,Math.abs(R),Math.abs(Oa))&&Math.abs(aa-Xa)<=c.EPSILON*Math.max(1,Math.abs(aa),Math.abs(Xa))&&Math.abs(ba-ea)<=c.EPSILON*Math.max(1,Math.abs(ba),Math.abs(ea))&&Math.abs(T-na)<=c.EPSILON*Math.max(1,Math.abs(T),Math.abs(na))&&Math.abs(X-ya)<=c.EPSILON*Math.max(1,Math.abs(X),Math.abs(ya))&&Math.abs(ma-ta)<=c.EPSILON*Math.max(1,Math.abs(ma),Math.abs(ta))&&Math.abs(Ca-Fa)<=c.EPSILON*Math.max(1,Math.abs(Ca),Math.abs(Fa))&&Math.abs(Ea-Ia)<=c.EPSILON*Math.max(1,
Math.abs(Ea),Math.abs(Ia))&&Math.abs(La-Ka)<=c.EPSILON*Math.max(1,Math.abs(La),Math.abs(Ka))&&Math.abs(Pa-Ua)<=c.EPSILON*Math.max(1,Math.abs(Pa),Math.abs(Ua))&&Math.abs(ha-Za)<=c.EPSILON*Math.max(1,Math.abs(ha),Math.abs(Za))&&Math.abs(H-O)<=c.EPSILON*Math.max(1,Math.abs(H),Math.abs(O))}function va(H){const O=c.EPSILON,la=H[0],Q=H[1],S=H[2],M=H[4],R=H[5],aa=H[6],ba=H[8],T=H[9];H=H[10];return Math.abs(1-(la*la+M*M+ba*ba))<=O&&Math.abs(1-(Q*Q+R*R+T*T))<=O&&Math.abs(1-(S*S+aa*aa+H*H))<=O}const Aa=b.create();
b=Object.freeze({__proto__:null,copy:e,set:h,identity:l,transpose:q,invert:t,adjoint:f,determinant:k,multiply:m,translate:p,scale:u,rotate:g,rotateX:r,rotateY:d,rotateZ:n,fromTranslation:v,fromScaling:z,fromRotation:A,fromXRotation:w,fromYRotation:y,fromZRotation:x,fromRotationTranslation:B,fromQuat2:C,getTranslation:D,getScaling:J,getRotation:I,fromRotationTranslationScale:N,fromRotationTranslationScaleOrigin:L,fromQuat:G,frustum:F,perspective:E,perspectiveFromFieldOfView:K,ortho:P,lookAt:W,targetTo:ia,
str:Z,frob:V,add:qa,subtract:sa,multiplyScalar:Ba,multiplyScalarAndAdd:oa,exactEquals:U,equals:ca,isOrthoNormal:va,mul:m,sub:sa});a.add=qa;a.adjoint=f;a.copy=e;a.determinant=k;a.equals=ca;a.exactEquals=U;a.frob=V;a.fromQuat=G;a.fromQuat2=C;a.fromRotation=A;a.fromRotationTranslation=B;a.fromRotationTranslationScale=N;a.fromRotationTranslationScaleOrigin=L;a.fromScaling=z;a.fromTranslation=v;a.fromXRotation=w;a.fromYRotation=y;a.fromZRotation=x;a.frustum=F;a.getRotation=I;a.getScaling=J;a.getTranslation=
D;a.identity=l;a.invert=t;a.isOrthoNormal=va;a.lookAt=W;a.mat4=b;a.mul=m;a.multiply=m;a.multiplyScalar=Ba;a.multiplyScalarAndAdd=oa;a.ortho=P;a.perspective=E;a.perspectiveFromFieldOfView=K;a.rotate=g;a.rotateX=r;a.rotateY=d;a.rotateZ=n;a.scale=u;a.set=h;a.str=Z;a.sub=sa;a.subtract=sa;a.targetTo=ia;a.translate=p;a.transpose=q})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(a){a.commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==
typeof global?global:"undefined"!==typeof self?self:{};a.commonjsRequire=function(b){throw Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');};a.getDefaultExportFromCjs=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b["default"]:b}})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(a,
b){a.canInterpolateEffects=function(c,e){const h=c.length>e.length?c:e;return(c.length>e.length?e:c).every((l,q)=>l.type===h[q].type)};a.isEffectFunctions=function(c){return(c=c[0])?"type"in c:!1};a.normalizeEffects=function(c,e){const h=c.length>e.length?c:e;c=c.length>e.length?e:c;for(e=c.length;e<h.length;e++)c.push(b.createEffectWithInitialValues(h[e]))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){a.CustomParametersMixin=f=>{f=function(k){function m(){var p=k.apply(this,arguments)||this;p.customParameters=null;return p}b._inheritsLoose(m,k);return m}(f);c.__decorate([e.property({type:Object,json:{write:{overridePolicy(k){return{enabled:!!(k&&0<Object.keys(k).length)}}}}})],f.prototype,"customParameters",void 0);return f=c.__decorate([t.subclass("esri.layers.mixins.CustomParametersMixin")],f)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/FeatureEffectLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/FeatureEffect".split(" "),
function(a,b,c,e,h,l,q,t,f){a.FeatureEffectLayer=k=>{k=function(m){function p(){var u=m.apply(this,arguments)||this;u.featureEffect=null;return u}b._inheritsLoose(p,m);return p}(k);c.__decorate([e.property({type:f,json:{origins:{"web-map":{write:{allowNull:!0}}}}})],k.prototype,"featureEffect",void 0);return k=c.__decorate([t.subclass("esri.layers.mixins.FeatureEffectLayer")],k)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureEffect":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/JSONSupport ../../core/maybe ../../core/object ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils ./FeatureFilter".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){var g;e=g=function(r){function d(v){v=r.call(this,v)||this;v.filter=null;v.includedEffect=null;v.excludedEffect=null;v.excludedLabelsVisible=!1;return v}a._inheritsLoose(d,r);var n=d.prototype;n.write=function(v,z){v=r.prototype.write.call(this,v,z);if(null!=z&&z.origin){if(v.filter){const y=Object.keys(v.filter);if(1<y.length||"where"!==y[0]){var A;null==(A=z.messages)?void 0:A.push(new c("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",
{layer:z.layer,effect:this}));return null}}if("showExcludedLabels"in v){var w;null==(w=z.messages)?void 0:w.push(new c("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:z.layer,effect:this}));return null}}return v};n.clone=function(){return new g({filter:h.isSome(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})};
return d}(e.JSONSupport);b.__decorate([q.property({type:u,json:{write:{allowNull:!0,writer(r,d,n,v){(r=null==r?void 0:r.write({},v))&&0!==Object.keys(r).length?l.setDeepValue(n,r,d):l.setDeepValue(n,null,d)}}}})],e.prototype,"filter",void 0);b.__decorate([q.property({json:{write:!0,origins:{"web-map":{read:{reader:p.read},write:{writer:p.write,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}}}}})],e.prototype,"includedEffect",void 0);b.__decorate([q.property({json:{write:!0,
origins:{"web-map":{read:{reader:p.read},write:{writer:p.write,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}}}}})],e.prototype,"excludedEffect",void 0);b.__decorate([q.property({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":{name:"showExcludedLabels",default:!0}}}})],e.prototype,"excludedLabelsVisible",void 0);return e=g=b.__decorate([m.subclass("esri.layers.support.FeatureEffect")],e)})},"esri/layers/support/FeatureFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../rest/support/Query".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){var u;k=new h.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});h=new h.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});l=u=function(g){function r(n){n=g.call(this,n)||this;n.where=null;n.geometry=null;n.spatialRelationship="intersects";n.distance=void 0;n.objectIds=null;n.units=null;n.timeExtent=null;return n}a._inheritsLoose(r,g);var d=r.prototype;d.createQuery=function(n={}){const {where:v,geometry:z,spatialRelationship:A,timeExtent:w,objectIds:y,units:x,distance:B}=this;
return new p({geometry:q.clone(z),objectIds:q.clone(y),spatialRelationship:A,timeExtent:q.clone(w),where:v,units:x,distance:B,...n})};d.clone=function(){const {where:n,geometry:v,spatialRelationship:z,timeExtent:A,objectIds:w,units:y,distance:x}=this;return new u({geometry:q.clone(v),objectIds:q.clone(w),spatialRelationship:z,timeExtent:q.clone(A),where:n,units:y,distance:x})};return r}(l.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],l.prototype,"where",void 0);b.__decorate([f.property({types:c.geometryTypes,
json:{write:!0}})],l.prototype,"geometry",void 0);b.__decorate([f.property({type:k.apiValues,json:{name:"spatialRel",read:{reader:k.read},write:{allowNull:!1,writer:k.write,overridePolicy(){return{enabled:t.isSome(this.geometry)}}}}})],l.prototype,"spatialRelationship",void 0);b.__decorate([f.property({type:Number,json:{write:{overridePolicy(g){return{enabled:null!=g&&null!=this.geometry}}}}})],l.prototype,"distance",void 0);b.__decorate([f.property({type:[Number],json:{write:!0}})],l.prototype,"objectIds",
void 0);b.__decorate([f.property({type:h.apiValues,json:{read:h.read,write:{writer:h.write,overridePolicy(g){return{enabled:null!=g&&null!=this.geometry}}}}})],l.prototype,"units",void 0);b.__decorate([f.property({type:e,json:{write:!0}})],l.prototype,"timeExtent",void 0);return l=u=b.__decorate([m.subclass("esri.layers.support.FeatureFilter")],l)})},"esri/rest/support/Query":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./QuantizationParameters ./StatisticDefinition ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A){var w;const y=new h.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});h=new h.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});l=w=function(x){function B(D){D=x.call(this,D)||this;D.aggregateIds=null;D.cacheHint=void 0;D.datumTransformation=null;D.distance=void 0;D.dynamicDataSource=void 0;D.formatOf3DObjects=null;D.gdbVersion=null;D.geometry=null;D.geometryPrecision=void 0;D.groupByFieldsForStatistics=null;D.having=null;D.historicMoment=null;D.maxAllowableOffset=void 0;D.maxRecordCountFactor=
1;D.multipatchOption=null;D.num=void 0;D.objectIds=null;D.orderByFields=null;D.outFields=null;D.outSpatialReference=null;D.outStatistics=null;D.parameterValues=null;D.pixelSize=null;D.quantizationParameters=null;D.rangeValues=null;D.relationParameter=null;D.resultType=null;D.returnCentroid=!1;D.returnDistinctValues=!1;D.returnExceededLimitFeatures=!0;D.returnGeometry=!1;D.returnQueryGeometry=!1;D.returnM=void 0;D.returnZ=void 0;D.sourceSpatialReference=null;D.spatialRelationship="intersects";D.start=
void 0;D.sqlFormat=null;D.text=null;D.timeExtent=null;D.timeReferenceUnknownClient=!1;D.units=null;D.where=null;return D}a._inheritsLoose(B,x);B.from=function(D){return g.ensureClass(w,D)};var C=B.prototype;C.castDatumTransformation=function(D){return"number"===typeof D||"object"===typeof D?D:null};C.writeHistoricMoment=function(D,J){J.historicMoment=D&&D.getTime()};C.writeParameterValues=function(D,J){if(D){const I={};for(const N in D){const L=D[N];Array.isArray(L)?I[N]=L.map(G=>G instanceof Date?
G.getTime():G):I[N]=L instanceof Date?L.getTime():L}J.parameterValues=I}};C.writeStart=function(D,J){J.resultOffset=this.start;J.resultRecordCount=this.num||10;J.where="1\x3d1"};C.writeWhere=function(D,J){J.where=D||"1\x3d1"};C.clone=function(){return new w(q.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,
having:this.having,historicMoment:t.isSome(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,
rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,
sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))};return B}(l.JSONSupport);l.MAX_MAX_RECORD_COUNT_FACTOR=5;b.__decorate([f.property({json:{write:!0}})],l.prototype,"aggregateIds",void 0);b.__decorate([f.property({type:Boolean,json:{write:!0}})],l.prototype,"cacheHint",void 0);b.__decorate([f.property({json:{write:!0}})],l.prototype,"datumTransformation",void 0);b.__decorate([k.cast("datumTransformation")],
l.prototype,"castDatumTransformation",null);b.__decorate([f.property({type:Number,json:{write:{overridePolicy(x){return{enabled:0<x}}}}})],l.prototype,"distance",void 0);b.__decorate([f.property({type:d.DataLayerSource,json:{write:!0}})],l.prototype,"dynamicDataSource",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],l.prototype,"formatOf3DObjects",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],l.prototype,"gdbVersion",void 0);b.__decorate([f.property({types:c.geometryTypes,
json:{read:r.fromJSON,write:!0}})],l.prototype,"geometry",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],l.prototype,"geometryPrecision",void 0);b.__decorate([f.property({type:[String],json:{write:!0}})],l.prototype,"groupByFieldsForStatistics",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],l.prototype,"having",void 0);b.__decorate([f.property({type:Date})],l.prototype,"historicMoment",void 0);b.__decorate([u.writer("historicMoment")],l.prototype,"writeHistoricMoment",
null);b.__decorate([f.property({type:Number,json:{write:!0}})],l.prototype,"maxAllowableOffset",void 0);b.__decorate([f.property({type:Number,cast(x){return 1>x?1:x>w.MAX_MAX_RECORD_COUNT_FACTOR?w.MAX_MAX_RECORD_COUNT_FACTOR:x},json:{write:{overridePolicy(x){return{enabled:1<x}}}}})],l.prototype,"maxRecordCountFactor",void 0);b.__decorate([f.property({type:["xyFootprint"],json:{write:!0}})],l.prototype,"multipatchOption",void 0);b.__decorate([f.property({type:Number,json:{read:{source:"resultRecordCount"}}})],
l.prototype,"num",void 0);b.__decorate([f.property({json:{write:!0}})],l.prototype,"objectIds",void 0);b.__decorate([f.property({type:[String],json:{write:!0}})],l.prototype,"orderByFields",void 0);b.__decorate([f.property({type:[String],json:{write:!0}})],l.prototype,"outFields",void 0);b.__decorate([f.property({type:z,json:{name:"outSR",write:!0}})],l.prototype,"outSpatialReference",void 0);b.__decorate([f.property({type:[v],json:{write:{enabled:!0,overridePolicy(){return{enabled:t.isSome(this.outStatistics)&&
0<this.outStatistics.length}}}}})],l.prototype,"outStatistics",void 0);b.__decorate([f.property({json:{write:!0}})],l.prototype,"parameterValues",void 0);b.__decorate([u.writer("parameterValues")],l.prototype,"writeParameterValues",null);b.__decorate([f.property({type:A,json:{write:!0}})],l.prototype,"pixelSize",void 0);b.__decorate([f.property({type:n,json:{write:!0}})],l.prototype,"quantizationParameters",void 0);b.__decorate([f.property({type:[Object],json:{write:!0}})],l.prototype,"rangeValues",
void 0);b.__decorate([f.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],l.prototype,"relationParameter",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],l.prototype,"resultType",void 0);b.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],l.prototype,"returnCentroid",void 0);b.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],l.prototype,
"returnDistinctValues",void 0);b.__decorate([f.property({type:Boolean,json:{default:!0,write:!0}})],l.prototype,"returnExceededLimitFeatures",void 0);b.__decorate([f.property({type:Boolean,json:{write:!0}})],l.prototype,"returnGeometry",void 0);b.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],l.prototype,"returnQueryGeometry",void 0);b.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],l.prototype,"returnM",void 0);b.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(x){return{enabled:x}}}}})],
l.prototype,"returnZ",void 0);b.__decorate([f.property({type:z,json:{write:!0}})],l.prototype,"sourceSpatialReference",void 0);b.__decorate([m.enumeration(y,{ignoreUnknown:!1,name:"spatialRel"})],l.prototype,"spatialRelationship",void 0);b.__decorate([f.property({type:Number,json:{read:{source:"resultOffset"}}})],l.prototype,"start",void 0);b.__decorate([u.writer("start"),u.writer("num")],l.prototype,"writeStart",null);b.__decorate([f.property({type:String,json:{write:!0}})],l.prototype,"sqlFormat",
void 0);b.__decorate([f.property({type:String,json:{write:!0}})],l.prototype,"text",void 0);b.__decorate([f.property({type:e,json:{write:!0}})],l.prototype,"timeExtent",void 0);b.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],l.prototype,"timeReferenceUnknownClient",void 0);b.__decorate([m.enumeration(h,{ignoreUnknown:!1}),f.property({json:{write:{overridePolicy(x){return{enabled:x&&0<this.distance}}}}})],l.prototype,"units",void 0);b.__decorate([f.property({type:String,json:{write:{overridePolicy(x){return{enabled:null!=
x||0<this.start}}}}})],l.prototype,"where",void 0);b.__decorate([u.writer("where")],l.prototype,"writeWhere",null);return l=w=b.__decorate([p.subclass("esri.rest.support.Query")],l)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z){function A(){B||(B=g.createTypeReader({types:w()}));return B}function w(){C||(C={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":d.MapLayerSource}});return C}var y,x;e=e.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=y=function(D){function J(N){N=D.call(this,N)||this;N.type="join-table";return N}b._inheritsLoose(J,D);var I=J.prototype;I.readLeftTableSource=function(N,
L,G){return A()(N,L,G)};I.castLeftTableSource=function(N){return u.ensureOneOfType(w(),N)};I.readRightTableSource=function(N,L,G){return A()(N,L,G)};I.castRightTableSource=function(N){return u.ensureOneOfType(w(),N)};I.clone=function(){var N,L;const {leftTableKey:G,rightTableKey:F,leftTableSource:E,rightTableSource:K,joinType:P}=this,W={leftTableKey:G,rightTableKey:F,leftTableSource:null!=(N=null==E?void 0:E.clone())?N:void 0,rightTableSource:null!=(L=null==K?void 0:K.clone())?L:void 0,joinType:P};
return new y(W)};return J}(h.JSONSupport);c.__decorate([k.enumeration({joinTable:"join-table"})],a.JoinTableDataSource.prototype,"type",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableKey",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);c.__decorate([l.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);c.__decorate([m.reader("leftTableSource")],
a.JoinTableDataSource.prototype,"readLeftTableSource",null);c.__decorate([f.cast("leftTableSource")],a.JoinTableDataSource.prototype,"castLeftTableSource",null);c.__decorate([l.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableSource",void 0);c.__decorate([m.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);c.__decorate([f.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);c.__decorate([k.enumeration(e)],
a.JoinTableDataSource.prototype,"joinType",void 0);a.JoinTableDataSource=y=c.__decorate([p.subclass("esri.layers.support.source.JoinTableDataSource")],a.JoinTableDataSource);let B=null,C=null;f={key:"type",base:null,typeMap:{"join-table":a.JoinTableDataSource,"query-table":n.QueryTableDataSource,raster:v.RasterDataSource,table:z.TableDataSource}};a.DataLayerSource=x=function(D){function J(I){I=D.call(this,I)||this;I.type="data-layer";return I}b._inheritsLoose(J,D);J.prototype.clone=function(){const {fields:I,
dataSource:N}=this;return new x({fields:I,dataSource:N})};return J}(h.JSONSupport);c.__decorate([k.enumeration({dataLayer:"data-layer"})],a.DataLayerSource.prototype,"type",void 0);c.__decorate([l.property({type:[r],json:{write:!0}})],a.DataLayerSource.prototype,"fields",void 0);c.__decorate([l.property({types:f,json:{write:!0}})],a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=x=c.__decorate([p.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=
u.ensureType(a.DataLayerSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,c,e,h,l,q,t,f,k){var m;a.MapLayerSource=m=function(p){function u(g){g=p.call(this,g)||this;g.type="map-layer";return g}b._inheritsLoose(u,p);u.prototype.clone=function(){const {mapLayerId:g,gdbVersion:r}=this;return new m({mapLayerId:g,gdbVersion:r})};return u}(e.JSONSupport);c.__decorate([f.enumeration({mapLayer:"map-layer"})],a.MapLayerSource.prototype,"type",void 0);c.__decorate([h.property({type:t.Integer,json:{write:!0}})],a.MapLayerSource.prototype,"mapLayerId",void 0);c.__decorate([h.property({type:String,
json:{write:!0}})],a.MapLayerSource.prototype,"gdbVersion",void 0);a.MapLayerSource=m=c.__decorate([k.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){var g;a.QueryTableDataSource=g=function(r){function d(n){n=r.call(this,n)||this;n.type="query-table";return n}b._inheritsLoose(d,r);d.prototype.clone=function(){var n;const {workspaceId:v,query:z,oidFields:A,spatialReference:w,geometryType:y}=this,x={workspaceId:v,query:z,oidFields:A,spatialReference:null!=(n=null==w?void 0:w.clone())?n:void 0,geometryType:y};return new g(x)};return d}(h.JSONSupport);c.__decorate([k.enumeration({queryTable:"query-table"})],a.QueryTableDataSource.prototype,
"type",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"workspaceId",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);c.__decorate([l.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);c.__decorate([l.property({type:p,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);c.__decorate([k.enumeration(u.featureGeometryTypeKebabDictionary)],
a.QueryTableDataSource.prototype,"geometryType",void 0);a.QueryTableDataSource=g=c.__decorate([m.subclass("esri.layers.support.source.QueryTableDataSource")],a.QueryTableDataSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;a.RasterDataSource=m=function(p){function u(g){g=p.call(this,g)||this;g.type="raster";return g}b._inheritsLoose(u,p);u.prototype.clone=function(){const {workspaceId:g,dataSourceName:r}=this;return new m({workspaceId:g,dataSourceName:r})};return u}(e.JSONSupport);c.__decorate([f.enumeration({raster:"raster"})],a.RasterDataSource.prototype,"type",void 0);c.__decorate([h.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"dataSourceName",void 0);
c.__decorate([h.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=m=c.__decorate([k.subclass("esri.layers.support.source.RasterDataSource")],a.RasterDataSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;a.TableDataSource=m=function(p){function u(g){g=p.call(this,g)||this;g.type="table";return g}b._inheritsLoose(u,p);u.prototype.clone=function(){const {workspaceId:g,gdbVersion:r,dataSourceName:d}=this;return new m({workspaceId:g,gdbVersion:r,dataSourceName:d})};return u}(e.JSONSupport);c.__decorate([f.enumeration({table:"table"})],a.TableDataSource.prototype,"type",void 0);c.__decorate([h.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"workspaceId",
void 0);c.__decorate([h.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"gdbVersion",void 0);c.__decorate([h.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=m=c.__decorate([k.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;c=new e.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});h=m=function(p){function u(g){g=p.call(this,g)||this;g.extent=null;g.mode="view";g.originPosition="upper-left";g.tolerance=1;return g}a._inheritsLoose(u,p);u.prototype.clone=function(){return new m(l.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};return u}(h.JSONSupport);b.__decorate([q.property({type:k,json:{write:{overridePolicy(){return{enabled:"view"===
this.mode}}}}})],h.prototype,"extent",void 0);b.__decorate([q.property({type:["view","edit"],json:{write:!0}})],h.prototype,"mode",void 0);b.__decorate([q.property({type:String,json:{read:c.read,write:c.write}})],h.prototype,"originPosition",void 0);b.__decorate([q.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],h.prototype,"tolerance",void 0);return h=m=b.__decorate([f.subclass("esri.rest.support.QuantizationParameters")],h)})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;c=new c.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"});e=k=function(m){function p(g){g=m.call(this,g)||this;g.maxPointCount=void 0;g.maxRecordCount=void 0;g.maxVertexCount=void 0;g.onStatisticField=null;g.outStatisticFieldName=null;g.statisticType=null;g.statisticParameters=null;return g}a._inheritsLoose(p,m);var u=
p.prototype;u.writeStatisticParameters=function(g,r){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)r.statisticParameters=h.clone(g)};u.clone=function(){return new k({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:h.clone(this.statisticParameters)})};return p}(e.JSONSupport);
b.__decorate([l.property({type:Number,json:{write:!0}})],e.prototype,"maxPointCount",void 0);b.__decorate([l.property({type:Number,json:{write:!0}})],e.prototype,"maxRecordCount",void 0);b.__decorate([l.property({type:Number,json:{write:!0}})],e.prototype,"maxVertexCount",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],e.prototype,"onStatisticField",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],e.prototype,"outStatisticFieldName",void 0);b.__decorate([l.property({type:String,
json:{read:{source:"statisticType",reader:c.read},write:{target:"statisticType",writer:c.write}}})],e.prototype,"statisticType",void 0);b.__decorate([l.property({type:Object})],e.prototype,"statisticParameters",void 0);b.__decorate([f.writer("statisticParameters")],e.prototype,"writeStatisticParameters",null);return e=k=b.__decorate([t.subclass("esri.rest.support.StatisticDefinition")],e)})},"esri/layers/mixins/OrderedLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/object ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/OrderByInfo".split(" "),
function(a,b,c,e,h,l,q,t,f,k){function m(u,g,r){if(!u)return null;u=u.find(d=>!!d.field);if(!u)return null;g=new k;g.read(u,r);return[g]}function p(u,g,r,d){(u=u.find(n=>!!n.field))&&e.setDeepValue(r,[u.toJSON()],g)}a.OrderedLayer=u=>{u=function(g){function r(){var d=g.apply(this,arguments)||this;d.orderBy=null;return d}b._inheritsLoose(r,g);return r}(u);c.__decorate([h.property({type:[k],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:m},write:{target:"layerDefinition.orderBy",
writer:p}}})],u.prototype,"orderBy",void 0);return u=c.__decorate([f.subclass("esri.layers.mixins.OrderedLayer")],u)};a.isOrderedLayer=function(u){return void 0!==u.orderBy};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/OrderByInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;c=new c.JSONMap({asc:"ascending",desc:"descending"});e=k=function(m){function p(u){u=m.call(this,u)||this;u.field=null;u.valueExpression=null;u.order="ascending";return u}a._inheritsLoose(p,m);p.prototype.clone=function(){return new k({field:this.field,valueExpression:this.valueExpression,order:this.order})};return p}(e.JSONSupport);b.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],
e.prototype,"valueExpression",void 0);b.__decorate([h.property({type:c.apiValues,json:{read:c.read,write:c.write}})],e.prototype,"order",void 0);return e=k=b.__decorate([f.subclass("esri.layers.support.OrderByInfo")],e)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/TimeInfo ../support/fieldUtils ../../portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g){a.TemporalLayer=r=>{r=function(d){function n(){var v=d.apply(this,arguments)||this;v.timeExtent=null;v.timeOffset=null;v.useViewTime=!0;return v}b._inheritsLoose(n,d);n.prototype.readOffset=function(v,z){z=z.timeInfo.exportOptions;if(!z)return null;v=z.timeOffset;z=g.timeUnitKebabDictionary.fromJSON(z.timeOffsetUnits);return v&&z?new h({value:v,unit:z}):null};b._createClass(n,[{key:"timeInfo",set:function(v){u.fixTimeInfoFields(v,this.fieldsIndex);this._set("timeInfo",
v)}}]);return n}(r);c.__decorate([l.property({type:e,json:{write:!1}})],r.prototype,"timeExtent",void 0);c.__decorate([l.property({type:h})],r.prototype,"timeOffset",void 0);c.__decorate([k.reader("service","timeOffset",["timeInfo.exportOptions"])],r.prototype,"readOffset",null);c.__decorate([l.property({value:null,type:p,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],r.prototype,"timeInfo",null);c.__decorate([l.property({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},
origins:{"web-scene":{read:!1,write:!1}}}})],r.prototype,"useViewTime",void 0);return r=c.__decorate([m.subclass("esri.layers.mixins.TemporalLayer")],r)};a.isTemporalLayer=function(r){return void 0!==r.timeInfo};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/TimeInterval":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,e,h,l,q,t,f,k){var m;c=m=function(p){function u(r){r=p.call(this,r)||this;r.value=0;r.unit="milliseconds";return r}a._inheritsLoose(u,p);var g=u.prototype;g.toMilliseconds=function(){return e.convertTime(this.value,this.unit,"milliseconds")};g.clone=function(){return new m({value:this.value,unit:this.unit})};return u}(c.JSONSupport);b.__decorate([h.property({type:Number,json:{write:!0},nonNullable:!0})],c.prototype,"value",void 0);b.__decorate([h.property({type:k.timeUnitKebabDictionary.apiValues,
json:{type:k.timeUnitKebabDictionary.jsonValues,read:k.timeUnitKebabDictionary.read,write:k.timeUnitKebabDictionary.write},nonNullable:!0})],c.prototype,"unit",void 0);return c=m=b.__decorate([f.subclass("esri.TimeInterval")],c)})},"esri/portal/timeUnitKebabDictionary":function(){define(["exports","../core/jsonMap"],function(a,b){b=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",
esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});a.timeUnitKebabDictionary=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./TimeReference ../../portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g){var r;h=r=function(d){function n(z){z=d.call(this,z)||this;z.cumulative=!1;z.endField=null;z.fullTimeExtent=null;z.hasLiveData=!1;z.interval=null;z.startField=null;z.timeReference=null;z.trackIdField=null;z.useTime=!0;return z}a._inheritsLoose(n,d);var v=n.prototype;v.readFullTimeExtent=function(z,A){return A.timeExtent&&Array.isArray(A.timeExtent)&&2===A.timeExtent.length?new c({start:new Date(A.timeExtent[0]),end:new Date(A.timeExtent[1])}):null};v.writeFullTimeExtent=
function(z,A){z&&q.isSome(z.start)&&q.isSome(z.end)?A.timeExtent=[z.start.getTime(),z.end.getTime()]:A.timeExtent=null};v.readInterval=function(z,A){return A.timeInterval&&A.timeIntervalUnits?new e({value:A.timeInterval,unit:g.timeUnitKebabDictionary.fromJSON(A.timeIntervalUnits)}):A.defaultTimeInterval&&A.defaultTimeIntervalUnits?new e({value:A.defaultTimeInterval,unit:g.timeUnitKebabDictionary.fromJSON(A.defaultTimeIntervalUnits)}):null};v.writeInterval=function(z,A){z?(z=z.toJSON(),A.timeInterval=
z.value,A.timeIntervalUnits=z.unit):(A.timeInterval=null,A.timeIntervalUnits=null)};v.clone=function(){const {cumulative:z,endField:A,hasLiveData:w,interval:y,startField:x,timeReference:B,fullTimeExtent:C,trackIdField:D,useTime:J}=this;return new r({cumulative:z,endField:A,hasLiveData:w,interval:y,startField:x,timeReference:l.clone(B),fullTimeExtent:l.clone(C),trackIdField:D,useTime:J})};return n}(h.JSONSupport);b.__decorate([t.property({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},
write:{target:"exportOptions.timeDataCumulative"}}})],h.prototype,"cumulative",void 0);b.__decorate([t.property({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],h.prototype,"endField",void 0);b.__decorate([t.property({type:c,json:{write:{enabled:!0,allowNull:!0}}})],h.prototype,"fullTimeExtent",void 0);b.__decorate([k.reader("fullTimeExtent",["timeExtent"])],h.prototype,"readFullTimeExtent",null);b.__decorate([p.writer("fullTimeExtent")],h.prototype,"writeFullTimeExtent",
null);b.__decorate([t.property({type:Boolean,json:{write:!0}})],h.prototype,"hasLiveData",void 0);b.__decorate([t.property({type:e,json:{write:{enabled:!0,allowNull:!0}}})],h.prototype,"interval",void 0);b.__decorate([k.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],h.prototype,"readInterval",null);b.__decorate([p.writer("interval")],h.prototype,"writeInterval",null);b.__decorate([t.property({type:String,json:{read:{source:"startTimeField"},
write:{target:"startTimeField",allowNull:!0}}})],h.prototype,"startField",void 0);b.__decorate([t.property({type:u,json:{write:{enabled:!0,allowNull:!0}}})],h.prototype,"timeReference",void 0);b.__decorate([t.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],h.prototype,"trackIdField",void 0);b.__decorate([t.property({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],h.prototype,"useTime",void 0);return h=r=b.__decorate([m.subclass("esri.layers.support.TimeInfo")],
h)})},"esri/layers/support/TimeReference":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t,f){var k;c=k=function(m){function p(g){g=m.call(this,g)||this;g.respectsDaylightSaving=!1;g.timezone=null;
return g}a._inheritsLoose(p,m);var u=p.prototype;u.readRespectsDaylightSaving=function(g,r){return void 0!==r.respectsDaylightSaving?r.respectsDaylightSaving:void 0!==r.respectDaylightSaving?r.respectDaylightSaving:!1};u.clone=function(){const {respectsDaylightSaving:g,timezone:r}=this;return new k({respectsDaylightSaving:g,timezone:r})};return p}(c.JSONSupport);b.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"respectsDaylightSaving",void 0);b.__decorate([t.reader("respectsDaylightSaving",
["respectsDaylightSaving","respectDaylightSaving"])],c.prototype,"readRespectsDaylightSaving",null);b.__decorate([e.property({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],c.prototype,"timezone",void 0);return c=k=b.__decorate([f.subclass("esri.layers.support.TimeReference")],c)})},"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;a.FeatureIndex=k=function(m){function p(u){return m.call(this,u)||this}b._inheritsLoose(p,m);p.prototype.clone=function(){const {name:u,fields:g,isAscending:r,isUnique:d,description:n}=this;return new k({name:u,fields:g,isAscending:r,isUnique:d,description:n})};return p}(e.JSONSupport);c.__decorate([h.property({constructOnly:!0})],a.FeatureIndex.prototype,"name",void 0);c.__decorate([h.property({constructOnly:!0})],a.FeatureIndex.prototype,"fields",void 0);c.__decorate([h.property({constructOnly:!0})],
a.FeatureIndex.prototype,"isAscending",void 0);c.__decorate([h.property({constructOnly:!0})],a.FeatureIndex.prototype,"isUnique",void 0);c.__decorate([h.property({constructOnly:!0})],a.FeatureIndex.prototype,"description",void 0);a.FeatureIndex=k=c.__decorate([f.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);a.default=a.FeatureIndex;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/featureReductionUtils":function(){define(["exports","./FeatureReduction","./FeatureReductionCluster",
"./FeatureReductionSelection"],function(a,b,c,e){a.featureReductionProperty={types:{key:"type",base:b.default,typeMap:{selection:e,cluster:c}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:{key:"type",base:b.default,typeMap:{selection:c}}},"web-scene":{types:{key:"type",base:b.default,typeMap:{selection:e}}}}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){a.FeatureReduction=function(k){function m(){var p=k.apply(this,arguments)||this;p.type=null;return p}b._inheritsLoose(m,k);return m}(e.JSONSupport);c.__decorate([h.property({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=c.__decorate([f.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);a.default=a.FeatureReduction;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../PopupTemplate ../../symbols ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AggregateField ./commonProperties ./LabelClass".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){var g;h=g=function(r){function d(n){n=r.call(this,n)||this;n.type="cluster";n.clusterRadius=q.toPt("80px");n.clusterMinSize=q.toPt("12px");n.clusterMaxSize=q.toPt("50px");n.popupEnabled=!0;n.popupTemplate=null;n.symbol=null;n.labelingInfo=null;n.labelsVisible=!0;n.fields=null;return n}a._inheritsLoose(d,r);d.prototype.clone=function(){return new g({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:l.clone(this.labelingInfo),
labelsVisible:this.labelsVisible,fields:l.clone(this.fields),popupEnabled:this.popupEnabled,popupTemplate:l.clone(this.popupTemplate)})};return d}(h.JSONSupport);b.__decorate([t.property({type:["cluster"],readOnly:!0,json:{write:!0}})],h.prototype,"type",void 0);b.__decorate([t.property({type:Number,cast:r=>"auto"===r?r:q.toPt(r),json:{write:!0}})],h.prototype,"clusterRadius",void 0);b.__decorate([t.property({type:Number,cast:q.toPt,json:{write:!0}})],h.prototype,"clusterMinSize",void 0);b.__decorate([t.property({type:Number,
cast:q.toPt,json:{write:!0}})],h.prototype,"clusterMaxSize",void 0);b.__decorate([t.property(p.popupEnabled)],h.prototype,"popupEnabled",void 0);b.__decorate([t.property({type:c,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],h.prototype,"popupTemplate",void 0);b.__decorate([t.property({types:e.symbolTypesCluster})],h.prototype,"symbol",void 0);b.__decorate([t.property({type:[u],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],h.prototype,
"labelingInfo",void 0);b.__decorate([t.property(p.labelsVisible)],h.prototype,"labelsVisible",void 0);b.__decorate([t.property({type:[m],json:{write:!0}})],h.prototype,"fields",void 0);return h=g=b.__decorate([k.subclass("esri.layers.support.FeatureReductionCluster")],h)})},"esri/layers/support/AggregateField":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./OutStatistic".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;c=k=function(m){function p(){var u=m.apply(this,arguments)||this;u.name=null;return u}a._inheritsLoose(p,m);p.prototype.clone=function(){return new k({name:this.name,outStatistic:this.outStatistic.clone()})};return p}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([e.property({type:f,json:{write:!0}})],c.prototype,"outStatistic",void 0);return c=k=b.__decorate([t.subclass("esri.layers.support.AggregateField")],
c)})},"esri/layers/support/OutStatistic":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t){var f;c=f=function(k){function m(){var p=k.apply(this,arguments)||this;p.statisticType=null;p.onStatisticField=null;p.onStatisticValueExpression=null;
return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})};return m}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"statisticType",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"onStatisticField",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"onStatisticValueExpression",
void 0);return c=f=b.__decorate([t.subclass("esri.layers.support.OutStatistic")],c)})},"esri/layers/support/LabelClass":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../symbols ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./LabelExpressionInfo ./labelUtils ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d){function n(A){return"map-image"===(null==A?void 0:A.type)}function v(A){var w,y;return n(A)?!(null==(w=A.capabilities)||null==(y=w.exportMap)||!y.supportsArcadeExpressionForLabeling):!1}var z;e=new e.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",
esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",
esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},
{ignoreUnknown:!0});h=z=function(A){function w(x){x=A.call(this,x)||this;x.type="label";x.name=null;x.allowOverrun=!1;x.deconflictionStrategy="static";x.labelExpression=null;x.labelExpressionInfo=null;x.labelPlacement=null;x.labelPosition="curved";x.maxScale=0;x.minScale=0;x.repeatLabel=!0;x.repeatLabelDistance=null;x.symbol=r.defaultTextSymbol2D;x.useCodedValues=void 0;x.where=null;return x}a._inheritsLoose(w,A);w.evaluateWhere=function(x,B){const C=function(D,J,I){switch(J){case "\x3d":return D==
I?!0:!1;case "\x3c\x3e":return D!=I?!0:!1;case "\x3e":return D>I?!0:!1;case "\x3e\x3d":return D>=I?!0:!1;case "\x3c":return D<I?!0:!1;case "\x3c\x3d":return D<=I?!0:!1}return!1};try{if(null==x)return!0;const D=x.split(" ");if(3===D.length)return C(B[D[0]],D[1],D[2]);if(7===D.length){const J=C(B[D[0]],D[1],D[2]),I=D[3],N=C(B[D[4]],D[5],D[6]);switch(I){case "AND":return J&&N;case "OR":return J||N}}return!1}catch(D){console.log("Error.: can't parse \x3d "+x)}};var y=w.prototype;y.readLabelExpression=
function(x,B){B=B.labelExpressionInfo;if(!B||!B.value&&!B.expression)return x};y.writeLabelExpression=function(x,B,C){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)x=g.templateStringToSql(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const D=g.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);D&&(x="["+D+"]")}null!=x&&(B[C]=x)};y.writeLabelExpressionInfo=function(x,B,C,D){if(null==x&&null!=this.labelExpression&&(D?"service"===
D.origin?0:!n(D.layer):1))x=new u({expression:this.getLabelExpressionArcade()});else if(!x)return;x=x.toJSON(D);x.expression&&(B[C]=x)};y.writeMaxScale=function(x,B){if(x||this.minScale)B.maxScale=x};y.writeMinScale=function(x,B){if(x||this.maxScale)B.minScale=x};y.getLabelExpression=function(){return g.getLabelExpression(this)};y.getLabelExpressionArcade=function(){return g.getLabelExpressionArcade(this)};y.getLabelExpressionSingleField=function(){return g.getLabelExpressionSingleField(this)};y.hash=
function(){return JSON.stringify(this)};y.clone=function(){return new z({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:l.clone(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:l.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})};
return w}(h.JSONSupport);b.__decorate([t.property({type:String,json:{write:!0}})],h.prototype,"name",void 0);b.__decorate([t.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],h.prototype,"allowOverrun",void 0);b.__decorate([t.property({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],h.prototype,"deconflictionStrategy",void 0);b.__decorate([t.property({type:String,json:{write:{overridePolicy(A,w,y){return this.labelExpressionInfo&&
"service"===(null==y?void 0:y.origin)&&v(y.layer)?{enabled:!1}:{allowNull:!0}}}}})],h.prototype,"labelExpression",void 0);b.__decorate([k.reader("labelExpression")],h.prototype,"readLabelExpression",null);b.__decorate([p.writer("labelExpression")],h.prototype,"writeLabelExpression",null);b.__decorate([t.property({type:u,json:{write:{overridePolicy(A,w,y){return(y?"service"===y.origin?0:!n(y.layer):1)||v(y.layer)?{allowNull:!0}:{enabled:!1}}}}})],h.prototype,"labelExpressionInfo",void 0);b.__decorate([p.writer("labelExpressionInfo")],
h.prototype,"writeLabelExpressionInfo",null);b.__decorate([t.property({type:e.apiValues,json:{type:e.jsonValues,read:e.read,write:e.write}})],h.prototype,"labelPlacement",void 0);b.__decorate([t.property({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],h.prototype,"labelPosition",void 0);b.__decorate([t.property({type:Number})],h.prototype,"maxScale",void 0);b.__decorate([p.writer("maxScale")],h.prototype,"writeMaxScale",
null);b.__decorate([t.property({type:Number})],h.prototype,"minScale",void 0);b.__decorate([p.writer("minScale")],h.prototype,"writeMinScale",null);b.__decorate([t.property({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],h.prototype,"repeatLabel",void 0);b.__decorate([t.property({type:Number,cast:q.toPt,json:{write:!0,origins:{"web-scene":{write:!1}}}})],h.prototype,"repeatLabelDistance",void 0);b.__decorate([t.property({types:c.symbolTypesLabel,json:{origins:{"web-scene":{types:c.symbolTypesLabel3D,
write:d.write,default:null}},write:d.write,default:null}})],h.prototype,"symbol",void 0);b.__decorate([t.property({type:Boolean,json:{write:!0}})],h.prototype,"useCodedValues",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],h.prototype,"where",void 0);return h=z=b.__decorate([m.subclass("esri.layers.support.LabelClass")],h)})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./labelUtils".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m){var p;c=p=function(u){function g(){var d=u.apply(this,arguments)||this;d.expression=null;d.title=null;d.value=null;return d}a._inheritsLoose(g,u);var r=g.prototype;r.readExpression=function(d,n){return n.value?m.convertTemplatedStringToArcade(n.value):d};r.writeExpression=function(d,n,v){null!=this.value&&(d=m.convertTemplatedStringToArcade(this.value));null!=d&&(n[v]=d)};r.clone=function(){return new p({expression:this.expression,title:this.title,value:this.value})};
return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:{writerEnsuresNonNull:!0}}})],c.prototype,"expression",void 0);b.__decorate([t.reader("expression",["expression","value"])],c.prototype,"readExpression",null);b.__decorate([k.writer("expression")],c.prototype,"writeExpression",null);b.__decorate([e.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"title",void 0);b.__decorate([e.property({json:{read:!1,write:!1}})],c.prototype,"value",void 0);
return c=p=b.__decorate([f.subclass("esri.layers.support.LabelExpressionInfo")],c)})},"esri/layers/support/labelUtils":function(){define(["exports","../../core/string"],function(a,b){function c(d){return d.replace(/\[/g,"{").replace(/\]/g,"}")}function e(d){const n={expression:"",type:"none"};d.labelExpressionInfo?d.labelExpressionInfo.value?(n.expression=d.labelExpressionInfo.value,n.type="conventional"):d.labelExpressionInfo.expression&&(n.expression=d.labelExpressionInfo.expression,n.type="arcade"):
null!=d.labelExpression&&(n.expression=c(d.labelExpression),n.type="conventional");return n}function h(d){d?(d=b.replace(d,n=>'__begin__$feature["'+n+'"]__end__'),d=k.test(d)?d.replace(k,""):'"'+d,d=m.test(d)?d.replace(m,""):d+'"',d=d.replace(t,'" + ').replace(f,' + "')):d='""';return d}function l(d){return(d=d.match(p))&&d[1].trim()||null}function q(d){if(!d)return null;let n=u.exec(d)||g.exec(d);return n?n[1]||n[3]:(n=r.exec(d))?n[2]:null}const t=/__begin__/ig,f=/__end__/ig,k=/^__begin__/i,m=/__end__$/i,
p=/^\s*\{([^}]+)\}\s*$/i,u=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,g=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,r=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=h;a.getLabelExpression=e;a.getLabelExpressionArcade=function(d){d=e(d);if(!d)return null;switch(d.type){case "conventional":return h(d.expression);case "arcade":return d.expression}return null};
a.getLabelExpressionSingleField=function(d){d=e(d);if(!d)return null;switch(d.type){case "conventional":return l(d.expression);case "arcade":return q(d.expression)}return null};a.getSingleFieldArcadeExpression=q;a.getSingleFieldTemplatedString=l;a.sqlToTemplateString=c;a.templateStringToSql=function(d){return d.replace(/\{/g,"[").replace(/\}/g,"]")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../../core/maybe ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),
function(a,b,c,e,h,l,q,t){const f=l.fromJSON(t.defaultPointSymbolJSON),k=h.fromJSON(t.defaultPolylineSymbolJSON),m=e.fromJSON(t.defaultPolygonSymbolJSON);b=q.fromJSON(t.defaultTextSymbolJSON);l=l.fromJSON(t.errorPointSymbolJSON);h=h.fromJSON(t.errorPolylineSymbolJSON);e=e.fromJSON(t.errorPolygonSymbolJSON);a.defaultPointSymbol2D=f;a.defaultPolygonSymbol2D=m;a.defaultPolylineSymbol2D=k;a.defaultTextSymbol2D=b;a.errorPointSymbol2D=l;a.errorPolygonSymbol2D=e;a.errorPolylineSymbol2D=h;a.getDefaultSymbol2D=
function(p){if(c.isNone(p))return null;switch(p.type){case "point":case "multipoint":return f;case "polyline":return k;case "polygon":case "extent":return m}return null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],function(a){const b=[252,146,31,255],c={type:"esriSMS",style:"esriSMSCircle",size:6,color:b,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},e={type:"esriSLS",style:"esriSLSSolid",width:.75,
color:b};a.defaultColor=b;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=c;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=e;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",
xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./FeatureReduction".split(" "),
function(a,b,c,e,h,l,q,t){var f;e=f=function(k){function m(p){p=k.call(this,p)||this;p.type="selection";return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f};return m}(t.default);b.__decorate([c.property({type:["selection"]})],e.prototype,"type",void 0);return e=f=b.__decorate([q.subclass("esri.layers.support.FeatureReductionSelection")],e)})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){c=new c.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",
esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});e=function(k){function m(p){p=k.call(this,p)||this;p.name=null;p.description=null;p.drawingTool=null;p.prototype=null;p.thumbnail=null;return p}a._inheritsLoose(m,k);return m}(e.JSONSupport);b.__decorate([h.property({json:{write:!0}})],e.prototype,"name",void 0);b.__decorate([h.property({json:{write:!0}})],e.prototype,"description",void 0);b.__decorate([h.property({json:{read:c.read,
write:c.write}})],e.prototype,"drawingTool",void 0);b.__decorate([h.property({json:{write:!0}})],e.prototype,"prototype",void 0);b.__decorate([h.property({json:{write:!0}})],e.prototype,"thumbnail",void 0);return e=b.__decorate([f.subclass("esri.layers.support.FeatureTemplate")],e)})},"esri/layers/support/FeatureType":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains ./FeatureTemplate".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){c=function(u){function g(d){d=u.call(this,d)||this;d.id=null;d.name=null;d.domains=null;d.templates=null;return d}a._inheritsLoose(g,u);var r=g.prototype;r.readDomains=function(d){const n={};for(const v of Object.keys(d))n[v]=m.fromJSON(d[v]);return n};r.writeDomains=function(d,n){const v={};for(const A of Object.keys(d))if(d[A]){var z;v[A]=null==(z=d[A])?void 0:z.toJSON()}n.domains=v};return g}(c.JSONSupport);b.__decorate([e.property({json:{write:!0}})],c.prototype,
"id",void 0);b.__decorate([e.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([e.property({json:{write:!0}})],c.prototype,"domains",void 0);b.__decorate([t.reader("domains")],c.prototype,"readDomains",null);b.__decorate([k.writer("domains")],c.prototype,"writeDomains",null);b.__decorate([e.property({type:[p],json:{write:!0}})],c.prototype,"templates",void 0);return c=b.__decorate([f.subclass("esri.layers.support.FeatureType")],c)})},"esri/layers/support/fieldProperties":function(){define(["exports",
"../../core/Logger","./Field","./FieldsIndex","./fieldUtils"],function(a,b,c,e,h){const l=b.getLogger("esri.layers.support.fieldProperties");a.defineFieldProperties=function(){return{fields:{type:[c],value:null},fieldsIndex:{readOnly:!0,get(){return new e(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(q){this._userOutFields=q;this.notifyChange("outFields")},get:function(){const q=this._userOutFields;if(!q||!q.length)return null;if(q.includes("*"))return["*"];if(!this.fields)return q;
for(const t of q)this.fieldsIndex.has(t)||l.error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:q});return h.fixFields(this.fieldsIndex,q)}}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FieldsIndex":function(){define(["../../chunks/_rollupPluginBabelHelpers","./fieldUtils"],function(a,b){function c(h){return"oid"===h.type||"esriFieldTypeOID"===h.type}function e(h){return"global-id"===h.type||"esriFieldTypeGlobalID"===
h.type}return function(){function h(q){this.fields=q;this._fieldsMap=new Map;this._dateFieldsSet=new Set;this._numericFieldsSet=new Set;this.dateFields=[];this.numericFields=[];this._requiredFields=null;if(q){var t=[];for(const f of q)if(q=f&&f.name){const k=q.toLowerCase().trim();this._fieldsMap.set(q,f);this._fieldsMap.set(k,f);t.push(k);"date"===f.type||"esriFieldTypeDate"===f.type?(this.dateFields.push(f),this._dateFieldsSet.add(f)):b.isNumericField(f)&&(this._numericFieldsSet.add(f),this.numericFields.push(f));
c(f)||e(f)||(f.editable=null==f.editable?!0:!!f.editable,f.nullable=null==f.nullable?!0:!!f.nullable)}t.sort();this.uid=t.join(",")}}var l=h.prototype;l.destroy=function(){this._fieldsMap.clear()};l.has=function(q){return null!=this.get(q)};l.get=function(q){return null!=q?this._fieldsMap.get(q)||this._fieldsMap.get(q.toLowerCase().trim()):void 0};l.isDateField=function(q){return this._dateFieldsSet.has(this.get(q))};l.isNumericField=function(q){return this._numericFieldsSet.has(this.get(q))};l.normalizeFieldName=
function(q){if(q=this.get(q))return q.name};a._createClass(h,[{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];for(const q of this.fields)c(q)||e(q)||q.nullable||void 0!==b.getFieldDefaultValue(q)||this._requiredFields.push(q)}return this._requiredFields}}]);return h}()})},"esri/layers/support/GeometryFieldsInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){c=function(k){function m(p){p=k.call(this,p)||this;p.shapeAreaField=null;p.shapeLengthField=null;p.units=null;return p}a._inheritsLoose(m,k);return m}(c.JSONSupport);b.__decorate([h.property({type:String,json:{read:{source:"shapeAreaFieldName"}}})],c.prototype,"shapeAreaField",void 0);b.__decorate([h.property({type:String,json:{read:{source:"shapeLengthFieldName"}}})],c.prototype,"shapeLengthField",void 0);b.__decorate([h.property({type:String,json:{read:k=>e.areaUnitsJSONMap.read(k)||
e.lengthUnitsJSONMap.read(k)}})],c.prototype,"units",void 0);return c=b.__decorate([f.subclass("esri.layers.support.GeometryFieldsInfo")],c)})},"esri/layers/support/labelingInfo":function(){define(["exports","./LabelClass"],function(a,b){const c=/\[([^\[\]]+)\]/gi;a.reader=function(e,h,l){return e?e.map(q=>{const t=new b;t.read(q,l);if(t.labelExpression){const f=h.fields||h.layerDefinition&&h.layerDefinition.fields||this.fields;t.labelExpression=t.labelExpression.replace(c,(k,m)=>{a:if(f){k=m.toLowerCase();
for(let p=0;p<f.length;p++){const u=f[p].name;if(u.toLowerCase()===k){m=u;break a}}}return`[${m}]`})}return t}):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/LayerFloorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;e=k=function(m){function p(u){u=m.call(this,u)||this;u.floorField=null;u.viewAllMode=!1;u.viewAllLevelIds=new c;return u}a._inheritsLoose(p,m);p.prototype.clone=function(){return new k({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})};return p}(e.JSONSupport);b.__decorate([h.property({type:String,json:{write:!0}})],e.prototype,"floorField",void 0);b.__decorate([h.property({json:{read:!1,write:!1}})],e.prototype,"viewAllMode",
void 0);b.__decorate([h.property({json:{read:!1,write:!1}})],e.prototype,"viewAllLevelIds",void 0);return e=k=b.__decorate([f.subclass("esri.layers.support.LayerFloorInfo")],e)})},"esri/layers/support/Relationship":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){l=new c.JSONMap({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});c=new c.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});e=function(k){function m(p){p=k.call(this,p)||this;p.cardinality=null;p.composite=null;p.id=null;p.keyField=null;p.keyFieldInRelationshipTable=null;p.name=null;p.relatedTableId=null;p.relationshipTableId=null;p.role=null;return p}a._inheritsLoose(m,
k);return m}(e.JSONSupport);b.__decorate([h.property({json:{read:l.read,write:l.write}})],e.prototype,"cardinality",void 0);b.__decorate([h.property({json:{read:!0,write:!0}})],e.prototype,"composite",void 0);b.__decorate([h.property({json:{read:!0,write:!0}})],e.prototype,"id",void 0);b.__decorate([h.property({json:{read:!0,write:!0}})],e.prototype,"keyField",void 0);b.__decorate([h.property({json:{read:!0,write:!0}})],e.prototype,"keyFieldInRelationshipTable",void 0);b.__decorate([h.property({json:{read:!0,
write:!0}})],e.prototype,"name",void 0);b.__decorate([h.property({json:{read:!0,write:!0}})],e.prototype,"relatedTableId",void 0);b.__decorate([h.property({json:{read:!0,write:!0}})],e.prototype,"relationshipTableId",void 0);b.__decorate([h.property({json:{read:c.read,write:c.write}})],e.prototype,"role",void 0);return e=b.__decorate([f.subclass("esri.layers.support.Relationship")],e)})},"esri/rest/support/AttachmentQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,h,l,q,t){var f;c=f=function(k){function m(u){u=k.call(this,u)||this;u.attachmentTypes=null;u.attachmentsWhere=null;u.keywords=null;u.globalIds=null;u.name=null;u.num=null;u.objectIds=null;u.returnMetadata=!1;u.size=null;u.start=null;u.where=null;return u}a._inheritsLoose(m,k);var p=m.prototype;p.writeStart=function(u,g){g.resultOffset=this.start;g.resultRecordCount=this.num||10};p.clone=function(){return new f(e.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,
keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))};return m}(c.JSONSupport);b.__decorate([h.property({type:[String],json:{write:!0}})],c.prototype,"attachmentTypes",void 0);b.__decorate([h.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],c.prototype,"attachmentsWhere",void 0);b.__decorate([h.property({type:[String],
json:{write:!0}})],c.prototype,"keywords",void 0);b.__decorate([h.property({type:[Number],json:{write:!0}})],c.prototype,"globalIds",void 0);b.__decorate([h.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([h.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([h.property({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0);b.__decorate([h.property({type:Boolean,json:{default:!1,write:!0}})],c.prototype,"returnMetadata",
void 0);b.__decorate([h.property({type:[Number],json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([h.property({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);b.__decorate([t.writer("start"),t.writer("num")],c.prototype,"writeStart",null);b.__decorate([h.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],c.prototype,"where",void 0);c=f=b.__decorate([q.subclass("esri.rest.support.AttachmentQuery")],c);c.from=
l.ensureType(c);return c})},"esri/rest/support/RelationshipQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/source/DataLayerSource ../../geometry/SpatialReference".split(" "),function(a,b,c,e,h,l,q,t,f,k,m){var p;
c=p=function(u){function g(d){d=u.call(this,d)||this;d.dynamicDataSource=void 0;d.gdbVersion=null;d.geometryPrecision=void 0;d.historicMoment=null;d.maxAllowableOffset=void 0;d.objectIds=null;d.orderByFields=null;d.outFields=null;d.outSpatialReference=null;d.relationshipId=void 0;d.start=void 0;d.num=void 0;d.returnGeometry=!1;d.returnM=void 0;d.returnZ=void 0;d.where=null;return d}a._inheritsLoose(g,u);var r=g.prototype;r._writeHistoricMoment=function(d,n){n.historicMoment=d&&d.getTime()};r.writeStart=
function(d,n){n.resultOffset=this.start;n.resultRecordCount=this.num||10;0<this.start&&null==this.where&&(n.definitionExpression="1\x3d1")};r.clone=function(){return new p(h.clone({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,
relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))};return g}(e.JSONSupport);b.__decorate([l.property({type:k.DataLayerSource,json:{write:!0}})],c.prototype,"dynamicDataSource",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],c.prototype,"gdbVersion",void 0);b.__decorate([l.property({type:Number,json:{write:!0}})],c.prototype,"geometryPrecision",void 0);b.__decorate([l.property({type:Date})],
c.prototype,"historicMoment",void 0);b.__decorate([f.writer("historicMoment")],c.prototype,"_writeHistoricMoment",null);b.__decorate([l.property({type:Number,json:{write:!0}})],c.prototype,"maxAllowableOffset",void 0);b.__decorate([l.property({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0);b.__decorate([l.property({type:[String],json:{write:!0}})],c.prototype,"orderByFields",void 0);b.__decorate([l.property({type:[String],json:{write:!0}})],c.prototype,"outFields",void 0);b.__decorate([l.property({type:m,
json:{read:{source:"outSR"},write:{target:"outSR"}}})],c.prototype,"outSpatialReference",void 0);b.__decorate([l.property({json:{write:!0}})],c.prototype,"relationshipId",void 0);b.__decorate([l.property({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);b.__decorate([f.writer("start"),f.writer("num")],c.prototype,"writeStart",null);b.__decorate([l.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([l.property({json:{write:!0}})],
c.prototype,"returnGeometry",void 0);b.__decorate([l.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],c.prototype,"returnM",void 0);b.__decorate([l.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],c.prototype,"returnZ",void 0);b.__decorate([l.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],c.prototype,"where",void 0);c=p=b.__decorate([t.subclass("esri.rest.support.RelationshipQuery")],
c);c.from=q.ensureType(c);return c})},"esri/rest/support/TopFeaturesQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/support/jsonUtils ./TopFilter ../../geometry/SpatialReference".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g){var r;const d=new h.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});h=new h.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});l=r=function(n){function v(A){A=n.call(this,A)||this;A.cacheHint=void 0;A.distance=void 0;A.geometry=null;A.geometryPrecision=void 0;A.maxAllowableOffset=void 0;A.num=void 0;A.objectIds=null;A.orderByFields=null;A.outFields=null;A.outSpatialReference=null;A.resultType=null;A.returnGeometry=!1;A.returnM=void 0;A.returnZ=void 0;A.start=void 0;A.spatialRelationship=
"intersects";A.timeExtent=null;A.topFilter=void 0;A.units=null;A.where="1\x3d1";return A}a._inheritsLoose(v,n);var z=v.prototype;z.writeStart=function(A,w){w.resultOffset=this.start;w.resultRecordCount=this.num||10};z.clone=function(){return new r(q.clone({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,
outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))};return v}(l.JSONSupport);b.__decorate([t.property({type:Boolean,json:{write:!0}})],l.prototype,"cacheHint",void 0);b.__decorate([t.property({type:Number,json:{write:{overridePolicy(n){return{enabled:0<
n}}}}})],l.prototype,"distance",void 0);b.__decorate([t.property({types:c.geometryTypes,json:{read:p.fromJSON,write:!0}})],l.prototype,"geometry",void 0);b.__decorate([t.property({type:Number,json:{write:!0}})],l.prototype,"geometryPrecision",void 0);b.__decorate([t.property({type:Number,json:{write:!0}})],l.prototype,"maxAllowableOffset",void 0);b.__decorate([t.property({type:Number,json:{read:{source:"resultRecordCount"}}})],l.prototype,"num",void 0);b.__decorate([t.property({json:{write:!0}})],
l.prototype,"objectIds",void 0);b.__decorate([t.property({type:[String],json:{write:!0}})],l.prototype,"orderByFields",void 0);b.__decorate([t.property({type:[String],json:{write:!0}})],l.prototype,"outFields",void 0);b.__decorate([t.property({type:g,json:{read:{source:"outSR"},write:{target:"outSR"}}})],l.prototype,"outSpatialReference",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],l.prototype,"resultType",void 0);b.__decorate([t.property({json:{write:!0}})],l.prototype,"returnGeometry",
void 0);b.__decorate([t.property({type:Boolean,json:{write:{overridePolicy(n){return{enabled:n}}}}})],l.prototype,"returnM",void 0);b.__decorate([t.property({type:Boolean,json:{write:{overridePolicy(n){return{enabled:n}}}}})],l.prototype,"returnZ",void 0);b.__decorate([t.property({type:Number,json:{read:{source:"resultOffset"}}})],l.prototype,"start",void 0);b.__decorate([m.writer("start"),m.writer("num")],l.prototype,"writeStart",null);b.__decorate([t.property({type:String,json:{read:{source:"spatialRel",
reader:d.read},write:{target:"spatialRel",writer:d.write}}})],l.prototype,"spatialRelationship",void 0);b.__decorate([t.property({type:e,json:{write:!0}})],l.prototype,"timeExtent",void 0);b.__decorate([t.property({type:u,json:{write:!0}})],l.prototype,"topFilter",void 0);b.__decorate([t.property({type:String,json:{read:h.read,write:{writer:h.write,overridePolicy(n){return{enabled:n&&0<this.distance}}}}})],l.prototype,"units",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],l.prototype,
"where",void 0);l=r=b.__decorate([k.subclass("esri.rest.support.TopFeaturesQuery")],l);l.from=f.ensureType(l);return l})},"esri/rest/support/TopFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t){var f;c=f=function(k){function m(p){p=
k.call(this,p)||this;p.groupByFields=void 0;p.topCount=void 0;p.orderByFields=void 0;return p}a._inheritsLoose(m,k);m.prototype.clone=function(){return new f({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})};return m}(c.JSONSupport);b.__decorate([e.property({type:[String],json:{write:!0}})],c.prototype,"groupByFields",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],c.prototype,"topCount",void 0);b.__decorate([e.property({type:[String],json:{write:!0}})],
c.prototype,"orderByFields",void 0);return c=f=b.__decorate([t.subclass("esri.rest.support.TopFilter")],c)})},"esri/support/popupUtils":function(){define("exports ../PopupTemplate ../layers/support/fieldUtils ../popup/content/AttachmentsContent ../popup/content/Content ../popup/content/CustomContent ../popup/content/ExpressionContent ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/TextContent ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),function(a,
b,c,e,h,l,q,t,f,k,m,p){function u(B,C){const D=B;C&&(B=B.filter(J=>-1===C.indexOf(J.type)));B===D&&(B=B.slice());B.sort(g);return B}function g(B,C){return"oid"===B.type?-1:"oid"===C.type?1:v(B)?-1:v(C)?1:(B.alias||B.name).toLocaleLowerCase().localeCompare((C.alias||C.name).toLocaleLowerCase())}function r(B,C){if(!B||!C)return!1;const {creationDateField:D,creatorField:J,editDateField:I,editorField:N}=C;return-1!==[D&&D.toLowerCase(),J&&J.toLowerCase(),I&&I.toLowerCase(),N&&N.toLowerCase()].indexOf(B.toLowerCase())}
function d({editFieldsInfo:B,fields:C,objectIdField:D},J){return u(C,(null==J?void 0:J.ignoreFieldTypes)||x).map(I=>{var N=I.name;var L=I.editable&&-1===A.indexOf(I.type)&&!r(I.name,B);return new m({fieldName:N,isEditable:L,label:I.alias,format:n(I),visible:y(I,{editFieldsInfo:B,objectIdField:D,visibleFieldNames:null==J?void 0:J.visibleFieldNames})})})}function n(B){switch(B.type){case "small-integer":case "integer":case "single":return new p({digitSeparator:!0,places:0});case "double":return new p({digitSeparator:!0,
places:2});case "date":return new p({dateFormat:"long-month-day-year"});default:return null}}function v(B){if("name"===(B.name&&B.name.toLowerCase())||"name"===(B.alias&&B.alias.toLowerCase()))return!0}const z=["oid","global-id"],A=["oid","global-id","guid"],w=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],y=(B,{editFieldsInfo:C,objectIdField:D,visibleFieldNames:J})=>J?J.has(B.name):r(B.name,
C)?!1:D&&B.name===D?!1:-1<z.indexOf(B.type)?!1:!w.some(I=>I.test(B.name)),x=["geometry","blob","raster","guid","xml"];a.createFieldInfos=d;a.createFieldsContent=function(B,C){return new t({fieldInfos:d(B,C).filter(D=>D.visible)})};a.createPopupTemplate=function({displayField:B,editFieldsInfo:C,fields:D,objectIdField:J,title:I},N){if(!D)return null;C=d({editFieldsInfo:C,fields:D,objectIdField:J},N);if(!C.length)return null;D={titleBase:I,fields:D,displayField:B};B=c.getDisplayFieldName(D);({titleBase:D}=
D);B=B?`${D}: {${B.trim()}}`:D;D=[new t,new e];return new b({title:B,content:D,fieldInfos:C})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../request ../../../TimeExtent ../../../core/Error ../../../core/has ../../../core/jsonMap ../../../core/Loadable ../../../core/maybe ../../../core/object ../../../core/promiseUtils ../../../core/urlUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../geometry/Extent ../../../geometry/support/jsonUtils ./support/clientSideDefaults ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryAttachments ../../../tasks/QueryTask ../../../geometry/SpatialReference".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x,B,C){function D(L){return J.apply(this,arguments)}function J(){J=a._asyncToGenerator(function*(L){if("string"===typeof L){const G=g.dataComponents(L);return G?G:{data:L}}return new Promise((G,F)=>{const E=new FileReader;E.readAsDataURL(L);E.onload=()=>G(g.dataComponents(E.result));E.onerror=K=>F(K)})});return J.apply(this,arguments)}const I=new f.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),N=new Set(["Feature Layer",
"Table"]);c=function(L){function G(){var E=L.apply(this,arguments)||this;E.type="feature-layer";E.refresh=u.debounce(a._asyncToGenerator(function*(){var K,P;yield E.load();const W=null==(K=E.sourceJSON.editingInfo)?void 0:K.lastEditDate;if(null==W)return{dataChanged:!0,updates:{}};try{yield E._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}K=W!==(null==(P=E.sourceJSON.editingInfo)?void 0:P.lastEditDate);return{dataChanged:K,updates:K?{editingInfo:E.sourceJSON.editingInfo,extent:E.sourceJSON.extent}:
null}}));return E}a._inheritsLoose(G,L);var F=G.prototype;F.load=function(E){E=m.isSome(E)?E.signal:null;this.addResolvingPromise(this._fetchService(this.layer.sourceJSON,E));return Promise.resolve(this)};F.addAttachment=function(){var E=a._asyncToGenerator(function*(K,P){yield this.load();K=K.attributes[this.layer.objectIdField];const W=this.layer.parsedUrl.path+"/"+K+"/addAttachment",ia=this._getLayerRequestOptions();P=this._getFormDataForAttachment(P,ia.query);try{const Z=yield h(W,{body:P});return this._createFeatureEditResult(Z.data.addAttachmentResult)}catch(Z){throw this._createAttachmentErrorResult(K,
Z);}});return function(K,P){return E.apply(this,arguments)}}();F.updateAttachment=function(){var E=a._asyncToGenerator(function*(K,P,W){yield this.load();K=K.attributes[this.layer.objectIdField];const ia=this.layer.parsedUrl.path+"/"+K+"/updateAttachment";P=this._getLayerRequestOptions({query:{attachmentId:P}});W=this._getFormDataForAttachment(W,P.query);try{const Z=yield h(ia,{body:W});return this._createFeatureEditResult(Z.data.updateAttachmentResult)}catch(Z){throw this._createAttachmentErrorResult(K,
Z);}});return function(K,P,W){return E.apply(this,arguments)}}();F.applyEdits=function(){var E=a._asyncToGenerator(function*(K,P){yield this.load();var W=K.addFeatures.map(this._serializeFeature,this);const ia=K.updateFeatures.map(this._serializeFeature,this),Z=this._getFeatureIds(K.deleteFeatures,null==P?void 0:P.globalIdUsed);y.unapplyEditsZUnitScaling(W,ia,this.layer.spatialReference);var V=[];const qa=[],sa=[...K.deleteAttachments];for(const Ba of K.addAttachments)V.push(yield this._serializeAttachment(Ba));
for(const Ba of K.updateAttachments)qa.push(yield this._serializeAttachment(Ba));K=V.length||qa.length||sa.length?{adds:V,updates:qa,deletes:sa}:null;V={gdbVersion:(null==P?void 0:P.gdbVersion)||this.layer.gdbVersion,rollbackOnFailure:null==P?void 0:P.rollbackOnFailureEnabled,useGlobalIds:null==P?void 0:P.globalIdUsed,returnEditMoment:null==P?void 0:P.returnEditMoment,usePreviousEditMoment:null==P?void 0:P.usePreviousEditMoment,sessionId:null==P?void 0:P.sessionId};null!=P&&P.returnServiceEditsOption?
(V.edits=JSON.stringify([{id:this.layer.layerId,adds:W,updates:ia,deletes:Z,attachments:K}]),V.returnServiceEditsOption=I.toJSON(null==P?void 0:P.returnServiceEditsOption),V.returnServiceEditsInSourceSR=null==P?void 0:P.returnServiceEditsInSourceSR):(V.adds=W.length?JSON.stringify(W):null,V.updates=ia.length?JSON.stringify(ia):null,V.deletes=Z.length?null!=P&&P.globalIdUsed?JSON.stringify(Z):Z.join(","):null,V.attachments=K&&JSON.stringify(K));W=this._getLayerRequestOptions({method:"post",query:V});
P=yield h((null!=P&&P.returnServiceEditsOption?this.layer.url:this.layer.parsedUrl.path)+"/applyEdits",W);return this._createEditsResult(P)});return function(K,P){return E.apply(this,arguments)}}();F.deleteAttachments=function(){var E=a._asyncToGenerator(function*(K,P){yield this.load();K=K.attributes[this.layer.objectIdField];const W=this.layer.parsedUrl.path+"/"+K+"/deleteAttachments";try{return(yield h(W,this._getLayerRequestOptions({query:{attachmentIds:P.join(",")},method:"post"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(ia){throw this._createAttachmentErrorResult(K,
ia);}});return function(K,P){return E.apply(this,arguments)}}();F.fetchRecomputedExtents=function(E={}){var K=this;return this.load({signal:E.signal}).then(a._asyncToGenerator(function*(){var P=K._getLayerRequestOptions({...E,query:{returnUpdates:!0}});const {layerId:W,url:ia}=K.layer;({data:P}=yield h(`${ia}/${W}`,P));const {id:Z,extent:V,fullExtent:qa,timeExtent:sa}=P;P=V||qa;return{id:Z,fullExtent:P&&z.fromJSON(P),timeExtent:sa&&l.fromJSON({start:sa[0],end:sa[1]})}}))};F.queryAttachments=function(){var E=
a._asyncToGenerator(function*(K,P={}){const {parsedUrl:W}=this.layer,ia=W.path;yield this.load();P=this._getLayerRequestOptions(P);if(!this.layer.get("capabilities.operations.supportsQueryAttachments")){const {objectIds:Z}=K;K=[];for(const V of Z)K.push(h(ia+"/"+V+"/attachments",P));return Promise.all(K).then(V=>Z.map((qa,sa)=>({parentObjectId:qa,attachmentInfos:V[sa].data.attachmentInfos}))).then(V=>x.processAttachmentQueryResult(V,ia))}return this.queryTask.executeAttachmentQuery(K,P)});return function(K){return E.apply(this,
arguments)}}();F.queryFeatures=function(){var E=a._asyncToGenerator(function*(K,P){yield this.load();return this.queryTask.execute(K,{...P,query:this._createRequestQueryOptions(P)})});return function(K,P){return E.apply(this,arguments)}}();F.queryFeaturesJSON=function(){var E=a._asyncToGenerator(function*(K,P){yield this.load();return this.queryTask.executeJSON(K,{...P,query:this._createRequestQueryOptions(P)})});return function(K,P){return E.apply(this,arguments)}}();F.queryObjectIds=function(){var E=
a._asyncToGenerator(function*(K,P){yield this.load();return this.queryTask.executeForIds(K,{...P,query:this._createRequestQueryOptions(P)})});return function(K,P){return E.apply(this,arguments)}}();F.queryFeatureCount=function(){var E=a._asyncToGenerator(function*(K,P){yield this.load();return this.queryTask.executeForCount(K,{...P,query:this._createRequestQueryOptions(P)})});return function(K,P){return E.apply(this,arguments)}}();F.queryExtent=function(){var E=a._asyncToGenerator(function*(K,P){yield this.load();
return this.queryTask.executeForExtent(K,{...P,query:this._createRequestQueryOptions(P)})});return function(K,P){return E.apply(this,arguments)}}();F.queryRelatedFeatures=function(){var E=a._asyncToGenerator(function*(K,P){yield this.load();return this.queryTask.executeRelationshipQuery(K,{...P,query:this._createRequestQueryOptions(P)})});return function(K,P){return E.apply(this,arguments)}}();F.queryRelatedFeaturesCount=function(){var E=a._asyncToGenerator(function*(K,P){yield this.load();return this.queryTask.executeRelationshipQueryForCount(K,
{...P,query:this._createRequestQueryOptions(P)})});return function(K,P){return E.apply(this,arguments)}}();F.queryTopFeatures=function(){var E=a._asyncToGenerator(function*(K,P){yield this.load();return this.queryTask.executeTopFeaturesQuery(K,{...P,query:this._createRequestQueryOptions(P)})});return function(K,P){return E.apply(this,arguments)}}();F.queryTopObjectIds=function(){var E=a._asyncToGenerator(function*(K,P){yield this.load();return this.queryTask.executeForTopIds(K,{...P,query:this._createRequestQueryOptions(P)})});
return function(K,P){return E.apply(this,arguments)}}();F.queryTopExtents=function(){var E=a._asyncToGenerator(function*(K,P){yield this.load();return this.queryTask.executeForTopExtents(K,{...P,query:this._createRequestQueryOptions(P)})});return function(K,P){return E.apply(this,arguments)}}();F.queryTopCount=function(){var E=a._asyncToGenerator(function*(K,P){yield this.load();return this.queryTask.executeForTopCount(K,{...P,query:this._createRequestQueryOptions(P)})});return function(K,P){return E.apply(this,
arguments)}}();F._createRequestQueryOptions=function(E){E={...this.layer.customParameters,token:this.layer.apiKey,...null==E?void 0:E.query};this.layer.datesInUnknownTimezone&&(E.timeReferenceUnknownClient=!0);return E};F._fetchService=function(){var E=a._asyncToGenerator(function*(K,P){K||({data:K}=yield h(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:t("featurelayer-advanced-symbols")?{returnAdvancedSymbols:!0}:{},signal:P})));this.sourceJSON=this._patchServiceJSON(K);K=K.type;if(!N.has(K))throw new q("feature-layer-source:unsupported-type",
`Source type "${K}" is not supported`);});return function(K,P){return E.apply(this,arguments)}}();F._patchServiceJSON=function(E){var K;"Table"===E.type||!E.geometryType||null!=E&&null!=(K=E.drawingInfo)&&K.renderer||E.defaultSymbol||(K=w.createDrawingInfo(E.geometryType).renderer,p.setDeepValue("drawingInfo.renderer",K,E));"esriGeometryMultiPatch"===E.geometryType&&E.infoFor3D&&(E.geometryType="mesh");return E};F._serializeFeature=function(E){const {geometry:K,attributes:P}=E;return m.isNone(K)?
{attributes:P}:"mesh"===K.type||"extent"===K.type?null:{geometry:K.toJSON(),attributes:P}};F._serializeAttachment=function(){var E=a._asyncToGenerator(function*(K){const {feature:P,attachment:W}=K,{globalId:ia,name:Z,contentType:V,data:qa,uploadId:sa}=W;K={globalId:ia,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};P&&(K.parentGlobalId="attributes"in P?P.attributes&&P.attributes[this.layer.globalIdField]:P.globalId);if(sa)K.uploadId=sa;else if(qa){const Ba=yield D(qa);K.contentType=
Ba.mediaType;K.data=Ba.data;qa instanceof File&&(K.name=qa.name)}Z&&(K.name=Z);V&&(K.contentType=V);return K});return function(K){return E.apply(this,arguments)}}();F._getFeatureIds=function(E,K){const P=E[0];return P?this._canUseGlobalIds(K,E)?this._getGlobalIdsFromFeatureIdentifier(E):"objectId"in P?this._getObjectIdsFromFeatureIdentifier(E):this._getIdsFromFeatures(E):[]};F._getIdsFromFeatures=function(E){const K=this.layer.objectIdField;return E.map(P=>P.attributes&&P.attributes[K])};F._canUseGlobalIds=
function(E,K){return E&&"globalId"in K[0]};F._getObjectIdsFromFeatureIdentifier=function(E){return E.map(K=>K.objectId)};F._getGlobalIdsFromFeatureIdentifier=function(E){return E.map(K=>K.globalId)};F._createEditsResult=function(E){var K;const P=E.data,{layerId:W}=this.layer;E=[];let ia=null;if(Array.isArray(P))for(var Z of P)E.push({id:Z.id,editedFeatures:Z.editedFeatures}),Z.id===W&&(ia={addResults:Z.addResults,updateResults:Z.updateResults,deleteResults:Z.deleteResults,attachments:Z.attachments,
editMoment:Z.editMoment});else ia=P;Z=null==(K=ia)?void 0:K.attachments;K={addFeatureResults:ia.addResults?ia.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:ia.updateResults?ia.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:ia.deleteResults?ia.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:Z&&Z.addResults?Z.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:Z&&Z.updateResults?Z.updateResults.map(this._createFeatureEditResult,
this):[],deleteAttachmentResults:Z&&Z.deleteResults?Z.deleteResults.map(this._createFeatureEditResult,this):[]};ia.editMoment&&(K.editMoment=ia.editMoment);if(0<E.length){K.editedFeatureResults=[];for(const V of E){const {adds:qa,updates:sa,deletes:Ba,spatialReference:oa}=V.editedFeatures,U=oa?new C(oa):null;K.editedFeatureResults.push({layerId:V.id,editedFeatures:{adds:(null==qa?void 0:qa.map(ca=>this._createEditedFeature(ca,U)))||[],updates:(null==sa?void 0:sa.map(ca=>({original:this._createEditedFeature(ca[0],
U),current:this._createEditedFeature(ca[1],U)})))||[],deletes:(null==Ba?void 0:Ba.map(ca=>this._createEditedFeature(ca,U)))||[],spatialReference:U}})}}return K};F._createEditedFeature=function(E,K){return new e({attributes:E.attributes,geometry:A.fromJSON({...E.geometry,spatialReference:K})})};F._createFeatureEditResult=function(E){const K=!0===E.success?null:E.error||{code:void 0,description:void 0};return{objectId:E.objectId,globalId:E.globalId,error:K?new q("feature-layer-source:edit-failure",
K.description,{code:K.code}):null}};F._createAttachmentErrorResult=function(E,K){return{objectId:E,globalId:null,error:new q("feature-layer-source:attachment-failure",K.details.messages&&K.details.messages[0]||K.message,{code:K.details.httpStatus||K.details.messageCode})}};F._getFormDataForAttachment=function(E,K){if(E=E instanceof FormData?E:E&&E.elements?new FormData(E):null)for(const P in K){const W=K[P];null!=W&&(E.set?E.set(P,W):E.append(P,W))}return E};F._getLayerRequestOptions=function(E={}){const {parsedUrl:K,
gdbVersion:P,dynamicDataSource:W}=this.layer;return{...E,query:{gdbVersion:P,layer:W?JSON.stringify({source:W}):void 0,...K.query,f:"json",...this._createRequestQueryOptions(E)},responseType:"json"}};a._createClass(G,[{key:"queryTask",get:function(){const {capabilities:{query:{supportsFormatPBF:E}},parsedUrl:K,dynamicDataSource:P,infoFor3D:W,gdbVersion:ia,spatialReference:Z,fieldsIndex:V}=this.layer,qa=t("featurelayer-pbf")&&E&&m.isNone(W)?"pbf":"json";return new B({url:K.path,format:qa,fieldsIndex:V,
infoFor3D:W,dynamicDataSource:P,gdbVersion:ia,sourceSpatialReference:Z})}}]);return G}(k);b.__decorate([r.property()],c.prototype,"type",void 0);b.__decorate([r.property({constructOnly:!0})],c.prototype,"layer",void 0);b.__decorate([r.property({readOnly:!0})],c.prototype,"queryTask",null);return c=b.__decorate([v.subclass("esri.layers.graphics.sources.FeatureLayerSource")],c)})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports","../../../../core/has","../../../../core/lang",
"../../data/QueryEngineCapabilities","../../../../symbols/support/defaultsJSON"],function(a,b,c,e,h){a.createCapabilities=function(l,q){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:l},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:q,supportsDelete:q,supportsEditing:q,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,
supportsUpdate:q,supportsExceedsLimitStatistics:!0},query:e.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:q,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}};a.createDefaultAttributesFunction=function(l,q){if(b("esri-csp-restrictions"))return()=>
({[q]:null,...l});try{let t=`this.${q} = null;`;for(const k in l){const m=k.includes(".")?`["${k}"]`:`.${k}`;t+=`this${m} = ${JSON.stringify(l[k])};`}const f=new Function(t);return()=>new f}catch(t){return()=>({[q]:null,...l})}};a.createDefaultTemplate=function(l={}){return[{name:"New Feature",description:"",prototype:{attributes:c.clone(l)}}]};a.createDrawingInfo=function(l){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===l||"esriGeometryMultipoint"===l?h.defaultPointSymbolJSON:"esriGeometryPolyline"===
l?h.defaultPolylineSymbolJSON:h.defaultPolygonSymbolJSON}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],function(a){a.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,
supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/queryAttachments":function(){define("exports ../../../kernel ../../../request ../../../core/urlUtils ../support/AttachmentInfo ../../../tasks/operations/urlUtils".split(" "),
function(a,b,c,e,h,l){function q(t){t=t.toJSON();t.attachmentTypes&&(t.attachmentTypes=t.attachmentTypes.join(","));t.keywords&&(t.keywords=t.keywords.join(","));t.globalIds&&(t.globalIds=t.globalIds.join(","));t.objectIds&&(t.objectIds=t.objectIds.join(","));t.size&&(t.size=t.size.join(","));return t}a.executeAttachmentQuery=function(t,f,k){f={query:l.mapParameters({...t.query,f:"json",...q(f)})};k&&(f={...k,...f,query:{...k.query,...f.query}});return c(t.path+"/queryAttachments",f)};a.processAttachmentQueryResult=
function(t,f){const k={};for(const m of t){const {parentObjectId:p,parentGlobalId:u,attachmentInfos:g}=m;for(const r of g){({id:t}=r);t=e.addProxy(b.addTokenParameter(`${f}/${p}/attachments/${t}`));const d=h.fromJSON(r);d.set({url:t,parentObjectId:p,parentGlobalId:u});k[p]?k[p].push(d):k[p]=[d]}}return k};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/support/AttachmentInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../layers/support/exifUtils".split(" "),
function(a,b,c,e,h,l,q,t,f){var k;const m={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};c=k=function(p){function u(g){g=p.call(this,g)||this;g.contentType=null;g.exifInfo=null;g.id=null;g.globalId=null;g.keywords=null;g.name=null;g.parentGlobalId=null;g.parentObjectId=null;g.size=
null;g.url=null;return g}a._inheritsLoose(u,p);u.prototype.clone=function(){return new k({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};a._createClass(u,[{key:"orientationInfo",get:function(){var {exifInfo:g}=this;g=f.getExifValue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:g});return m[g]||null}}]);return u}(c.JSONSupport);
b.__decorate([e.property({type:String})],c.prototype,"contentType",void 0);b.__decorate([e.property()],c.prototype,"exifInfo",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"orientationInfo",null);b.__decorate([e.property({type:q.Integer})],c.prototype,"id",void 0);b.__decorate([e.property({type:String})],c.prototype,"globalId",void 0);b.__decorate([e.property({type:String})],c.prototype,"keywords",void 0);b.__decorate([e.property({type:String})],c.prototype,"name",void 0);b.__decorate([e.property({json:{read:!1}})],
c.prototype,"parentGlobalId",void 0);b.__decorate([e.property({json:{read:!1}})],c.prototype,"parentObjectId",void 0);b.__decorate([e.property({type:q.Integer})],c.prototype,"size",void 0);b.__decorate([e.property({json:{read:!1}})],c.prototype,"url",void 0);return c=k=b.__decorate([t.subclass("esri.layers.support.AttachmentInfo")],c)})},"esri/layers/support/exifUtils":function(){define(["exports"],function(a){function b(c){const {tagName:e,tags:h}=c;return h&&e?(c=h.find(l=>l.name===e))&&c.value||
null:null}a.getExifValue=function(c){const {exifInfo:e,exifName:h,tagName:l}=c;return e&&h&&l?(c=e.find(q=>q.name===h))?b({tagName:l,tags:c.tags}):null:null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/operations/urlUtils":function(){define(["exports"],function(a){function b(c){const e={};for(const h in c){if("declaredClass"===h)continue;const l=c[h];if(null!=l&&"function"!==typeof l)if(Array.isArray(l)){e[h]=[];for(let q=0;q<l.length;q++)e[h][q]=b(l[q])}else"object"===typeof l?
l.toJSON&&(e[h]=JSON.stringify(l)):e[h]=l}return e}a.mapParameters=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/QueryTask":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/has ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../layers/support/source/DataLayerSource ../rest/query/executeAttachmentQuery ../rest/query/executeForCount ../rest/query/executeForExtent ../rest/query/executeForIds ../rest/query/executeQueryJSON ../rest/query/executeQueryPBF ../rest/query/executeRelationshipQuery ../rest/query/executeTopFeaturesQuery ../rest/query/executeForTopIds ../rest/query/executeForTopExtents ../rest/query/executeForTopCount ../rest/support/FeatureSet ../rest/support/Query ../rest/support/RelationshipQuery ./Task".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x,B,C,D,J){f=function(I){function N(G){G=I.call(this,G)||this;G.dynamicDataSource=null;G.fieldsIndex=null;G.format="json";G.gdbVersion=null;G.infoFor3D=null;G.sourceSpatialReference=null;return G}b._inheritsLoose(N,I);var L=N.prototype;L.execute=function(G,F){return this.executeJSON(G,F).then(E=>this.featureSetFromJSON(G,E,F))};L.executeJSON=function(){var G=b._asyncToGenerator(function*(F,E){var K;E={...this.requestOptions,...E};const P=this._normalizeQuery(F);
F=null!=(null==(K=F.outStatistics)?void 0:K[0]);K=h("featurelayer-pbf-statistics");K=!F||K;let W;if("pbf"===this.format&&K)try{W=yield v.executeRawQueryPBF(this.url,P,E)}catch(ia){if("query:parsing-pbf"===ia.name)this.format="json";else throw ia;}"json"!==this.format&&K||(W=yield n.executeRawQueryJSON(this.url,P,E));this._normalizeFields(W.fields);return W});return function(F,E){return G.apply(this,arguments)}}();L.featureSetFromJSON=function(){var G=b._asyncToGenerator(function*(F,E,K){if(!(this._queryIs3DObjectFormat(F)&&
l.isSome(this.infoFor3D)&&E.features&&E.features.length))return B.fromJSON(E);({meshFeatureSetFromJSON:K}=yield q.whenOrAbort(new Promise((P,W)=>a(["../rest/support/meshFeatureSet"],P,W)),K));return K(F,this.infoFor3D,E)});return function(F,E,K){return G.apply(this,arguments)}}();L.executeForCount=function(G,F){F={...this.requestOptions,...F};G=this._normalizeQuery(G);return g.executeForCount(this.url,G,F)};L.executeForExtent=function(G,F){F={...this.requestOptions,...F};G=this._normalizeQuery(G);
return r.executeForExtent(this.url,G,F)};L.executeForIds=function(G,F){F={...this.requestOptions,...F};G=this._normalizeQuery(G);return d.executeForIds(this.url,G,F)};L.executeRelationshipQuery=function(G,F){G=D.from(G);F={...this.requestOptions,...F};if(this.gdbVersion||this.dynamicDataSource)G=G.clone(),G.gdbVersion=G.gdbVersion||this.gdbVersion,G.dynamicDataSource=G.dynamicDataSource||this.dynamicDataSource;return z.executeRelationshipQuery(this.url,G,F)};L.executeRelationshipQueryForCount=function(G,
F){G=D.from(G);F={...this.requestOptions,...F};if(this.gdbVersion||this.dynamicDataSource)G=G.clone(),G.gdbVersion=G.gdbVersion||this.gdbVersion,G.dynamicDataSource=G.dynamicDataSource||this.dynamicDataSource;return z.executeRelationshipQueryForCount(this.url,G,F)};L.executeAttachmentQuery=function(G,F){return u.executeAttachmentQuery(this.url,G,{...this.requestOptions,...F})};L.executeTopFeaturesQuery=function(G,F){return A.executeTopFeaturesQuery(this.parsedUrl,G,this.sourceSpatialReference,{...this.requestOptions,
...F})};L.executeForTopIds=function(G,F){return w.executeForTopIds(this.parsedUrl,G,{...this.requestOptions,...F})};L.executeForTopExtents=function(G,F){return y.executeForTopExtents(this.parsedUrl,G,{...this.requestOptions,...F})};L.executeForTopCount=function(G,F){return x.executeForTopCount(this.parsedUrl,G,{...this.requestOptions,...F})};L._normalizeQuery=function(G){let F=C.from(G);F.sourceSpatialReference=F.sourceSpatialReference||this.sourceSpatialReference;if(this.gdbVersion||this.dynamicDataSource)F=
F===G?F.clone():F,F.gdbVersion=G.gdbVersion||this.gdbVersion,F.dynamicDataSource=G.dynamicDataSource?p.DataLayerSource.from(G.dynamicDataSource):this.dynamicDataSource;if(l.isSome(this.infoFor3D)&&this._queryIs3DObjectFormat(G)){F=F===G?F.clone():F;F.formatOf3DObjects=null;for(const E of this.infoFor3D.queryFormats){if("3D_glb"===E.id){F.formatOf3DObjects=E.id;break}"3D_gltf"!==E.id||F.formatOf3DObjects||(F.formatOf3DObjects=E.id)}if(!F.formatOf3DObjects)throw new e("query:unsupported-3d-query-formats",
"Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(l.isNone(F.outFields)||!F.outFields.includes("*")){F=F===G?F.clone():F;l.isNone(F.outFields)&&(F.outFields=[]);const {originX:E,originY:K,originZ:P,translationX:W,translationY:ia,translationZ:Z,scaleX:V,scaleY:qa,scaleZ:sa,rotationX:Ba,rotationY:oa,rotationZ:U,rotationDeg:ca}=this.infoFor3D.transformFieldRoles;F.outFields.push(E,K,P,W,ia,Z,V,qa,sa,Ba,oa,U,ca)}}return F};L._normalizeFields=function(G){if(l.isSome(this.fieldsIndex)&&
l.isSome(G))for(const F of G)(G=this.fieldsIndex.get(F.name))&&Object.assign(F,G.toJSON())};L._queryIs3DObjectFormat=function(G){return l.isSome(this.infoFor3D)&&G.returnGeometry&&"xyFootprint"!==G.multipatchOption&&!G.outStatistics};return N}(J);c.__decorate([t.property({type:p.DataLayerSource})],f.prototype,"dynamicDataSource",void 0);c.__decorate([t.property()],f.prototype,"fieldsIndex",void 0);c.__decorate([t.property()],f.prototype,"format",void 0);c.__decorate([t.property()],f.prototype,"gdbVersion",
void 0);c.__decorate([t.property()],f.prototype,"infoFor3D",void 0);c.__decorate([t.property()],f.prototype,"sourceSpatialReference",void 0);return f=c.__decorate([m.subclass("esri.tasks.QueryTask")],f)})},"esri/rest/query/executeAttachmentQuery":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/queryAttachments","../support/AttachmentQuery"],function(a,b,c,e,h){function l(){l=b._asyncToGenerator(function*(q,t,f){const k=c.parseUrl(q);return e.executeAttachmentQuery(k,
h.from(t),{...f}).then(m=>e.processAttachmentQueryResult(m.data.attachmentGroups,k.path))});return l.apply(this,arguments)}a.executeAttachmentQuery=function(q,t,f){return l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/utils":function(){define(["exports","../core/maybe","../core/urlUtils","../geometry/support/scaleUtils","../views/support/floorFilterUtils"],function(a,b,c,e,h){function l(t,f,k){const m={};for(const u in t)if("declaredClass"!==u){var p=t[u];
if(null!=p&&"function"!==typeof p)if(Array.isArray(p)){m[u]=[];for(let g=0;g<p.length;g++)m[u][g]=l(p[g])}else"object"===typeof p?p.toJSON?(p=p.toJSON(k&&k[u]),m[u]=f?p:JSON.stringify(p)):m[u]=f?p:JSON.stringify(p):m[u]=p}return m}function q({floors:t,visibleSublayers:f}){const k=!(null==t||!t.length);f=f.filter(m=>null!=m.definitionExpression||k&&null!=m.floorInfo);return f.length?f.map(m=>{var p=h.getLayerFloorFilterClause(t,m);p=b.isSome(p)?h.combineFloorsDefinitionExpression(p,m):m.definitionExpression;
m={id:m.id,definitionExpression:null};p&&(m.definitionExpression=p);return m}):null}a.asValidOptions=function(t,f){return f?{...f,query:{...t,...f.query}}:{query:t}};a.encode=l;a.parseUrl=function(t){return"string"===typeof t?c.urlToObject(t):t};a.toDynamicLayersJSON=function({mapExtent:t,floors:f,width:k,sublayers:m,layerIds:p}){const u={};k={extent:t,width:k,spatialReference:null==t?void 0:t.spatialReference};t=m;p&&p.length&&m&&(t=m.filter(n=>p.includes(n.id)));const g=e.getScale(k),r=[],d=n=>
{const v=0===g,z=0===n.minScale||g<=n.minScale,A=0===n.maxScale||g>=n.maxScale;n.visible&&(v||z&&A)&&(n.sublayers?n.sublayers.forEach(d):r.unshift(n))};t&&t.forEach(d);t&&t.length&&(m=r.map(n=>{const v=h.getLayerFloorFilterClause(f,n);return n.toExportImageJSON(v)}),(k=m.some(n=>"mapLayer"===n.source.type?n.source.mapLayerId!==n.id:"dataLayer"===n.source.type))?(m=JSON.stringify(m),"[]"===m&&(m="[{}]"),u.dynamicLayers=m):k||(p&&p.length?u.layerIds=p:(m=t.map(({id:n})=>n),m.length&&(u.layerIds=m)),
(m=q({floors:f,visibleSublayers:r}))&&m.length&&(m=m.reduce((n,v)=>{v.definitionExpression&&(n[v.id]=v.definitionExpression);return n},{}),Object.keys(m).length&&(u.layerDefs=JSON.stringify(m)))));return u};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/scaleUtils":function(){define(["exports","../../core/unitUtils"],function(a,b){function c(e,h){h=b.getMetersPerUnitForSR(h);return e/(h*b.inchesPerMeter*96)}a.getExtentForScale=function(e,h){const l=e.extent;e=e.width;h=
c(h,l.spatialReference);return l.clone().expand(h*e/l.width)};a.getResolutionForScale=c;a.getScale=function(e,h){h=h||e.extent;e=e.width;const l=b.getMetersPerUnitForSR(h&&h.spatialReference);return h&&e?h.width/e*l*b.inchesPerMeter*96:0};a.getScaleForResolution=function(e,h){h=b.getMetersPerUnitForSR(h);return e*h*b.inchesPerMeter*96};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/support/floorFilterUtils":function(){define(["exports"],function(a){function b(c,e){if(null==c||!c.length)return null;
c=c.filter(h=>""!==h).map(h=>`'${h}'`);c.push("''");return`${e} IN (${c.join(",")}) OR ${e} IS NULL`}a.combineFloorsDefinitionExpression=function(c,e){({definitionExpression:e}=e);return c?e?`(${e}) AND (${c})`:c:e};a.getFloorFilterClause=function(c){var e;const h=c.layer;return"floorInfo"in h&&null!=(e=h.floorInfo)&&e.floorField&&"floors"in c.view?b(c.view.floors,h.floorInfo.floorField):null};a.getLayerFloorFilterClause=function(c,e){var h;return"floorInfo"in e&&null!=(h=e.floorInfo)&&h.floorField?
b(c,e.floorInfo.floorField):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeForCount":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/query","../support/Query"],function(a,b,c,e,h){function l(){l=b._asyncToGenerator(function*(q,t,f){q=c.parseUrl(q);return e.executeQueryForCount(q,h.from(t),{...f}).then(k=>k.data.count)});return l.apply(this,arguments)}a.executeForCount=function(q,t,f){return l.apply(this,arguments)};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/query":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../request ../../../core/maybe ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../layers/support/arcgisLayerUrl ./pbfQueryUtils ./queryZScale ../../../tasks/operations/urlUtils".split(" "),function(a,b,c,e,h,l,q,t,f,k,m){function p(n,v,z=!1){const A=n.geometry,w=n.toJSON(),y=n.outSpatialReference;
let x,B;if(e.isSome(A)){x=A.spatialReference;B=A.spatialReference.wkid||JSON.stringify(A.spatialReference);w.geometryType=l.getJsonType(A);if(z&&"extent"===A.type)w.geometry=`${A.xmin},${A.ymin},${A.xmax},${A.ymax}`;else if(z&&"point"===A.type)w.geometry=`${A.x},${A.y}`;else{const C=A.toJSON();delete C.spatialReference;w.geometry=JSON.stringify(C)}w.inSR=B}x||(x=y);w.groupByFieldsForStatistics&&(w.groupByFieldsForStatistics=w.groupByFieldsForStatistics.join(","));w.objectIds&&(w.objectIds=w.objectIds.join(","));
w.orderByFields&&(w.orderByFields=w.orderByFields.join(","));!w.outFields||!w.returnDistinctValues&&(null!=v&&v.returnCountOnly||null!=v&&v.returnExtentOnly||null!=v&&v.returnIdsOnly)?delete w.outFields:-1!==w.outFields.indexOf("*")?w.outFields="*":w.outFields=w.outFields.join(",");w.outSR?w.outSR=w.outSR.wkid||JSON.stringify(w.outSR):A&&(w.returnGeometry||w.returnCentroid)&&(w.outSR=w.inSR);w.returnGeometry&&delete w.returnGeometry;w.outStatistics&&(w.outStatistics=JSON.stringify(w.outStatistics));
w.pixelSize&&(w.pixelSize=JSON.stringify(w.pixelSize));w.quantizationParameters&&(z&&e.isSome(x)&&e.isSome(n.quantizationParameters)&&e.isSome(n.quantizationParameters.extent)&&x.equals(n.quantizationParameters.extent.spatialReference)&&delete w.quantizationParameters.extent.spatialReference,w.quantizationParameters=JSON.stringify(w.quantizationParameters));w.parameterValues&&(w.parameterValues=JSON.stringify(w.parameterValues));w.rangeValues&&(w.rangeValues=JSON.stringify(w.rangeValues));w.dynamicDataSource&&
(w.layer=JSON.stringify({source:w.dynamicDataSource}),delete w.dynamicDataSource);if(w.timeExtent){const {start:C,end:D}=w.timeExtent;if(null!=C||null!=D)w.time=C===D?C:`${null==C?"null":C},${null==D?"null":D}`;delete w.timeExtent}return w}function u(){u=b._asyncToGenerator(function*(n,v,z,A){n=e.isSome(v.timeExtent)&&v.timeExtent.isEmpty?{data:{features:[]}}:yield d(n,v,"json",A);k.applyFeatureSetZUnitScaling(v,z,n.data);return n});return u.apply(this,arguments)}function g(){g=b._asyncToGenerator(function*(n,
v,z,A){if(e.isSome(v.timeExtent)&&v.timeExtent.isEmpty)return Promise.resolve({data:z.createFeatureResult()});n=yield r(n,v,A);n.data=f.parsePBFFeatureQuery(n.data,z);return n});return g.apply(this,arguments)}function r(n,v,z){return d(n,v,"pbf",z)}function d(n,v,z,A={},w={}){const y="string"===typeof n?h.urlToObject(n):n;n=v.geometry?[v.geometry]:[];A.responseType="pbf"===z?"array-buffer":"json";return q.normalizeCentralMeridian(n,null,A).then(x=>{x=x&&x[0];e.isSome(x)&&(v=v.clone(),v.geometry=x);
x=t.isHostedAgolService(y.path);x=m.mapParameters({...y.query,f:z,...w,...p(v,w,x)});return c(h.join(y.path,"query"),{...A,query:{...x,...A.query}})})}a.executeQuery=function(n,v,z,A){return u.apply(this,arguments)};a.executeQueryForCount=function(n,v,z){return e.isSome(v.timeExtent)&&v.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):d(n,v,"json",z,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=function(n,v,z){return e.isSome(v.timeExtent)&&v.timeExtent.isEmpty?Promise.resolve({data:{count:0,
extent:null}}):d(n,v,"json",z,{returnExtentOnly:!0,returnCountOnly:!0}).then(A=>{const w=A.data;if(w.hasOwnProperty("extent"))return A;if(w.features)throw Error("Layer does not support extent calculation.");if(w.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return A})};a.executeQueryForIds=function(n,v,z){return e.isSome(v.timeExtent)&&v.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):d(n,v,"json",z,{returnIdsOnly:!0})};a.executeQueryPBF=function(n,v,
z,A){return g.apply(this,arguments)};a.executeQueryPBFBuffer=r;a.queryToQueryStringParameters=p;a.runQuery=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../config ../../core/Error ../../core/Logger ../../core/maybe ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../tasks/geometry/cut ../../tasks/geometry/simplify".split(" "),function(a,b,c,
e,h,l,q,t,f,k,m,p,u){function g(y){const x=[];let B=0,C=0;for(let D=0;D<y.length;D++){const J=y[D];let I=null;for(let N=0;N<J.length;N++)I=J[N],x.push(I),0===N?C=B=I[0]:(B=Math.min(B,I[0]),C=Math.max(C,I[0]));I&&x.push([(B+C)/2,0])}return x}function r(y,x){if(!(y instanceof t||y instanceof q))throw w.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new e("straightLineDensify: the input geometry is neither polyline nor polygon");var B=f.getGeometryParts(y);const C=[];
for(const J of B){B=[];C.push(B);B.push([J[0][0],J[0][1]]);for(let I=0;I<J.length-1;I++){const N=J[I][0],L=J[I][1],G=J[I+1][0],F=J[I+1][1];var D=Math.sqrt((G-N)*(G-N)+(F-L)*(F-L));const E=(F-L)/D,K=(G-N)/D,P=D/x;if(1<P){for(let W=1;W<=P-1;W++){const ia=W*x;B.push([K*ia+N,E*ia+L])}D=(D+Math.floor(P-1)*x)/2;B.push([K*D+N,E*D+L])}B.push([G,F])}}return"polygon"===y.type?new q({rings:C,spatialReference:y.spatialReference}):new t({paths:C,spatialReference:y.spatialReference})}function d(y,x,B){x&&(y=r(y,
1E6),y=m.webMercatorToGeographic(y,!0));B&&(y=f.updatePolyGeometry(y,B));return y}function n(y,x,B){if(Array.isArray(y)){var C=y[0];C>x?(B=f.offsetMagnitude(C,x),y[0]=C+-2*B*x):C<B&&(x=f.offsetMagnitude(C,B),y[0]=C+-2*x*B)}else C=y.x,C>x?(B=f.offsetMagnitude(C,x),y=y.clone().offset(-2*B*x,0)):C<B&&(x=f.offsetMagnitude(C,B),y=y.clone().offset(-2*x*B,0));return y}function v(y,x){let B=-1;for(let C=0;C<x.cutIndexes.length;C++){const D=x.cutIndexes[C],J=x.geometries[C],I=f.getGeometryParts(J);for(let N=
0;N<I.length;N++){const L=I[N];L.some(G=>{if(180>G[0])return!0;G=0;for(var F=0;F<L.length;F++){var E=L[F][0];G=E>G?E:G}G=Number(G.toFixed(9));G=-360*f.offsetMagnitude(G,180);for(F=0;F<L.length;F++)E=J.getPoint(N,F),J.setPoint(N,F,E.clone().offset(G,0));return!0})}if(D===B)if("polygon"===y[0].type)for(const N of f.getGeometryParts(J))y[D]=y[D].addRing(N);else{if("polyline"===y[0].type)for(const N of f.getGeometryParts(J))y[D]=y[D].addPath(N)}else B=D,y[D]=J}return y}function z(y,x,B){return A.apply(this,
arguments)}function A(){A=b._asyncToGenerator(function*(y,x,B){var C;if(!Array.isArray(y))return z([y],x);x=null!=(C=null==x?void 0:x.url)?C:c.geometryServiceUrl;let D,J,I;let N=0;var L=[];C=[];for(var G of y)if(l.isNone(G))C.push(G);else{if(!F){var F=G.spatialReference;var E=k.getInfo(F);var K=(D=F.isWebMercator)?102100:4326;J=f.cutParams[K].maxX;I=f.cutParams[K].minX;var P=f.cutParams[K].plus180Line;K=f.cutParams[K].minus180Line}if(E)if("mesh"===G.type)C.push(G);else if("point"===G.type)C.push(n(G.clone(),
J,I));else if("multipoint"===G.type){var W=G.clone();W.points=W.points.map(ia=>n(ia,J,I));C.push(W)}else if("extent"===G.type)W=G.clone()._normalize(!1,!1,E),C.push(W.rings?new q(W):W);else if(G.extent){W=G.extent;const ia=2*f.offsetMagnitude(W.xmin,I)*J;let Z=0===ia?G.clone():f.updatePolyGeometry(G.clone(),ia);W.offset(ia,0);W.intersects(P)&&W.xmax!==J?(N=W.xmax>N?W.xmax:N,Z=d(Z,D),L.push(Z),C.push("cut")):W.intersects(K)&&W.xmin!==I?(N=2*W.xmax*J>N?2*W.xmax*J:N,Z=d(Z,D,360),L.push(Z),C.push("cut")):
C.push(Z)}else C.push(G.clone());else C.push(G)}F=f.offsetMagnitude(N,J);E=-90;P=F;for(G=new t;0<F;)K=-180+360*F,G.addPath([[K,E],[K,-1*E]]),E*=-1,F--;if(0<L.length&&0<P){F=yield p.cut(x,L,G,B);F=v(L,F);E=[];L=[];for(P=0;P<C.length;P++)G=C[P],"cut"!==G?L.push(G):(G=F.shift(),K=y[P],l.isSome(K)&&"polygon"===K.type&&K.rings&&1<K.rings.length&&G.rings.length>=K.rings.length?(E.push(G),L.push("simplify")):L.push(D?m.geographicToWebMercator(G):G));if(!E.length)return L;C=yield u.simplify(x,E,B);y=[];for(B=
0;B<L.length;B++)x=L[B],"simplify"!==x?y.push(x):y.push(D?m.geographicToWebMercator(C.shift()):C.shift());return y}y=[];for(B=0;B<C.length;B++)x=C[B],"cut"!==x?y.push(x):(x=L.shift(),y.push(!0===D?m.geographicToWebMercator(x):x));return Promise.resolve(y)});return A.apply(this,arguments)}const w=h.getLogger("esri.geometry.support.normalizeUtils");a.getDenormalizedExtent=function(y){if(!y)return null;const x=y.extent;if(!x)return null;var B=y.spatialReference&&k.getInfo(y.spatialReference);if(!B)return x;
const [C,D]=B.valid;({width:B}=x);let {xmin:J,xmax:I}=x;[J,I]=[I,J];if("extent"===y.type||0===B||B<=D||B>2*D||J<C||I>D)return x;let N;switch(y.type){case "polygon":if(1<y.rings.length)N=g(y.rings);else return x;break;case "polyline":if(1<y.paths.length)N=g(y.paths);else return x;break;case "multipoint":N=y.points}y=x.clone();for(let L=0;L<N.length;L++){let G=N[L][0];0>G?(G+=D,I=Math.max(G,I)):(G-=D,J=Math.min(G,J))}y.xmin=J;y.xmax=I;return y.width<B?(y.xmin-=D,y.xmax-=D,y):x};a.normalizeCentralMeridian=
z;a.normalizeMapX=function(y,x){if(x=k.getInfo(x)){const [B,C]=x.valid;x=C-B;if(y<B)for(;y<B;)y+=x;if(y>C)for(;y>C;)y-=x}return y};a.straightLineDensify=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(a,b,c,e){function h(q){return e.isPolygon(q)?q.rings:q.paths}const l={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new b({paths:[[[2.0037508342788905E7,
-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,-180],[180,180]]],spatialReference:c.WGS84}),minus180Line:new b({paths:[[[-180,-180],[-180,180]]],spatialReference:c.WGS84})}};a.cutParams=l;a.getGeometryParts=h;a.getSpatialReferenceMinMaxX=
function(q){q=(null==q?0:q.isWebMercator)?102100:4326;return[l[q].minX,l[q].maxX]};a.offsetMagnitude=function(q,t){return Math.ceil((q-t)/(2*t))};a.updatePolyGeometry=function(q,t){const f=h(q);for(const k of f)for(const m of k)m[0]+=t;return q};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/geometry/cut":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),function(a,b,c,e,
h,l){function q(){q=b._asyncToGenerator(function*(t,f,k,m){t="string"===typeof t?h.urlToObject(t):t;const p=f[0].spatialReference;f={...m,query:{...t.query,f:"json",sr:JSON.stringify(p),target:JSON.stringify({geometryType:l.getJsonType(f[0]),geometries:f}),cutter:JSON.stringify(k)}};f=yield e(t.path+"/cut",f);const {cutIndexes:u,geometries:g=[]}=f.data;return{cutIndexes:u,geometries:g.map(r=>{r=l.fromJSON(r);r.spatialReference=p;return r})}});return q.apply(this,arguments)}a.cut=function(t,f,k,m){return q.apply(this,
arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/geometry/simplify":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../request","../../core/urlUtils","../../geometry/support/jsonUtils"],function(a,b,c,e,h){function l(){l=b._asyncToGenerator(function*(f,k,m){const p="string"===typeof f?e.urlToObject(f):f;f=k[0].spatialReference;const u=h.getJsonType(k[0]);k={...m,query:{...p.query,f:"json",sr:f.wkid?f.wkid:JSON.stringify(f),geometries:JSON.stringify(q(k))}};
k=yield c(p.path+"/simplify",k);return t(k.data,u,f)});return l.apply(this,arguments)}function q(f){return{geometryType:h.getJsonType(f[0]),geometries:f.map(k=>k.toJSON())}}function t(f,k,m){const p=h.getGeometryType(k);return f.map(u=>{u=p.fromJSON(u);u.spatialReference=m;return u})}a.simplify=function(f,k,m){return l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(a,
b){a.parsePBFFeatureQuery=function(c,e){var h=b.parseFeatureQuery(c,e);c=h.queryResult.featureResult;e=h.queryResult.queryGeometry;h=h.queryResult.queryGeometryType;if(c&&c.features&&c.features.length&&c.objectIdFieldName){const l=c.objectIdFieldName;for(const q of c.features)q.attributes&&(q.objectId=q.attributes[l])}c&&(c.queryGeometry=e,c.queryGeometryType=h);return c};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define("exports ../../../core/Error ../../../core/maybe ../../../core/pbf ../../../layers/graphics/OptimizedGeometry ./pbfOptimizedFeatureSet".split(" "),
function(a,b,c,e,h,l){function q(C){return C>=y.length?null:y[C]}function t(C,D,J){for(J=D.createPointGeometry(J);C.next();)switch(C.tag()){case 3:{var I=C.getUInt32();I=C.pos()+I;let N=0;for(;C.pos()<I;)D.addCoordinatePoint(J,C.getSInt64(),N++);break}default:C.skip()}return J}function f(C,D,J){const I=D.createGeometry(J);for(J=2+(J.hasZ?1:0)+(J.hasM?1:0);C.next();)switch(C.tag()){case 2:var N=C.getUInt32();N=C.pos()+N;for(var L=0;C.pos()<N;)D.addLength(I,C.getUInt32(),L++);break;case 3:N=C.getUInt32();
N=C.pos()+N;L=0;for(D.allocateCoordinates(I);C.pos()<N;)D.addCoordinate(I,C.getSInt64(),L),L++,L===J&&(L=0);break;default:C.skip()}return I}function k(C){const D=new h;let J="esriGeometryPoint";for(;C.next();)switch(C.tag()){case 2:var I=C.getUInt32();for(I=C.pos()+I;C.pos()<I;)D.lengths.push(C.getUInt32());break;case 3:I=C.getUInt32();for(I=C.pos()+I;C.pos()<I;)D.coords.push(C.getSInt64());break;case 1:J=l.OPTIMIZED_GEOMETRY_TYPES[C.getEnum()];break;default:C.skip()}return{queryGeometry:D,queryGeometryType:J}}
function m(C){for(;C.next();)switch(C.tag()){case 1:return C.getString();case 2:return C.getFloat();case 3:return C.getDouble();case 4:return C.getSInt32();case 5:return C.getUInt32();case 6:return C.getInt64();case 7:return C.getUInt64();case 8:return C.getSInt64();case 9:return C.getBool();default:return C.skip(),null}return null}function p(C){const D={type:q(0)};for(;C.next();)switch(C.tag()){case 1:D.name=C.getString();break;case 2:D.type=q(C.getEnum());break;case 3:D.alias=C.getString();break;
case 4:var J=C.getEnum();J=J>=x.length?null:x[J];D.sqlType=J;break;case 5:C.skip();break;case 6:D.defaultValue=C.getString();break;default:C.skip()}return D}function u(C){const D={};for(;C.next();)switch(C.tag()){case 1:D.name=C.getString();break;case 2:D.isSystemMaintained=C.getBool();break;default:C.skip()}return D}function g(C,D,J,I){const N=D.createFeature(J);let L=0;for(;C.next();)switch(C.tag()){case 1:{const G=I[L++].name;N.attributes[G]=C.processMessage(m);break}case 2:N.geometry=C.processMessageWithArgs(f,
D,J);break;case 4:N.centroid=C.processMessageWithArgs(t,D,J);break;default:C.skip()}return N}function r(C){const D=[1,1,1,1];for(;C.next();)switch(C.tag()){case 1:D[0]=C.getDouble();break;case 2:D[1]=C.getDouble();break;case 4:D[2]=C.getDouble();break;case 3:D[3]=C.getDouble();break;default:C.skip()}return D}function d(C){const D=[0,0,0,0];for(;C.next();)switch(C.tag()){case 1:D[0]=C.getDouble();break;case 2:D[1]=C.getDouble();break;case 4:D[2]=C.getDouble();break;case 3:D[3]=C.getDouble();break;
default:C.skip()}return D}function n(C){const D={originPosition:0>=B.length?null:B[0]};for(;C.next();)switch(C.tag()){case 1:var J=C.getEnum();D.originPosition=J>=B.length?null:B[J];break;case 2:D.scale=C.processMessage(r);break;case 3:D.translate=C.processMessage(d);break;default:C.skip()}return D}function v(C){const D={};for(;C.next();)switch(C.tag()){case 1:D.shapeAreaFieldName=C.getString();break;case 2:D.shapeLengthFieldName=C.getString();break;case 3:D.units=C.getString();break;default:C.skip()}return D}
function z(C,D){for(D=D.createSpatialReference();C.next();)switch(C.tag()){case 1:D.wkid=C.getUInt32();break;case 5:D.wkt=C.getString();break;case 2:D.latestWkid=C.getUInt32();break;case 3:D.vcsWkid=C.getUInt32();break;case 4:D.latestVcsWkid=C.getUInt32();break;default:C.skip()}return D}function A(C,D){const J=D.createFeatureResult();J.geometryType=0>=D.geometryTypes.length?null:D.geometryTypes[0];let I=!1;for(;C.next();)switch(C.tag()){case 1:J.objectIdFieldName=C.getString();break;case 3:J.globalIdFieldName=
C.getString();break;case 4:J.geohashFieldName=C.getString();break;case 5:J.geometryProperties=C.processMessage(v);break;case 7:var N=C.getEnum();J.geometryType=N>=D.geometryTypes.length?null:D.geometryTypes[N];break;case 8:J.spatialReference=C.processMessageWithArgs(z,D);break;case 10:J.hasZ=C.getBool();break;case 11:J.hasM=C.getBool();break;case 12:J.transform=C.processMessage(n);break;case 9:N=C.getBool();J.exceededTransferLimit=N;break;case 13:D.addField(J,C.processMessage(p));break;case 15:I||
(D.prepareFeatures(J),I=!0);D.addFeature(J,C.processMessageWithArgs(g,D,J,J.fields));break;case 2:J.uniqueIdField=C.processMessage(u);break;default:C.skip()}D.finishFeatureResult(J);return J}function w(C,D){const J={};let I=null;for(;C.next();)switch(C.tag()){case 4:I=C.processMessageWithArgs(k);break;case 1:J.featureResult=C.processMessageWithArgs(A,D);break;default:C.skip()}c.isSome(I)&&J.featureResult&&D.addQueryGeometry(J,I);return J}const y="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),
x="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),B=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(C,D){try{const J=new e(new Uint8Array(C),new DataView(C));
for(C={};J.next();)switch(J.tag()){case 2:C.queryResult=J.processMessageWithArgs(w,D);break;default:J.skip()}return C}catch(J){throw new b("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:J});}};a.parseFieldType=q;a.parseTransform=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,b){const c=a("esri-text-decoder")?new TextDecoder("utf-8"):null,e=a("safari")||a("ios")?6:a("ff")?12:32;a=function(){function h(q,
t,f=0,k=q?q.byteLength:0){this._tag=0;this._dataType=99;this.init(q,t,f,k)}var l=h.prototype;l.init=function(q,t,f,k){this._data=q;this._dataView=t;this._pos=f;this._end=k};l.clone=function(){return new h(this._data,this._dataView,this._pos,this._end)};l.pos=function(){return this._pos};l.move=function(q){this._pos=q};l.nextTag=function(q){for(;;){if(this._pos===this._end)return!1;const t=this._decodeVarint();this._tag=t>>3;this._dataType=t&7;if(!q||q===this._tag)break;this.skip()}return!0};l.next=
function(){if(this._pos===this._end)return!1;const q=this._decodeVarint();this._tag=q>>3;this._dataType=q&7;return!0};l.empty=function(){return this._pos>=this._end};l.tag=function(){return this._tag};l.getInt32=function(){return this._decodeVarint()};l.getInt64=function(){return this._decodeVarint()};l.getUInt32=function(){let q=4294967295;q=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return q;q=(q|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return q;q=(q|
(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return q;q=(q|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return q;q=(q|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return q};l.getUInt64=function(){return this._decodeVarint()};l.getSInt32=function(){const q=this.getUInt32();return q>>>1^-(q&1)|0};l.getSInt64=function(){return this._decodeSVarint()};l.getBool=function(){const q=0!==this._data[this._pos];this._skip(1);return q};l.getEnum=
function(){return this._decodeVarint()};l.getFixed64=function(){var q=this._dataView;const t=this._pos;q=q.getUint32(t,!0)+4294967296*q.getUint32(t+4,!0);this._skip(8);return q};l.getSFixed64=function(){var q=this._dataView;const t=this._pos;q=q.getUint32(t,!0)+4294967296*q.getInt32(t+4,!0);this._skip(8);return q};l.getDouble=function(){const q=this._dataView.getFloat64(this._pos,!0);this._skip(8);return q};l.getFixed32=function(){const q=this._dataView.getUint32(this._pos,!0);this._skip(4);return q};
l.getSFixed32=function(){const q=this._dataView.getInt32(this._pos,!0);this._skip(4);return q};l.getFloat=function(){const q=this._dataView.getFloat32(this._pos,!0);this._skip(4);return q};l.getString=function(){const q=this._getLength();var t=this._pos;t=this._toString(this._data,t,t+q);this._skip(q);return t};l.getBytes=function(){const q=this._getLength();var t=this._pos;t=this._toBytes(this._data,t,t+q);this._skip(q);return t};l.getLength=function(){return this._getLengthUnsafe()};l.processMessageWithArgs=
function(q,t,f,k){const m=this.getMessage();q=q(m,t,f,k);m.release();return q};l.processMessage=function(q){const t=this.getMessage();q=q(t);t.release();return q};l.getMessage=function(){const q=this._getLength(),t=h.pool.acquire();t.init(this._data,this._dataView,this._pos,this._pos+q);this._skip(q);return t};l.release=function(){h.pool.release(this)};l.dataType=function(){return this._dataType};l.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;
case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};l.skipLen=function(q){this._skip(q)};l._skip=function(q){if(this._pos+q>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=q};l._decodeVarint=function(){const q=this._data;let t=this._pos,f=0,k;if(10<=this._end-t){if(k=q[t++],f|=k&127,0!==(k&128)&&(k=q[t++],f|=(k&127)<<7,0!==(k&128)&&(k=q[t++],f|=(k&127)<<14,0!==(k&128)&&(k=q[t++],f|=(k&127)<<21,0!==(k&128)&&
(k=q[t++],f+=268435456*(k&127),0!==(k&128)&&(k=q[t++],f+=34359738368*(k&127),0!==(k&128)&&(k=q[t++],f+=4398046511104*(k&127),0!==(k&128)&&(k=q[t++],f+=562949953421312*(k&127),0!==(k&128)&&(k=q[t++],f+=72057594037927936*(k&127),0!==(k&128)&&(k=q[t++],f+=0x7fffffffffffffff*(k&127),0!==(k&128)))))))))))throw Error("Varint too long!");}else{let m=1;for(;t!==this._end;){k=q[t];if(0===(k&128))break;++t;f+=(k&127)*m;m*=128}if(t===this._end)throw Error("Varint overrun!");++t;f+=k*m}this._pos=t;return f};
l._decodeSVarint=function(){const q=this._decodeVarint();return q%2?-(q+1)/2:q/2};l._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};l._getLengthUnsafe=function(){return this.getUInt32()};l._toString=function(q,t,f){f=Math.min(this._end,f);if(f-t>e&&c)return q=q.subarray(t,f),c.decode(q);let k="",m="";for(;t<f;++t){const p=q[t];p&128?m+="%"+p.toString(16):(k+=decodeURIComponent(m)+String.fromCharCode(p),m="")}m.length&&(k+=decodeURIComponent(m));
return k};l._toBytes=function(q,t,f){f=Math.min(this._end,f);return new Uint8Array(q.buffer,t,f-t)};return h}();a.pool=new b(a,null,h=>{h._data=null;h._dataView=null});return a})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function b(e=[],h=[],l=!1){this.lengths=null!=e?e:[];this.coords=null!=h?h:[];this.hasIndeterminateRingOrder=l}var c=b.prototype;c.forEachVertex=function(e){let h=0;this.lengths.length||e(this.coords[0],
this.coords[1]);for(let l=0;l<this.lengths.length;l++){const q=this.lengths[l];for(let t=0;t<q;t++)e(this.coords[2*(t+h)],this.coords[2*(t+h)+1]);h+=q}};c.clone=function(e){return e?(e.set(this.coords),new b(this.lengths.slice(),e,this.hasIndeterminateRingOrder)):new b(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};a._createClass(b,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",
get:function(){return this.lengths.reduce((e,h)=>e+h)}}]);return b}()})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),function(a,b,c,e,h,l){const q=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let t=function(){function f(m){this.options=
m;this.geometryTypes=q;this._vertexDimension=this._coordinatePtr=0}var k=f.prototype;k.createFeatureResult=function(){return new h};k.prepareFeatures=function(m){this._vertexDimension=2;m.hasZ&&this._vertexDimension++;m.hasM&&this._vertexDimension++};k.finishFeatureResult=function(m){if(m&&m.features&&m.hasZ&&this.options.sourceSpatialReference&&m.spatialReference&&!c.equals(m.spatialReference,this.options.sourceSpatialReference)&&!m.spatialReference.vcsWkid){var p=b.getMetersPerVerticalUnitForSR(this.options.sourceSpatialReference),
u=b.getMetersPerVerticalUnitForSR(m.spatialReference);p/=u;if(1!==p)for(const g of m.features)if(e.hasGeometry(g))for(m=g.geometry.coords,u=2;u<m.length;u+=3)m[u]*=p}};k.addFeature=function(m,p){m.features.push(p)};k.createFeature=function(){return new e.default};k.createSpatialReference=function(){return{wkid:0}};k.createGeometry=function(){return new l};k.addField=function(m,p){m.fields.push(p)};k.allocateCoordinates=function(m){m.coords.length=m.lengths.reduce((p,u)=>p+u,0)*this._vertexDimension;
this._coordinatePtr=0};k.addCoordinate=function(m,p){m.coords[this._coordinatePtr++]=p};k.addCoordinatePoint=function(m,p){m.coords.push(p)};k.addLength=function(m,p){m.lengths.push(p)};k.addQueryGeometry=function(m,p){m.queryGeometry=p.queryGeometry;m.queryGeometryType=p.queryGeometryType};k.createPointGeometry=function(){return new l};return f}();a.OPTIMIZED_GEOMETRY_TYPES=q;a.OptimizedFeatureSetParserContext=t;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports",
"../../chunks/_rollupPluginBabelHelpers","../../core/maybe"],function(a,b,c){let e=function(){function l(q=null,t={},f,k){this.geometry=q;this.attributes=t;this.centroid=f;this.objectId=k;this.geohashY=this.geohashX=this.displayId=0}l.prototype.weakClone=function(){const q=new l(this.geometry,this.attributes,this.centroid,this.objectId);q.displayId=this.displayId;q.geohashX=this.geohashX;q.geohashY=this.geohashY;return q};return l}(),h=function(l){function q(){return l.apply(this,arguments)||this}
b._inheritsLoose(q,l);return q}(e);a.OptimizedFeatureWithGeometry=h;a.default=e;a.hasGeometry=function(l){return!(c.isNone(l.geometry)||!l.geometry.coords||!l.geometry.coords.length)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function a(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=
[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}a.prototype.weakClone=function(){const b=new a;b.objectIdFieldName=this.objectIdFieldName;b.globalIdFieldName=this.globalIdFieldName;b.geohashFieldName=this.geohashFieldName;b.geometryProperties=this.geometryProperties;b.geometryType=this.geometryType;b.spatialReference=this.spatialReference;b.hasZ=this.hasZ;b.hasM=this.hasM;b.features=this.features;b.fields=this.fields;
b.transform=this.transform;b.exceededTransferLimit=this.exceededTransferLimit;b.uniqueIdField=this.uniqueIdField;b.queryGeometry=this.queryGeometry;b.queryGeometryType=this.queryGeometryType;return b};return a}()})},"esri/rest/query/executeForExtent":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../utils ./operations/query ../support/Query ../../geometry/Extent".split(" "),function(a,b,c,e,h,l,q){function t(){t=b._asyncToGenerator(function*(f,k,m){f=e.parseUrl(f);
return h.executeQueryForExtent(f,l.from(k),{...m}).then(p=>({count:p.data.count,extent:q.fromJSON(p.data.extent)}))});return t.apply(this,arguments)}a.executeForExtent=function(f,k,m){return t.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeForIds":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/query","../support/Query"],function(a,b,c,e,h){function l(){l=b._asyncToGenerator(function*(q,t,f){q=c.parseUrl(q);
return e.executeQueryForIds(q,h.from(t),{...f}).then(k=>k.data.objectIds)});return l.apply(this,arguments)}a.executeForIds=function(q,t,f){return l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeQueryJSON":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/query ../support/FeatureSet ../support/Query".split(" "),function(a,b,c,e,h,l){function q(){q=b._asyncToGenerator(function*(k,m,p){k=yield t(k,m,p);return h.fromJSON(k)});
return q.apply(this,arguments)}function t(k,m,p){return f.apply(this,arguments)}function f(){f=b._asyncToGenerator(function*(k,m,p){k=c.parseUrl(k);p={...p};m=l.from(m);({data:m}=yield e.executeQuery(k,m,m.sourceSpatialReference,p));return m});return f.apply(this,arguments)}a.executeQueryJSON=function(k,m,p){return q.apply(this,arguments)};a.executeRawQueryJSON=t;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeQueryPBF":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/pbfJSONFeatureSet ./operations/query ../support/FeatureSet ../support/Query".split(" "),
function(a,b,c,e,h,l,q){function t(){t=b._asyncToGenerator(function*(m,p,u){m=yield f(m,p,u);return l.fromJSON(m)});return t.apply(this,arguments)}function f(m,p,u){return k.apply(this,arguments)}function k(){k=b._asyncToGenerator(function*(m,p,u){m=c.parseUrl(m);u={...u};p=q.from(p);({data:p}=yield h.executeQueryPBF(m,p,new e.JSONFeatureSetParserContext({sourceSpatialReference:p.sourceSpatialReference,applyTransform:!p.quantizationParameters}),u));return p});return k.apply(this,arguments)}a.executeQueryPBF=
function(m,p,u){return t.apply(this,arguments)};a.executeRawQueryPBF=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfJSONFeatureSet":function(){define(["exports","../../../core/compilerUtils","../../../core/maybe","../../../geometry/support/zscale","../../../layers/graphics/featureConversionUtils"],function(a,b,c,e,h){function l(g,r){return r}function q(g,r,d,n){switch(d){case 0:return m(g,r+n,0);case 1:return"lowerLeft"===g.originPosition?m(g,r+n,1):p(g,r+n,1)}}
function t(g,r,d,n){switch(d){case 2:return m(g,r,2);default:return q(g,r,d,n)}}function f(g,r,d,n){switch(d){case 2:return m(g,r,3);default:return q(g,r,d,n)}}function k(g,r,d,n){switch(d){case 3:return m(g,r,3);default:return t(g,r,d,n)}}function m({translate:g,scale:r},d,n){return g[n]+d*r[n]}function p({translate:g,scale:r},d,n){return g[n]-d*r[n]}let u=function(){function g(d){this.options=d;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];
this.previousCoordinate=[0,0];this.transform=null;this.applyTransform=l;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this.AttributesConstructor=function(){}}var r=g.prototype;r.createFeatureResult=function(){return{fields:[],features:[]}};r.finishFeatureResult=function(d){this.options.applyTransform&&(d.transform=null);this.AttributesConstructor=function(){};this.coordinateBuffer=null;this.lengths.length=
0;if(d.hasZ){var n=e.getGeometryZScaler(d.geometryType,this.options.sourceSpatialReference,d.spatialReference);if(!c.isNone(n))for(const v of d.features)n(v.geometry)}};r.createSpatialReference=function(){return{}};r.addField=function(d,n){d.fields.push(n);const v=d.fields.map(z=>z.name);this.AttributesConstructor=function(){for(const z of v)this[z]=null}};r.addFeature=function(d,n){d.features.push(n)};r.prepareFeatures=function(d){this.transform=d.transform;this.options.applyTransform&&d.transform&&
(this.applyTransform=this.deriveApplyTransform(d));this.vertexDimension=2;d.hasZ&&this.vertexDimension++;d.hasM&&this.vertexDimension++;switch(d.geometryType){case "esriGeometryPoint":this.addCoordinate=(n,v,z)=>this.addCoordinatePoint(n,v,z);this.createGeometry=n=>this.createPointGeometry(n);break;case "esriGeometryPolygon":this.addCoordinate=(n,v,z)=>this.addCoordinatePolygon(n,v,z);this.createGeometry=n=>this.createPolygonGeometry(n);break;case "esriGeometryPolyline":this.addCoordinate=(n,v,z)=>
this.addCoordinatePolyline(n,v,z);this.createGeometry=n=>this.createPolylineGeometry(n);break;case "esriGeometryMultipoint":this.addCoordinate=(n,v,z)=>this.addCoordinateMultipoint(n,v,z);this.createGeometry=n=>this.createMultipointGeometry(n);break;default:b.neverReached(d.geometryType)}};r.createFeature=function(){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;return{attributes:new this.AttributesConstructor}};
r.allocateCoordinates=function(){};r.addLength=function(d,n,v){0===this.lengths.length&&(this.toAddInCurrentPath=n);this.lengths.push(n)};r.addQueryGeometry=function(d,n){const {queryGeometry:v,queryGeometryType:z}=n;n=h.unquantizeOptimizedGeometry(v.clone(),v,!1,!1,this.transform);n=h.convertToGeometry(n,z,!1,!1);d.queryGeometryType=z;d.queryGeometry={...n}};r.createPointGeometry=function(d){const n={x:0,y:0,spatialReference:d.spatialReference};d.hasZ&&(n.z=0);d.hasM&&(n.m=0);return n};r.addCoordinatePoint=
function(d,n,v){n=this.applyTransform(this.transform,n,v,0);switch(v){case 0:d.x=n;break;case 1:d.y=n;break;case 2:"z"in d?d.z=n:d.m=n;break;case 3:d.m=n}};r.transformPathLikeValue=function(d,n){let v=0;1>=n&&(v=this.previousCoordinate[n],this.previousCoordinate[n]+=d);return this.applyTransform(this.transform,d,n,v)};r.addCoordinatePolyline=function(d,n,v){this.dehydratedAddPointsCoordinate(d.paths,n,v)};r.addCoordinatePolygon=function(d,n,v){this.dehydratedAddPointsCoordinate(d.rings,n,v)};r.addCoordinateMultipoint=
function(d,n,v){0===v&&d.points.push([]);n=this.transformPathLikeValue(n,v);d.points[d.points.length-1].push(n)};r.createPolygonGeometry=function(d){return{rings:[[]],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}};r.createPolylineGeometry=function(d){return{paths:[[]],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}};r.createMultipointGeometry=function(d){return{points:[],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}};r.dehydratedAddPointsCoordinate=
function(d,n,v){0===v&&0===this.toAddInCurrentPath--&&(d.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);n=this.transformPathLikeValue(n,v);d=d[d.length-1];0===v&&(this.coordinateBufferPtr=0,this.coordinateBuffer=Array(this.vertexDimension),d.push(this.coordinateBuffer));this.coordinateBuffer[this.coordinateBufferPtr++]=n};r.deriveApplyTransform=function(d){const {hasZ:n,hasM:v}=d;return n&&v?k:n?t:v?f:q};return g}();
a.JSONFeatureSetParserContext=u;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(a,b,c,e,h,l,q,t){function f(Q,S){return Q?S?4:3:S?3:2}function k(Q,S,M,R){if(Q){if(M)return S&&R?H:va;if(S&&R)return Aa}else if(S&&R)return va;return ca}function m({scale:Q,translate:S},
M){return Math.round((M-S[0])/Q[0])}function p({scale:Q,translate:S},M){return Math.round((S[1]-M)/Q[1])}function u({scale:Q,translate:S},M){return M*Q[0]+S[0]}function g({scale:Q,translate:S},M){return S[1]-M*Q[1]}function r(Q){Q=Q.coords;return{x:Q[0],y:Q[1]}}function d(Q,S){Q.coords[0]=S.x;Q.coords[1]=S.y;return Q}function n(Q){Q=Q.coords;return{x:Q[0],y:Q[1],z:Q[2]}}function v(Q,S){Q.coords[0]=S.x;Q.coords[1]=S.y;Q.coords[2]=S.z;return Q}function z(Q){Q=Q.coords;return{x:Q[0],y:Q[1],m:Q[2]}}function A(Q,
S){Q.coords[0]=S.x;Q.coords[1]=S.y;Q.coords[2]=S.m;return Q}function w(Q){Q=Q.coords;return{x:Q[0],y:Q[1],z:Q[2],m:Q[3]}}function y(Q,S){Q.coords[0]=S.x;Q.coords[1]=S.y;Q.coords[2]=S.z;Q.coords[3]=S.m;return Q}function x(Q,S){return Q&&S?y:Q?v:S?A:d}function B(Q,S,M,R,aa){M=x(M,R);for(const ba of S){const {geometry:T,attributes:X}=ba;let ma;T&&(ma=M(new t,T));Q.push(new l.default(ma,X,null,X[aa]))}return Q}function C(Q,S,M,R){for(const aa of S){const {geometry:ba,attributes:T}=aa;let X;ba&&(X=D(ba,
M,R));Q.push({attributes:T,geometry:X})}return Q}function D(Q,S,M){if(e.isNone(Q))return null;const R=f(S,M),aa=[];for(let ba=0;ba<Q.coords.length;ba+=R){const T=[];for(let X=0;X<R;X++)T.push(Q.coords[ba+X]);aa.push(T)}return S?M?{points:aa,hasZ:S,hasM:M}:{points:aa,hasZ:S}:M?{points:aa,hasM:M}:{points:aa}}function J(Q,S,M,R,aa){M=f(M,R);for(const ba of S){S=ba.geometry;R=ba.attributes;let T;S&&(T=I(new t,S,M));Q.push(new l.default(T,R,null,R[aa]))}return Q}function I(Q,S,M=f(S.hasZ,S.hasM)){Q.lengths[0]=
S.points.length;const R=Q.coords;let aa=0;for(const ba of S.points)for(S=0;S<M;S++)R[aa++]=ba[S];return Q}function N(Q,S,M){if(!Q)return null;const R=f(S,M),{coords:aa,lengths:ba}=Q;Q=[];let T=0;for(const X of ba){const ma=[];for(let Ca=0;Ca<X;Ca++){const Ea=[];for(let La=0;La<R;La++)Ea.push(aa[T++]);ma.push(Ea)}Q.push(ma)}return S?M?{paths:Q,hasZ:S,hasM:M}:{paths:Q,hasZ:S}:M?{paths:Q,hasM:M}:{paths:Q}}function L(Q,S,M,R,aa){M=f(M,R);for(const ba of S){S=ba.geometry;R=ba.attributes;let T;S&&(T=G(new t,
S,M));Q.push(new l.default(T,R,null,R[aa]))}return Q}function G(Q,S,M=f(S.hasZ,S.hasM)){const {lengths:R,coords:aa}=Q;let ba=0;for(const T of S.paths){for(const X of T)for(S=0;S<M;S++)aa[ba++]=X[S];R.push(T.length)}return Q}function F(Q,S,M){if(!Q)return null;const R=f(S,M),{coords:aa,lengths:ba}=Q;Q=[];let T=0;for(const X of ba){const ma=[];for(let Ca=0;Ca<X;Ca++){const Ea=[];for(let La=0;La<R;La++)Ea.push(aa[T++]);ma.push(Ea)}Q.push(ma)}return S?M?{rings:Q,hasZ:S,hasM:M}:{rings:Q,hasZ:S}:M?{rings:Q,
hasM:M}:{rings:Q}}function E(Q,S,M,R,aa){for(const ba of S){S=ba.geometry;const T=ba.centroid,X=ba.attributes;let ma;S&&(ma=K(new t,S,M,R));e.isSome(T)?Q.push(new l.default(ma,X,d(new t,T),X[aa])):Q.push(new l.default(ma,X,null,X[aa]))}return Q}function K(Q,S,M=S.hasZ,R=S.hasM){P(Q,S.rings,M,R);return Q}function P(Q,S,M,R){M=f(M,R);const {lengths:aa,coords:ba}=Q;R=0;aa.length=ba.length=0;for(const T of S){for(const X of T)for(S=0;S<M;S++)ba[R++]=X[S];aa.push(T.length)}return Q}function W(Q,S,M,R,
aa,ba){Q.length=0;if(!M){for(const T of S)Q.push(new l.default(null,T.attributes,null,T.attributes[ba]));return Q}switch(M){case "esriGeometryPoint":return B(Q,S,R,aa,ba);case "esriGeometryMultipoint":return J(Q,S,R,aa,ba);case "esriGeometryPolyline":return L(Q,S,R,aa,ba);case "esriGeometryPolygon":return E(Q,S,R,aa,ba);default:oa.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${M}'`)),Q.length=0}return Q}function ia(Q,S,M,R){Q=Q&&("coords"in Q?Q:Q.geometry);
if(e.isNone(Q))return null;switch(S){case "esriGeometryPoint":return S=r,M&&R?S=w:M?S=n:R&&(S=z),S(Q);case "esriGeometryMultipoint":return D(Q,M,R);case "esriGeometryPolyline":return N(Q,M,R);case "esriGeometryPolygon":return F(Q,M,R);default:oa.error("convertToGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${S}'`))}}function Z(Q,S,M,R,aa){Q.length=0;if(e.isNone(M)){for(const X of S)Q.push({attributes:X.attributes});return Q}switch(M){case "esriGeometryPoint":var ba=r;R&&
aa?ba=w:R?ba=n:aa&&(ba=z);for(var T of S){const {geometry:X,attributes:ma}=T;R=e.isSome(X)?ba(X):null;Q.push({attributes:ma,geometry:R})}break;case "esriGeometryMultipoint":return C(Q,S,R,aa);case "esriGeometryPolyline":for(const X of S){const {geometry:ma,attributes:Ca}=X;let Ea;e.isSome(ma)&&(Ea=N(ma,R,aa));Q.push({attributes:Ca,geometry:Ea})}break;case "esriGeometryPolygon":for(ba of S){const {geometry:X,attributes:ma,centroid:Ca}=ba;let Ea;e.isSome(X)&&(Ea=F(X,R,aa));Ca?(T=r(Ca),Q.push({attributes:ma,
centroid:T,geometry:Ea})):Q.push({attributes:ma,geometry:Ea})}break;default:oa.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${M}'`))}return Q}function V(Q,S,M,R,aa,ba,T=M,X=R){Q.lengths.length&&(Q.lengths.length=0);Q.coords.length&&(Q.coords.length=0);if(e.isNone(S)||!S.coords.length)return null;aa=U[aa];const {coords:ma,lengths:Ca}=S;S=f(M,R);const Ea=f(M&&T,R&&X);M=k(M,R,T,X);if(!Ca.length)return M(Q.coords,ma,0,0,m(ba,ma[0]),p(ba,ma[1])),Q.lengths.length&&
(Q.lengths.length=0),Q.coords.length=S,Q;let La,Pa=0,ha,ua=0;for(const wa of Ca){if(wa<aa)continue;let Ga=0;ha=ua;X=R=m(ba,ma[Pa]);La=T=p(ba,ma[Pa+1]);M(Q.coords,ma,ha,Pa,X,La);Ga++;Pa+=S;ha+=Ea;for(let Ha=1;Ha<wa;Ha++,Pa+=S)if(X=m(ba,ma[Pa]),La=p(ba,ma[Pa+1]),X!==R||La!==T)M(Q.coords,ma,ha,Pa,X-R,La-T),ha+=Ea,Ga++,R=X,T=La;Ga>=aa&&(Q.lengths.push(Ga),ua=ha)}Q.coords.length=ua;return Q.coords.length?Q:null}function qa(Q,S,M,R,aa,ba,T){let X=R,ma=0;for(let Ea=ba+M;Ea<T;Ea+=M){{var Ca=S[Ea];const La=
S[Ea+1],Pa=S[T],ha=S[T+1];let ua=S[ba],wa=S[ba+1],Ga=Pa-ua,Ha=ha-wa;if(0!==Ga||0!==Ha){const Oa=((Ca-ua)*Ga+(La-wa)*Ha)/(Ga*Ga+Ha*Ha);1<Oa?(ua=Pa,wa=ha):0<Oa&&(ua+=Ga*Oa,wa+=Ha*Oa)}Ga=Ca-ua;Ha=La-wa;Ca=Ga*Ga+Ha*Ha}Ca>X&&(ma=Ea,X=Ca)}X>R&&(ma-ba>M&&qa(Q,S,M,R,aa,ba,ma),aa(Q,S,Q.length,ma,S[ma],S[ma+1]),T-ma>M&&qa(Q,S,M,R,aa,ma,T))}function sa(Q,S,M,R,aa){const {coords:ba,lengths:T}=S,X=M?R?H:va:R?va:ca;M=f(M,R);if(!ba.length)return Q!==S&&(Q.lengths.length=0,Q.coords.length=0),Q;if(!T.length)return X(Q.coords,
ba,0,0,u(aa,ba[0]),g(aa,ba[1])),Q!==S&&(Q.lengths.length=0,Q.coords.length=M),Q;const [ma,Ca]=aa.scale;R=0;for(let Ea=0;Ea<T.length;Ea++){const La=T[Ea];Q.lengths[Ea]=La;let Pa=u(aa,ba[R]),ha=g(aa,ba[R+1]);X(Q.coords,ba,R,R,Pa,ha);R+=M;for(let ua=1;ua<La;ua++,R+=M)Pa+=ba[R]*ma,ha-=ba[R+1]*Ca,X(Q.coords,ba,R,R,Pa,ha)}Q!==S&&(Q.lengths.length=T.length,Q.coords.length=ba.length);return Q}function Ba(Q,S,M,R){let aa=0,ba=Q[R*S],T=Q[R*(S+1)];for(let X=1;X<M;X++){const ma=ba+Q[R*(S+X)],Ca=T+Q[R*(S+X)+1],
Ea=(ma-ba)*(Ca+T);ba=ma;T=Ca;aa+=Ea}return.5*aa}const oa=c.getLogger("esri.tasks.support.optimizedFeatureSet"),U={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},ca=(Q,S,M,R,aa,ba)=>{Q[M]=aa;Q[M+1]=ba},va=(Q,S,M,R,aa,ba)=>{Q[M]=aa;Q[M+1]=ba;Q[M+2]=S[R+2]},Aa=(Q,S,M,R,aa,ba)=>{Q[M]=aa;Q[M+1]=ba;Q[M+2]=S[R+3]},H=(Q,S,M,R,aa,ba)=>{Q[M]=aa;Q[M+1]=ba;Q[M+2]=S[R+2];Q[M+3]=S[R+3]},O=[],la=[];a.convertFromFeature=function(Q,S,M,R,aa){O[0]=Q;[Q]=W(la,O,S,M,R,aa);
O.length=la.length=0;return Q};a.convertFromFeatureSet=function(Q,S){const M=new q,{hasM:R,hasZ:aa,features:ba,objectIdFieldName:T,spatialReference:X,geometryType:ma,exceededTransferLimit:Ca,transform:Ea,fields:La}=Q;La&&(M.fields=La);M.geometryType=ma;M.objectIdFieldName=T||S;M.spatialReference=X;if(!M.objectIdFieldName)return oa.error(new b("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),M;ba&&W(M.features,ba,ma,aa,R,M.objectIdFieldName);Ca&&(M.exceededTransferLimit=
Ca);R&&(M.hasM=R);aa&&(M.hasZ=aa);Ea&&(M.transform=Ea);return M};a.convertFromFeatures=W;a.convertFromGeometry=function(Q,S,M){if(e.isNone(Q))return null;const R=new t;"hasZ"in Q&&null==S&&(S=Q.hasZ);"hasM"in Q&&null==M&&(M=Q.hasM);if(h.isPoint(Q))return x(null!=S?S:null!=Q.z,null!=M?M:null!=Q.m)(R,Q);if(h.isPolygon(Q))return K(R,Q,S,M);if(h.isPolyline(Q))return G(R,Q,f(S,M));if(h.isMultipoint(Q))return I(R,Q,f(S,M));oa.error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${Q}'`))};
a.convertFromGraphics=function(Q,S,M,R,aa,ba){const T=Q.length;switch(M){case "esriGeometryPoint":B(Q,S,R,aa,ba);break;case "esriGeometryMultipoint":J(Q,S,R,aa,ba);break;case "esriGeometryPolyline":L(Q,S,R,aa,ba);break;case "esriGeometryPolygon":E(Q,S,R,aa,ba);break;default:oa.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${M}'`))}for(R=0;R<S.length;R++)Q[R+T].geometryType=M,Q[R+T].insertAfter=S[R].insertAfter,Q[R+T].groupId=S[R].groupId;return Q};a.convertFromMultipoint=
I;a.convertFromMultipointFeatures=J;a.convertFromNestedArray=P;a.convertFromPoint=function(Q,S,M=x(null!=S.z,null!=S.m)){return M(Q,S)};a.convertFromPointFeatures=B;a.convertFromPolygon=K;a.convertFromPolyline=G;a.convertFromPolylineFeatures=L;a.convertToFeature=function(Q,S,M,R){la[0]=Q;Z(O,la,S,M,R);Q=O[0];O.length=la.length=0;return Q};a.convertToFeatureSet=function(Q){const {objectIdFieldName:S,spatialReference:M,transform:R,fields:aa,hasM:ba,hasZ:T,features:X,geometryType:ma,exceededTransferLimit:Ca,
uniqueIdField:Ea,queryGeometry:La,queryGeometryType:Pa}=Q;Q=Z([],X,ma,T,ba);const ha=ia(La,Pa,!1,!1);Q={features:Q,fields:aa,geometryType:ma,objectIdFieldName:S,spatialReference:M,uniqueIdField:Ea,queryGeometry:ha};R&&(Q.transform=R);Ca&&(Q.exceededTransferLimit=Ca);ba&&(Q.hasM=ba);T&&(Q.hasZ=T);return Q};a.convertToFeatures=Z;a.convertToGeometry=ia;a.convertToMultipoint=D;a.convertToMultipointFeatures=C;a.convertToPoint=function(Q,S,M){return Q?S?M?w(Q):n(Q):M?z(Q):r(Q):null};a.convertToPolygon=
F;a.convertToPolyline=N;a.deltaDecodeGeometry=function(Q,S){if(e.isNone(Q))return null;const M=Q.clone(),R=Q.coords;Q=Q.lengths;let aa=0;for(let X=0;X<Q.length;X++){const ma=Q[X];var ba=R[S*aa],T=R[S*aa+1];for(let Ca=1;Ca<ma;Ca++)ba+=R[S*(aa+Ca)],T+=R[S*(aa+Ca)+1],M.coords[S*(aa+Ca)]=ba,M.coords[S*(aa+Ca)+1]=T;aa+=ma}return M};a.deltaEncodeGeometry=function(Q,S){const M=Q.clone(),R=Q.coords;Q=Q.lengths;let aa=0;for(let T=0;T<Q.length;T++){const X=Q[T];let ma=R[S*aa];var ba=R[S*aa+1];for(let Ca=1;Ca<
X;Ca++){const Ea=R[S*(aa+Ca)],La=R[S*(aa+Ca)+1];ba=La-ba;M.coords[S*(aa+Ca)]=Ea-ma;M.coords[S*(aa+Ca)+1]=ba;ma=Ea;ba=La}aa+=X}return M};a.generalizeOptimizedGeometry=function(Q,S,M,R,aa,ba,T=M,X=R){Q.lengths.length&&(Q.lengths.length=0);Q.coords.length&&(Q.coords.length=0);if(!S||!S.coords.length)return null;aa=U[aa];const {coords:ma,lengths:Ca}=S;S=f(M,R);const Ea=f(M&&T,R&&X);M=k(M,R,T,X);if(!Ca.length)return M(Q.coords,ma,0,0,ma[0],ma[1]),Q.lengths.length&&(Q.lengths.length=0),Q.coords.length=
S,Q;R=0;ba*=ba;for(const La of Ca){if(La<aa){R+=La*S;continue}T=Q.coords.length/Ea;X=R;const Pa=R+(La-1)*S;M(Q.coords,ma,Q.coords.length,X,ma[X],ma[X+1]);qa(Q.coords,ma,S,ba,M,X,Pa);M(Q.coords,ma,Q.coords.length,Pa,ma[Pa],ma[Pa+1]);X=Q.coords.length/Ea-T;X>=aa?Q.lengths.push(X):Q.coords.length=T*Ea;R+=La*S}return Q.coords.length?Q:null};a.getBoundsOptimizedGeometry=function(Q,S,M,R){if(e.isNone(S)||!S.coords||!S.coords.length)return null;M=f(M,R);let aa=R=Number.POSITIVE_INFINITY,ba=Number.NEGATIVE_INFINITY,
T=Number.NEGATIVE_INFINITY;if(S&&S.coords){S=S.coords;for(let X=0;X<S.length;X+=M){const ma=S[X],Ca=S[X+1];R=Math.min(R,ma);ba=Math.max(ba,ma);aa=Math.min(aa,Ca);T=Math.max(T,Ca)}}Q[0]=R;Q[1]=aa;Q[2]=ba;Q[3]=T;return Q};a.getQuantizedArea=function(Q,S){const {coords:M,lengths:R}=Q;let aa=Q=0;for(let ba=0;ba<R.length;ba++)aa+=Ba(M,Q,R[ba],S),Q+=ba;return Math.abs(aa)};a.getQuantizedBoundsOptimizedGeometry=function(Q,S,M,R){M=f(M,R);const {lengths:aa,coords:ba}=S;R=S=Number.POSITIVE_INFINITY;let T=
Number.NEGATIVE_INFINITY,X=Number.NEGATIVE_INFINITY,ma=0;for(const Ca of aa){let Ea=ba[ma],La=ba[ma+1];S=Math.min(Ea,S);R=Math.min(La,R);T=Math.max(Ea,T);X=Math.max(La,X);ma+=M;for(let Pa=1;Pa<Ca;Pa++,ma+=M){const ha=ba[ma],ua=ba[ma+1];Ea+=ha;La+=ua;0>ha&&(S=Math.min(S,Ea));0<ha&&(T=Math.max(T,Ea));0>ua?R=Math.min(R,La):0<ua&&(X=Math.max(X,La))}}Q[0]=S;Q[1]=R;Q[2]=T;Q[3]=X;return Q};a.getSignedQuantizedRingArea=Ba;a.quantizeOptimizedFeatureSet=function(Q,S){const {geometryType:M,features:R,hasM:aa,
hasZ:ba}=S;if(!Q)return S;for(let T=0;T<R.length;T++){const X=R[T],ma=X.weakClone();ma.geometry=new t;V(ma.geometry,X.geometry,aa,ba,M,Q);X.centroid&&(ma.centroid=new t,V(ma.centroid,X.centroid,aa,ba,"esriGeometryPoint",Q));R[T]=ma}S.transform=Q;return S};a.quantizeOptimizedGeometry=V;a.quantizeX=m;a.quantizeY=p;a.removeCollinearVectices=function(Q,S,M,R,aa){if(!S||!S.coords||!S.coords.length)return null;M=U[M];const {coords:ba,lengths:T}=S;S=k(R,aa,R,aa);R=f(R,aa);let X=aa=0,ma=0,Ca=0;for(const Pa of T){X=
Ca;S(Q.coords,ba,X,aa,ba[aa],ba[aa+1]);aa+=R;var Ea=ba[aa];let ha=ba[aa+1],ua=Ea,wa=ha;var La=ha/Ea;X+=R;S(Q.coords,ba,X,aa,ua,wa);aa+=R;for(let Ga=2;Ga<Pa;Ga++){Ea=ba[aa];ha=ba[aa+1];const Ha=ha/Ea,Oa=La===Ha||!isFinite(La)&&!isFinite(Ha);La=Oa&&isFinite(Ha)?0<=La&&0<=Ha||0>=La&&0>=Ha:0<=wa&&0<=ha||0>=wa&&0>=ha;Oa&&La?(ua+=Ea,wa+=ha):(ua=Ea,wa=ha,X+=R);S(Q.coords,ba,X,aa,ua,wa);aa+=R;La=Ha}X+=R;Ea=(X-Ca)/R;Ea>=M&&(Q.lengths[ma]=Ea,Ca=X,ma++)}Q.coords.length>Ca&&(Q.coords.length=Ca);Q.lengths.length>
ma&&(Q.lengths.length=ma);return Q.coords.length&&Q.lengths.length?Q:null};a.removeZMValues=function(Q,S,M,R,aa,ba){const T=f(M,R);M=k(M,R,aa,ba);R=S.coords;Q.coords.length=0;Q.lengths.length=0;Q.lengths.push(...S.lengths);for(S=0;S<R.length;S+=T)M(Q.coords,R,Q.coords.length,S,R[S],R[S+1]);return Q};a.unquantizeOptimizedFeatureSet=function(Q){const {transform:S,features:M,hasM:R,hasZ:aa}=Q;if(!S)return Q;for(const ba of M)e.isSome(ba.geometry)&&sa(ba.geometry,ba.geometry,R,aa,S),ba.centroid&&sa(ba.centroid,
ba.centroid,R,aa,S);Q.transform=null;return Q};a.unquantizeOptimizedGeometry=sa;a.unquantizeX=u;a.unquantizeY=g;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeRelationshipQuery":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/queryRelatedRecords ../support/FeatureSet ../support/RelationshipQuery".split(" "),function(a,b,c,e,h,l){function q(){q=b._asyncToGenerator(function*(f,k,m){k=l.from(k);f=c.parseUrl(f);return e.executeRelationshipQuery(f,
k,m).then(p=>{const u=p.data,g={};Object.keys(u).forEach(r=>g[r]=h.fromJSON(u[r]));return g})});return q.apply(this,arguments)}function t(){t=b._asyncToGenerator(function*(f,k,m){k=l.from(k);f=c.parseUrl(f);return e.executeRelationshipQueryForCount(f,k,{...m}).then(p=>p.data)});return t.apply(this,arguments)}a.executeRelationshipQuery=function(f,k,m){return q.apply(this,arguments)};a.executeRelationshipQueryForCount=function(f,k,m){return t.apply(this,arguments)};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/rest/query/operations/queryRelatedRecords":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../request","../../../tasks/operations/urlUtils"],function(a,b,c,e){function h(k,m){k=k.toJSON();k.objectIds&&(k.objectIds=k.objectIds.join(","));k.orderByFields&&(k.orderByFields=k.orderByFields.join(","));!k.outFields||null!=m&&m.returnCountOnly?delete k.outFields:-1!==k.outFields.indexOf("*")?k.outFields="*":k.outFields=k.outFields.join(",");k.outSpatialReference&&
(k.outSR=k.outSR.wkid||JSON.stringify(k.outSR.toJSON()),delete k.outSpatialReference);k.dynamicDataSource&&(k.layer=JSON.stringify({source:k.dynamicDataSource}),delete k.dynamicDataSource);return k}function l(){l=b._asyncToGenerator(function*(k,m,p){k=yield t(k,m,p);m=k.data;p=m.geometryType;const u=m.spatialReference,g={};for(const r of m.relatedRecordGroups){const d={fields:void 0,objectIdFieldName:void 0,geometryType:p,spatialReference:u,hasZ:!!m.hasZ,hasM:!!m.hasM,features:r.relatedRecords};if(null!=
r.objectId)g[r.objectId]=d;else for(const n in r)r.hasOwnProperty(n)&&"relatedRecords"!==n&&(g[r[n]]=d)}return{...k,data:g}});return l.apply(this,arguments)}function q(){q=b._asyncToGenerator(function*(k,m,p){k=yield t(k,m,p,{returnCountOnly:!0});m=k.data;p={};for(const u of m.relatedRecordGroups)null!=u.objectId&&(p[u.objectId]=u.count);return{...k,data:p}});return q.apply(this,arguments)}function t(k,m){return f.apply(this,arguments)}function f(){f=b._asyncToGenerator(function*(k,m,p={},u){m=e.mapParameters({...k.query,
f:"json",...u,...h(m,u)});return c(k.path+"/queryRelatedRecords",{...p,query:{...p.query,...m}})});return f.apply(this,arguments)}a.executeRelationshipQuery=function(k,m,p){return l.apply(this,arguments)};a.executeRelationshipQueryForCount=function(k,m,p){return q.apply(this,arguments)};a.toQueryStringParameters=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeTopFeaturesQuery":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/queryTopFeatures ../support/FeatureSet ../support/TopFeaturesQuery".split(" "),
function(a,b,c,e,h,l){function q(){q=b._asyncToGenerator(function*(t,f,k,m){t=c.parseUrl(t);m={...m};({data:f}=yield e.executeTopFeaturesQuery(t,l.from(f),k,m));return h.fromJSON(f)});return q.apply(this,arguments)}a.executeTopFeaturesQuery=function(t,f,k,m){return q.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/queryTopFeatures":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../request ../../../core/maybe ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ./queryZScale ../../../tasks/operations/urlUtils".split(" "),
function(a,b,c,e,h,l,q,t,f){function k(r,d){var n,v;const z=r.geometry;r=r.toJSON();e.isSome(z)&&(r.geometry=JSON.stringify(z),r.geometryType=l.getJsonType(z),r.inSR=z.spatialReference.wkid||JSON.stringify(z.spatialReference));null!=(n=r.topFilter)&&n.groupByFields&&(r.topFilter.groupByFields=r.topFilter.groupByFields.join(","));null!=(v=r.topFilter)&&v.orderByFields&&(r.topFilter.orderByFields=r.topFilter.orderByFields.join(","));r.topFilter&&(r.topFilter=JSON.stringify(r.topFilter));r.objectIds&&
(r.objectIds=r.objectIds.join(","));r.orderByFields&&(r.orderByFields=r.orderByFields.join(","));!r.outFields||null!=d&&d.returnCountOnly||null!=d&&d.returnExtentOnly||null!=d&&d.returnIdsOnly?delete r.outFields:-1!==r.outFields.indexOf("*")?r.outFields="*":r.outFields=r.outFields.join(",");r.outSR?r.outSR=r.outSR.wkid||JSON.stringify(r.outSR):z&&r.returnGeometry&&(r.outSR=r.inSR);r.returnGeometry&&delete r.returnGeometry;if(r.timeExtent){const {start:A,end:w}=r.timeExtent;if(null!=A||null!=w)r.time=
A===w?A:`${null==A?"null":A},${null==w?"null":w}`;delete r.timeExtent}return r}function m(){m=b._asyncToGenerator(function*(r,d,n,v){r=yield g(r,d,"json",v);t.applyFeatureSetZUnitScaling(d,n,r.data);return r});return m.apply(this,arguments)}function p(){p=b._asyncToGenerator(function*(r,d,n){return e.isSome(d.timeExtent)&&d.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):g(r,d,"json",n,{returnIdsOnly:!0})});return p.apply(this,arguments)}function u(){u=b._asyncToGenerator(function*(r,d,
n){return e.isSome(d.timeExtent)&&d.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):g(r,d,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}).then(v=>{const z=v.data;if(z.hasOwnProperty("extent"))return v;if(z.features)throw Error("Layer does not support extent calculation.");if(z.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return v})});return u.apply(this,arguments)}function g(r,d,n,v={},z={}){const A="string"===typeof r?h.urlToObject(r):r;r=
d.geometry?[d.geometry]:[];v.responseType="pbf"===n?"array-buffer":"json";return q.normalizeCentralMeridian(r,null,v).then(w=>{w=w&&w[0];e.isSome(w)&&(d=d.clone(),d.geometry=w);w=f.mapParameters({...A.query,f:n,...z,...k(d,z)});return c(h.join(A.path,"queryTopFeatures"),{...v,query:{...w,...v.query}})})}a.executeQueryForTopCount=function(r,d,n){return e.isSome(d.timeExtent)&&d.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):g(r,d,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForTopExtents=
function(r,d,n){return u.apply(this,arguments)};a.executeQueryForTopIds=function(r,d,n){return p.apply(this,arguments)};a.executeTopFeaturesQuery=function(r,d,n,v){return m.apply(this,arguments)};a.queryToQueryStringParameters=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeForTopIds":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/queryTopFeatures","../support/TopFeaturesQuery"],function(a,b,c,e,h){function l(){l=b._asyncToGenerator(function*(q,
t,f){q=c.parseUrl(q);return(yield e.executeQueryForTopIds(q,h.from(t),{...f})).data.objectIds});return l.apply(this,arguments)}a.executeForTopIds=function(q,t,f){return l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeForTopExtents":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../utils ./operations/queryTopFeatures ../support/TopFeaturesQuery ../../geometry/Extent".split(" "),function(a,b,c,e,h,l,q){function t(){t=
b._asyncToGenerator(function*(f,k,m){f=e.parseUrl(f);k=yield h.executeQueryForTopExtents(f,l.from(k),{...m});return{count:k.data.count,extent:q.fromJSON(k.data.extent)}});return t.apply(this,arguments)}a.executeForTopExtents=function(f,k,m){return t.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeForTopCount":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/queryTopFeatures","../support/TopFeaturesQuery"],
function(a,b,c,e,h){function l(){l=b._asyncToGenerator(function*(q,t,f){q=c.parseUrl(q);return(yield e.executeQueryForTopCount(q,h.from(t),{...f})).data.count});return l.apply(this,arguments)}a.executeForTopCount=function(q,t,f){return l.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/Task":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){c=function(k){function m(...u){u=k.call(this,...u)||this;u.requestOptions=null;u.url=null;return u}a._inheritsLoose(m,k);var p=m.prototype;p.normalizeCtorArgs=function(u,g){return"string"!==typeof u?u:{url:u,...g}};p._parseUrl=function(u){return u?e.urlToObject(u):null};p._encode=function(u,g,r){const d={};for(const v in u)if("declaredClass"!==v){var n=u[v];if(null!=n&&"function"!==typeof n)if(Array.isArray(n)){d[v]=[];for(let z=0;z<n.length;z++)d[v][z]=this._encode(n[z])}else"object"===
typeof n?n.toJSON?(n=n.toJSON(r&&r[v]),d[v]=g?n:JSON.stringify(n)):d[v]=g?n:JSON.stringify(n):d[v]=n}return d};a._createClass(m,[{key:"parsedUrl",get:function(){return this._parseUrl(this.url)}}]);return m}(c);b.__decorate([h.property({readOnly:!0})],c.prototype,"parsedUrl",null);b.__decorate([h.property()],c.prototype,"requestOptions",void 0);b.__decorate([h.property({type:String})],c.prototype,"url",void 0);return c=b.__decorate([f.subclass("esri.tasks.Task")],c)})},"esri/views/View":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Map ../TimeExtent ../core/Accessor ../core/Collection ../core/CollectionFlattener ../core/Error ../core/Evented ../core/HandleOwner ../core/handleUtils ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/watchUtils ../core/accessorSupport/decorators/aliasOf ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../support/AnalysesCollection ../support/GraphicsCollection ./BasemapView ./LayerViewManager ./Magnifier ./ToolViewManager ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x,B,C,D,J,I,N,L,G,F,E,K,P,W,ia,Z){var V;const qa=u.getLogger("esri.views.View");h=V=function(sa){function Ba(U){var ca=sa.call(this,U)||this;ca._userSpatialReference=null;ca._cursor=null;ca.allLayerViews=new q({getCollections:()=>{var va,Aa,H;return[null==(va=ca.basemapView)?void 0:va.baseLayerViews,null==(Aa=ca.groundView)?void 0:Aa.layerViews,ca.layerViews,null==(H=ca.basemapView)?void 0:H.referenceLayerViews]},getChildrenFunction:va=>va.layerViews});
ca.groundView=null;ca.animation=null;ca.basemapView=null;ca.fatalError=null;ca.extent=null;ca.graphics=new L.GraphicsCollection;ca.analyses=new N.AnalysesCollection;ca.navigating=!1;ca.typeSpecificPreconditionsReady=!0;ca.layerViews=new l;ca.magnifier=new E;ca.padding={left:0,top:0,right:0,bottom:0};ca.ready=!1;ca.spatialReferenceWarningDelay=1E3;ca.supportsGround=!0;ca.timeExtent=null;ca.type=null;ca.scale=null;ca.updating=!1;ca.initialExtentRequired=!0;ca.input=new P;ca.navigation=new ia;ca.layerViewManager=
null;ca.analysisViewManager=null;ca.isHeightModelInfoRequired=!1;ca.width=null;ca.height=null;ca.resizing=!1;ca.suspended=!1;ca.viewEvents=new W.ViewEvents(a._assertThisInitialized(ca));ca.persistableViewModels=new l;ca._isValid=!1;ca._readyCycleForced=!1;ca.handles.add(ca.watch("preconditionsReady",va=>{va?(ca._currentSpatialReference=ca.spatialReference,V.views.add(a._assertThisInitialized(ca))):(ca._currentSpatialReference=null,V.views.remove(a._assertThisInitialized(ca)));ca.notifyChange("spatialReference");
if(!va&&ca.ready){var Aa,H;null==(Aa=ca.layerViewManager)?void 0:Aa.clear();null==(H=ca.toolViewManager)?void 0:H.detach();g.isSome(ca.analysisViewManager)&&ca.analysisViewManager.detach();ca._teardown()}else va&&!ca.ready&&(g.isSome(ca.analysisViewManager)&&ca.analysisViewManager.attach(),ca._startup(),ca.toolViewManager.attach())},!0));return ca}a._inheritsLoose(Ba,sa);var oa=Ba.prototype;oa.initialize=function(){this.addResolvingPromise(this.validate().then(()=>{this._isValid=!0;return v.whenOnce(this,
"ready")}));this.basemapView=new G.BasemapView({view:this});this.layerViewManager=new F({view:this,layerViewImporter:{importLayerView:U=>this.importLayerView(U),hasLayerViewModule:U=>this.hasLayerViewModule(U)},supportsGround:this.supportsGround});this.toolViewManager=new K({view:this});this._setupSpatialReferenceLogger();this.handles.add([n.react(()=>this.initialExtentRequired,U=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:U},{sync:!0,initial:!0}),n.react(()=>this.ready,
U=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=U,this.defaultsFromMap.userSpatialReference=U?this.spatialReference:this._userSpatialReference)},{sync:!0}),n.react(()=>this._userSpatialReference,U=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=U)},{sync:!0,initial:!0})])};oa._setupSpatialReferenceLogger=function(){var U=this;let ca=null;this.handles.add([n.react(()=>{var va;return null==(va=this.defaultsFromMap)?void 0:va.ready},va=>{var Aa;const H=0<(null==(Aa=this.map)?
void 0:Aa.allLayers.length);va&&!this.spatialReference&&H?g.isSome(ca)||(va=m.makeHandle(()=>ca=g.abortMaybe(ca)),ca=d.createTask(function(){var O=a._asyncToGenerator(function*(la){try{yield d.after(U.spatialReferenceWarningDelay,null,la)}catch{return}finally{ca=null}qa.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")});return function(la){return O.apply(this,arguments)}}()),this.handles.add(va,"spatial-reference-logger-task")):this.handles.remove("spatial-reference-logger-task")},
{sync:!0})])};oa.destroy=function(){if(!this.destroyed){this.viewEvents.destroy();this.allLayerViews.destroy();this.navigation&&(this.navigation.destroy(),this._set("navigation",null));this.graphics=g.destroyMaybe(this.graphics);this.analyses=g.destroyMaybe(this.analyses);this.handles.remove("defaultsFromMap");this.defaultsFromMap.destroy();this._set("defaultsFromMap",null);this.toolViewManager=g.destroyMaybe(this.toolViewManager);this.layerViewManager=g.destroyMaybe(this.layerViewManager);this.basemapView=
g.destroyMaybe(this.basemapView);this.invalidate();this._emitter.clear();this.handles.removeAll();var U=this.map;this.map=null;null==U?void 0:U.destroy()}};oa._startup=function(){this._set("ready",!0)};oa._teardown=function(){this._set("ready",!1)};oa.whenReady=function(){return Promise.resolve(this)};oa.toMap=function(){qa.error("#toMap()","Not implemented on this instance of View");return null};oa.whenLayerView=function(U){return this.layerViewManager.whenLayerView(U)};oa.getDefaultSpatialReference=
function(){var U;return null==(U=this.defaultsFromMap)?void 0:U.spatialReference};oa.getDefaultHeightModelInfo=function(){var U,ca,va;return null!=(U=null!=(ca=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)?ca:null==(va=this.defaultsFromMap)?void 0:va.heightModelInfo)?U:null};oa.importLayerView=function(U){throw new t("importLayerView() not implemented");};oa.hasLayerViewModule=function(U){return!1};oa.validate=function(){var U=a._asyncToGenerator(function*(){});return function(){return U.apply(this,
arguments)}}();oa.invalidate=function(){this._isValid=!1};oa.getSpatialReferenceSupport=function(){return{}};oa._validateSpatialReference=function(U){return g.isSome(this.getSpatialReferenceSupport({spatialReference:U}))};oa.when=function(U,ca){this.isResolved()&&!this.ready&&qa.warn("#when()",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, "ready").then(...) instead.');return sa.prototype.when.call(this,
U,ca)};oa.forceReadyCycle=function(){this.ready&&(v.whenFalseOnce(this,"preconditionsReady",()=>this._readyCycleForced=!1),this._readyCycleForced=!0)};oa.addAndActivateTool=function(U){this.toolViewManager.tools.add(U);this.activeTool=U};oa.tryFatalErrorRecovery=function(){this.fatalError=null};a._createClass(Ba,[{key:"_defaultsFromMapSettings",get:function(){return{}}},{key:"defaultsFromMap",get:function(){return new Z({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:U=>
this.getSpatialReferenceSupport(U),...this._defaultsFromMapSettings})}},{key:"heightModelInfo",get:function(){return this.getDefaultHeightModelInfo()}},{key:"interacting",get:function(){return this.navigating}},{key:"preconditionsReady",get:function(){var U;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||p.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this.typeSpecificPreconditionsReady||!this._validateSpatialReference(this.spatialReference)||
!(this._currentSpatialReference||null!=(U=this.defaultsFromMap)&&U.ready))}},{key:"map",set:function(U){var ca;const va=this._get("map");U!==va&&(null!=(ca=U)&&ca.destroyed&&(qa.warn("#map","The provided map is already destroyed",{map:U}),U=null),p.isLoadable(U)&&U.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",U))}},{key:"spatialReference",get:function(){var U,ca;let va=this._userSpatialReference||this._currentSpatialReference||
this.getDefaultSpatialReference()||null;va&&null!=(U=this.defaultsFromMap)&&null!=(ca=U.required)&&ca.heightModelInfo&&(va=va.clone(),va.vcsWkid=this.defaultsFromMap.vcsWkid,va.latestVcsWkid=this.defaultsFromMap.latestVcsWkid);return va},set:function(U){this._userSpatialReference=U;this._set("spatialReference",U)}},{key:"stationary",get:function(){return!this.animation&&!this.navigating&&!this.resizing}},{key:"initialExtent",get:function(){var U;return null==(U=this.defaultsFromMap)?void 0:U.extent}},
{key:"cursor",get:function(){const U=this.toolViewManager?this.toolViewManager.cursor:null;return g.isSome(U)?U:this._cursor||"default"},set:function(U){this._cursor=U;this.notifyChange("cursor")}},{key:"size",get:function(){return[this.width,this.height]}}]);return Ba}(k.HandleOwnerMixin(f.EventedMixin(r.EsriPromiseMixin(h))));h.views=new l;b.__decorate([x.property()],h.prototype,"_userSpatialReference",void 0);b.__decorate([z.aliasOf("toolViewManager.activeTool")],h.prototype,"activeTool",void 0);
b.__decorate([x.property({readOnly:!0})],h.prototype,"allLayerViews",void 0);b.__decorate([x.property()],h.prototype,"groundView",void 0);b.__decorate([x.property()],h.prototype,"animation",void 0);b.__decorate([x.property()],h.prototype,"basemapView",void 0);b.__decorate([x.property({readOnly:!0})],h.prototype,"_defaultsFromMapSettings",null);b.__decorate([x.property()],h.prototype,"defaultsFromMap",null);b.__decorate([x.property()],h.prototype,"fatalError",void 0);b.__decorate([x.property({type:D})],
h.prototype,"extent",void 0);b.__decorate([x.property(C.owningCollectionProperty(L.GraphicsCollection,"graphics"))],h.prototype,"graphics",void 0);b.__decorate([x.property(C.owningCollectionProperty(N.AnalysesCollection,"analyses"))],h.prototype,"analyses",void 0);b.__decorate([x.property({readOnly:!0,type:J})],h.prototype,"heightModelInfo",null);b.__decorate([x.property({readOnly:!0})],h.prototype,"interacting",null);b.__decorate([x.property({readOnly:!0})],h.prototype,"navigating",void 0);b.__decorate([x.property({readOnly:!0,
dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _currentSpatialReference defaultsFromMap.ready typeSpecificPreconditionsReady".split(" ")})],h.prototype,"preconditionsReady",null);b.__decorate([x.property({readOnly:!0})],h.prototype,"typeSpecificPreconditionsReady",void 0);b.__decorate([x.property({type:l,readOnly:!0})],h.prototype,"layerViews",void 0);b.__decorate([x.property({type:E})],h.prototype,"magnifier",void 0);b.__decorate([x.property({value:null,
type:c})],h.prototype,"map",null);b.__decorate([x.property()],h.prototype,"padding",void 0);b.__decorate([x.property({readOnly:!0})],h.prototype,"ready",void 0);b.__decorate([x.property({type:I})],h.prototype,"spatialReference",null);b.__decorate([x.property()],h.prototype,"spatialReferenceWarningDelay",void 0);b.__decorate([x.property()],h.prototype,"stationary",null);b.__decorate([x.property({readOnly:!0})],h.prototype,"supportsGround",void 0);b.__decorate([x.property({type:e})],h.prototype,"timeExtent",
void 0);b.__decorate([z.aliasOf("toolViewManager.tools")],h.prototype,"tools",void 0);b.__decorate([x.property()],h.prototype,"toolViewManager",void 0);b.__decorate([x.property({readOnly:!0})],h.prototype,"type",void 0);b.__decorate([x.property({type:Number})],h.prototype,"scale",void 0);b.__decorate([x.property({readOnly:!0})],h.prototype,"updating",void 0);b.__decorate([x.property({readOnly:!0})],h.prototype,"initialExtentRequired",void 0);b.__decorate([x.property({readOnly:!0,type:D})],h.prototype,
"initialExtent",null);b.__decorate([x.property()],h.prototype,"cursor",null);b.__decorate([x.property({readOnly:!0})],h.prototype,"input",void 0);b.__decorate([x.property({type:ia,nonNullable:!0})],h.prototype,"navigation",void 0);b.__decorate([x.property()],h.prototype,"layerViewManager",void 0);b.__decorate([x.property()],h.prototype,"analysisViewManager",void 0);b.__decorate([x.property()],h.prototype,"width",void 0);b.__decorate([x.property()],h.prototype,"height",void 0);b.__decorate([x.property({readOnly:!0})],
h.prototype,"resizing",void 0);b.__decorate([x.property({value:null,readOnly:!0})],h.prototype,"size",null);b.__decorate([x.property({readOnly:!0})],h.prototype,"suspended",void 0);b.__decorate([x.property({readOnly:!0})],h.prototype,"viewEvents",void 0);b.__decorate([x.property({readOnly:!0})],h.prototype,"persistableViewModels",void 0);b.__decorate([x.property()],h.prototype,"_isValid",void 0);b.__decorate([x.property()],h.prototype,"_readyCycleForced",void 0);b.__decorate([x.property()],h.prototype,
"_currentSpatialReference",void 0);return h=V=b.__decorate([B.subclass("esri.views.View")],h)})},"esri/core/support/OwningCollection":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../Collection ../collectionUtils ../HandleOwner ../has ../Logger ../maybe ../accessorSupport/decorators/property ../arrayUtils ../accessorSupport/ensureType ../accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t,f,k,m,p,u){t.getLogger("esri.core.support.OwningCollection");
a.OwningCollection=function(g){function r(n){var v=g.call(this,n)||this;v.handles.add([v.on("before-add",z=>{f.isNone(z.item)&&z.preventDefault()}),v.on("after-add",z=>v._own(z.item)),v.on("after-remove",z=>v._release(z.item))]);return v}b._inheritsLoose(r,g);var d=r.prototype;d._ownAll=function(){for(const n of this.items)this._own(n)};d._releaseAll=function(){for(const n of this.items)this._release(n)};d._createNewInstance=function(n){return this.itemType?new (e.ofType(this.itemType.Type))(n):new e(n)};
b._createClass(r,[{key:"owner",get:function(){return this._get("owner")},set:function(n){n!==this._get("owner")&&(this._releaseAll(),this._set("owner",n),this._ownAll())}}]);return r}(l.HandleOwnerMixin(e));c.__decorate([k.property()],a.OwningCollection.prototype,"owner",null);a.OwningCollection=c.__decorate([u.subclass("esri.core.support.OwningCollection")],a.OwningCollection);a.owningCollectionProperty=function(g,r){return{type:g,cast:h.castForReferenceSetter,set(d){d=h.referenceSetter(d,this._get(r),
g);d.owner=this;this._set(r,d)}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/AnalysesCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/set ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,c,e,h,l,q,t,f,k){a.AnalysesCollection=function(m){function p(){return m.apply(this,arguments)||
this}b._inheritsLoose(p,m);var u=p.prototype;u._own=function(g){g.parent=this.owner};u._release=function(g){g.parent=null};return p}(k.OwningCollection);a.AnalysesCollection=c.__decorate([f.subclass("esri.support.AnalysesCollection")],a.AnalysesCollection);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Graphic ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/set ../core/accessorSupport/decorators/shared ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p){a.GraphicsCollection=function(u){function g(){return u.apply(this,arguments)||this}b._inheritsLoose(g,u);var r=g.prototype;r._own=function(d){d.layer&&"remove"in d.layer&&d.layer!==this.owner&&d.layer.remove(d);d.layer=this.owner};r._release=function(d){d.layer===this.owner&&(d.layer=null)};return g}(p.OwningCollection);c.__decorate([k.shared({Type:e,ensureType:l.ensureType(e)})],a.GraphicsCollection.prototype,"itemType",void 0);a.GraphicsCollection=c.__decorate([m.subclass("esri.support.GraphicsCollection")],
a.GraphicsCollection);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/BasemapView":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/watchUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,l,q,t,f,k,m){a.BasemapView=function(p){function u(g){g=p.call(this,g)||this;g.view=
null;g.baseLayerViews=new h;g.referenceLayerViews=new h;g._loadingHandle=l.init(b._assertThisInitialized(g),"view.map.basemap",r=>{r&&r.load().catch(()=>{})});return g}b._inheritsLoose(u,p);u.prototype.destroy=function(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)};b._createClass(u,[{key:"suspended",get:function(){return this.view?this.view.suspended:!0}},{key:"updating",get:function(){return this.view&&this.view.suspended?!1:!(!(this.view&&
this.view.map&&this.view.map.basemap)||this.view.map.basemap.loaded)}}]);return u}(e);c.__decorate([q.property({constructOnly:!0})],a.BasemapView.prototype,"view",void 0);c.__decorate([q.property({readOnly:!0})],a.BasemapView.prototype,"baseLayerViews",void 0);c.__decorate([q.property({readOnly:!0})],a.BasemapView.prototype,"referenceLayerViews",void 0);c.__decorate([q.property({readOnly:!0})],a.BasemapView.prototype,"suspended",null);c.__decorate([q.property({type:Boolean,readOnly:!0})],a.BasemapView.prototype,
"updating",null);a.BasemapView=c.__decorate([m.subclass("esri.views.BasemapView")],a.BasemapView);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/LayerViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/CollectionFlattener ../core/Error ../core/HandleOwner ../core/Logger ../core/MapUtils ../core/maybe ../core/promiseUtils ../core/scheduling ../core/watchUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/WatchUpdatingTracking".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n){const v=l.getLogger("esri.views.LayerViewManager");let z=function(){function A(y,x,B){this.layer=y;this.view=x;this.layerViewImporter=B;this._controller=new AbortController;this._deferred=f.createDeferred();this.done=this._started=!1;f.onAbort(this._controller.signal,()=>{const C=new e("cancelled:layerview-create","layerview creation cancelled",{layer:y});this._deferred.reject(C)})}var w=A.prototype;w.destroy=function(){this._controller.abort();const {layerView:y}=
this;if(y){var {layer:x,view:B}=this;x.emit("layerview-destroy",{view:B,layerView:y});B.emit("layerview-destroy",{layer:x,layerView:y});this.done=!0;this.layerViewImporter=this.view=this.layerView=this.layer=null}};w.start=function(){var y=a._asyncToGenerator(function*(){if(!this._started){this._started=!0;var {_controller:{signal:x},layer:B,view:C}=this;this._map=C.map;try{var D,J;yield B.load({signal:x});"prefetchResources"in B&&(yield B.prefetchResources({signal:x}));let N;if(B.createLayerView)N=
yield B.createLayerView(C,{signal:x});else{if(!this.layerViewImporter.hasLayerViewModule(B))throw new e("layer:view-not-supported","No layerview implementation was found");var I=yield this.layerViewImporter.importLayerView(B);f.throwIfAborted(x);N="default"in I?new I.default({layer:B,view:C}):new I({layer:B,view:C})}let L;I=()=>{L=t.removeMaybe(L);N.destroyed||N.destroy();N.layer=null;N.parent=null;N.view=null;this.done=!0};L=f.onAbort(x,I);f.throwIfAborted(x);try{yield N.when()}catch(G){throw I(),
G;}(null==(D=this._map)?0:null==(J=D.allLayers)?0:J.includes(B))?(this.layerView=N,B.emit("layerview-create",{view:C,layerView:N}),C.emit("layerview-create",{layer:B,layerView:N}),this.done=!0,this._deferred.resolve(N)):(I(),this._deferred.reject(new e("view:no-layerview-for-layer","The layer has been removed from the map",{layer:B})))}catch(N){B.emit("layerview-create-error",{view:C,error:N}),C.emit("layerview-create-error",{layer:B,error:N}),this.done=!0,this._deferred.reject(new e("layerview:create-error",
"layerview creation failed",{layer:B,error:N}))}}});return function(){return y.apply(this,arguments)}}();a._createClass(A,[{key:"promise",get:function(){return this._deferred.promise}}]);return A}();h=function(A){function w(x){var B=A.call(this,x)||this;B._layerLayerViewInfoMap=new Map;B._watchUpdatingTracking=new n.WatchUpdatingTracking;B.supportsGround=!0;B._preloadLayerViewModules=()=>{var C;const D=null==(C=B.view.map)?void 0:C.allLayers;if(D)for(const J of D)B.layerViewImporter.hasLayerViewModule(J)&&
B.layerViewImporter.importLayerView(J)};B._reschedule=()=>{t.isNone(B._workPromise)&&(B._workPromise=f.createDeferred());B.handles.remove("reschedule");B.handles.add(k.schedule(B._doWork),"reschedule");return B._workPromise.promise};B._doWork=()=>{var C,D,J,I=B.view.map;B._map!==I&&(B.clear(),B._map=I);if(t.isNone(B._workPromise))B.notifyChange("updating");else{B.handles.remove("reschedule");B.handles.remove("collection-change");var N=new c({getCollections:()=>B._rootCollectionNames.map(L=>B.get(L)),
getChildrenFunction:L=>L&&"layers"in L?L.layers:null});for(const L of N)B._createLayerView(L);B._refreshCollections();for(const [L,G]of B._layerLayerViewInfoMap)N.includes(L)||(B._layerLayerViewInfoMap.delete(G.layer),G.destroy());N=N.filter(L=>"group"===L.type).map(L=>L.layers);I=[null==I?void 0:null==(C=I.ground)?void 0:C.layers,null==I?void 0:null==(D=I.basemap)?void 0:D.baseLayers,null==I?void 0:null==(J=I.basemap)?void 0:J.referenceLayers,null==I?void 0:I.layers,...N].filter(L=>!!L);B.handles.add(I.map(L=>
B._watchUpdatingTracking.addOnCollectionChange(L,B._reschedule)),"collection-change");B._workPromise.resolve();B._workPromise=null}};return B}a._inheritsLoose(w,A);var y=w.prototype;y.initialize=function(){this.handles.add([m.on(this,"view.map.allLayers","change",this._preloadLayerViewModules,this._preloadLayerViewModules),m.init(this.view,["map.basemap","map.ground","map.layers","ready"],this._reschedule,!0)]);this._preloadLayerViewModules();this._reschedule()};y.destroy=function(){this.clear();
this._watchUpdatingTracking.destroy();this._map=null};y.clear=function(){if(!this.destroyed){for(const x of this._layerLayerViewInfoMap.values())x.destroy();this._layerLayerViewInfoMap.clear();this._refreshCollections()}};y.whenLayerView=function(){var x=a._asyncToGenerator(function*(B){yield this._reschedule();if(!this._layerLayerViewInfoMap.has(B))throw new e("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:B});return this._layerLayerViewInfoMap.get(B).promise});
return function(B){return x.apply(this,arguments)}}();y._refreshCollections=function(){for(const [x,B]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(x),this.get(B),this.view);this.notifyChange("updating");this.notifyChange("updatingRemaining")};y._populateLayerViewsOwners=function(x,B,C){if(x&&B){var D=0;for(const J of x)(x=this._layerLayerViewInfoMap.get(J))&&x.layerView&&(x=x.layerView,x.layer=J,x.parent=C,B.getItemAt(D)!==x&&B.splice(D,0,x),J.layers&&this._populateLayerViewsOwners(J.layers,
x.layerViews,x),D+=1);D<B.length&&B.splice(D,B.length)}else B&&B.removeAll()};y._createLayerView=function(x){if(this._layerLayerViewInfoMap.has(x))this.view.ready&&this._layerLayerViewInfoMap.get(x).start();else{x.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(x)&&this.layerViewImporter.importLayerView(x);var B=new z(x,this.view,this.layerViewImporter);B.promise.then(()=>this._refreshCollections(),C=>{if(!C||!f.isAbortError(C)&&"cancelled:layerview-create"!==C.name){var D,J;v.error(`Failed to create layerview for layer title:'${null!=
(D=x.title)?D:"no title"}', id:'${null!=(J=x.id)?J:"no id"}' of type '${x.type}'.`,{layer:x,error:C})}this._refreshCollections()});this._layerLayerViewInfoMap.set(x,B);this.view.ready&&B.start()}this.notifyChange("updating");this.notifyChange("updatingRemaining")};a._createClass(w,[{key:"_layersToLayerViews",get:function(){const x=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];
this.supportsGround&&x.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(x)}},{key:"_rootCollectionNames",get:function(){return Array.from(this._layersToLayerViews.keys())}},{key:"updating",get:function(){return t.isSome(this._workPromise)||this._watchUpdatingTracking.updating||q.someMap(this._layerLayerViewInfoMap,x=>!x.done)}},{key:"updatingRemaining",get:function(){let x=0;for(const B of this._layerLayerViewInfoMap.values())B.done||++x;return x}}]);return w}(h.HandleOwner);
b.__decorate([p.property()],h.prototype,"_workPromise",void 0);b.__decorate([p.property({readOnly:!0})],h.prototype,"_watchUpdatingTracking",void 0);b.__decorate([p.property({readOnly:!0})],h.prototype,"_layersToLayerViews",null);b.__decorate([p.property({readOnly:!0})],h.prototype,"_rootCollectionNames",null);b.__decorate([p.property()],h.prototype,"layerViewImporter",void 0);b.__decorate([p.property()],h.prototype,"supportsGround",void 0);b.__decorate([p.property({readOnly:!0})],h.prototype,"updating",
null);b.__decorate([p.property({readOnly:!0})],h.prototype,"updatingRemaining",null);b.__decorate([p.property({constructOnly:!0})],h.prototype,"view",void 0);return h=b.__decorate([d.subclass("esri.views.LayerViewManager")],h)})},"esri/views/Magnifier":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/screenUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f){c=function(k){function m(p){p=k.call(this,p)||this;p.factor=1.5;p.offset=e.createScreenPoint(0,0);p.position=null;p.size=120;p.maskUrl=null;p.maskEnabled=!0;p.overlayUrl=null;p.overlayEnabled=!0;p.visible=!0;return p}a._inheritsLoose(m,k);a._createClass(m,[{key:"version",get:function(){this.commitProperty("factor");this.commitProperty("offset");this.commitProperty("position");this.commitProperty("visible");this.commitProperty("size");this.commitProperty("maskUrl");this.commitProperty("maskEnabled");
this.commitProperty("overlayUrl");this.commitProperty("overlayEnabled");return(this._get("version")||0)+1}}]);return m}(c);b.__decorate([h.property({type:Number})],c.prototype,"factor",void 0);b.__decorate([h.property({nonNullable:!0})],c.prototype,"offset",void 0);b.__decorate([h.property()],c.prototype,"position",void 0);b.__decorate([h.property({type:Number,range:{min:0}})],c.prototype,"size",void 0);b.__decorate([h.property()],c.prototype,"maskUrl",void 0);b.__decorate([h.property()],c.prototype,
"maskEnabled",void 0);b.__decorate([h.property()],c.prototype,"overlayUrl",void 0);b.__decorate([h.property()],c.prototype,"overlayEnabled",void 0);b.__decorate([h.property({readOnly:!0})],c.prototype,"version",null);b.__decorate([h.property({type:Boolean})],c.prototype,"visible",void 0);return c=b.__decorate([f.subclass("esri.views.Magnifier")],c)})},"esri/views/ToolViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/HandleOwner ../core/handleUtils ../core/Logger ../core/maybe ../core/watchUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./3d/support/TextureCollection ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z){const A=q.getLogger("esri.views.ToolViewManager");h=function(w){function y(B){var C=w.call(this,B)||this;C._manipulatorState=new z;C.tools=new e;C.cursor=null;C._forEachTool=D=>{for(const J of C.tools.items)if(D(J))break};return C}a._inheritsLoose(y,w);var x=y.prototype;x.initialize=function(){this.handles.add([this.view.on(n.eventTypes,B=>{this._handleInputEvent(B)},d.ViewEventPriorities.TOOL),...v.getToolAttachDetachHandles(this.tools),this.tools.on("before-add",
B=>{const C=B.item;if(null==C||this.tools.includes(C))A.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),B.preventDefault()}),this.tools.on("before-remove",({item:B})=>{this._manipulatorState.clearPointers(B,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])};x.destroy=function(){this._forEachTool(B=>B.destroy())};x.attach=function(){this._forEachTool(B=>B.attach());"3d"===this.view.type?(this._set("textures",new r.TextureCollection(this.view._stage,
this.view.resourceController.scheduler)),this.handles.add([this.view.state.watch("camera",()=>{this._forEachManipulator(B=>{if(null!=B.onViewChange)B.onViewChange()})}),this.view.elevationProvider.on("elevation-change",B=>{this._forEachManipulator(C=>{if(null!=C.onElevationChange)C.onElevationChange(B)})}),l.makeHandle(()=>this._set("textures",t.destroyMaybe(this.textures)))],"attached")):this.handles.add(this.view.watch("extent",()=>{this._forEachManipulator(B=>{if(null!=B.onViewChange)B.onViewChange()})}))};
x.detach=function(){t.isSome(this.activeTool)&&(this.activeTool=null);this._forEachTool(B=>{B.detach();B.destroy()});this.tools.removeAll();this.handles.remove("attached")};x._forEachManipulator=function(B){this._forEachTool(C=>{C.manipulators&&C.manipulators.forEach(({manipulator:D})=>B(D,C))})};x._handleInputEvent=function(B){let C=!1;const D={...B,stopPropagation:()=>{C=!0;B.stopPropagation()}};t.isSome(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(D):this._forEachTool(J=>
{!C&&J.attached&&J.visible&&J.handleInputEvent(D)});!C&&"key-down"===B.type&&"Escape"===B.key&&this.activeTool&&(B.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(D,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:J=>{this.activeTool=J},view:this.view});!C&&t.isSome(this.activeTool)&&this.activeTool.handleInputEventAfter(D);this._manipulatorState.handleHoverEvent(D,this._forEachTool);this._updateCursor()};x._refreshToolWatchers=function(){this.handles.remove("tools");
this._forEachTool(B=>{if(B instanceof c){const C=f.watch(B,["cursor","visible","editable"],()=>{v.areToolManipulatorsEditable(B)||this._manipulatorState.clearPointers(B,this._forEachTool);this._updateCursor()});this.handles.add(C,"tools")}B.manipulators&&this.handles.add(B.manipulators.on("change",C=>{C.removed.forEach(({id:D})=>{this._manipulatorState.clearPointers(B,this._forEachTool,!0,D)});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()}),"tools")});
this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()};x._updateCursor=function(){let B=this._manipulatorState.cursor;this._forEachTool(C=>t.isSome(C.cursor)&&C.visible?(B=C.cursor,!0):!1);this._get("cursor")!==B&&this._set("cursor",B)};x._removeIncompleteTools=function(B){this.tools.filter(C=>(t.isNone(B)||C!==B)&&!C.completed).forEach(C=>{this.tools.remove(C);C.destroy()})};a._createClass(y,[{key:"activeTool",set:function(B){if(t.isSome(B)&&!this.view.ready)A.error("Cannot set active tool while view is not ready.");
else if(B===this.activeTool)t.isSome(B)&&A.warn("Tool is already active - ignoring activation request.");else{t.isSome(this.activeTool)&&this.activeTool.deactivate();t.isSome(B)&&B.activate();this._set("activeTool",B);this._removeIncompleteTools(B);B=t.isNone(this.activeTool);for(const C of this.tools){C.setEditableFlag(1,B||C===this.activeTool);const D=v.areToolManipulatorsEditable(C);!B&&D||this._manipulatorState.clearPointers(C,this._forEachTool,!D)}this._updateCursor()}}},{key:"updating",get:function(){return this.updatingHandles.updating||
this.tools.some(B=>B.updating)}}]);return y}(h.HandleOwner);b.__decorate([k.property({constructOnly:!0,nonNullable:!0})],h.prototype,"view",void 0);b.__decorate([k.property({readOnly:!0,nonNullable:!0})],h.prototype,"textures",void 0);b.__decorate([k.property({value:null})],h.prototype,"activeTool",null);b.__decorate([k.property({readOnly:!0,type:e})],h.prototype,"tools",void 0);b.__decorate([k.property({readOnly:!0})],h.prototype,"cursor",void 0);b.__decorate([k.property({readOnly:!0})],h.prototype,
"updating",null);return h=b.__decorate([g.subclass("esri.views.ToolViewManager")],h)})},"esri/views/3d/support/TextureCollection":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/maybe","../../support/Scheduler"],function(a,b,c,e){let h=function(){function l(t,f){this._stage=t;this._textureRequests=new Map;this._frameTask=c.isSome(f)?f.registerTask(e.TaskPriority.TEXTURE_UNLOAD):e.ImmediateTask}var q=l.prototype;q.destroy=function(){this._frameTask.remove();
this._textureRequests.forEach(t=>this._releaseTextureRequest(t));this._textureRequests.clear()};q.fromData=function(t,f){const k=this.makeUid(t);t=this._textureRequests.get(k);t||(t={referenceCount:0,texture:f(),textureAsync:null,abortController:null},this._stage&&(this._stage.add(t.texture),this._stage.loadSynchronous(t.texture)),this._textureRequests.set(k,t));t.referenceCount++;return{uid:k,texture:t.texture,release:()=>this._release(k)}};q._release=function(t){if(this._textureRequests){var f=
this._textureRequests.get(t);f?(1>f.referenceCount&&console.warn("TextureCollection: reference count is \x3c 1 for "+t),f.referenceCount--,1>f.referenceCount&&this._frameTask.schedule(()=>this._releaseNow(t))):console.warn(`TextureCollection: texture doesn't exist: '${t}'`)}};q._releaseNow=function(t){if(this._textureRequests){var f=this._textureRequests.get(t);!f||0<f.referenceCount||(this._releaseTextureRequest(f),this._textureRequests.delete(t))}};q._releaseTextureRequest=function(t){if(t.texture){var f;
null==(f=this._stage)?void 0:f.remove(t.texture)}else t.abortController&&(t.abortController.abort(),t.abortController=null)};q.makeUid=function(t,f=null){return c.isSome(f)?`${t}.${f}px`:t};b._createClass(l,[{key:"test",get:function(){return{textureRequests:this._textureRequests}}}]);return l}();a.TextureCollection=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/support/Scheduler":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Handles ../../core/Logger ../../core/maybe ../../core/PerformanceSampler ../../core/PooledArray ../../core/promiseUtils ../../core/reactiveUtils ../../core/time ../../core/watchUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../layers/support/PromiseQueue ./debugFlags".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A){function w(E){return x.has(E)?x.get(E):"number"===typeof E?E:1}const y=l.getLogger("esri.views.support.Scheduler");a.TaskPriority=void 0;(function(E){E.RESOURCE_CONTROLLER="schedule";E.SLIDE="slide";E.STREAM_DATA_LOADER="stream loader";E.ELEVATION_QUERY="elevation query";E.TERRAIN_SURFACE="terrain";E.SURFACE_GEOMETRY_UPDATES="surface geometry updates";E.GRAPHICS_CORE="Graphics3D";E.I3S_CONTROLLER="I3S";E.POINT_CLOUD_LAYER="point cloud";E.FEATURE_TILE_FETCHER=
"feature fetcher";E.OVERLAY="overlay";E.STAGE="stage";E.GRAPHICS_DECONFLICTOR="graphics deconflictor";E.FILTER_VISIBILITY="Graphics3D filter visibility";E.SCALE_VISIBILITY="Graphics3D scale visibility";E.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";E.POINT_OF_INTEREST_FREQUENT="POI frequent";E.POINT_OF_INTEREST_INFREQUENT="POI infrequent";E.LABELER="labeler";E.FEATURE_QUERY_ENGINE="feature query";E.FEATURE_TILE_TREE="feature tile tree";E.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";E.ELEVATION_ALIGNMENT=
"elevation alignment";E.TEXT_TEXTURE_ATLAS="text texture atlas";E.TEXTURE_UNLOAD="texture unload";E.LINE_OF_SIGHT_TOOL="line of sight tool";E.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";E.ELEVATION_PROFILE="elevation profile";E.SNAPPING="snapping";E.SHADOW_ACCUMULATOR="shadow accumulator";E.CLOUDS_GENERATOR="cloud generator";E[E.TEST_PRIO=1]="TEST_PRIO"})(a.TaskPriority||(a.TaskPriority={}));const x=new Map([[a.TaskPriority.RESOURCE_CONTROLLER,0],[a.TaskPriority.SLIDE,0],[a.TaskPriority.STREAM_DATA_LOADER,
0],[a.TaskPriority.ELEVATION_QUERY,0],[a.TaskPriority.TERRAIN_SURFACE,1],[a.TaskPriority.SURFACE_GEOMETRY_UPDATES,1],[a.TaskPriority.GRAPHICS_CORE,2],[a.TaskPriority.I3S_CONTROLLER,2],[a.TaskPriority.POINT_CLOUD_LAYER,2],[a.TaskPriority.FEATURE_TILE_FETCHER,2],[a.TaskPriority.OVERLAY,4],[a.TaskPriority.STAGE,4],[a.TaskPriority.GRAPHICS_DECONFLICTOR,4],[a.TaskPriority.FILTER_VISIBILITY,4],[a.TaskPriority.SCALE_VISIBILITY,4],[a.TaskPriority.FRUSTUM_VISIBILITY,4],[a.TaskPriority.POINT_OF_INTEREST_FREQUENT,
6],[a.TaskPriority.POINT_OF_INTEREST_INFREQUENT,30],[a.TaskPriority.LABELER,8],[a.TaskPriority.FEATURE_QUERY_ENGINE,8],[a.TaskPriority.FEATURE_TILE_TREE,16],[a.TaskPriority.FEATURE_TILE_TREE_ACTIVE,0],[a.TaskPriority.ELEVATION_ALIGNMENT,12],[a.TaskPriority.TEXT_TEXTURE_ATLAS,12],[a.TaskPriority.CLOUDS_GENERATOR,12],[a.TaskPriority.TEXTURE_UNLOAD,12],[a.TaskPriority.LINE_OF_SIGHT_TOOL,16],[a.TaskPriority.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[a.TaskPriority.SNAPPING,0],[a.TaskPriority.SHADOW_ACCUMULATOR,
30]]),B=p.Milliseconds(6.5),C=p.Milliseconds(1),D=p.Milliseconds(30),J=p.Milliseconds(1E3/30),I=p.Milliseconds(100);var N;(function(E){let K=function(ia){function Z(qa){var sa=ia.call(this,qa)||this;sa.updating=!0;sa._microTaskQueued=!1;sa.performanceInfo={total:new t("total"),tasks:new Map};sa._frameTaskTimes=new Map;sa._budget=null;sa._state=1;sa._tasks=new f;sa._runQueue=new f;sa._load=0;sa._idleStateCallbacks=new f;sa._idleUpdatesStartFired=!1;sa._maxReschedule=F;sa._forceTask=!1;sa._debug=!1;
sa._debugHandle=u.init(A,"SCHEDULER_LOG_SLOW_TASKS",U=>sa._debug=U);sa._budget=new W(qa.nowFunc);for(const U of Object.keys(a.TaskPriority))sa.performanceInfo.tasks.set(a.TaskPriority[U],new t(a.TaskPriority[U]));let Ba;const oa=b._assertThisInitialized(sa);sa._test={get state(){return q.unwrapOr(Ba,oa._state)},set state(U){Ba=U},FRAME_SAFETY_BUDGET:B,INTERACTING_BUDGET:J,IDLE_BUDGET:I,get budget(){return oa._budget.budget},usedBudget:0,setBudget:U=>oa._budget=U,updateTask:U=>sa._updateTask(U),getState:U=>
sa._getState(U),getRuntime:U=>sa._getRuntime(U),frameTaskTimes:sa._frameTaskTimes,resetRuntimes:()=>sa._resetRuntimes(),getRunning:()=>sa._getRunning()};return sa}b._inheritsLoose(Z,ia);var V=Z.prototype;V.destroy=function(){this._debugHandle&&this._debugHandle.remove();this._microTaskQueued=!1};V.activate=function(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=F,this._schedule(),
this.frame()))}))};V.registerTask=function(qa,sa){const Ba=w(qa);sa=new P(this,qa,sa,Ba);this._tasks.push(sa);this.performanceInfo.tasks.has(qa)||this.performanceInfo.tasks.set(qa,new t(qa));return sa};V.registerIdleStateCallbacks=function(qa,sa){const Ba={idleBegin:qa,idleEnd:sa};this._idleStateCallbacks.push(Ba);2===this.state&&this._idleUpdatesStartFired&&Ba.idleBegin();const oa=this;return{remove:()=>this._removeIdleStateCallbacks(Ba),set idleBegin(U){oa._idleUpdatesStartFired&&(Ba.idleEnd(),
2===oa._state&&U());Ba.idleBegin=U},set idleEnd(U){Ba.idleEnd=U}}};V.updateBudget=function(qa){this._test.usedBudget=0;let sa=B,Ba=qa.frameDuration,oa=C;switch(this.state){case 2:sa=p.Milliseconds(0);Ba=p.Milliseconds(Math.max(I,qa.frameDuration));oa=D;break;case 1:Ba=p.Milliseconds(Math.max(J,qa.frameDuration))}Ba=p.Milliseconds(Ba-qa.elapsedFrameTime-sa);if(2!==this.state&&Ba<C&&!this._forceTask)return this._forceTask=!0,!1;Ba=p.Milliseconds(Math.max(Ba,oa));this._budget.reset(Ba,this.state);this._maxReschedule=
F;this._updateLoad();return this._schedule()};V.frame=function(){this._microTaskQueued=this._forceTask=!1;switch(this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(qa=>qa.idleBegin()));this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};V.stopFrame=function(){this._budget.reset(p.Milliseconds(0),this._state);this._budget.madeProgress()};V._removeIdleStateCallbacks=
function(qa){this._idleUpdatesStartFired&&qa.idleEnd();this._idleStateCallbacks.removeUnordered(qa)};V.removeTask=function(qa){this._tasks.removeUnordered(qa);this._runQueue.removeUnordered(qa)};V._updateTask=function(qa){this._tasks.forAll(sa=>{sa.name===qa&&sa.setPriority(qa)})};V._getState=function(qa){if(this._runQueue.some(Ba=>Ba.name===qa))return a.TaskState.SCHEDULED;let sa=a.TaskState.IDLE;this._tasks.forAll(Ba=>{Ba.name===qa&&Ba.needsUpdate&&(1>=Ba.schedulePriority?sa=a.TaskState.READY:sa!==
a.TaskState.READY&&(sa=a.TaskState.WAITING))});return sa};V._getRuntime=function(qa){let sa=0;this._tasks.forAll(Ba=>{Ba.name===qa&&(sa+=Ba.runtime)});return sa};V._resetRuntimes=function(){this._tasks.forAll(qa=>qa.runtime=0)};V._getRunning=function(){const qa=new Map;this._tasks.forAll(Ba=>{Ba.needsUpdate&&qa.set(Ba.name,(qa.get(Ba.name)||0)+1)});if(0===qa.size)return null;let sa="";qa.forEach((Ba,oa)=>{sa=1<Ba?sa+` ${Ba}x ${oa}`:sa+` ${oa}`});return sa};V._runIdle=function(){this._run()};V._runInteracting=
function(){this._run()};V._runAnimating=function(){this._run()};V._updateLoad=function(){const qa=this._tasks.reduce((sa,Ba)=>Ba.needsUpdate?++sa:sa,0);this._load=.9*this._load+qa*(1-.9)};V._schedule=function(){if(0>=this._maxReschedule)return!1;this._runQueue.filterInPlace(qa=>{if(qa.needsUpdate)return!0;qa.schedulePriority=qa.basePriority;return!1});for(this._tasks.forAll(qa=>{0===qa.basePriority&&qa.needsUpdate&&!this._runQueue.some(sa=>sa===qa)&&this._runQueue.unshift(qa)});0===this._runQueue.length;){let qa=
!1,sa=0;this._tasks.forAll(Ba=>{if(Ba.needsUpdate&&0!==Ba.schedulePriority&&0!==Ba.basePriority)switch(qa=!0,sa=Math.max(sa,Ba.basePriority),Ba.schedulePriority){case 1:Ba.schedulePriority=0;this._runQueue.push(Ba);break;default:--Ba.schedulePriority}});if(!qa)return this.updating=!1;this._maxReschedule===F&&(this._maxReschedule=sa);--this._maxReschedule}return this.updating=!0};V._run=function(){const qa=this._budget.now();this._startFrameTaskTimes();do for(;0<this._runQueue.length;){var sa=this._budget.now();
const Ba=this._runQueue.pop();this._budget.resetProgress();try{Ba.task.runTask(this._budget)}catch(oa){y.error(`Exception in task "${Ba.name}"`,oa)}Ba.schedulePriority=Ba.basePriority;sa=this._budget.now()-sa;Ba.runtime+=sa;this._frameTaskTimes.set(Ba.priority,this._frameTaskTimes.get(Ba.priority)+sa);this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",Ba.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining){this._recordFrameTaskTimes(this._budget.now()-
qa);return}}while(this._schedule());this._recordFrameTaskTimes(this._budget.now()-qa)};V._startFrameTaskTimes=function(){for(const qa of Object.keys(a.TaskPriority))this._frameTaskTimes.set(a.TaskPriority[qa],0)};V._recordFrameTaskTimes=function(qa){this._frameTaskTimes.forEach((sa,Ba)=>this.performanceInfo.tasks.get(Ba).record(sa));this.performanceInfo.total.record(qa)};b._createClass(Z,[{key:"now",get:function(){return this.nowFunc()}},{key:"load",get:function(){return this._load}},{key:"state",
get:function(){return q.isNone(this._test.state)?this._state:this._test.state},set:function(qa){this._state!==qa&&(this._state=qa,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(sa=>sa.idleEnd())))}},{key:"test",get:function(){return this._test}}]);return Z}(e);c.__decorate([g.property()],K.prototype,"updating",void 0);c.__decorate([g.property()],K.prototype,"nowFunc",void 0);K=c.__decorate([v.subclass("esri.views.support.Scheduler")],K);
E.Scheduler=K;let P=function(ia){function Z(qa,sa,Ba,oa){var U=ia.call(this,{})||this;U._scheduler=qa;U.name=sa;U._basePriority=oa;U.runtime=0;U._queue=new z.PromiseQueue;U._handles=new h;U.schedulePriority=U._basePriority;U.task=q.isSome(Ba)?Ba:U._queue;U._handles.add(m.reactTruthy(()=>U.task.running,()=>qa.activate()));return U}b._inheritsLoose(Z,ia);var V=Z.prototype;V.normalizeCtorArgs=function(){return{}};V.remove=function(){this.processQueue(L);this._scheduler.removeTask(this);this.schedule=
G.schedule;this.reschedule=G.reschedule;this._handles.destroy()};V.setPriority=function(qa){this.name=qa;qa=w(qa);if(0===this._basePriority||0!==this.schedulePriority)this.schedulePriority=qa;this._basePriority=qa};V.schedule=function(qa,sa,Ba){return this._queue.push(qa,sa,Ba)};V.reschedule=function(qa,sa,Ba){return this._queue.unshift(qa,sa,Ba)};V.processQueue=function(qa){this._queue.runTask(qa)};b._createClass(Z,[{key:"updating",get:function(){return this._queue.running}},{key:"basePriority",
get:function(){return this._basePriority}},{key:"priority",get:function(){return this.name},set:function(qa){this.setPriority(qa)}},{key:"needsUpdate",get:function(){return this.updating||this.task.running}}]);return Z}(e);c.__decorate([g.property({constructOnly:!0})],P.prototype,"task",void 0);c.__decorate([g.property({readOnly:!0})],P.prototype,"updating",null);P=c.__decorate([v.subclass("esri.views.support.SchedulerTask")],P);let W=function(){function ia(V){this.now=V;this._budget=this._begin=
0;this._state=2;this._didWork=!1;this._enabled=!0}var Z=ia.prototype;Z.run=function(V){if(this.done)return!1;!0===V()&&(this._didWork=!0);return!0};Z.madeProgress=function(){this._didWork=!0};Z.reset=function(V,qa){this._begin=this.now();this._budget=V;this._state=qa;this._didWork=!1};Z.resetProgress=function(){this._didWork=!1};b._createClass(ia,[{key:"done",get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}},{key:"budget",get:function(){return this._budget}},{key:"state",
get:function(){return this._state}},{key:"enabled",get:function(){return this._enabled},set:function(V){this._enabled=V}},{key:"remaining",get:function(){return Math.max(this._budget-this.elapsed,0)}},{key:"elapsed",get:function(){return this.now()-this._begin}},{key:"hasProgressed",get:function(){return this._didWork}}]);return ia}();E.Budget=W})(N||(N={}));a.TaskState=void 0;(function(E){E.SCHEDULED="s";E.READY="r";E.WAITING="w";E.IDLE="i"})(a.TaskState||(a.TaskState={}));const L=(()=>{const E=
new N.Budget(()=>performance.now());E.enabled=!1;return E})(),G=new (function(){function E(){}var K=E.prototype;K.remove=function(){};K.processQueue=function(){};K.schedule=function(P,W,ia){try{if(k.isAborted(W)){const Z=k.createAbortError();return ia?Promise.resolve(ia(Z)):Promise.reject(Z)}return k.when(P(L))}catch(Z){return Promise.reject(Z)}};K.reschedule=function(P,W,ia){return this.schedule(P,W,ia)};return E}()),F=Number.MAX_SAFE_INTEGER;a.ImmediateTask=G;a.getTaskPriority=w;a.newScheduler=
function(E){return new N.Scheduler({nowFunc:E})};a.noBudget=L;a.taskPriorities=x;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/PromiseQueue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,h,
l,q,t,f,k){a.PromiseQueue=function(p){function u(){var r=p.apply(this,arguments)||this;r._tasks=[];r.running=!1;return r}b._inheritsLoose(u,p);var g=u.prototype;g.destroy=function(){this.cancelAll()};g.runTask=function(r){for(;!r.done&&this._process(r);)r.madeProgress()};g.push=function(r,d,n){this.running=!0;return new Promise((v,z)=>this._tasks.push(new m(v,z,r,d,n)))};g.unshift=function(r,d,n){this.running=!0;return new Promise((v,z)=>this._tasks.unshift(new m(v,z,r,d,n)))};g._process=function(r){if(0===
this._tasks.length)return!1;const d=this._tasks.shift();try{const n=h.isAborted(d.signal);if(n&&!d.abortCallback)d.reject(h.createAbortError());else{const v=n?d.abortCallback(h.createAbortError()):d.callback(r);h.isPromise(v)?v.then(d.resolve,d.reject):d.resolve(v)}}catch(n){d.reject(n)}this.running=0<this._tasks.length;return!0};g.cancelAll=function(){const r=h.createAbortError();for(const d of this._tasks)if(d.abortCallback){const n=d.abortCallback(r);d.resolve(n)}else d.reject(r);this._tasks.length=
0;this.running=!1};b._createClass(u,[{key:"length",get:function(){return this._tasks.length}}]);return u}(e);c.__decorate([l.property()],a.PromiseQueue.prototype,"running",void 0);a.PromiseQueue=c.__decorate([k.subclass("esri.layers.support.PromiseQueue")],a.PromiseQueue);let m=function(p,u,g,r,d){this.resolve=p;this.reject=u;this.callback=g;this.signal=r;this.abortCallback=d};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/support/debugFlags":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){c=function(f){function k(){var m=f.apply(this,arguments)||this;m.SCHEDULER_LOG_SLOW_TASKS=!1;m.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1;return m}a._inheritsLoose(k,f);return k}(c);b.__decorate([e.property()],c.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);b.__decorate([e.property()],c.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0);c=b.__decorate([t.subclass("esri.views.support.DebugFlags")],c);return new c})},"esri/views/input/InputManager":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/Queue ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./keys ./handlers/LatestPointerType".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u){const g=h.getLogger("esri.views.input.InputManager");a.InputManager=function(n){function v(A){var w=n.call(this,A)||this;w._pointerCaptures=new Map;w._nameToGroup={};w._handlers=[];w._currentPropagation=null;w._updateDependenciesAfterPropagation=!1;w._sourceEvents=new Set;w._keyModifiers=new Set;w._activeKeyModifiers=new Set;w._stoppedPropagationEventIds=new Set;w.primaryKey=p.primaryKey;w.latestPointerType="mouse";w.test={timestamp:void 0,hasCurrentPropagation:()=>
!!w._currentPropagation};return w}b._inheritsLoose(v,n);var z=v.prototype;z.initialize=function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()};z.destroy=function(){const A=Object.keys(this._nameToGroup);for(const w of A)this.uninstallHandlers(w);this._currentPropagation=this.eventSource=null};z.installHandlers=function(A,w,y=d.INTERNAL){if(this._nameToGroup[A])g.error("There is already an InputHandler group registered under the name `"+A+"`");else if(0===
w.length)g.error("Can't register a group of zero handlers");else{var x={name:A,handlers:w.map(B=>({handler:B,active:!0,removed:!1,priorityIndex:0,groupPriority:y,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[A]=x;for(A=x.handlers.length-1;0<=A;A--){const B=x.handlers[A];this._handlers.push(B);B.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(C,D,J,I,N)=>{this._emitInputEvent(B.priorityIndex+1,C,D,J,N,I)},setPointerCapture:(C,D)=>{this._setPointerCapture(x,
B,C,D)},setEventCallback:C=>{B.eventCallback=C},setUninstallCallback:C=>{B.uninstallCallback=C},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}};z.uninstallHandlers=function(A){const w=this._nameToGroup[A];w?(w.handlers.forEach(y=>{y.removed=!0;y.uninstallCallback()}),delete this._nameToGroup[A],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):g.error("There is no InputHandler group registered under the name `"+
A+"`")};z.hasHandlers=function(A){return void 0!==this._nameToGroup[A]};z.updateDependencies=function(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=!1;var A=new Set,w=new Set;this._handlersPriority=[];for(var y=this._handlers.length-1;0<=y;y--){var x=this._handlers[y];x.priorityIndex=y;this._handlersPriority.push(x)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(y=this._handlersPriority.length-
1;0<=y;y--){x=this._handlersPriority[y];x.priorityIndex=y;let B=x.handler.hasSideEffects;if(!B)for(const C of x.handler.outgoingEventTypes)if(A.has(C)){B=!0;break}if(B)for(const C of x.handler.incomingEventMatches){A.add(C.eventType);for(const D of C.keyModifiers)p.isSystemModifier(D)||w.add(D)}x.active=B}this._sourceEvents=A;this._keyModifiers=w;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));
this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}};z._setLatestPointerType=function(A){this._set("latestPointerType",A)};z._onEventReceived=function(A,w){"pointer-capture-lost"===A&&this._pointerCaptures.delete(w.native.pointerId);this._updateKeyModifiers(A,w);this._emitInputEventFromSource(A,w,null!=this.test.timestamp?this.test.timestamp:w.native?w.native.timestamp:void 0,w.native?w.native.cancelable:void 0)};z._updateKeyModifiers=function(A,w){if(w){var y=!1,x=()=>{if(!y){const C=
new Set;this._activeKeyModifiers.forEach(D=>{C.add(D)});this._activeKeyModifiers=C;y=!0}},B=(C,D)=>{D&&!this._activeKeyModifiers.has(C)?(x(),this._activeKeyModifiers.add(C)):!D&&this._activeKeyModifiers.has(C)&&(x(),this._activeKeyModifiers.delete(C))};if("key-down"===A||"key-up"===A){const C=w.key;this._keyModifiers.has(C)&&B(C,"key-down"===A)}A=w.native;B("Alt",!(!A||!A.altKey));B("Ctrl",!(!A||!A.ctrlKey));B("Shift",!(!A||!A.shiftKey));B("Meta",!(!A||!A.metaKey));B("Primary",this._activeKeyModifiers.has(this.primaryKey))}};
z._installRecognizers=function(){this._latestPointerTypeHandler=new u.LatestPointerType(A=>this._setLatestPointerType(A));0<this.recognizers.length&&this.installHandlers("default",this.recognizers,d.INTERNAL);this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],d.INTERNAL)};z._setPointerCapture=function(A,w,y,x){A=A.name+"-"+w.priorityIndex;w=this._pointerCaptures.get(y.pointerId)||new Set;this._pointerCaptures.set(y.pointerId,w);x?(w.add(A),1===w.size&&this.eventSource&&this.eventSource.setPointerCapture(y,
!0)):w.has(A)&&(w.delete(A),0===w.size&&(this._pointerCaptures.delete(y.pointerId),this.eventSource&&this.eventSource.setPointerCapture(y,!1)))};z._garbageCollectRemovedHandlers=function(){this._handlers=this._handlers.filter(A=>!A.removed);this.updateDependencies()};z._emitInputEventFromSource=function(A,w,y,x){this._emitInputEvent(0,A,w,y,x)};z._emitInputEvent=function(A,w,y,x,B,C){x=void 0!==x?x:this._currentPropagation?this._currentPropagation.timestamp:performance.now();A={event:new r(w,y,x,
C||this._activeKeyModifiers,void 0!==B?B:!1),priorityIndex:A};this._currentPropagation?this._currentPropagation.events.push(A):this._doNewPropagation(A)};z._doNewPropagation=function(A){this._currentPropagation={events:new l,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:A.event.timestamp};this._currentPropagation.events.push(A);this._continuePropagation()};z._continuePropagation=function(){const A=this._currentPropagation;if(A){for(;0<this._currentPropagation.events.length;){const {event:w,
priorityIndex:y}=this._currentPropagation.events.pop(),x=w.data&&w.data.eventId;if(null==x||!this._stoppedPropagationEventIds.has(x))for(A.currentHandler=this._handlersPriority[y];A.currentHandler;){if(A.currentHandler.removed)A.needsHandlerGarbageCollect=!0;else{A.currentHandler.active&&!w.shouldStopPropagation()&&A.currentHandler.eventCallback(w);if(w.shouldStopPropagation()){null!=x&&this._stoppedPropagationEventIds.add(x);break}if(w.shouldPausePropagation(()=>this._continuePropagation())){this._pausePropagation({event:w,
priorityIndex:A.currentHandler.priorityIndex+1});return}}A.currentHandler=this._handlersPriority[A.currentHandler.priorityIndex+1]}}A.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();this._currentPropagation=null;this._updateDependenciesAfterPropagation&&this.updateDependencies()}};z._pausePropagation=function(A){const w=new l;for(w.push(A);this._currentPropagation.events.length;)w.push(this._currentPropagation.events.pop());
this._currentPropagation.events=w;this._currentPropagation.currentHandler=null};z._compareHandlerPriority=function(A,w){if(A.handler.hasSideEffects!==w.handler.hasSideEffects)return A.handler.hasSideEffects?1:-1;if(A.groupPriority!==w.groupPriority)return A.groupPriority>w.groupPriority?-1:1;for(const y of A.handler.incomingEventMatches)for(const x of w.handler.incomingEventMatches){if(y.eventType!==x.eventType)continue;const B=y.keyModifiers.filter(C=>-1!==x.keyModifiers.indexOf(C));if(B.length===
y.keyModifiers.length!==(B.length===x.keyModifiers.length))return y.keyModifiers.length>x.keyModifiers.length?-1:1}return A.priorityIndex>w.priorityIndex?-1:1};z._sortHandlersPriority=function(A){const w=[];for(const y of A){for(A=0;A<w.length&&0<=this._compareHandlerPriority(y,w[A]);)A++;w.splice(A,0,y)}return w};b._createClass(v,[{key:"hasPendingInputs",get:function(){return this._handlers.some(A=>A.handler.hasPendingInputs)}},{key:"debug",get:function(){const A=w=>{const y=this._setPointerCapture;
this._setPointerCapture=()=>{};w();this._setPointerCapture=y};return{injectEvent:(w,y)=>{A(()=>{this._onEventReceived(w,y)})},disablePointerCapture:A}}}]);return v}(e);c.__decorate([q.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",null);c.__decorate([q.property()],a.InputManager.prototype,"eventSource",void 0);c.__decorate([q.property()],a.InputManager.prototype,"recognizers",void 0);c.__decorate([q.property({readOnly:!0})],a.InputManager.prototype,"latestPointerType",void 0);
a.InputManager=c.__decorate([m.subclass("esri.views.input.InputManager")],a.InputManager);let r=function(){function n(z,A,w,y,x){this.type=z;this.data=A;this.timestamp=w;this.modifiers=y;this.cancelable=x;this._propagationState=0;this._resumeCallback=null}var v=n.prototype;v.stopPropagation=function(){this._propagationState|=1};v.shouldStopPropagation=function(){return 0!==(this._propagationState&1)};v.async=function(z){this._propagationState|=2;const A=(w,y)=>{this._propagationState&=-3;const x=
this._resumeCallback;this._resumeCallback=null;x&&x();if(y)throw w;return w};return("function"===typeof z?z():z).then(w=>A(w,!1),w=>A(w,!0))};v.shouldPausePropagation=function(z){return this._propagationState&2?(this._resumeCallback=z,!0):!1};v.preventDefault=function(){this.data.native.preventDefault()};return n}();const d={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};a.ViewEventPriorities=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Queue":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./maybe"],function(a,b){return function(){function c(h=l=>l.values().next().value){this._peeker=h;this._items=new Set}var e=c.prototype;e.clear=function(){this._items.clear()};e.last=function(){if(0!==this._items.size){for(var h of this._items);return h}};e.peek=function(){if(0!==this._items.size)return this._peeker(this._items)};e.push=function(h){this.contains(h)||this._items.add(h)};e.contains=function(h){return this._items.has(h)};e.pop=function(){if(0!==this.length){var h=this.peek();this._items.delete(b.assumeNonNull(h));
return h}};e.popLast=function(){if(0!==this.length){var h=this.last();this._items.delete(b.assumeNonNull(h));return h}};e.remove=function(h){this._items.delete(h)};e.filter=function(h){this._items.forEach(l=>{h(l)||this._items.delete(l)});return this};a._createClass(c,[{key:"length",get:function(){return this._items.size}}]);return c}()})},"esri/views/input/keys":function(){define(["exports","../../core/events","../../core/has"],function(a,b,c){c=c("mac")?"Meta":"Ctrl";const e={8:"Backspace",9:"Tab",
13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(var h=48;58>h;h++)e[h]=String.fromCharCode(h);for(h=1;25>h;h++)e[111+h]=`F${h}`;for(h=65;91>h;h++)e[h]=[String.fromCharCode(h+32),String.fromCharCode(h)];a.eventKey=function(l){if(void 0!==l.key)return b.eventKey(l);const q=e[l.keyCode];return Array.isArray(q)?l.shiftKey?q[1]:q[0]:q};a.isSystemModifier=function(l){switch(l){case "Ctrl":case "Alt":case "Shift":case "Meta":case "Primary":return!0}return!1};
a.primaryKey=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/handlers/LatestPointerType":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../InputHandler"],function(a,b,c){c=function(e){function h(l){var q=e.call(this,!0)||this;q._onChange=l;q._value="mouse";q.registerIncoming("pointer-down",t=>{q._setValue("touch"===t.data.native.pointerType?"touch":"mouse")});q._moveHandler=q.registerIncoming("pointer-move",t=>{q._setValue("touch"===t.data.native.pointerType?
"touch":"mouse")});q._moveHandler.pause();return q}b._inheritsLoose(h,e);h.prototype._setValue=function(l){l!==this._value&&("touch"===l?this._moveHandler.resume():this._moveHandler.pause(),this._value=l,this._onChange(l))};return h}(c.InputHandler);a.LatestPointerType=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/InputHandler":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/Logger","./EventMatch"],function(a,b,c,e){const h=c.getLogger("esri.views.input.InputHandler");
c=function(){function t(k){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=k}var f=t.prototype;f.onInstall=function(k){this._manager?h.error("This InputHandler has already been registered with an InputManager"):(k.setEventCallback(m=>this._handleEvent(m)),k.setUninstallCallback(()=>this._onUninstall()),this._manager=k)};f.onUninstall=function(){};f.registerIncoming=function(k,m,p){"function"===
typeof m?(p=m,m=[]):m=m||[];k="string"===typeof k?new e.EventMatch(k,m):k;const u=()=>{this._incomingEventMatches=this._incomingEventTypes=null};m=g=>{const r=this._incoming[g.match.eventType];r&&(g=r.indexOf(g),r.splice(g,1),u(),this._manager&&this._manager.updateDependencies())};p=new l(k,p,{onPause:m,onRemove:m,onResume:g=>{const r=this._incoming[g.match.eventType];r&&-1===r.indexOf(g)&&(r.push(g),u(),this._manager&&this._manager.updateDependencies())}});m=this._incoming[k.eventType];m||(m=[],
this._incoming[k.eventType]=m);m.push(p);u();this._manager&&this._manager.updateDependencies();return p};f.registerOutgoing=function(k){if(this._outgoing[k])throw Error("There is already a callback registered for this outgoing InputEvent: "+k);const m=new q(k,{onEmit:(p,u,g,r)=>{this._manager.emit(p.eventType,u,g,r)},onRemove:p=>{delete this._outgoing[p.eventType];this._manager.updateDependencies()}});this._outgoing[k]=m;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();
return m};f.startCapturingPointer=function(k){this._manager.setPointerCapture(k,!0)};f.stopCapturingPointer=function(k){this._manager.setPointerCapture(k,!1)};f.refreshHasPendingInputs=function(){this._manager.refreshHasPendingInputs()};f._onUninstall=function(){this._manager?(this.onUninstall(),this._manager=null):h.error("This InputHandler is not registered with an InputManager")};f._handleEvent=function(k){const m=this._incoming[k.type];if(m)for(const p of m)if(p.match.matches(k)&&(p.callback(k),
k.shouldStopPropagation()))break};b._createClass(t,[{key:"incomingEventMatches",get:function(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const k in this._incoming){const m=this._incoming[k];for(const p of m)this._incomingEventMatches.push(p.match)}}return this._incomingEventMatches}},{key:"incomingEventTypes",get:function(){this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(k=>k.eventType));return this._incomingEventTypes}},{key:"outgoingEventTypes",
get:function(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes}},{key:"hasSideEffects",get:function(){return this._hasSideEffects}},{key:"hasPendingInputs",get:function(){return!1}}]);return t}();let l=function(){function t(k,m,p){this.match=k;this._callback=m;this._handler=p}var f=t.prototype;f.pause=function(){this._handler.onPause(this)};f.resume=function(){this._handler.onResume(this)};f.remove=function(){this._handler.onRemove(this)};
b._createClass(t,[{key:"callback",get:function(){return this._callback}}]);return t}(),q=function(){function t(k,m){this.eventType=k;this._removed=!1;this._handler=m}var f=t.prototype;f.emit=function(k,m,p){if(!this._removed)this._handler.onEmit(this,k,m,p)};f.remove=function(){this._removed=!0;this._handler.onRemove(this)};return t}();a.InputHandler=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/EventMatch":function(){define(["exports"],function(a){let b=function(){function c(e,
h=[]){this.eventType=e;this.keyModifiers=h}c.prototype.matches=function(e){if(e.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;e=e.modifiers;for(const h of this.keyModifiers)if(!e.has(h))return!1;return!0};return c}();a.EventMatch=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/ViewEvents":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/has ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager".split(" "),
function(a,b,c,e,h,l,q){function t(u){return!!k[u]}function f(u){for(const g of u)if(!t(g))return!1;return!0}c="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");const k={};c.forEach(u=>{k[u]=!0});let m=function(){function u(r){this.handlers=new Map;this.counter=0;this.handlerCounts=new Map;this.view=r;this.inputManager=null}var g=u.prototype;g.connect=
function(r){r&&this.disconnect();this.inputManager=r;this.handlers.forEach(({handler:d,priority:n},v)=>this.inputManager.installHandlers(v,[d],n))};g.disconnect=function(){this.inputManager&&this.handlers.forEach((r,d)=>this.inputManager.uninstallHandlers(d));this.inputManager=null};g.destroy=function(){this.disconnect();this.handlers.clear();this.view=null};g.on=function(r,d,n,v){const z=Array.isArray(r)?r:r.split(",");if(!f(z))return z.some(t)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),
null;if(Array.isArray(d))r=d;else{var A=d;r=[]}"function"===typeof n?A=n:v=n;v=null!=v?v:q.ViewEventPriorities.DEFAULT;const w=this.createUniqueGroupName();n=new p(this.view,z,r,A);this.handlers.set(w,{handler:n,priority:v});for(const y of z)A=this.handlerCounts.get(y)||0,this.handlerCounts.set(y,A+1);this.inputManager&&this.inputManager.installHandlers(w,[n],v);return{remove:()=>this.removeHandler(w,z)}};g.hasHandler=function(r){return!!this.handlerCounts.get(r)};g.removeHandler=function(r,d){if(this.handlers.has(r)){this.handlers.delete(r);
for(const n of d)d=this.handlerCounts.get(n),void 0===d?console.error("Trying to remove handler for event that has no handlers registered: ",n):1===d?this.handlerCounts.delete(n):this.handlerCounts.set(n,d-1)}this.inputManager&&this.inputManager.uninstallHandlers(r)};g.createUniqueGroupName=function(){this.counter+=1;return`viewEvents_${this.counter}`};return u}(),p=function(u){function g(d,n,v,z){var A=u.call(this,!0)||this;A.view=d;for(const w of n)switch(w){case "click":A.registerIncoming("click",
v,y=>z(A.wrapClick(y)));break;case "double-click":A.registerIncoming("double-click",v,y=>z(A.wrapDoubleClick(y)));break;case "immediate-click":A.registerIncoming("immediate-click",v,y=>z(A.wrapImmediateClick(y)));break;case "immediate-double-click":A.registerIncoming("immediate-double-click",v,y=>z(A.wrapImmediateDoubleClick(y)));break;case "hold":A.registerIncoming("hold",v,y=>z(A.wrapHold(y)));break;case "drag":A.registerIncoming("drag",v,y=>{(y=A.wrapDrag(y))&&z(y)});break;case "key-down":A.registerIncoming("key-down",
v,y=>z(A.wrapKeyDown(y)));break;case "key-up":A.registerIncoming("key-up",v,y=>z(A.wrapKeyUp(y)));break;case "pointer-down":A.registerIncoming("pointer-down",v,y=>z(A.wrapPointer(y,"pointer-down")));break;case "pointer-move":A.registerIncoming("pointer-move",v,y=>z(A.wrapPointer(y,"pointer-move")));break;case "pointer-up":A.registerIncoming("pointer-up",v,y=>z(A.wrapPointer(y,"pointer-up")));break;case "pointer-drag":A.registerIncoming("pointer-drag",v,y=>z(A.wrapPointerDrag(y)));break;case "mouse-wheel":A.registerIncoming("mouse-wheel",
v,y=>z(A.wrapMouseWheel(y)));break;case "pointer-enter":A.registerIncoming("pointer-enter",v,y=>z(A.wrapPointer(y,"pointer-enter")));break;case "pointer-leave":A.registerIncoming("pointer-leave",v,y=>z(A.wrapPointer(y,"pointer-leave")));break;case "gamepad":A.registerIncoming("gamepad",v,y=>{z(A.wrapGamepad(y))});break;case "focus":A.registerIncoming("focus",v,y=>{z(A.wrapFocus(y))});break;case "blur":A.registerIncoming("blur",v,y=>{z(A.wrapBlur(y))})}return A}b._inheritsLoose(g,u);var r=g.prototype;
r.wrapFocus=function(d){return{type:"focus",timestamp:d.timestamp,native:d.data.native,cancelable:d.cancelable,stopPropagation:()=>d.stopPropagation(),async:n=>d.async(n),preventDefault:()=>d.preventDefault()}};r.wrapBlur=function(d){return{type:"blur",timestamp:d.timestamp,native:d.data.native,cancelable:d.cancelable,stopPropagation:()=>d.stopPropagation(),async:n=>d.async(n),preventDefault:()=>d.preventDefault()}};r.wrapClick=function(d){const {pointerType:n,button:v,buttons:z,x:A,y:w,native:y,
eventId:x}=d.data,{cancelable:B,timestamp:C}=d,D=h.createScreenPoint(A,w),J=this.getMapPoint(A,w);return{type:"click",pointerType:n,button:v,buttons:z,x:A,y:w,native:y,timestamp:C,screenPoint:D,mapPoint:J,eventId:x,cancelable:B,stopPropagation:()=>d.stopPropagation(),async:I=>d.async(I),preventDefault:()=>d.preventDefault()}};r.wrapDoubleClick=function(d){const {pointerType:n,button:v,buttons:z,x:A,y:w,native:y,eventId:x}=d.data,{cancelable:B,timestamp:C}=d;return{type:"double-click",pointerType:n,
button:v,buttons:z,x:A,y:w,native:y,timestamp:C,mapPoint:this.getMapPoint(A,w),eventId:x,cancelable:B,stopPropagation:()=>d.stopPropagation(),async:D=>d.async(D),preventDefault:()=>d.preventDefault()}};r.wrapImmediateClick=function(d){const {pointerType:n,button:v,buttons:z,x:A,y:w,native:y,eventId:x}=d.data,B=y.pointerId,{cancelable:C,timestamp:D}=d;return{type:"immediate-click",pointerId:B,pointerType:n,button:v,buttons:z,x:A,y:w,native:y,timestamp:D,mapPoint:this.getMapPoint(A,w),eventId:x,cancelable:C,
stopPropagation:()=>d.stopPropagation(),async:J=>d.async(J),preventDefault:()=>d.preventDefault()}};r.wrapImmediateDoubleClick=function(d){const {pointerType:n,button:v,buttons:z,x:A,y:w,native:y,eventId:x}=d.data,B=y.pointerId,{cancelable:C,timestamp:D}=d;return{type:"immediate-double-click",pointerId:B,pointerType:n,button:v,buttons:z,x:A,y:w,native:y,timestamp:D,mapPoint:this.getMapPoint(A,w),eventId:x,cancelable:C,stopPropagation:()=>d.stopPropagation(),async:J=>d.async(J),preventDefault:()=>
d.preventDefault()}};r.wrapHold=function(d){const {pointerType:n,button:v,buttons:z,x:A,y:w,native:y}=d.data,{cancelable:x,timestamp:B}=d;return{type:"hold",pointerType:n,button:v,buttons:z,x:A,y:w,native:y,timestamp:B,mapPoint:this.getMapPoint(A,w),cancelable:x,stopPropagation:()=>d.stopPropagation(),async:C=>d.async(C),preventDefault:()=>d.preventDefault()}};r.getMapPoint=function(d,n){return this.view.toMap(h.createScreenPoint(d,n),{exclude:[]})};r.wrapDrag=function(d){const n=d.data,{x:v,y:z}=
n.center,{action:A,pointerType:w,button:y}=n;"start"===A&&(this.latestDragStart=n);if(this.latestDragStart){var x=n.pointer.native,B=n.buttons,{cancelable:C,timestamp:D}=d,J={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};"end"===A&&(this.latestDragStart=void 0);return{type:"drag",action:A,x:v,y:z,origin:J,pointerType:w,button:y,buttons:B,radius:n.radius,angle:e.rad2deg(n.angle),native:x,timestamp:D,cancelable:C,stopPropagation:()=>d.stopPropagation(),async:I=>d.async(I),preventDefault:()=>
d.preventDefault()}}};r.wrapKeyDown=function(d){const {key:n,repeat:v,native:z}=d.data,{cancelable:A,timestamp:w}=d;return{type:"key-down",key:n,repeat:v,native:z,timestamp:w,cancelable:A,stopPropagation:()=>d.stopPropagation(),async:y=>d.async(y),preventDefault:()=>d.preventDefault()}};r.wrapKeyUp=function(d){const {key:n,native:v}=d.data,{cancelable:z,timestamp:A}=d;return{type:"key-up",key:n,native:v,timestamp:A,cancelable:z,stopPropagation:()=>d.stopPropagation(),async:w=>d.async(w),preventDefault:()=>
d.preventDefault()}};r.wrapPointer=function(d,n){const {x:v,y:z,button:A,buttons:w,native:y,eventId:x}=d.data,B=y.pointerId,C=y.pointerType,{cancelable:D,timestamp:J}=d;return{type:n,x:v,y:z,pointerId:B,pointerType:C,button:A,buttons:w,native:y,timestamp:J,eventId:x,cancelable:D,stopPropagation:()=>d.stopPropagation(),async:I=>d.async(I),preventDefault:()=>d.preventDefault()}};r.wrapPointerDrag=function(d){const {x:n,y:v,buttons:z,native:A,eventId:w}=d.data.currentEvent,{button:y}=d.data.startEvent,
x=d.data.startEvent.native.pointerId,B=d.data.startEvent.native.pointerType,C=d.data.action,D={x:d.data.startEvent.x,y:d.data.startEvent.y},{cancelable:J,timestamp:I}=d;return{type:"pointer-drag",x:n,y:v,pointerId:x,pointerType:B,button:y,buttons:z,action:C,origin:D,native:A,timestamp:I,eventId:w,cancelable:J,stopPropagation:()=>d.stopPropagation(),async:N=>d.async(N),preventDefault:()=>d.preventDefault()}};r.wrapMouseWheel=function(d){const {cancelable:n,data:v,timestamp:z}=d,{x:A,y:w,deltaY:y,native:x}=
v;return{type:"mouse-wheel",x:A,y:w,deltaY:y,native:x,timestamp:z,cancelable:n,stopPropagation:()=>d.stopPropagation(),async:B=>d.async(B),preventDefault:()=>d.preventDefault()}};r.wrapGamepad=function(d){const {action:n,state:v,device:z}=d.data,{cancelable:A,timestamp:w}=d,{buttons:y,axes:x}=v;return{type:"gamepad",device:z,timestamp:w,action:n,buttons:y,axes:x,cancelable:A,stopPropagation:()=>d.stopPropagation(),async:B=>d.async(B),preventDefault:()=>d.preventDefault()}};return g}(l.InputHandler);
a.ViewEvents=m;a.eventTypes=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/interactive/interactiveToolUtils":function(){define(["exports","../../core/maybe"],function(a,b){a.areToolManipulatorsEditable=function(c){return c.visible&&c.getEditableFlag(0)&&c.getEditableFlag(1)};a.evaluateToolConstructorArguments=function(c){return b.isNone(c)?{}:"function"===typeof c?c():c};a.getToolAttachDetachHandles=function(c){return[c.on("after-add",e=>{e=e.item;e.view&&e.view.ready&&!e.attached&&
e.attach()}),c.on("after-remove",e=>{e=e.item;e.active&&(e.view.activeTool=null);e.attached&&e.detach()})]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("../../chunks/_rollupPluginBabelHelpers ../../core/MapUtils ../../core/mathUtils ../../core/maybe ../../core/screenUtils ./interactiveToolUtils ../support/screenUtils".split(" "),function(a,b,c,e,h,l,q){const t={manipulator:null,tool:null};return function(){function f(){this._pointerLocations=
new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=new Map;this._draggedManipulators=new Map;this._stopDrag=!1;this._currentlyActiveTool=null;this._revertToActiveTool=!1;this._cursor=null}var k=f.prototype;k.handleInputEvent=function(m,p){var u=()=>m.stopPropagation();switch(m.type){case "pointer-move":"mouse"===m.pointerType&&this._pointerLocations.set(m.pointerId,{x:m.x,y:m.y,pointerType:m.pointerType});break;case "drag":0<this._grabbedManipulators.size&&(this._stopDrag=!0);this._stopDrag&&
(m.stopPropagation(),"end"===m.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===m.pointerType&&0!==m.button)break;u=q.createScreenPointFromEvent(m);var g=this._intersect(u,m.pointerType,p.forEachTool);if(e.isNone(g))break;var r=this._findToolAndManipulatorByKey(g,p.forEachTool,t),d=e.applySome(r,v=>v.manipulator);r=e.applySome(r,v=>v.tool);!(e.isSome(d)&&e.isSome(r)&&d.interactive)||d.grabbable&&d.grabbableForEvent(m)||!d.grabbing||d.dragging||this._ungrabManipulatorBeforeDragging(d,
r,m);e.isSome(d)&&d.interactive&&d.grabbable&&d.grabbableForEvent(m)&&!d.grabbing&&(this._grabbedManipulators.set(m.pointerId,{key:g,start:u,pointerType:m.pointerType}),1===this._grabbedManipulators.size&&p.activeTool!==g.tool&&(this._currentlyActiveTool=p.activeTool,this._revertToActiveTool=!0,p.setActiveTool(g.tool)),d.grabbing=!0,d.events.emit("grab-changed",{action:"start",pointerType:m.pointerType,screenPoint:u}),m.stopPropagation());break;case "pointer-up":this._handlePointerEnd(m,p);break;
case "pointer-drag":if("mouse"===m.pointerType&&0!==m.button)break;var n=this._grabbedManipulators.get(m.pointerId);u=this._draggedManipulators.get(m.pointerId);g=e.applySome(n||u,({key:v})=>v);d=this._findManipulatorByKey(g,p.forEachTool);if(e.isNone(d))break;r=q.createScreenPointFromEvent(m);r.x=c.clamp(r.x,0,p.view.width);r.y=c.clamp(r.y,0,p.view.height);n=e.unwrap(n||u).start;switch(m.action){case "start":case "update":if("update"===m.action||1===this._grabbedManipulators.size)d.dragging=!0,u?
d.events.emit("drag",{action:"update",start:n,screenPoint:r}):d.events.emit("drag",{action:"start",start:n,screenPoint:r,pointerType:m.pointerType}),this._draggedManipulators.set(m.pointerId,{key:e.unwrap(g),start:n});break;case "end":d.dragging=!1,u&&d.events.emit("drag",{action:"end",start:n,screenPoint:r}),this._draggedManipulators.delete(m.pointerId),this._handlePointerEnd(m,p)}m.stopPropagation();break;case "immediate-click":{g=q.createScreenPointFromEvent(m);d=this._intersect(g,m.pointerType,
p.forEachTool);const v=this._findToolAndManipulatorByKey(d,p.forEachTool,t);m.native.shiftKey||p.forEachTool(w=>{if((!e.isSome(v)||v.tool!==w||w.automaticManipulatorSelection)&&w.manipulators){let y=!1;w.manipulators.forEach(({manipulator:x})=>{x.selected&&(x.selected=!1,y=!0)});y&&w.manipulatorSelectionChanged&&w.manipulatorSelectionChanged()}});if(e.isNone(v))break;const {manipulator:z,tool:A}=v;if(!z.interactive)break;z.selectable&&A.automaticManipulatorSelection&&(z.selected=!z.selected,A.manipulatorSelectionChanged&&
A.manipulatorSelectionChanged());z.events.emit("immediate-click",{screenPoint:g,button:m.button,pointerType:m.pointerType,shiftKey:m.native.shiftKey,stopPropagation:u});break}case "click":u=q.createScreenPointFromEvent(m);g=this._intersect(u,m.pointerType,p.forEachTool);g=this._findManipulatorByKey(g,p.forEachTool);if(e.isNone(g)||!g.interactive)break;g.events.emit(m.type,{screenPoint:u,button:m.button,pointerType:m.pointerType,shiftKey:m.native.shiftKey});m.stopPropagation();break;case "double-click":g=
q.createScreenPointFromEvent(m);d=this._intersect(g,m.pointerType,p.forEachTool);d=this._findManipulatorByKey(d,p.forEachTool);if(e.isNone(d)||!d.interactive)break;d.events.emit("double-click",{screenPoint:g,button:m.button,pointerType:m.pointerType,shiftKey:m.native.shiftKey,stopPropagation:u});break;case "immediate-double-click":g=q.createScreenPointFromEvent(m),d=this._intersect(g,m.pointerType,p.forEachTool),d=this._findManipulatorByKey(d,p.forEachTool),!e.isNone(d)&&d.interactive&&d.events.emit("immediate-double-click",
{screenPoint:g,button:m.button,pointerType:m.pointerType,shiftKey:m.native.shiftKey,stopPropagation:u})}this._updateCursor(p.forEachTool)};k._ungrabManipulatorBeforeDragging=function(m,p,u){m.grabbing=!1;m.events.emit("grab-changed",{action:"end",pointerType:u.pointerType,screenPoint:q.createScreenPointFromEvent(u)});this._grabbedManipulators.forEach(({key:g},r)=>{g.tool===p&&p.manipulators.findById(g.manipulatorId)===m&&this._grabbedManipulators.delete(r)})};k._handlePointerEnd=function(m,p){var u=
e.applySome(this._grabbedManipulators.get(m.pointerId),({key:g})=>g);u=this._findManipulatorByKey(u,p.forEachTool);e.isSome(u)&&!u.dragging&&(1===this._grabbedManipulators.size&&0===this._draggedManipulators.size&&this._revertToActiveTool&&(p.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),u.grabbing&&(u.grabbing=!1,u.events.emit("grab-changed",{action:"end",pointerType:m.pointerType,screenPoint:q.createScreenPointFromEvent(m)})),this._grabbedManipulators.delete(m.pointerId))};
k._cursorFromMap=function(m,p){let u=null;b.someMap(m,({key:g})=>{g=this._findManipulatorByKey(g,p);return e.isSome(g)&&g.interactive&&"cursor"in g&&g.cursor?(u=g.cursor,!0):!1});return u};k._updateCursor=function(m){this._cursor=0<this._grabbedManipulators.size?this._cursorFromMap(this._grabbedManipulators,m)||"grabbing":0<this._hoveredManipulators.size?this._cursorFromMap(this._hoveredManipulators,m)||"pointer":null};k.clearPointers=function(m,p,u=!0,g){const r=d=>d.tool===m&&(e.isNone(g)||d.manipulatorId===
g);this._grabbedManipulators.forEach(({key:d,pointerType:n},v)=>{r(d)&&(this._grabbedManipulators.delete(v),d=this._findManipulatorByKey(d,p),e.isSome(d)&&(d.grabbing=!1,d.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:n})))});this._draggedManipulators.forEach(({key:d},n)=>{r(d)&&(this._draggedManipulators.delete(n),d=this._findManipulatorByKey(d,p),e.isSome(d)&&(d.dragging=!1,d.events.emit("drag",{action:"cancel"})))});u&&this._hoveredManipulators.forEach(({key:d},n)=>{r(d)&&
(this._hoveredManipulators.delete(n),d=this._findManipulatorByKey(d,p),e.isSome(d)&&(d.hovering=!1))});this._updateCursor(p)};k._intersect=function(m,p,u){let g=null;u(r=>{if(null==r.manipulators||!l.areToolManipulatorsEditable(r))return!1;const d=r.manipulators.intersect(m,p);if(e.isNone(d))return!1;g={manipulatorId:d.id,tool:r};return!0});return g};k.updateHoveredStateFromKnownPointers=function(m){this._pointerLocations.forEach((p,u)=>{this._updateHoveredStateForPointerAtScreenPosition(h.createScreenPoint(p.x,
p.y),u,p.pointerType,m)})};k.handleHoverEvent=function(m,p){"pointer-up"!==m.type&&"immediate-click"!==m.type&&"pointer-move"!==m.type||"mouse"!==m.pointerType||this._updateHoveredStateForPointerAtScreenPosition(q.createScreenPointFromEvent(m),m.pointerId,m.pointerType,p)};k._updateHoveredStateForPointerAtScreenPosition=function(m,p,u,g){m=this._intersect(m,u,g);u=this._findManipulatorByKey(m,g);var r=e.applySome(this._hoveredManipulators.get(p),({key:d})=>d);r=this._findManipulatorByKey(r,g);e.isSome(u)&&
!u.interactive&&(u=null);r!==u&&(e.isSome(r)&&(r.hovering=!1),e.isSome(u)?(u.hovering=!0,this._hoveredManipulators.set(p,{key:e.unwrap(m)})):this._hoveredManipulators.delete(p),this._updateCursor(g))};k._findManipulatorByKey=function(m,p){return this._findToolAndManipulatorByKey(m,p,t)?t.manipulator:null};k._findToolAndManipulatorByKey=function(m,p,u){if(e.isNone(m))return null;u.tool=null;u.manipulator=null;p(g=>{if(g!==m.tool||null==g.manipulators||!l.areToolManipulatorsEditable(g))return!1;const r=
g.manipulators.findById(m.manipulatorId);return e.isSome(r)?(u.manipulator=r,u.tool=g,!0):!1});return u.manipulator?u:null};a._createClass(f,[{key:"cursor",get:function(){return this._cursor}}]);return f}()})},"esri/views/support/screenUtils":function(){define(["exports","../../core/has","../../core/screenUtils"],function(a,b,c){function e(l){return c.createScreenPoint(l.x,l.y)}function h(l,q){l=(l instanceof HTMLElement?l:l.surface).getBoundingClientRect();return c.createScreenPoint(q.clientX-l.left,
q.clientY-l.top)}a.createScreenPointFromEvent=e;a.createScreenPointFromNativeEvent=h;a.createScreenPointFromSupportedEvent=function(l,q){return q instanceof Event?h(l,q):e(q)};a.isSupportedScreenPointEvent=function(l){if(l instanceof Event)return!0;if("object"===typeof l&&"type"in l)switch(l.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/Input":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),function(a,b,c,e,h,l,q,t,f){c=function(k){function m(){var p=k.apply(this,arguments)||this;p.gamepad=new f;return p}
a._inheritsLoose(m,k);return m}(c);b.__decorate([e.property({readOnly:!0})],c.prototype,"gamepad",void 0);return c=b.__decorate([t.subclass("esri.views.input.Input")],c)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./GamepadInputDevice".split(" "),
function(a,b,c,e,h,l,q,t,f,k){c=function(m){function p(...u){u=m.call(this,...u)||this;u.devices=new e;u.enabledFocusMode="document";return u}a._inheritsLoose(p,m);return p}(c);b.__decorate([h.property({type:e.ofType(k),readOnly:!0})],c.prototype,"devices",void 0);b.__decorate([h.property({type:["document","view","none"]})],c.prototype,"enabledFocusMode",void 0);return c=b.__decorate([f.subclass("esri.views.input.gamepad.GamepadSettings")],c)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t){c=function(m){function p(u){var g=m.call(this)||this;g.nativeIndex=null;g._detectedDeviceType="unknown";"standard"===u.mapping?g._detectedDeviceType="standard":f.test(u.id)?g._detectedDeviceType="spacemouse":g._detectedDeviceType="unknown";g.nativeIndex=u.index;return g}a._inheritsLoose(p,m);a._createClass(p,[{key:"native",get:function(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}},{key:"deviceType",get:function(){return this._detectedDeviceType}},
{key:"axisThreshold",get:function(){return k[this.deviceType]}}]);return p}(c);b.__decorate([e.property({nonNullable:!0,readOnly:!0})],c.prototype,"nativeIndex",void 0);b.__decorate([e.property({type:String,readOnly:!0})],c.prototype,"deviceType",null);b.__decorate([e.property({type:Number,readOnly:!0})],c.prototype,"axisThreshold",null);c=b.__decorate([t.subclass("esri.views.input.gamepad.GamepadInputDevice")],c);const f=/^(3dconnexion|space(mouse|navigator|pilot|explorer))/i,k={standard:.15,spacemouse:.025,
unknown:0};return c})},"esri/views/navigation/Navigation":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),function(a,b,c,e,h,l,q,t,f){c=function(k){function m(p){p=k.call(this,p)||this;p.browserTouchPanEnabled=!0;p.gamepad=new f;p.momentumEnabled=
!0;p.mouseWheelZoomEnabled=!0;return p}a._inheritsLoose(m,k);return m}(c);b.__decorate([e.property({type:Boolean})],c.prototype,"browserTouchPanEnabled",void 0);b.__decorate([e.property({type:f,nonNullable:!0})],c.prototype,"gamepad",void 0);b.__decorate([e.property({type:Boolean})],c.prototype,"momentumEnabled",void 0);b.__decorate([e.property({type:Boolean})],c.prototype,"mouseWheelZoomEnabled",void 0);return c=b.__decorate([t.subclass("esri.views.navigation.Navigation")],c)})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../input/gamepad/GamepadInputDevice".split(" "),
function(a,b,c,e,h,l,q,t,f){c=function(k){function m(p){p=k.call(this,p)||this;p.enabled=!0;p.device=null;p.mode="pan";p.tiltDirection="forward-down";p.velocityFactor=1;return p}a._inheritsLoose(m,k);return m}(c);b.__decorate([e.property({type:Boolean,nonNullable:!0})],c.prototype,"enabled",void 0);b.__decorate([e.property({type:f})],c.prototype,"device",void 0);b.__decorate([e.property({type:["pan","zoom"],nonNullable:!0})],c.prototype,"mode",void 0);b.__decorate([e.property({type:["forward-down",
"forward-up"],nonNullable:!0})],c.prototype,"tiltDirection",void 0);b.__decorate([e.property({type:Number,nonNullable:!0})],c.prototype,"velocityFactor",void 0);return c=b.__decorate([t.subclass("esri.views.navigation.gamepad.GamepadSettings")],c)})},"esri/views/support/DefaultsFromMap":function(){define("require ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Handles ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../geometry/projection ../../geometry/support/heightModelInfoUtils ../ViewingMode".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d){const n=l.getLogger("esri.views.support.DefaultsFromMap");n.level="info";e=function(v){function z(w){w=v.call(this,w)||this;w._handles=new h;w.required={tileInfo:!1,heightModelInfo:!1,extent:!1};w.defaultSpatialReference=null;w.userSpatialReference=null;w.priorityCollection=null;w.logDebugInformation=!1;w.suspended=!1;w._projectExtentTask={task:null,input:null,output:null,spatialReference:null};return w}b._inheritsLoose(z,v);var A=z.prototype;A.destroy=function(){this._handles=
q.destroyMaybe(this._handles);this._projectExtentTask.task&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=q.abortMaybe(this._projectExtentTask.task));this._set("map",null)};A._processSpatialReferenceCandidates=function(w,y){var x;const B=this._getSupportedSpatialReferences(w);if(0!==B.length)if(this._debug("Spatial reference candidates from",null!=(x=w.title)?x:w.id,":",B.map(C=>`${C.spatialReference.wkid}:${q.isSome(C.viewingMode)?d.stringFromViewingMode(C.viewingMode):
"global/local"}`).join(", ")),y.candidates){w=[];x=(C,D)=>q.isNone(C.viewingMode)?D.viewingMode:q.isNone(D.viewingMode)?C.viewingMode:C.viewingMode===D.viewingMode?C.viewingMode:!1;for(const C of y.candidates)for(const D of B){if(!C.spatialReference.equals(D.spatialReference))continue;const J=x(C,D);if(!1!==J){w.push({spatialReference:C.spatialReference,viewingMode:J});break}}0<w.length&&(y.candidates=w)}else y.candidates=B};A._pickSpatialReferenceCandidate=function(w){const y=this.defaultSpatialReference;
return!w||1>w.length?q.isSome(y)?{spatialReference:y,viewingMode:null}:null:q.isSome(y)&&1<w.length&&w.some(({spatialReference:x})=>x.equals(y))?{spatialReference:y,viewingMode:null}:w[0]};A._getSupportedSpatialReferences=function(w){var y="supportedSpatialReferences"in w&&w.supportedSpatialReferences||(w.spatialReference?[w.spatialReference]:[]);if(0===y.length)return[];const x=[];for(const B of y)if(y=this.getSpatialReferenceSupport({spatialReference:B,layer:w}),q.isSome(y)){y=q.isSome(y.constraints)?
y.constraints:[{spatialReference:B}];for(const {spatialReference:C,viewingMode:D}of y)(q.isNone(this.userSpatialReference)||C.equals(this.userSpatialReference))&&x.push({spatialReference:C,viewingMode:D})}return x};A._pickExtentCandidate=function(w){const y=this.spatialReference,x=w.find(({extent:B})=>g.canProjectWithoutEngine(B.spatialReference,y)||g.isLoaded());return q.isSome(x)?{candidate:x,requiresGeometryService:!1}:{candidate:w[0],requiresGeometryService:!0}};A._collectLayers=function(w){var y;
if("loaded"!==this._loadMaybe(null==(y=this.map)?void 0:y.call(this)))return{layers:[],updating:!0};y={layers:[],preloading:-1,updating:!1};for(const x of w)if(this._collectCollection(x,y),10===y.preloading)break;return{layers:y.layers,updating:y.updating}};A._collectCollection=function(w,y){if(w.layers){switch(this._loadMaybe(w.parent)){case "loading":y.updating=!0;++y.preloading;return;case "failed":return}for(const C of w.layers){switch(this._loadMaybe(C)){case "failed":continue;case "loading":y.updating=
!0;++y.preloading;break;case "loaded":if(!y.updating){var x,B;this._debug("Considering layer",null!=(x=null!=(B=C.title)?B:C.id)?x:C.declaredClass);y.layers.push(C)}"layers"in C&&this._collectCollection({layers:C.layers},y)}if(10===y.preloading)break}}};A._loadMaybe=function(w){if(!(w&&"loadStatus"in w))return"loaded";if("not-loaded"===w.loadStatus){var y,x;this._debug("Triggering load",null!=(y=null!=(x=w.title)?x:w.id)?y:w.declaredClass);w.load();return"loading"}return w.loadStatus};A._debug=function(...w){this.logDebugInformation&&
n.info(...w)};b._createClass(z,[{key:"ready",get:function(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}},{key:"heightModelInfoReady",get:function(){return!this._heightModelInfoTask.updating}},{key:"spatialReference",get:function(){return q.isSome(this.userSpatialReference)?this.userSpatialReference:q.unwrap(this._spatialReferenceTask.spatialReference)}},{key:"extent",get:function(){return q.unwrap(this._extentTask.extent)}},{key:"heightModelInfo",
get:function(){return q.unwrap(this._heightModelInfoTask.heightModelInfo)}},{key:"vcsWkid",get:function(){return q.unwrap(this._heightModelInfoTask.vcsWkid)}},{key:"latestVcsWkid",get:function(){return q.unwrap(this._heightModelInfoTask.latestVcsWkid)}},{key:"viewingMode",get:function(){return q.isNone(this.userSpatialReference)||this.userSpatialReference.equals(q.unwrap(this._spatialReferenceTask.spatialReference))?q.unwrap(this._spatialReferenceTask.viewingMode):null}},{key:"tileInfo",get:function(){return q.unwrap(this._tileInfoTask.tileInfo)}},
{key:"mapCollections",get:function(){var w,y,x,B;const C=null==(w=this.map)?void 0:w.call(this);w=[];q.isSome(this.priorityCollection)&&w.push(this.priorityCollection);w.push({parent:null==C?void 0:C.basemap,layers:null==C?void 0:null==(y=C.basemap)?void 0:y.baseLayers},{layers:null==C?void 0:C.layers},{parent:null==C?void 0:C.ground,layers:null==C?void 0:null==(x=C.ground)?void 0:x.layers},{parent:null==C?void 0:C.basemap,layers:null==C?void 0:null==(B=C.basemap)?void 0:B.referenceLayers});return w}},
{key:"_allLayers",get:function(){var w,y;const x=this._collectLayers(this.mapCollections);this._debug("Collected",null!=(w=null==(y=x.layers)?void 0:y.length)?w:0,"layers, updating",x.updating);return x}},{key:"_spatialReferenceTask",get:function(){var w;if(this.suspended){var y;return null!=(y=this._get("_spatialReferenceTask"))?y:{updating:!1}}const {layers:x,updating:B}=this._allLayers;y={candidates:null};for(const C of x)if(this._processSpatialReferenceCandidates(C,y),y.candidates&&1===y.candidates.length)break;
if(1!==(null==(w=y.candidates)?void 0:w.length)&&B)return{updating:!0};w=this._pickSpatialReferenceCandidate(y.candidates);this._debug("Finished spatial reference",q.isSome(w)?`${w.spatialReference.wkid}:${q.isSome(w.viewingMode)?d.stringFromViewingMode(w.viewingMode):"global/local"}`:"none available");return{spatialReference:q.isSome(w)?w.spatialReference:null,viewingMode:q.isSome(w)?w.viewingMode:null,updating:!1}}},{key:"_tileInfoTask",get:function(){var w,y,x,B,C,D,J;if(!this.required.tileInfo){var I;
return null!=(I=this._get("_tileInfoTask"))?I:{updating:!1}}if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const {layers:N,updating:L}=this._collectLayers([{parent:null==(w=this.map)?void 0:null==(y=w.call(this))?void 0:y.basemap,layers:null==(x=this.map)?void 0:null==(B=x.call(this))?void 0:null==(C=B.basemap)?void 0:C.baseLayers},{layers:null==(D=this.map)?void 0:null==(J=D.call(this))?void 0:J.layers}]);return N&&0<N.length&&"tileInfo"in N[0]?(w=N[0].tileInfo,{tileInfo:w&&
w.spatialReference.equals(this.spatialReference)?w:null,updating:!1}):{updating:L}}},{key:"_heightModelInfoTask",get:function(){var w;if(!this.required.heightModelInfo||this.suspended&&null!=(w=this._get("_heightModelInfoTask"))&&w.heightModelInfo){var y;return null!=(y=this._get("_heightModelInfoTask"))?y:{updating:!1}}const {layers:x,updating:B}=this._allLayers;for(const N of x){var C,D;this._debug("Considering",null!=(C=null!=(D=N.title)?D:N.id)?C:N.declaredClass,"for height model info");if(r.mayHaveHeightModelInfo(N)&&
(w=r.deriveHeightModelInfoFromLayer(N))){var J,I;this._debug("Derived height model info",w);return{heightModelInfo:w,vcsWkid:null==(J=N.spatialReference)?void 0:J.vcsWkid,latestVcsWkid:null==(I=N.spatialReference)?void 0:I.latestVcsWkid,updating:!1}}this._debug("Layer does not support height models")}this._debug("No height model info found,","updating",B);return{updating:B}}},{key:"_extentCandidatesTask",get:function(){if(this.suspended||!this.required.extent){var w;return null!=(w=this._get("_extentCandidatesTask"))?
w:{updating:!1}}if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};var y=this._allLayers;w=y.updating;const x=[];for(const B of y.layers){y="fullExtents"in B&&B.fullExtents||(q.isSome(B.fullExtent)?[B.fullExtent]:[]);const C=y.find(D=>D.spatialReference.equals(this.spatialReference));if(C)return{candidates:[{extent:C,layer:B}],updating:!1};if(0<this._getSupportedSpatialReferences(B).length)for(const D of y)x.push({extent:D,layer:B})}return{candidates:x,updating:w}}},{key:"_extentTask",
get:function(){var w=this;const {candidates:y,updating:x}=this._extentCandidatesTask;if(x)return{updating:x};if(q.isNone(y)||0===y.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const {candidate:B,requiresGeometryService:C}=this._pickExtentCandidate(y),D=this.spatialReference;if(B.extent.equals(this._projectExtentTask.input)&&D.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:q.isSome(this._projectExtentTask.task)&&
!this._projectExtentTask.task.finished};q.isSome(this._projectExtentTask.task)&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=q.abortMaybe(this._projectExtentTask.task));if(!C){this._projectExtentTask={input:null,output:null,task:null,spatialReference:null};try{return{extent:g.project(B.extent,D),updating:!1}}catch{return{updating:!1}}}this._debug("Starting project extent task for",B.extent);this._projectExtentTask={input:B.extent.clone(),output:null,spatialReference:D.clone(),
task:t.createTask(function(){var J=b._asyncToGenerator(function*(I){try{const N=yield(yield t.whenOrAbort(new Promise((L,G)=>a(["../../portal/support/geometryServiceUtils"],L,G)),I)).projectGeometry(B.extent,D,B.layer.portalItem,I);w._debug("Project extent task finished",N);w._projectExtentTask={...w._projectExtentTask,task:null,output:N}}catch(N){t.isAborted(I)||(w._projectExtentTask={...w._projectExtentTask,task:null})}});return function(I){return J.apply(this,arguments)}}())};return{updating:!0}}}]);
return z}(e);c.__decorate([f.property()],e.prototype,"required",void 0);c.__decorate([f.property({constructOnly:!0})],e.prototype,"map",void 0);c.__decorate([f.property({constructOnly:!0})],e.prototype,"getSpatialReferenceSupport",void 0);c.__decorate([f.property()],e.prototype,"defaultSpatialReference",void 0);c.__decorate([f.property()],e.prototype,"userSpatialReference",void 0);c.__decorate([f.property()],e.prototype,"priorityCollection",void 0);c.__decorate([f.property()],e.prototype,"logDebugInformation",
void 0);c.__decorate([f.property()],e.prototype,"suspended",void 0);c.__decorate([f.property({readOnly:!0})],e.prototype,"ready",null);c.__decorate([f.property({readOnly:!0})],e.prototype,"heightModelInfoReady",null);c.__decorate([f.property({readOnly:!0})],e.prototype,"spatialReference",null);c.__decorate([f.property({readOnly:!0})],e.prototype,"extent",null);c.__decorate([f.property({readOnly:!0})],e.prototype,"heightModelInfo",null);c.__decorate([f.property({readOnly:!0})],e.prototype,"vcsWkid",
null);c.__decorate([f.property({readOnly:!0})],e.prototype,"latestVcsWkid",null);c.__decorate([f.property({readOnly:!0})],e.prototype,"viewingMode",null);c.__decorate([f.property({readOnly:!0})],e.prototype,"tileInfo",null);c.__decorate([f.property({readOnly:!0})],e.prototype,"mapCollections",null);c.__decorate([f.property({readOnly:!0})],e.prototype,"_allLayers",null);c.__decorate([f.property({readOnly:!0})],e.prototype,"_spatialReferenceTask",null);c.__decorate([f.property({readOnly:!0})],e.prototype,
"_tileInfoTask",null);c.__decorate([f.property({readOnly:!0})],e.prototype,"_heightModelInfoTask",null);c.__decorate([f.property({readOnly:!0})],e.prototype,"_extentCandidatesTask",null);c.__decorate([f.property()],e.prototype,"_extentTask",null);c.__decorate([f.property()],e.prototype,"_projectExtentTask",void 0);return e=c.__decorate([u.subclass("esri.views.support.DefaultsFromMap")],e)})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./projectionEllipsoid ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/zscale".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x,B){function C(){return!!ya&&g.isLoaded()}function D(Y){l.isNone(Fa)&&(Fa=Promise.all([g.load(),(new Promise((fa,da)=>a(["../chunks/geometryEngineBase"],fa,da))).then(fa=>fa.geometryEngineBase),new Promise((fa,da)=>a(["./geometryAdapters/hydrated"],fa,da))]));return Fa.then(([,fa,{hydratedAdapter:da}])=>{q.throwIfAborted(Y);ta=da;ya=fa.default;ya._enableProjection(g.pe)})}function J(Y,fa,da=null){return Array.isArray(Y)?0===Y.length?[]:I(ta,Y,
Y[0].spatialReference,fa,da):I(ta,[Y],Y.spatialReference,fa,da)[0]}function I(Y,fa,da,ra,Ma=null){if(l.isNone(da)||l.isNone(ra))return fa;if(L(da,ra,Ma))return fa.map(Ra=>l.unwrap(F(Ra,da,ra)));if(l.isNone(Ma)){const Ra=y.cacheKey(da,ra);void 0!==Ia[Ra]?Ma=Ia[Ra]:(Ma=N(da,ra,null),l.isNone(Ma)&&(Ma=new y),Ia[Ra]=Ma)}if(l.isNone(ya))throw new Ka;return ya._project(Y,fa,da,ra,Ma)}function N(Y,fa,da=null){if(l.isNone(ya))throw new Ka;if(l.isNone(Y)||l.isNone(fa))return null;Y=ya._getTransformation(ta,
Y,fa,da,null==da?void 0:da.spatialReference);return null!==Y?y.fromGE(Y):null}function L(Y,fa,da){return da?!1:x.equals(Y,fa)?!0:x.isValid(Y)&&x.isValid(fa)&&!!Xa(Y,fa,Na)}function G(){G=c._asyncToGenerator(function*(Y,fa,da,ra){if(!C())if(Array.isArray(Y))for(const {source:Ma,dest:Ra,geographicTransformation:xa}of Y){if(!L(Ma,Ra,xa))return D(ra)}else if(!L(Y,fa,da))return D(ra)});return G.apply(this,arguments)}function F(Y,fa,da){return Y?"x"in Y?E(Y,fa,new r,da,0):"xmin"in Y?ia(Y,fa,new p,da,0):
"rings"in Y?W(Y,fa,new d,da,0):"paths"in Y?P(Y,fa,new n,da,0):"points"in Y?K(Y,fa,new u,da,0):null:null}function E(Y,fa,da,ra,Ma){ja[0]=Y.x;ja[1]=Y.y;const Ra=Y.z;ja[2]=void 0!==Ra?Ra:Ma;if(!sa(ja,fa,0,ja,ra,0,1))return null;da.x=ja[0];da.y=ja[1];da.spatialReference=ra;void 0===Ra?(da.z=void 0,da.hasZ=!1):(da.z=ja[2],da.hasZ=!0);void 0===Y.m?(da.m=void 0,da.hasM=!1):(da.m=Y.m,da.hasM=!0);return da}function K(Y,fa,da,ra,Ma){const {points:Ra,hasZ:xa,hasM:Ya}=Y;Y=[];const fb=Ra.length,eb=[];for(var db of Ra)eb.push(db[0],
db[1],xa?db[2]:Ma);if(!sa(eb,fa,0,eb,ra,0,fb))return null;for(fa=0;fa<fb;++fa){Ma=3*fa;db=eb[Ma];const Ta=eb[Ma+1];xa&&Ya?Y.push([db,Ta,eb[Ma+2],Ra[fa][3]]):xa?Y.push([db,Ta,eb[Ma+2]]):Ya?Y.push([db,Ta,Ra[fa][2]]):Y.push([db,Ta])}da.points=Y;da.spatialReference=ra;da.hasZ=xa;da.hasM=Ya;return da}function P(Y,fa,da,ra,Ma){const {paths:Ra,hasZ:xa,hasM:Ya}=Y;Y=[];if(!Ba(Ra,xa,Ya,fa,Y,ra,Ma))return null;da.paths=Y;da.spatialReference=ra;da.hasZ=xa;da.hasM=Ya;return da}function W(Y,fa,da,ra,Ma){const {rings:Ra,
hasZ:xa,hasM:Ya}=Y;Y=[];if(!Ba(Ra,xa,Ya,fa,Y,ra,Ma))return null;da.rings=Y;da.spatialReference=ra;da.hasZ=xa;da.hasM=Ya;return da}function ia(Y,fa,da,ra,Ma){const {xmin:Ra,ymin:xa,xmax:Ya,ymax:fb,hasZ:eb,hasM:db}=Y;if(!Z(Ra,xa,eb?Y.zmin:Ma,fa,ja,ra))return null;da.xmin=ja[0];da.ymin=ja[1];eb&&(da.zmin=ja[2]);if(!Z(Ya,fb,eb?Y.zmax:Ma,fa,ja,ra))return null;da.xmax=ja[0];da.ymax=ja[1];eb&&(da.zmax=ja[2]);db&&(da.mmin=Y.mmin,da.mmax=Y.mmax);da.spatialReference=ra;return da}function Z(Y,fa,da,ra,Ma,Ra){Sa[0]=
Y;Sa[1]=fa;Sa[2]=da;return sa(Sa,ra,0,Ma,Ra,0,1)}function V(Y,fa,da,ra){if(l.isNone(fa)||l.isNone(ra)||2>Y.length)return!1;2===Y.length&&(Sa[0]=Y[0],Sa[1]=Y[1],Sa[2]=0,Y=Sa);return sa(Y,fa,0,da,ra,0,1)}function qa(Y,fa,da){if(l.isNone(fa))return!1;fa=va(fa,Va);fa=bb[fa][6];if(l.isNone(fa))return!1;fa(Y,0,Sa,0);da!==Sa&&(da[0]=Sa[0],da[1]=Sa[1],2<da.length&&(da[2]=Sa[2]));return!0}function sa(Y,fa,da,ra,Ma,Ra,xa=1){fa=Xa(fa,Ma,Na);if(l.isNone(fa))return!1;if(fa===Aa){if(Y===ra&&da===Ra)return!0;xa=
da+3*xa;for(let Ya=da,fb=Ra;Ya<xa;Ya++,fb++)ra[fb]=Y[Ya];return!0}xa=da+3*xa;for(let Ya=da,fb=Ra;Ya<xa;Ya+=3,fb+=3)fa(Y,Ya,ra,fb);return!0}function Ba(Y,fa,da,ra,Ma,Ra,xa=0){const Ya=[];for(const fb of Y)for(const eb of fb)Ya.push(eb[0],eb[1],fa?eb[2]:xa);if(!sa(Ya,ra,0,Ya,Ra,0,Ya.length/3))return!1;ra=0;Ma.length=0;for(const fb of Y){Y=[];for(const eb of fb)fa&&da?Y.push([Ya[ra++],Ya[ra++],Ya[ra++],eb[3]]):fa?Y.push([Ya[ra++],Ya[ra++],Ya[ra++]]):(da?Y.push([Ya[ra++],Ya[ra++],eb[2]]):Y.push([Ya[ra++],
Ya[ra++]]),ra++);Ma.push(Y)}return!0}function oa(Y,fa,da,ra){Y=Math.abs(pa*Y)+Math.asin(da/(ra+fa));return Y>=Math.PI/2?Number.MAX_VALUE:da/Math.cos(Y)}function U(Y,fa,da){const ra=Math.sin(Y);Y=Math.cos(Y);const Ma=Math.sin(fa);fa=Math.cos(fa);da[0]=-ra;da[4]=-Ma*Y;da[8]=fa*Y;da[12]=0;da[1]=Y;da[5]=-Ma*ra;da[9]=fa*ra;da[13]=0;da[2]=0;da[6]=fa;da[10]=Ma;da[14]=0;da[3]=0;da[7]=0;da[11]=0;da[15]=1;return da}function ca(Y,fa,da){U(Y,fa,da);f.transpose(da,da);return da}function va(Y,fa){if(fa.spatialReference===
Y)return fa.spatialReferenceId;fa.spatialReference=Y;"metersPerUnit"in fa&&(fa.metersPerUnit=t.getMetersPerUnitForSR(Y,1));return Y.wkt===v.SphericalECEFSpatialReference.wkt?fa.spatialReferenceId=1:x.isWGS84(Y)?fa.spatialReferenceId=2:x.isWebMercator(Y)?fa.spatialReferenceId=3:x.isPlateCarree(Y)?fa.spatialReferenceId=12:Y.wkt===v.WGS84ECEFSpatialReference.wkt?fa.spatialReferenceId=4:4490===Y.wkid?fa.spatialReferenceId=5:Y.wkt===v.SphericalPCPFMars.wkt?fa.spatialReferenceId=7:Y.wkt===v.SphericalPCPFMoon.wkt?
fa.spatialReferenceId=9:x.isMars(Y)?fa.spatialReferenceId=8:x.isMoon(Y)?fa.spatialReferenceId=10:fa.spatialReferenceId=0}function Aa(Y,fa,da,ra){Y!==da&&(da[ra++]=Y[fa++],da[ra++]=Y[fa++],da[ra]=Y[fa])}function H(Y,fa,da,ra){da[ra++]=Ja*(Y[fa++]/A.earth.radius);da[ra++]=Ja*(Math.PI/2-2*Math.atan(Math.exp(-Y[fa++]/A.earth.radius)));da[ra]=Y[fa]}function O(Y,fa,da,ra){H(Y,fa,da,ra);ma(da,ra,da,ra)}function la(Y,fa,da,ra){H(Y,fa,da,ra);wa(da,ra,da,ra)}function Q(Y,fa,da,ra,Ma){var Ra=.4999999*Math.PI;
Ra=h.clamp(pa*Y[fa+1],-Ra,Ra);Ra=Math.sin(Ra);da[ra++]=pa*Y[fa]*Ma.radius;da[ra++]=Ma.halfSemiMajorAxis*Math.log((1+Ra)/(1-Ra));da[ra]=Y[fa+2]}function S(Y,fa,da,ra){Q(Y,fa,da,ra,A.earth)}function M(Y,fa,da,ra){da[ra]=Y[fa]*Ua;da[ra+1]=Y[fa+1]*Ua;da[ra+2]=Y[fa+2]}function R(Y,fa,da,ra){da[ra]=Y[fa]*Za;da[ra+1]=Y[fa+1]*Za;da[ra+2]=Y[fa+2]}function aa(Y,fa,da,ra){H(Y,fa,da,ra);M(da,ra,da,ra)}function ba(Y,fa,da,ra,Ma){Ma+=Y[fa+2];const Ra=pa*Y[fa+1];Y=pa*Y[fa];fa=Math.cos(Ra);da[ra++]=Math.cos(Y)*fa*
Ma;da[ra++]=Math.sin(Y)*fa*Ma;da[ra]=Math.sin(Ra)*Ma}function T(Y,fa,da,ra){ba(Y,fa,da,ra,A.moon.radius)}function X(Y,fa,da,ra){ba(Y,fa,da,ra,A.mars.radius)}function ma(Y,fa,da,ra){ba(Y,fa,da,ra,A.earth.radius)}function Ca(Y,fa,da,ra,Ma){var Ra=Y[fa];const xa=Y[fa+1];fa=Y[fa+2];Y=Math.sqrt(Ra*Ra+xa*xa+fa*fa);fa=h.asinClamped(fa/(0===Y?1:Y));Ra=Math.atan2(xa,Ra);da[ra++]=Ja*Ra;da[ra++]=Ja*fa;da[ra]=Y-Ma}function Ea(Y,fa,da,ra){Ca(Y,fa,da,ra,A.moon.radius)}function La(Y,fa,da,ra){Ca(Y,fa,da,ra,A.mars.radius)}
function Pa(Y,fa,da,ra){Ca(Y,fa,da,ra,A.earth.radius)}function ha(Y,fa,da,ra){Pa(Y,fa,da,ra);S(da,ra,da,ra)}function ua(Y,fa,da,ra){Pa(Y,fa,da,ra);wa(da,ra,da,ra)}function wa(Y,fa,da,ra){{var Ma=A.earth;const xa=pa*Y[fa];var Ra=pa*Y[fa+1];Y=Y[fa+2];fa=Math.sin(Ra);Ra=Math.cos(Ra);const Ya=Ma.radius/Math.sqrt(1-Ma.eccentricitySquared*fa*fa);da[ra++]=(Ya+Y)*Ra*Math.cos(xa);da[ra++]=(Ya+Y)*Ra*Math.sin(xa);da[ra++]=(Ya*(1-Ma.eccentricitySquared)+Y)*fa}}function Ga(Y,fa,da,ra){var Ma=w.earthEllipsoidConstants,
Ra=Y[fa],xa=Y[fa+1];Y=Y[fa+2];let Ya;fa=Math.abs(Y);var fb=Ra*Ra+xa*xa;var eb=Math.sqrt(fb);var db=fb+Y*Y;var Ta=Math.sqrt(db);Ra=Math.atan2(xa,Ra);var Wa=Y*Y/db;db=fb/db;xa=Ma.a2/Ta;fb=Ma.a3-Ma.a4/Ta;.3<db?(Wa=fa/Ta*(1+db*(Ma.a1+xa+Wa*fb)/Ta),Ta=Math.asin(Wa),xa=Wa*Wa,db=Math.sqrt(1-xa)):(db=eb/Ta*(1-Wa*(Ma.a5-xa-db*fb)/Ta),Ta=Math.acos(db),xa=1-db*db,Wa=Math.sqrt(xa));Ya=1-A.earth.eccentricitySquared*xa;xa=A.earth.radius/Math.sqrt(Ya);Ma=Ma.a6*xa;xa=eb-xa*db;fb=fa-Ma*Wa;fa=db*xa+Wa*fb;eb=db*fb-
Wa*xa;Ma=eb/(Ma/Ya+fa);Ta+=Ma;0>Y&&(Ta=-Ta);da[ra++]=Ja*Ra;da[ra++]=Ja*Ta;da[ra]=fa+eb*Ma/2}function Ha(Y,fa,da,ra){Ga(Y,fa,da,ra);ma(da,ra,da,ra)}function Oa(Y,fa,da,ra){Ga(Y,fa,da,ra);S(da,ra,da,ra)}function Xa(Y,fa,da=na()){return l.isNone(Y)||l.isNone(fa)?null:ea(Y,fa,da).projector}function ea(Y,fa,da){if(l.isNone(Y)||l.isNone(fa)||da.source.spatialReference===Y&&da.dest.spatialReference===fa)return da;const ra=va(Y,da.source),Ma=va(fa,da.dest);0===ra&&0===Ma?x.equals(Y,fa)?da.projector=Aa:da.projector=
null:da.projector=bb[ra][Ma];return da}function na(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:Aa}}let ya=null,ta=null,Fa=null,Ia={},Ka=function(Y){function fa(){return Y.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}c._inheritsLoose(fa,Y);return fa}(e);const Ua=A.earth.radius*Math.PI/180,Za=180/(A.earth.radius*Math.PI),bb={[2]:{[5]:null,
[8]:null,[10]:null,[11]:Aa,[6]:Aa,[1]:ma,[7]:null,[9]:null,[0]:null,[3]:S,[12]:M,[2]:Aa,[4]:wa},[5]:{[5]:Aa,[8]:null,[10]:null,[11]:Aa,[6]:Aa,[1]:ma,[7]:null,[9]:null,[0]:null,[3]:null,[12]:M,[2]:null,[4]:wa},[8]:{[5]:null,[8]:Aa,[10]:null,[11]:Aa,[6]:null,[1]:null,[7]:X,[9]:null,[0]:null,[3]:null,[12]:null,[2]:null,[4]:null},[10]:{[5]:null,[8]:null,[10]:Aa,[11]:Aa,[6]:null,[1]:null,[7]:null,[9]:T,[0]:null,[3]:null,[12]:null,[2]:null,[4]:null},[3]:{[5]:null,[8]:null,[10]:null,[11]:H,[6]:H,[1]:O,[7]:null,
[9]:null,[0]:null,[3]:Aa,[12]:aa,[2]:H,[4]:la},[4]:{[5]:Ga,[8]:null,[10]:null,[11]:Ga,[6]:Ga,[1]:Ha,[7]:null,[9]:null,[0]:null,[3]:Oa,[12]:function(Y,fa,da,ra){Ga(Y,fa,da,ra);M(da,ra,da,ra)},[2]:Ga,[4]:Aa},[1]:{[5]:Pa,[8]:null,[10]:null,[11]:Pa,[6]:Pa,[1]:Aa,[7]:null,[9]:null,[0]:null,[3]:ha,[12]:function(Y,fa,da,ra){Pa(Y,fa,da,ra);M(da,ra,da,ra)},[2]:Pa,[4]:ua},[7]:{[5]:null,[8]:La,[10]:null,[11]:La,[6]:null,[1]:null,[7]:Aa,[9]:null,[0]:null,[3]:null,[12]:null,[2]:null,[4]:null},[9]:{[5]:null,[8]:null,
[10]:Ea,[11]:Ea,[6]:null,[1]:null,[7]:null,[9]:Aa,[0]:null,[3]:null,[12]:null,[2]:null,[4]:null},[0]:{[5]:null,[8]:null,[10]:null,[11]:null,[6]:null,[1]:null,[7]:null,[9]:null,[0]:Aa,[3]:null,[12]:null,[2]:null,[4]:null},[11]:{[5]:Aa,[8]:Aa,[10]:Aa,[11]:Aa,[6]:Aa,[1]:ma,[7]:X,[9]:T,[0]:null,[3]:S,[12]:M,[2]:Aa,[4]:wa},[6]:{[5]:null,[8]:null,[10]:null,[11]:Aa,[6]:Aa,[1]:ma,[7]:null,[9]:null,[0]:null,[3]:null,[12]:M,[2]:Aa,[4]:wa},[12]:{[5]:R,[8]:null,[10]:null,[11]:R,[6]:R,[1]:function(Y,fa,da,ra){R(Y,
fa,da,ra);ma(da,ra,da,ra)},[7]:null,[9]:null,[0]:null,[3]:function(Y,fa,da,ra){R(Y,fa,da,ra);S(da,ra,da,ra)},[12]:Aa,[2]:R,[4]:function(Y,fa,da,ra){R(Y,fa,da,ra);wa(da,ra,da,ra)}}},Va={spatialReference:null,spatialReferenceId:0},cb={spatialReference:null,spatialReferenceId:0},Na=na(),ka=na(),pa=h.deg2rad(1),Ja=h.rad2deg(1),Sa=m.create(),ab=m.create(),gb=m.create(),ja=m.create(),Da=m.create();b.canProjectToWGS84ComparableLonLat=function(Y){if(l.isNone(Y))return!1;Y=va(Y,Va);return!!bb[Y][6]};b.canProjectWithoutEngine=
L;b.computeENUToSphericalPCPFLocalRotation=U;b.computeSphericalPCPFToENULocalRotation=ca;b.computeTranslationToOriginAndRotation=function(Y,fa,da,ra){if(l.isNone(Y)||l.isNone(ra))return!1;var Ma=va(Y,Va),Ra=va(ra,cb);if(Ma===Ra&&1!==Ra&&7!==Ra&&9!==Ra&&(0!==Ma||x.equals(Y,ra)))return f.identity(da),f.translate(da,da,fa),!0;if(1===Ra||7===Ra||9===Ra){Ma=bb[Ma][11];Ra=bb[11][Ra];if(l.isNone(Ma)||l.isNone(Ra))return!1;Ma(fa,0,ab,0);Ra(ab,0,gb,0);U(pa*ab[0],pa*ab[1],da);da[12]=gb[0];da[13]=gb[1];da[14]=
gb[2];return!0}if(!(3!==Ra&&12!==Ra||2!==Ma&&1!==Ma&&3!==Ma)){Y=bb[Ma][11];Ra=bb[11][Ra];if(l.isNone(Y)||l.isNone(Ra))return!1;Y(fa,0,ab,0);Ra(ab,0,gb,0);1===Ma?ca(pa*ab[0],pa*ab[1],da):f.identity(da);da[12]=gb[0];da[13]=gb[1];da[14]=gb[2];return!0}return!1};b.getProjectorName=function(Y,fa){switch(Xa(Y,fa,Na)){case Aa:return"copy3";case ma:return"wgs84ToSphericalECEF";case S:return"wgs84ToWebMercator";case M:return"wgs84ToPlateCarree";case wa:return"wgs84ToWGS84ECEF";case H:return"webMercatorToWGS84";
case O:return"webMercatorToSphericalECEF";case la:return"webMercatorToWGS84ECEF";case aa:return"webMercatorToPlateCarree";case Ga:return"wgs84ECEFToWGS84";case Ha:return"wgs84ECEFToSphericalECEF";case Oa:return"wgs84ECEFToWebMercator";case Pa:return"sphericalECEFToWGS84";case ha:return"sphericalECEFToWebMercator";case La:return"sphericalMarsPCPFToMars2000";case Ea:return"sphericalMoonPCPFToMoon2000";case ua:return"sphericalECEFToWGS84ECEF";case X:return"mars2000ToSphericalPCPF";case T:return"moon2000ToSphericalPCPF";
default:return null}};b.getTransformation=N;b.getTransformations=function(Y,fa,da=null){if(l.isNone(ya))throw new Ka;Y=ya._getTransformationBySuitability(ta,Y,fa,da,null==da?void 0:da.spatialReference);if(null!==Y){fa=[];for(const ra of Y)fa.push(y.fromGE(ra));return fa}return[]};b.initializeProjection=function(Y,fa,da,ra){return G.apply(this,arguments)};b.isLoaded=C;b.load=D;b.localLinearScaleFactors=function(Y,fa,da,ra){if(l.isNone(fa)||l.isNone(ra))return!1;const Ma=va(fa,Va);var Ra=va(ra,cb);
if(Ma===Ra&&0!==Ma||x.equals(fa,ra))return da[0]=1,da[1]=1,da[2]=1,!0;if(1===Ma){fa=k.length(Y);Y=fa/Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]);fa/=A.earth.radius;if(3===Ra)return da[0]=Y*fa,da[1]=Y*fa,da[2]=1,!0;if(2===Ra||5===Ra)return Ra=180/(A.earth.radius*Math.PI),da[0]=Ra*Y*fa,da[1]=Ra*fa,da[2]=1,!0}else if(12===Ma&&(2===Ra||5===Ra))return da[0]=Za,da[1]=Za,da[2]=1,!0;return!1};b.lonLatToSphericalPCPF=function(Y,fa,da,ra,Ma=0){ra+=Ma;Ma=Math.cos(da);Y[0]=Math.cos(fa)*Ma*ra;Y[1]=Math.sin(fa)*Ma*ra;Y[2]=
Math.sin(da)*ra};b.lonLatToWebMercatorComparable=Q;b.project=J;b.projectBoundingRect=function(Y,fa,da,ra){if(null==Y)return!1;if(x.equals(fa,ra))return z.copy(da,Y),!0;Sa[0]=Y[0];Sa[1]=Y[1];Sa[2]=0;if(!sa(Sa,fa,0,Sa,ra,0,1))return!1;da[0]=Sa[0];da[1]=Sa[1];Sa[0]=Y[2];Sa[1]=Y[3];Sa[2]=0;if(!sa(Sa,fa,0,Sa,ra,0,1))return!1;da[2]=Sa[0];da[3]=Sa[1];return!0};b.projectBoundingSphere=function(Y,fa,da,ra){if(l.isNone(fa)||l.isNone(ra))return!1;fa=ea(fa,ra,ka);if(fa.projector===Aa)return da[0]=Y[0],da[1]=
Y[1],da[2]=Y[2],da[3]=Y[3],!0;if(l.isNone(fa.projector))return!1;const {source:Ma,dest:Ra}=fa;if(3===Ra.spatialReferenceId){fa=bb[Ma.spatialReferenceId][2];if(l.isNone(fa))return!1;fa(Y,0,ab,0);S(ab,0,da,0);da[3]=oa(ab[1],Y[2],Y[3],A.earth.radius);return!0}if(2!==Ma.spatialReferenceId&&5!==Ma.spatialReferenceId||12!==Ra.spatialReferenceId)fa.projector(Y,0,da,0),da[3]=Y[3]*Ma.metersPerUnit/Ra.metersPerUnit;else{ra=bb[1][12];let xa=Y[3];l.isSome(bb[Ma.spatialReferenceId][1])&&l.isSome(ra)&&(xa=oa(Y[1],
Y[2],Y[3],A.earth.radius));fa.projector(Y,0,da,0);da[3]=xa}return!0};b.projectBuffer=sa;b.projectDirection=function(Y,fa,da,ra,Ma){k.copy(ja,Y);k.add(Da,Y,fa);V(ja,da,ja,Ma);V(Da,da,Da,Ma);k.subtract(ra,Da,ja);k.normalize(ra,ra)};b.projectExtent=function(Y,fa,da=fa.spatialReference,ra=0){return l.isSome(da)&&l.isSome(ia(Y,Y.spatialReference,fa,da,ra))};b.projectMany=I;b.projectMultipoint=function(Y,fa,da=fa.spatialReference,ra=0){return l.isNone(da)?!1:l.isSome(K(Y,Y.spatialReference,fa,da,ra))};
b.projectPoint=function(Y,fa,da=fa.spatialReference,ra=0){return l.isNone(da)?!1:l.isSome(E(Y,Y.spatialReference,fa,da,ra))};b.projectPointToVector=function(Y,fa,da,ra=0){ja[0]=Y.x;ja[1]=Y.y;const Ma=Y.z;ja[2]=void 0!==Ma?Ma:ra;return sa(ja,Y.spatialReference,0,fa,da,0,1)};b.projectPointToWGS84ComparableLonLat=function(Y,fa){ja[0]=Y.x;ja[1]=Y.y;const da=Y.z;ja[2]=void 0!==da?da:0;return qa(ja,Y.spatialReference,fa)};b.projectPolygon=function(Y,fa,da=fa.spatialReference,ra=0){return l.isSome(da)&&
l.isSome(W(Y,Y.spatialReference,fa,da,ra))};b.projectPolyline=function(Y,fa,da=fa.spatialReference,ra=0){return l.isSome(da)&&l.isSome(P(Y,Y.spatialReference,fa,da,ra))};b.projectVectorToDehydratedPoint=function(Y,fa,da){return sa(Y,fa,0,ja,da.spatialReference,0,1)?(da.x=ja[0],da.y=ja[1],da.z=ja[2],da):null};b.projectVectorToPoint=function(Y,fa,da){if(l.isNone(fa)||l.isNone(da))return null;const ra=new r({spatialReference:da});return sa(Y,fa,0,ja,da,0,1)?(ra.x=ja[0],ra.y=ja[1],ra.z=ja[2],ra):null};
b.projectVectorToVector=V;b.projectVectorToWGS84ComparableLonLat=function(Y,fa,da){return qa(Y,fa,da)};b.projectWithoutEngine=F;b.projectXYZToVector=Z;b.sphericalPCPFtoLonLatElevation=Ca;b.tryProjectWithZConversion=function(Y,fa){try{const da=J(Y,fa);if(null==da)return null;"xmin"in Y&&"xmin"in da&&(da.zmin=Y.zmin,da.zmax=Y.zmax);const ra=B.getGeometryZScaler(da.type,Y.spatialReference,fa);l.isSome(ra)&&ra(da);return da}catch(da){if(!(da instanceof Ka))throw da;return null}};b.unload=function(){Fa=
ta=ya=null;Ia={}};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(a,b,c,e,h){function l(){return!!b._pe}function q(){return!!h("esri-wasm")}function t(){return g?g:g=(new Promise((d,n)=>a(["./pe-wasm"],d,n))).then(d=>d.peWasm).then(({default:d})=>d({locateFile:n=>e.getAssetUrl(`esri/geometry/support/${n}`)})).then(d=>{f(d)})}function f(d){function n(A,w,y){A[w]=y(A[w])}b._pe=
d;b.PeDefs.init();b.PeGTlistExtended.init();b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeGCSExtent=function(A){function w(){return A.apply(this,arguments)||this}c._inheritsLoose(w,A);w.prototype.destroy=function(){b._pe.destroy(this)};return w}(b._pe.PeGCSExtent);d=[b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var v of d)n(v.prototype,"getName",A=>function(){return A.call(this,
Array(b.PeDefs.PE_NAME_MAX))});for(const A of[b._pe.PeGeogtran,b._pe.PeProjcs])n(A.prototype,"getParameters",w=>function(){const y=Array(b.PeDefs.PE_PARM_MAX);let x=w.call(this);for(let B=0;B<y.length;B++){const C=b._pe.getValue(x,"*");y[B]=C?b._pe.wrapPointer(C,b._pe.PeParameter):null;x+=Int32Array.BYTES_PER_ELEMENT}return y});n(b._pe.PeHorizon.prototype,"getCoord",A=>function(){const w=this.getSize();if(!w)return null;const y=[],x=A.call(this);u(y,w,x);return y});n(b._pe.PeGTlistExtendedEntry.prototype,
"getEntries",A=>{const w=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let y=null;var x=A.call(this);if(!b._pe.compare(x,b._pe.NULL)){y=[x];const B=this.getSteps();if(1<B){x=b._pe.getPointer(x);for(let C=1;C<B;C++)y.push(b._pe.wrapPointer(x+w*C,b._pe.PeGTlistExtendedGTs))}}return y}});const z=b._pe._pe_getPeHorizonSize();v=A=>function(){let w=this._cache;w||(this._cache=w=new Map);if(w.has(A))return w.get(A);let y=null;var x=A.call(this);if(!b._pe.compare(x,b._pe.NULL)){y=[x];const B=x.getNump();
if(1<B){x=b._pe.getPointer(x);for(let C=1;C<B;C++)y.push(b._pe.wrapPointer(x+z*C,b._pe.PeHorizon))}}w.set(A,y);return y};n(b._pe.PeProjcs.prototype,"horizonGcsGenerate",v);n(b._pe.PeProjcs.prototype,"horizonPcsGenerate",v);b._pe.PeObject.prototype.toString=function(A=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();const w=b._pe.getPointer(this),y=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(w,A,y))}}function k(d){if(d){var n=b._pe.getClass(d);
n&&(n=b._pe.getCache(n))&&(d=b._pe.getPointer(d))&&delete n[d]}}function m(d,n){const v=[];n=Array(n);for(let z=0;z<d;z++)v.push(b._pe.ensureInt8(n));return v}function p(d){let n;Array.isArray(d[0])?(n=[],d.forEach(v=>{n.push(v[0],v[1])})):n=d;return n}function u(d,n,v,z=!1){if(z)for(z=0;z<2*n;z++)d[z]=b._pe.getValue(v+z*Float64Array.BYTES_PER_ELEMENT,"double");else{z=0===d.length;for(let A=0;A<n;A++)z&&(d[A]=Array(2)),d[A][0]=b._pe.getValue(v,"double"),d[A][1]=b._pe.getValue(v+Float64Array.BYTES_PER_ELEMENT,
"double"),v+=2*Float64Array.BYTES_PER_ELEMENT}}let g;b._pe=null;b.PeCSTransformations=void 0;(function(d){function n(A,w,y){b._pe.ensureCache.prepare();var x=p(y);const B=y===x;x=b._pe.ensureFloat64(x);(A=b._pe._pe_geog_to_proj(b._pe.getPointer(A),w,x))&&u(y,w,x,B);return A}function v(A,w,y){return z(A,w,y,0)}function z(A,w,y,x){b._pe.ensureCache.prepare();var B=p(y);const C=y===B;B=b._pe.ensureFloat64(B);(A=b._pe._pe_proj_to_geog_center(b._pe.getPointer(A),w,B,x))&&u(y,w,B,C);return A}d.geogToProj=
n;d.projGeog=function(A,w,y,x){switch(x){case b.PeDefs.PE_TRANSFORM_P_TO_G:return v(A,w,y);case b.PeDefs.PE_TRANSFORM_G_TO_P:return n(A,w,y)}return 0};d.projToGeog=v;d.projToGeogCenter=z})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(d){d.init=function(){d.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;d.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;d.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;d.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;d.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;
d.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;d.PE_DMS_MAX=b._pe.PeDefs.prototype.PE_DMS_MAX;d.PE_UTM_MAX=b._pe.PeDefs.prototype.PE_UTM_MAX;d.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;d.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;d.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;d.PE_TYPE_PROJCS=b._pe.PeDefs.prototype.PE_TYPE_PROJCS;d.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;d.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;d.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;
d.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;d.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;d.PE_STR_AUTH_NONE=b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;d.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;d.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;d.PE_PARM_X0=b._pe.PeDefs.prototype.PE_PARM_X0;d.PE_PARM_ND=b._pe.PeDefs.prototype.PE_PARM_ND;d.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;d.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;
d.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;d.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;d.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;d.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;d.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;d.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||(b.PeDefs={}));b.PeFactory=void 0;(function(d){function n(w,y){let x=null,B=v[w];B||(B={},v[w]=B);B.hasOwnProperty(String(y))?x=
B[y]:(w=b._pe.PeFactory.prototype.factoryByType(w,y),b._pe.compare(w,b._pe.NULL)||(x=w,B[y]=x));return x=A(x)}const v={},z={},A=w=>{if(w){const y=w.getType();switch(y){case b.PeDefs.PE_TYPE_GEOGCS:w=b._pe.castObject(w,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:w=b._pe.castObject(w,b._pe.PeProjcs);break;case b.PeDefs.PE_TYPE_GEOGTRAN:w=b._pe.castObject(w,b._pe.PeGeogtran);break;default:y&b.PeDefs.PE_TYPE_UNIT&&(w=b._pe.castObject(w,b._pe.PeUnit))}}return w};d.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};
d.coordsys=function(w){return n(b.PeDefs.PE_TYPE_COORDSYS,w)};d.factoryByType=n;d.fromString=function(w,y){let x=null,B=z[w];B||(B={},z[w]=B);B.hasOwnProperty(y)?x=B[y]:(w=b._pe.PeFactory.prototype.fromString(w,y),b._pe.compare(w,b._pe.NULL)||(x=w,B[y]=x));return x=A(x)};d.geogcs=function(w){return n(b.PeDefs.PE_TYPE_GEOGCS,w)};d.geogtran=function(w){return n(b.PeDefs.PE_TYPE_GEOGTRAN,w)};d.getCode=function(w){return b._pe.PeFactory.prototype.getCode(w)};d.projcs=function(w){return n(b.PeDefs.PE_TYPE_PROJCS,
w)};d.unit=function(w){return n(b.PeDefs.PE_TYPE_UNIT,w)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=null;b.PeGTlistExtended=void 0;(function(d){let n;d.init=function(){d.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;n=b._pe._pe_getPeGTlistExtendedEntrySize()};d.getGTlist=function(v,z,A,w,y,x){let B=null;const C=new b._pe.PeInteger(x);try{const D=b._pe.PeGTlistExtended.prototype.getGTlist(v,z,A,w,y,C);if(x=C.val)if(B=[D],1<x){const J=b._pe.getPointer(D);for(v=1;v<
x;v++)B.push(b._pe.wrapPointer(J+n*v,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(C)}return B}})(b.PeGTlistExtended||(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=void 0;(function(d){d.destroy=function(n){if(n&&n.length){for(const v of n)k(v),v.getEntries().forEach(z=>{k(z);z=z.getGeogtran();k(z);z.getParameters().forEach(k);[z.getGeogcs1(),z.getGeogcs2()].forEach(A=>{k(A);const w=A.getDatum();k(w);k(w.getSpheroid());k(A.getPrimem());k(A.getUnit())})});b._pe.PeGTlistExtendedEntry.prototype.Delete(n[0])}}})(b.PeGTlistExtendedEntry||
(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(d){d.geogToGeog=function(n,v,z,A,w){b._pe.ensureCache.prepare();var y=p(z);const x=z===y;y=b._pe.ensureFloat64(y);let B=0;A&&(B=b._pe.ensureFloat64(A));(n=b._pe._pe_geog_to_geog(b._pe.getPointer(n),v,y,B,w))&&u(z,v,y,x);return n}})(b.PeGTTransformations||(b.PeGTTransformations={}));b.PeNotationDms=void 0;(function(d){const n=(z,A,w,y,x,B)=>{b._pe.ensureCache.prepare();switch(z){case "dd":var C=b._pe._pe_geog_to_dd;var D=b.PeDefs.PE_DD_MAX;
break;case "ddm":C=b._pe._pe_geog_to_ddm;D=b.PeDefs.PE_DDM_MAX;break;case "dms":C=b._pe._pe_geog_to_dms,D=b.PeDefs.PE_DMS_MAX}z=0;A&&(z=b._pe.getPointer(A));A=p(y);A=b._pe.ensureFloat64(A);D=m(w,D);y=b._pe.ensureInt32(D);if(x=C(z,w,A,x,y))for(C=0;C<w;C++)B[C]=b._pe.UTF8ToString(D[C]);return x},v=(z,A,w,y,x)=>{b._pe.ensureCache.prepare();switch(z){case "dd":var B=b._pe._pe_dd_to_geog;break;case "ddm":B=b._pe._pe_ddm_to_geog;break;case "dms":B=b._pe._pe_dms_to_geog}z=0;A&&(z=b._pe.getPointer(A));A=
y.map(C=>b._pe.ensureString(C));y=b._pe.ensureInt32(A);A=b._pe.ensureFloat64(Array(2*w));(B=B(z,w,y,A))&&u(x,w,A);return B};d.geog_to_dms=function(z,A,w,y,x){return n("dms",z,A,w,y,x)};d.dms_to_geog=function(z,A,w,y){return v("dms",z,A,w,y)};d.geog_to_ddm=function(z,A,w,y,x){return n("ddm",z,A,w,y,x)};d.ddm_to_geog=function(z,A,w,y){return v("ddm",z,A,w,y)};d.geog_to_dd=function(z,A,w,y,x){return n("dd",z,A,w,y,x)};d.dd_to_geog=function(z,A,w,y){return v("dd",z,A,w,y)}})(b.PeNotationDms||(b.PeNotationDms=
{}));b.PeNotationMgrs=void 0;(function(d){d.init=function(){d.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;d.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;d.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;d.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;d.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};d.geog_to_mgrs_extended=function(n,v,z,A,w,y,x){b._pe.ensureCache.prepare();let B=
0;n&&(B=b._pe.getPointer(n));n=p(z);z=b._pe.ensureFloat64(n);n=m(v,b.PeDefs.PE_MGRS_MAX);const C=b._pe.ensureInt32(n);if(A=b._pe._pe_geog_to_mgrs_extended(B,v,z,A,w,y,C))for(w=0;w<v;w++)x[w]=b._pe.UTF8ToString(n[w]);return A};d.mgrs_to_geog_extended=function(n,v,z,A,w){b._pe.ensureCache.prepare();let y=0;n&&(y=b._pe.getPointer(n));n=z.map(x=>b._pe.ensureString(x));z=b._pe.ensureInt32(n);n=b._pe.ensureFloat64(Array(2*v));(A=b._pe._pe_mgrs_to_geog_extended(y,v,z,A,n))&&u(w,v,n);return A}})(b.PeNotationMgrs||
(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(d){d.geog_to_usng=function(n,v,z,A,w,y,x){b._pe.ensureCache.prepare();let B=0;n&&(B=b._pe.getPointer(n));n=p(z);z=b._pe.ensureFloat64(n);n=m(v,b.PeDefs.PE_MGRS_MAX);const C=b._pe.ensureInt32(n);if(A=b._pe._pe_geog_to_usng(B,v,z,A,w,y,C))for(w=0;w<v;w++)x[w]=b._pe.UTF8ToString(n[w]);return A};d.usng_to_geog=function(n,v,z,A){b._pe.ensureCache.prepare();var w=0;n&&(w=b._pe.getPointer(n));n=z.map(y=>b._pe.ensureString(y));z=b._pe.ensureInt32(n);
n=b._pe.ensureFloat64(Array(2*v));(w=b._pe._pe_usng_to_geog(w,v,z,n))&&u(A,v,n);return w}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(d){d.init=function(){d.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;d.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;d.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};d.geog_to_utm=function(n,v,z,A,w){b._pe.ensureCache.prepare();var y=0;n&&(y=b._pe.getPointer(n));n=p(z);z=b._pe.ensureFloat64(n);
n=m(v,b.PeDefs.PE_UTM_MAX);const x=b._pe.ensureInt32(n);if(A=b._pe._pe_geog_to_utm(y,v,z,A,x))for(y=0;y<v;y++)w[y]=b._pe.UTF8ToString(n[y]);return A};d.utm_to_geog=function(n,v,z,A,w){b._pe.ensureCache.prepare();let y=0;n&&(y=b._pe.getPointer(n));n=z.map(x=>b._pe.ensureString(x));z=b._pe.ensureInt32(n);n=b._pe.ensureFloat64(Array(2*v));(A=b._pe._pe_utm_to_geog(y,v,z,A,n))&&u(w,v,n);return A}})(b.PeNotationUtm||(b.PeNotationUtm={}));b.PePCSInfo=void 0;(function(d){const n=new Map;d.init=function(){d.PE_PCSINFO_OPTION_NONE=
b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;d.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;d.PE_POLE_OUTSIDE_BOUNDARY=b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;d.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};d.generate=function(v,z=d.PE_PCSINFO_OPTION_DOMAIN){let A,w;n.has(v)&&(w=n.get(v),w[z]&&(A=w[z]));A||(A=b._pe.PePCSInfo.prototype.generate(v,z),w||(w=[],n.set(v,w)),w[z]=A);return A}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;(function(d){d.version_string=
function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const r=Object.freeze({__proto__:null,get _pe(){return b._pe},isLoaded:l,isSupported:q,load:t,get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeFactory(){return b.PeFactory},get PeGCSExtent(){return b.PeGCSExtent},get PeGTlistExtended(){return b.PeGTlistExtended},get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},get PeGTTransformations(){return b.PeGTTransformations},
get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},get PeNotationUtm(){return b.PeNotationUtm},get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:f});b._init=f;b.isLoaded=l;b.isSupported=q;b.load=t;b.pe=r})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(a,b){const c=Math.PI/180;var e=b.earth.radius;const h=b.earth.eccentricitySquared;e={a1:e*
h,a2:e*h*e*h,a3:e*h*h/2,a4:e*h*e*h*2.5,a5:e*h+e*h*h/2,a6:1-h};b={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,f:b.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},
104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,
f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},
104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};a.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;a.earthEllipsoidConstants=e;a.spheroids=b;a.toRadians=c;
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(a){return function(){function b(e){this.steps=[];this._cached_projection={};this._chain="";this._gtlistentry=null;if(e&&e.steps)for(const h of e.steps)h instanceof a?this.steps.push(h):this.steps.push(new a({wkid:h.wkid,wkt:h.wkt,isInverse:h.isInverse}))}b.cacheKey=function(e,h){return[void 0!==e.wkid&&null!==e.wkid?e.wkid.toString():"-1",
void 0!==e.wkt&&null!==e.wkt?e.wkt.toString():"",void 0!==h.wkid&&null!==h.wkid?h.wkid.toString():"-1",void 0!==h.wkt&&null!==h.wkt?h.wkt.toString():""].join()};b.fromGE=function(e){const h=new b;let l="";for(const q of e.steps)e=a.fromGE(q),h.steps.push(e),l+=e.uid.toString()+",";h._cached_projection={};h._gtlistentry=null;h._chain=l;return h};var c=b.prototype;c.getInverse=function(){const e=new b;e.steps=[];for(let h=this.steps.length-1;0<=h;h--)e.steps.push(this.steps[h].getInverse());return e};
c.getGTListEntry=function(){let e="";for(const h of this.steps)e+=h.uid.toString()+",";e!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=e);return this._gtlistentry};c.assignCachedGe=function(e,h,l){this._cached_projection[b.cacheKey(e,h)]=l};c.getCachedGeTransformation=function(e,h){let l="";for(const q of this.steps)l+=q.uid.toString()+",";l!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=l);e=this._cached_projection[b.cacheKey(e,h)];return void 0===
e?null:e};return b}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){let b=0;return function(){function c(e=null){this.uid=b++;e?(this._wkt=void 0!==e.wkt?e.wkt:null,this._wkid=void 0!==e.wkid?e.wkid:-1,this._isInverse=void 0!==e.isInverse?!0===e.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}c.fromGE=function(e){const h=new c;h._wkt=e.wkt;h._wkid=e.wkid;h._isInverse=e.isInverse;return h};c.prototype.getInverse=
function(){const e=new c;e._wkt=this.wkt;e._wkid=this._wkid;e._isInverse=!this.isInverse;return e};a._createClass(c,[{key:"wkt",get:function(){return this._wkt},set:function(e){this._wkt=e;this.uid=b++}},{key:"wkid",get:function(){return this._wkid},set:function(e){this._wkid=e;this.uid=b++}},{key:"isInverse",get:function(){return this._isInverse},set:function(e){this._isInverse=e;this.uid=b++}}]);return c}()})},"esri/geometry/support/heightModelInfoUtils":function(){define("exports ../../core/has ../../core/Error ../../core/maybe ../HeightModelInfo ../../layers/support/arcgisLayerUrl".split(" "),
function(a,b,c,e,h,l){function q(g,r,d){if(!t(g)||!t(r))return 4;if(null==g||null==r)return 0;if(!d&&g.heightUnit!==r.heightUnit)return 1;if(g.heightModel!==r.heightModel)return 2;switch(g.heightModel){case "gravity-related-height":return 0;case "ellipsoidal":return g.vertCRS===r.vertCRS?0:3;default:return 4}}function t(g){return null==g||null!=g.heightModel&&null!=g.heightUnit}function f(g){const r=g.url&&l.parse(g.url);return(null!=(g.spatialReference&&g.spatialReference.vcsWkid)||!e.isSome(r)||
"ImageServer"!==r.serverType)&&"heightModelInfo"in g&&g.heightModelInfo?g.heightModelInfo:m(g)?h.deriveUnitFromSR(u,g.spatialReference):null}function k(g){if("unknown"===g.type||!("capabilities"in g))return!1;switch(g.type){case "csv":case "feature":case "geojson":case "subtype-group":case "ogc-feature":case "wfs":return!0;case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case null:return!1;default:return!1}}function m(g){return k(g)?!!(g.capabilities&&g.capabilities.data&&
g.capabilities.data.supportsZ):p(g)}function p(g){switch(g.type){case "building-scene":case "elevation":case "integrated-mesh":case "point-cloud":case "scene":case "voxel":return!0}return!1}const u=new h({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=f;a.mayHaveHeightModelInfo=function(g){return null!=g.layers||p(g)||k(g)||"heightModelInfo"in g};a.rejectLayerError=function(g,r,d){const n=f(g);var v=q(n,r,d);{let z=null;if(n){const A=h.deriveUnitFromSR(n,g.spatialReference).heightUnit;
d||A===n.heightUnit||(z=new c("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${A})`,{horizontalUnit:A}))}if(!("heightModelInfo"in g&&null!=g.heightModelInfo||null!=g.spatialReference)&&m(g)||4===v||z)return new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:n,error:z})}g=null;switch(v){case 1:v=n.heightUnit||"unknown";g=r.heightUnit||"unknown";g=new c("layerview:incompatible-height-unit",
`The vertical units of the layer (${v}) must match the vertical units of the scene (${g})`,{layerUnit:v,sceneUnit:g});break;case 2:v=n.heightModel||"unknown";g=r.heightModel||"unknown";g=new c("layerview:incompatible-height-model",`The height model of the layer (${v}) must match the height model of the scene (${g})`,{layerHeightModel:v,sceneHeightModel:g});break;case 3:v=n.vertCRS||"unknown",g=r.vertCRS||"unknown",g=new c("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${v}) must match the vertical datum of the scene (${g})`,
{layerDatum:v,sceneDatum:g})}return g?new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:n,sceneHeightModelInfo:r,error:g}):null};a.validateWebSceneError=function(g,r){if(!g)return null;if(!t(g))return new c("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:g});const d=g.heightUnit;g=h.deriveUnitFromSR(g,r).heightUnit;return d!==g?
new c("webscene:incompatible-height-unit",`The vertical units of the scene (${d}) must match the horizontal units of the scene (${g})`,{verticalUnit:d,horizontalUnit:g}):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/ViewingMode":function(){define(["exports"],function(a){a.stringFromViewingMode=function(b){return 1===b?"global":"local"};a.viewingModeFromString=function(b){return"global"===b?1:2};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/ViewAnimation":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/Promise ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f,k){e=function(m){function p(g){g=m.call(this,g)||this;g.state="running";g.target=null;return g}a._inheritsLoose(p,m);var u=p.prototype;u.initialize=function(){this.addResolvingPromise(new Promise((g,r)=>this._dfd={resolve:g,reject:r}))};u.stop=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new c("ViewAnimation stopped")))};u.finish=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),
this._dfd.resolve())};u.update=function(g,r){r||(r=h.isPromiseLike(g)?"waiting-for-target":"running");this._set("target",g);this._set("state",r)};a._createClass(p,[{key:"done",get:function(){return"finished"===this.state||"stopped"===this.state}}]);return p}(e.EsriPromise);b.__decorate([l.property({readOnly:!0})],e.prototype,"done",null);b.__decorate([l.property({readOnly:!0,type:String})],e.prototype,"state",void 0);b.__decorate([l.property()],e.prototype,"target",void 0);e=b.__decorate([k.subclass("esri.views.ViewAnimation")],
e);(e||(e={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};return e})},"esri/views/layers/LayerView":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/HandleOwner ../../core/Identifiable ../../core/Logger ../../core/maybe ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g){c=function(r){function d(v){v=r.call(this,v)||this;v.layer=null;v.parent=null;return v}a._inheritsLoose(d,r);var n=d.prototype;n.initialize=function(){this.when().catch(v=>{if("layerview:create-error"!==v.name){const z=this.layer&&this.layer.id||"no id",A=this.layer&&this.layer.title||"no title";q.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${A}', id: '${z}')`,v);throw v;}})};n.canResume=function(){return!this.get("parent.suspended")&&
this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1};n.getSuspendInfo=function(){const v=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};this.view&&this.view.ready||(v.viewNotReady=!0);this.layer&&this.layer.loaded||(v.layerNotLoaded=!0);this.visible||(v.layerInvisible=!0);return v};n.isUpdating=function(){return!1};a._createClass(d,[{key:"fullOpacity",get:function(){return t.unwrapOr(this.get("layer.opacity"),1)*t.unwrapOr(this.get("parent.fullOpacity"),1)}},{key:"suspended",
get:function(){return!this.canResume()}},{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",get:function(){return!this.suspended&&!0===this.layer.legendEnabled}},{key:"updating",get:function(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}},{key:"updatingProgress",get:function(){return this.updating?0:1}},{key:"visible",get:function(){var v;return!0===(null==(v=this.layer)?void 0:v.visible)},set:function(v){void 0===v?this._clearOverride("visible"):
this._override("visible",v)}}]);return d}(h.HandleOwnerMixin(l.IdentifiableMixin(f.EsriPromiseMixin(e.EventedMixin(c)))));b.__decorate([k.property()],c.prototype,"fullOpacity",null);b.__decorate([k.property()],c.prototype,"layer",void 0);b.__decorate([k.property()],c.prototype,"parent",void 0);b.__decorate([k.property({readOnly:!0})],c.prototype,"suspended",null);b.__decorate([k.property({readOnly:!0})],c.prototype,"suspendInfo",null);b.__decorate([k.property({readOnly:!0})],c.prototype,"legendEnabled",
null);b.__decorate([k.property({type:Boolean,readOnly:!0})],c.prototype,"updating",null);b.__decorate([k.property({readOnly:!0})],c.prototype,"updatingProgress",null);b.__decorate([k.property()],c.prototype,"visible",null);return c=b.__decorate([g.subclass("esri.views.layers.LayerView")],c)})},"esri/widgets/Widget":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../intl ../core/deprecate ../core/domUtils ../core/Evented ../core/Handles ../core/has ../core/lang ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/uuid ../core/watchUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleTrackingTarget ../libs/maquette-advanced-projector/projector ../chunks/componentsUtils ./support/jsxWidgetSupport ./support/widgetUtils ../intl/locale ../intl/messages".split(" "),
function(a,b,c,e,h,l,q,t,f,k,m,p,u,g,r,d,n,v,z,A,w,y,x,B,C,D){function J(E,K){for(const P in K)null!=E[P]&&("object"===typeof E[P]&&"object"===typeof K[P]?J(E[P],K[P]):E[P]=K[P]);return E}const I=k.getLogger("esri.widgets.Widget");let N=0;const L=new Map,G=w.createAdvancedProjector({postProcessProjectionOptions(E){const K=E.eventHandlerInterceptor,P=/capture$/i;E.eventHandlerInterceptor=(W,ia,Z,V)=>{const qa=K(W,ia,Z,V),sa=P.test(W);W=W.replace(P,"");if(!(W.toLowerCase()in Z)||sa){const Ba=W[2].toLowerCase()+
W.slice(3),oa=ca=>qa.call(Z,ca);Z.addEventListener(Ba,oa,sa);const U=V.afterRemoved;V.afterRemoved=ca=>{null==U?void 0:U(ca);Z.removeEventListener(Ba,oa,sa)}}return qa}},handleInterceptedEvent(E,K,P,W){const {eventPhase:ia,type:Z}=W,V=ia===Event.CAPTURING_PHASE;let qa=`on${Z}${V?"capture":""}`;K=K.properties;if(!(qa in K||(qa=`on${Z[0].toUpperCase()}${Z.slice(1)}${V?"Capture":""}`,qa in K)))return;L.clear();E.scheduleRender();K[qa].call(K.bind||P,W)}});let F=!1;c=function(E){function K(W,ia){var Z=
E.call(this,W,ia)||this;Z._attached=!1;Z._internalHandles=new q;Z._projector=G;Z._readyForTrueRender=!1;Z.domNode=null;Z.iconClass="esri-icon-checkbox-unchecked";Z.label=Z.declaredClass.split(".").pop();Z.visible=!0;Z.key=a._assertThisInitialized(Z);Z._loadLocale=u.debounce(a._asyncToGenerator(function*(){if(Z._messageBundleProps&&Z._messageBundleProps.length){const Ba=yield u.eachAlways(Z._messageBundleProps.map(function(){var oa=a._asyncToGenerator(function*({bundlePath:U,propertyName:ca}){U=yield D.fetchMessageBundle(U);
Z.uiStrings&&Object.keys(Z.uiStrings)&&(U=J(f.clone(U),Z.uiStrings));Z[ca]=U});return function(U){return oa.apply(this,arguments)}}()));for(const oa of Ba)oa.error&&I.error("widget-intl:locale-error",Z.declaredClass,oa.error)}yield Z.loadLocale()}));y.commitAssetPath();W=B.getThemeName()||"light";["light","dark"].includes(W)||e.deprecated(I,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,
see:"https://developers.arcgis.com/javascript/latest/styling/"});const V="esri-widget-uid-"+g.generateUUID(),qa=Z.render.bind(a._assertThisInitialized(Z));Z._trackingTarget=new A.SimpleTrackingTarget(()=>Z.scheduleRender());const sa=()=>{var Ba;if(!Z._readyForTrueRender||Z.destroyed)return null;if(!Z.visible)return{vnodeSelector:"div",properties:{key:V,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const oa=qa();let {properties:U}=oa;U||(oa.properties=U={});let {key:ca,
styles:va}=U;ca||(U.key=V);va||(U.styles=va={});va.display||(va.display="");let Aa=0;null==(Ba=oa.children)?void 0:Ba.forEach(H=>{if(!x.isWidgetConstructor(H.vnodeSelector)){var {properties:O}=H;O||(H.properties=O={});O.key||(O.key=`${Z.id}--${Aa++}`)}});return x.processWidgets(a._assertThisInitialized(Z),oa)};Z.render=()=>{if(F)return sa();let Ba=L.get(a._assertThisInitialized(Z));if(Ba)return Ba;Z._trackingTarget.clear();F=!0;try{Ba=z.runTracked(Z._trackingTarget,sa)}finally{F=!1}L.set(a._assertThisInitialized(Z),
Ba);return Ba};Z.addResolvingPromise(Z._resourcesFetch=Z.beforeFirstRender().then(()=>{Z._readyForTrueRender=!0;Z._postInitialize()}));return Z}a._inheritsLoose(K,E);var P=K.prototype;P.normalizeCtorArgs=function(W,ia){W={...W};ia&&(W.container=ia);return W};P.postInitialize=function(){};P.beforeFirstRender=function(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(u.throwIfNotAbortError)};P.loadDependencies=function(){var W=a._asyncToGenerator(function*(){});return function(){return W.apply(this,
arguments)}}();P.loadLocale=function(){var W=a._asyncToGenerator(function*(){});return function(){return W.apply(this,arguments)}}();P.destroy=function(){this.destroyed||(this._trackingTarget=m.destroyMaybe(this._trackingTarget),this.viewModel=m.destroyMaybe(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,L.delete(this))};P.castContainer=function(W){return h.byId(W)};P.render=function(){throw Error("not implemented");
};P.scheduleRender=function(){this.destroyed||(L.delete(this),this._projector.scheduleRender())};P.classes=function(...W){return B.classes.apply(this,W)};P.own=function(W){1<arguments.length&&(W=Array.prototype.slice.call(arguments));this._internalHandles.add(W)};P.renderNow=function(){L.delete(this);this._projector.renderNow()};P._postInitialize=function(){var W,ia=this;this.destroyed||(this.scheduleRender(),null!=(W=this._delegatedEventNames)&&W.length&&this._internalHandles.add(r.init(this,"viewModel",
(Z,V)=>{V&&this._internalHandles.remove("delegated-events");Z&&this._internalHandles.add(this._delegatedEventNames.map(qa=>Z.on(qa,sa=>{this.emit(qa,sa)})),"delegated-events")})),this.postInitialize(),W=function(){var Z=a._asyncToGenerator(function*(){yield ia._loadLocale().catch(u.throwIfNotAbortError);ia.scheduleRender()});return function(){return Z.apply(this,arguments)}}(),this._internalHandles.add([C.onLocaleChange(W),this.watch("uiStrings",W),r.whenOnce(this,"container",function(){var Z=a._asyncToGenerator(function*(V){ia.destroyed||
ia._attach(V)});return function(V){return Z.apply(this,arguments)}}())]))};P._attach=function(W){W&&(this._projector.merge(W,this.render),this._attached=!0)};P._detach=function(W){W&&this._attached&&(this._projector.detach(this.render),W.parentNode&&W.parentNode.removeChild(W),this._attached=!1)};a._createClass(K,[{key:"container",set:function(W){this._get("container")||this._set("container",W)}},{key:"id",get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+
N++},set:function(W){W&&this._set("id",W)}},{key:"renderable",get:function(){return this._resourcesFetch}},{key:"test",get:function(){return{projector:this._projector,handles:this._internalHandles}}}]);return K}(p.EsriPromiseMixin(l.EventedAccessor));c[x.WIDGET_SYMBOL]=!0;b.__decorate([d.property()],c.prototype,"_readyForTrueRender",void 0);b.__decorate([d.property({value:null})],c.prototype,"container",null);b.__decorate([n.cast("container")],c.prototype,"castContainer",null);b.__decorate([d.property({aliasOf:"container"})],
c.prototype,"domNode",void 0);b.__decorate([d.property()],c.prototype,"iconClass",void 0);b.__decorate([d.property()],c.prototype,"id",null);b.__decorate([d.property()],c.prototype,"label",void 0);b.__decorate([d.property()],c.prototype,"renderable",null);b.__decorate([d.property()],c.prototype,"uiStrings",void 0);b.__decorate([d.property()],c.prototype,"viewModel",void 0);b.__decorate([d.property()],c.prototype,"visible",void 0);b.__decorate([d.property()],c.prototype,"key",void 0);b.__decorate([d.property()],
c.prototype,"children",void 0);b.__decorate([d.property()],c.prototype,"afterCreate",void 0);b.__decorate([d.property()],c.prototype,"afterUpdate",void 0);b.__decorate([d.property()],c.prototype,"afterRemoved",void 0);return c=b.__decorate([v.subclass("esri.widgets.Widget")],c)})},"esri/core/domUtils":function(){define(["exports"],function(a){const b=(()=>{if("function"===typeof Element.prototype.closest)return(e,h)=>e.closest(h);const c=Element.prototype.matches||Element.prototype.msMatchesSelector;
return(e,h)=>{do{if(c.call(e,h))return e;e=e.parentElement}while(null!==e&&1===e.nodeType);return null}})();a.byId=function(c){return"string"===typeof c?document.getElementById(c):c};a.closest=b;a.empty=function(c){for(;c.hasChildNodes();)c.removeChild(c.firstChild)};a.insertAfter=function(c,e){const h=e.parentNode;h&&(h.lastChild===e?h.appendChild(c):h.insertBefore(c,e.nextSibling))};a.insertBefore=function(c,e){const h=e.parentNode;h&&h.insertBefore(c,e)};a.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};
a.reparent=function(c,e){for(;;){const h=c.firstChild;if(!h)break;e.appendChild(h)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/uuid":function(){define(["exports"],function(a){a.generateUUID=function(){const b=crypto.getRandomValues(new Uint16Array(8));b[3]=b[3]&4095|16384;b[4]=b[4]&16383|32768;return b[0].toString(16)+b[1].toString(16)+"-"+b[2].toString(16)+"-"+b[3].toString(16)+"-"+b[4].toString(16)+"-"+b[5].toString(16)+b[6].toString(16)+b[7].toString(16)};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/libs/maquette-advanced-projector/projector":function(){define(["exports","../maquette/dom","../maquette/projector","./advanced-projector-options","./utils"],function(a,b,c,e,h){const l=(f,k)=>{const m=[];for(;f&&f!==k;)m.push(f),f=f.parentNode;return m},q=(f,k)=>f.find(k),t=(f,k,m=!1)=>{let p=f;k.forEach((u,g)=>{var r;const d=null!=(r=p)&&r.children?q(p.children,n=>n.domNode===u):void 0;if(!m||d||g===k.length-1)p=d});return p};a.createAdvancedProjector=f=>{let k;
const m={...e.defaultAdvancedProjectorOptions,...f},p=h.applyDefaultProjectionOptions(m),u=p.performanceLogger;let g=!0,r,d=!1;const n=[],v=[],z=(w,y,x)=>{let B;p.eventHandlerInterceptor=(D,J,I,N)=>function(L){u("domEvent",L);var G=l(L.currentTarget,B.domNode);const F=G.some(K=>{var P;return customElements.get(null==K?void 0:null==(P=K.tagName)?void 0:P.toLowerCase())});L.eventPhase!==Event.CAPTURING_PHASE&&F?(G=L.composedPath(),G=G.slice(G.indexOf(L.currentTarget),G.indexOf(B.domNode)).filter(K=>
K.getRootNode()===K.ownerDocument).reverse(),G=t(B.getLastRender(),G,!0)):(G.reverse(),G=t(B.getLastRender(),G));let E;G&&(E=m.handleInterceptedEvent(k,G,this,L));u("domEventProcessed",L);return E};null==m.postProcessProjectionOptions?void 0:m.postProcessProjectionOptions(p);const C=x();B=w(y,C,p);n.push(B);v.push(x);m.afterFirstVNodeRendered&&m.afterFirstVNodeRendered(B,C)};let A=()=>{r=void 0;if(g){g=!1;u("renderStart",void 0);for(let w=0;w<n.length;w++){const y=v[w]();u("rendered",void 0);n[w].update(y);
u("patched",void 0)}u("renderDone",void 0);g=!0}};m.modifyDoRenderImplementation&&(A=m.modifyDoRenderImplementation(A,n,v));return k={renderNow:A,scheduleRender:()=>{r||d||(r=requestAnimationFrame(A))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0);d=!0},resume:()=>{d=!1;g=!0;k.scheduleRender()},append:(w,y)=>{z(b.dom.append,w,y)},insertBefore:(w,y)=>{z(b.dom.insertBefore,w,y)},merge:(w,y)=>{z(b.dom.merge,w,y)},replace:(w,y)=>{z(b.dom.replace,w,y)},detach:w=>{for(let y=0;y<v.length;y++)if(v[y]===
w)return v.splice(y,1),n.splice(y,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/libs/maquette/dom":function(){define(["exports","./projection"],function(a,b){const c={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,h,l)=>{"-"===h.charAt(0)?e.style.setProperty(h,l):e.style[h]=l}};a.applyDefaultProjectionOptions=e=>b.extend(c,e);a.dom={create:(e,h)=>{h=b.extend(c,h);b.createDom(e,document.createElement("div"),
void 0,h);return b.createProjection(e,h)},append:(e,h,l)=>{l=b.extend(c,l);b.createDom(h,e,void 0,l);return b.createProjection(h,l)},insertBefore:(e,h,l)=>{l=b.extend(c,l);b.createDom(h,e.parentNode,e,l);return b.createProjection(h,l)},merge:(e,h,l)=>{l=b.extend(c,l);h.domNode=e;b.initPropertiesAndChildren(e,h,l);return b.createProjection(h,l)},replace:(e,h,l)=>{l=b.extend(c,l);b.createDom(h,e.parentNode,e,l);e.parentNode.removeChild(e);return b.createProjection(h,l)}};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/libs/maquette/projection":function(){define(["exports","../../widgets/support/widgetUtils"],function(a,b){let c=[],e=(z,A)=>{let w={};Object.keys(z).forEach(y=>{w[y]=z[y]});A&&Object.keys(A).forEach(y=>{w[y]=A[y]});return w},h=(z,A)=>z.vnodeSelector!==A.vnodeSelector?!1:z.properties&&A.properties?z.properties.key!==A.properties.key?!1:z.properties.bind===A.properties.bind:!z.properties&&!A.properties,l=z=>{if("string"!==typeof z)throw Error("Style values must be strings");},q=
(z,A,w,y)=>{let x=z[A];if(""!==x.vnodeSelector){var B=x.properties;if(!(B&&(void 0===B.key?B.bind:B.key)))for(B=0;B<z.length;B++)if(B!==A&&h(z[B],x))throw Error(`${w.vnodeSelector} had a ${x.vnodeSelector} child ${"added"===y?y:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);}},t=[],f=!1,k=z=>{(z.children||[]).forEach(k);z.properties&&z.properties.afterRemoved&&z.properties.afterRemoved.apply(z.properties.bind||z.properties,[z.domNode])},
m=()=>{f=!1;t.forEach(k);t.length=0},p=z=>{t.push(z);f||(f=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(m,{timeout:16}):setTimeout(m,16))},u=z=>{let A=z.domNode;if(z.properties){let w=z.properties.exitAnimation;if(w){A.style.pointerEvents="none";w(A,()=>{A.parentNode&&(A.parentNode.removeChild(A),p(z))},z.properties);return}}A.parentNode&&(A.parentNode.removeChild(A),p(z))},g=(z,A,w)=>{if(A){var y=w.eventHandlerInterceptor,x=Object.keys(A),B=x.length;for(let N=
0;N<B;N++){var C=x[N];let L=A[C];if("className"===C)throw Error('Property "className" is not supported, use "class".');if("class"===C)v(z,L,!0);else if("classes"===C){C=Object.keys(L);var D=C.length;for(var J=0;J<D;J++){var I=C[J];L[I]&&z.classList.add(I)}}else if("styles"===C)for(C=Object.keys(L),D=C.length,J=0;J<D;J++){I=C[J];let G=L[I];G&&(l(G),w.styleApplyer(z,I,G))}else"key"!==C&&null!==L&&void 0!==L&&(D=typeof L,"function"===D?(0===C.lastIndexOf("on",0)&&(y&&(L=y(C,L,z,A)),"oninput"===C&&function(){let G=
L;L=function(F){G.apply(this,[F]);F.target["oninput-value"]=F.target.value}}()),z[C]=L):"http://www.w3.org/2000/svg"===w.namespace?"href"===C?z.setAttributeNS("http://www.w3.org/1999/xlink",C,L):z.setAttribute(C,L):"string"===D&&"value"!==C?"innerHTML"===C?z[C]=b.renderingSanitizer.sanitize(L):z.setAttribute(C,L):z[C]=L)}}},r=(z,A,w)=>{var y=A.children;if(y)for(let x of y)d(x,z,void 0,w);A.text&&(z.textContent=A.text);g(z,A.properties,w);A.properties&&A.properties.afterCreate&&A.properties.afterCreate.apply(A.properties.bind||
A.properties,[z,w,A.vnodeSelector,A.properties,A.children])},d=(z,A,w,y)=>{let x;var B=0;let C=z.vnodeSelector,D=A.ownerDocument;if(""===C)x=z.domNode=D.createTextNode(z.text),void 0!==w?A.insertBefore(x,w):A.appendChild(x);else{for(let I=0;I<=C.length;++I){var J=C.charAt(I);if(I===C.length||"."===J||"#"===J)J=C.charAt(B-1),B=C.slice(B,I),"."===J?x.classList.add(B):"#"===J?x.id=B:("svg"===B&&(y=e(y,{namespace:"http://www.w3.org/2000/svg"})),void 0!==y.namespace?x=z.domNode=D.createElementNS(y.namespace,
B):(x=z.domNode=z.domNode||D.createElement(B),"input"===B&&z.properties&&void 0!==z.properties.type&&x.setAttribute("type",z.properties.type)),void 0!==w?A.insertBefore(x,w):x.parentNode!==A&&A.appendChild(x)),B=I+1}r(x,z,y)}},n,v=(z,A,w)=>{A&&A.split(" ").forEach(y=>{y&&z.classList.toggle(y,w)})};n=(z,A,w)=>{let y=z.domNode;if(z===A)return!1;let x=!1;if(""===A.vnodeSelector){if(A.text!==z.text)return z=y.ownerDocument.createTextNode(A.text),y.parentNode.replaceChild(z,y),A.domNode=z,!0;A.domNode=
y}else{0===A.vnodeSelector.lastIndexOf("svg",0)&&(w=e(w,{namespace:"http://www.w3.org/2000/svg"}));z.text!==A.text&&(x=!0,void 0===A.text?y.removeChild(y.firstChild):y.textContent=A.text);A.domNode=y;var B=z.children;var C=A.children,D=w;if(B===C)B=!1;else{B=B||c;C=C||c;for(var J=B.length,I=C.length,N=0,L=0,G=!1;L<I;){var F=N<J?B[N]:void 0,E=C[L];if(void 0!==F&&h(F,E))G=n(F,E,D)||G,N++;else{b:{F=B;var K=E,P=N+1;if(""!==K.vnodeSelector)for(;P<F.length;P++)if(h(F[P],K)){F=P;break b}F=-1}if(0<=F){for(;N<
F;N++)u(B[N]),q(B,N,A,"removed");G=n(B[F],E,D)||G;N=F+1}else d(E,y,N<J?B[N].domNode:void 0,D),E.properties&&(F=E.properties.enterAnimation)&&F(E.domNode,E.properties),q(C,L,A,"added")}L++}if(J>N)for(;N<J;N++)u(B[N]),q(B,N,A,"removed");B=G}x=B||x;B=z.properties;C=A.properties;D=w;if(C){J=!1;I=Object.keys(C);L=I.length;for(G=0;G<L;G++)if(F=I[G],E=C[F],N=B[F],"class"===F)N!==E&&(v(y,N,!1),v(y,E,!0));else if("classes"===F){F=y.classList;K=Object.keys(E);P=K.length;for(var W=0;W<P;W++){var ia=K[W];let Z=
!!E[ia];Z!==!!N[ia]&&(J=!0,Z?F.add(ia):F.remove(ia))}}else if("styles"===F)for(F=Object.keys(E),K=F.length,P=0;P<K;P++)W=F[P],ia=E[W],ia!==N[W]&&(J=!0,ia?(l(ia),D.styleApplyer(y,W,ia)):D.styleApplyer(y,W,""));else E||"string"!==typeof N||(E=""),"value"===F?(K=y[F],K!==E&&(y["oninput-value"]?K===y["oninput-value"]:E!==N)&&(y[F]=E,y["oninput-value"]=void 0),E!==N&&(J=!0)):E!==N&&(N=typeof E,"function"===N&&D.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===D.namespace?"href"===F?y.setAttributeNS("http://www.w3.org/1999/xlink",
F,E):y.setAttribute(F,E):"string"===N?"innerHTML"===F?y[F]=b.renderingSanitizer.sanitize(E):"role"===F&&""===E?y.removeAttribute(F):y.setAttribute(F,E):y[F]!==E&&(y[F]=E),J=!0));B=J}else B=void 0;x=B||x;A.properties&&A.properties.afterUpdate&&A.properties.afterUpdate.apply(A.properties.bind||A.properties,[y,w,A.vnodeSelector,A.properties,A.children])}x&&A.properties&&A.properties.updateAnimation&&A.properties.updateAnimation(y,A.properties,z.properties);return!1};a.createDom=d;a.createProjection=
(z,A)=>({getLastRender:()=>z,update:w=>{if(z.vnodeSelector!==w.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let y=z;z=w;n(y,w,A)},domNode:z.domNode});a.extend=e;a.initPropertiesAndChildren=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/widgetUtils":function(){define(["exports","../../core/ArrayPool","../../core/has","../../core/Logger"],function(a,b,c,e){function h(){return{"align-content":!1,
"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,
"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,
"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,
"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,
"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,
"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,
"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,
"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,
opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,
quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,
"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,
"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function l(ha){ha=ha||{};var ua={},wa;for(wa in ha)ua[wa]=ha[wa];ha=ua;ha.whiteList=ha.whiteList||
P.whiteList;ha.onAttr=ha.onAttr||P.onAttr;ha.onIgnoreAttr=ha.onIgnoreAttr||P.onIgnoreAttr;ha.safeAttrValue=ha.safeAttrValue||P.safeAttrValue;this.options=ha}function q(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align",
"valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],
tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}}function t(ha){return ha.replace(sa,"\x26lt;").replace(Ba,"\x26gt;")}function f(ha){return ha.replace(oa,"\x26quot;")}function k(ha){return ha.replace(U,'"')}function m(ha){return ha.replace(ca,function(ua,wa){return"x"===wa[0]||"X"===wa[0]?String.fromCharCode(parseInt(wa.substr(1),
16)):String.fromCharCode(parseInt(wa,10))})}function p(ha){return ha.replace(va,":").replace(Aa," ")}function u(ha){for(var ua="",wa=0,Ga=ha.length;wa<Ga;wa++)ua+=32>ha.charCodeAt(wa)?" ":ha.charAt(wa);return V.trim(ua)}function g(ha){ha=k(ha);ha=m(ha);ha=p(ha);return ha=u(ha)}function r(ha){ha=f(ha);return ha=t(ha)}function d(ha,ua){for(;ua<ha.length;ua++){var wa=ha[ua];if(" "!==wa)return"\x3d"===wa?ua:-1}}function n(ha,ua){for(;0<ua;ua--){var wa=ha[ua];if(" "!==wa)return"\x3d"===wa?ua:-1}}function v(ha){var ua=
'"'===ha[0]&&'"'===ha[ha.length-1]||"'"===ha[0]&&"'"===ha[ha.length-1]?!0:!1;return ua?ha.substr(1,ha.length-2):ha}function z(ha){var ua=T.spaceIndex(ha);if(-1===ua)return{html:"",closing:"/"===ha[ha.length-2]};ha=T.trim(ha.slice(ua+1,-1));(ua="/"===ha[ha.length-1])&&(ha=T.trim(ha.slice(0,-1)));return{html:ha,closing:ua}}function A(ha){ha=ha||{};var ua={},wa;for(wa in ha)ua[wa]=ha[wa];ha=ua;ha.stripIgnoreTag&&(ha.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),
ha.onIgnoreTag=R.onIgnoreTagStripAll);ha.whiteList=ha.whiteList||R.whiteList;ha.onTag=ha.onTag||R.onTag;ha.onTagAttr=ha.onTagAttr||R.onTagAttr;ha.onIgnoreTag=ha.onIgnoreTag||R.onIgnoreTag;ha.onIgnoreTagAttr=ha.onIgnoreTagAttr||R.onIgnoreTagAttr;ha.safeAttrValue=ha.safeAttrValue||R.safeAttrValue;ha.escapeHtml=ha.escapeHtml||R.escapeHtml;this.options=ha;!1===ha.css?this.cssFilter=!1:(ha.css=ha.css||{},this.cssFilter=new M(ha.css))}function w(ha){ha=null==ha?void 0:ha.closest("[dir]");return null!==
ha&&ha instanceof HTMLElement&&"rtl"===ha.dir||"rtl"===document.dir}function y(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function x(){return y().startsWith("dark")}c=Object.prototype;var B=Function.prototype.toString,C=c.hasOwnProperty,D=B.call(Object),J=c.toString,I=function(ha,ua){return function(wa){return ha(ua(wa))}}(Object.getPrototypeOf,Object),N=function(ha){var ua;if(!(ua=!(ha&&"object"==typeof ha)||"[object Object]"!=J.call(ha))&&
(ua=!1,null!=ha&&"function"!=typeof ha.toString))try{ua=!!(ha+"")}catch(wa){}if(ua)return!1;ha=I(ha);if(null===ha)return!0;ha=C.call(ha,"constructor")&&ha.constructor;return"function"==typeof ha&&ha instanceof ha&&B.call(ha)==D},L={exports:{}},G={};c={exports:{}};var F={},E=/javascript\s*:/gim;F.whiteList=h();F.getDefaultWhiteList=h;F.onAttr=function(ha,ua,wa){};F.onIgnoreAttr=function(ha,ua,wa){};F.safeAttrValue=function(ha,ua){return E.test(ua)?"":ua};var K={indexOf:function(ha,ua){var wa;if(Array.prototype.indexOf)return ha.indexOf(ua);
var Ga=0;for(wa=ha.length;Ga<wa;Ga++)if(ha[Ga]===ua)return Ga;return-1},forEach:function(ha,ua,wa){var Ga;if(Array.prototype.forEach)return ha.forEach(ua,wa);var Ha=0;for(Ga=ha.length;Ha<Ga;Ha++)ua.call(wa,ha[Ha],Ha,ha)},trim:function(ha){return String.prototype.trim?ha.trim():ha.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(ha){return String.prototype.trimRight?ha.trimRight():ha.replace(/(\s*$)/g,"")}},P=F,W=function(ha,ua){function wa(){if(!Ha){var ya=K.trim(ha.slice(Oa,Xa)),ta=ya.indexOf(":");
if(-1!==ta){var Fa=K.trim(ya.slice(0,ta));ta=K.trim(ya.slice(ta+1));Fa&&(ya=ua(Oa,ea.length,Fa,ta,ya))&&(ea+=ya+"; ")}}Oa=Xa+1}ha=K.trimRight(ha);";"!==ha[ha.length-1]&&(ha+=";");for(var Ga=ha.length,Ha=!1,Oa=0,Xa=0,ea="";Xa<Ga;Xa++){var na=ha[Xa];if("/"===na&&"*"===ha[Xa+1]){na=ha.indexOf("*/",Xa+2);if(-1===na)break;Xa=na+1;Oa=Xa+1;Ha=!1}else"("===na?Ha=!0:")"===na?Ha=!1:";"===na?Ha||wa():"\n"===na&&wa()}return K.trim(ea)};l.prototype.process=function(ha){ha=(ha||"").toString();if(!ha)return"";var ua=
this.options,wa=ua.whiteList,Ga=ua.onAttr,Ha=ua.onIgnoreAttr,Oa=ua.safeAttrValue;return W(ha,function(Xa,ea,na,ya,ta){var Fa=wa[na],Ia=!1;!0===Fa?Ia=Fa:"function"===typeof Fa?Ia=Fa(ya):Fa instanceof RegExp&&(Ia=Fa.test(ya));!0!==Ia&&(Ia=!1);if(ya=Oa(na,ya)){Xa={position:ea,sourcePosition:Xa,source:ta,isWhite:Ia};if(Ia)return Ia=Ga(na,ya,Xa),void 0===Ia||null===Ia?na+":"+ya:Ia;Ia=Ha(na,ya,Xa);if(void 0!==Ia&&null!==Ia)return Ia}})};(function(ha,ua){ua=ha.exports=function(Ga,Ha){return(new l(Ha)).process(Ga)};
ua.FilterCSS=l;for(var wa in F)ua[wa]=F[wa]})(c,c.exports);var ia={indexOf:function(ha,ua){var wa;if(Array.prototype.indexOf)return ha.indexOf(ua);var Ga=0;for(wa=ha.length;Ga<wa;Ga++)if(ha[Ga]===ua)return Ga;return-1},forEach:function(ha,ua,wa){var Ga;if(Array.prototype.forEach)return ha.forEach(ua,wa);var Ha=0;for(Ga=ha.length;Ha<Ga;Ha++)ua.call(wa,ha[Ha],Ha,ha)},trim:function(ha){return String.prototype.trim?ha.trim():ha.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(ha){return(ha=/\s|\n|\t/.exec(ha))?
ha.index:-1}},Z=c.exports.getDefaultWhiteList,V=ia,qa=new c.exports.FilterCSS,sa=/</g,Ba=/>/g,oa=/"/g,U=/&quot;/g,ca=/&#([a-zA-Z0-9]*);?/gim,va=/&colon;?/gim,Aa=/&newline;?/gim,H=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,O=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,la=/u\s*r\s*l\s*\(.*/gi;G.whiteList=q();G.getDefaultWhiteList=q;G.onTag=function(ha,ua,wa){};G.onIgnoreTag=function(ha,ua,wa){};G.onTagAttr=function(ha,ua,wa){};G.onIgnoreTagAttr=function(ha,
ua,wa){};G.safeAttrValue=function(ha,ua,wa,Ga){wa=g(wa);if("href"===ua||"src"===ua){wa=V.trim(wa);if("#"===wa)return"#";if("http://"!==wa.substr(0,7)&&"https://"!==wa.substr(0,8)&&"mailto:"!==wa.substr(0,7)&&"tel:"!==wa.substr(0,4)&&"data:image/"!==wa.substr(0,11)&&"ftp://"!==wa.substr(0,6)&&"./"!==wa.substr(0,2)&&"../"!==wa.substr(0,3)&&"#"!==wa[0]&&"/"!==wa[0])return""}else if("background"===ua){if(H.lastIndex=0,H.test(wa))return""}else if("style"===ua){O.lastIndex=0;if(O.test(wa))return"";la.lastIndex=
0;if(la.test(wa)&&(H.lastIndex=0,H.test(wa)))return"";!1!==Ga&&(Ga=Ga||qa,wa=Ga.process(wa))}return wa=r(wa)};G.escapeHtml=t;G.escapeQuote=f;G.unescapeQuote=k;G.escapeHtmlEntities=m;G.escapeDangerHtml5Entities=p;G.clearNonPrintableCharacter=u;G.friendlyAttrValue=g;G.escapeAttrValue=r;G.onIgnoreTagStripAll=function(){return""};G.StripTagBody=function(ha,ua){"function"!==typeof ua&&(ua=function(){});var wa=!Array.isArray(ha),Ga=[],Ha=!1;return{onIgnoreTag:function(Oa,Xa,ea){var na=wa?!0:-1!==V.indexOf(ha,
Oa);if(na){if(ea.isClosing)return Ga.push([!1!==Ha?Ha:ea.position,ea.position+10]),Ha=!1,"[/removed]";Ha||(Ha=ea.position);return"[removed]"}return ua(Oa,Xa,ea)},remove:function(Oa){var Xa="",ea=0;V.forEach(Ga,function(na){Xa+=Oa.slice(ea,na[0]);ea=na[1]});return Xa+=Oa.slice(ea)}}};G.stripCommentTag=function(ha){for(var ua="",wa=0;wa<ha.length;){var Ga=ha.indexOf("\x3c!--",wa);if(-1===Ga){ua+=ha.slice(wa);break}ua+=ha.slice(wa,Ga);wa=ha.indexOf("--\x3e",Ga);if(-1===wa)break;wa+=3}return ua};G.stripBlankChar=
function(ha){ha=ha.split("");ha=ha.filter(function(ua){ua=ua.charCodeAt(0);return 127===ua?!1:31>=ua?10===ua||13===ua?!0:!1:!0});return ha.join("")};G.cssFilter=qa;G.getDefaultCSSWhiteList=Z;var Q={},S=/[^a-zA-Z0-9_:\.\-]/gim;Q.parseTag=function(ha,ua,wa){var Ga="",Ha=0,Oa=!1,Xa=!1,ea=0,na=ha.length,ya="",ta="";ea=0;a:for(;ea<na;ea++)if(ta=ha.charAt(ea),!1===Oa)"\x3c"===ta&&(Oa=ea);else if(!1===Xa)if("\x3c"===ta)Ga+=wa(ha.slice(Ha,ea)),Ha=Oa=ea;else if("\x3e"===ta)Ga+=wa(ha.slice(Ha,Oa)),Ha=ta=ha.slice(Oa,
ea+1),ya=ia.spaceIndex(Ha),Ha=-1===ya?Ha.slice(1,-1):Ha.slice(1,ya+1),Ha=ia.trim(Ha).toLowerCase(),"/"===Ha.slice(0,1)&&(Ha=Ha.slice(1)),"/"===Ha.slice(-1)&&(Ha=Ha.slice(0,-1)),ya=Ha,Ga+=ua(Oa,Ga.length,ya,ta,"\x3c/"===ta.slice(0,2)),Ha=ea+1,Oa=!1;else{if('"'===ta||"'"===ta){ya=1;for(var Fa=ha.charAt(ea-ya);""===Fa.trim()||"\x3d"===Fa;){if("\x3d"===Fa){Xa=ta;continue a}Fa=ha.charAt(ea-++ya)}}}else ta===Xa&&(Xa=!1);Ha<ha.length&&(Ga+=wa(ha.substr(Ha)));return Ga};Q.parseAttr=function(ha,ua){function wa(ya,
ta){ya=ia.trim(ya);ya=ya.replace(S,"").toLowerCase();1>ya.length||(ya=ua(ya,ta||""))&&Ha.push(ya)}for(var Ga=0,Ha=[],Oa=!1,Xa=ha.length,ea=0;ea<Xa;ea++){var na=ha.charAt(ea);if(!1===Oa&&"\x3d"===na)Oa=ha.slice(Ga,ea),Ga=ea+1;else{if(!1!==Oa&&ea===Ga&&('"'===na||"'"===na)&&"\x3d"===ha.charAt(ea-1))if(na=ha.indexOf(na,ea+1),-1===na)break;else{Ga=ia.trim(ha.slice(Ga+1,na));wa(Oa,Ga);Oa=!1;ea=na;Ga=ea+1;continue}/\s|\n|\t/.test(na)&&(ha=ha.replace(/\s|\n|\t/g," "),!1===Oa?(na=d(ha,ea),-1===na?(Ga=ia.trim(ha.slice(Ga,
ea)),wa(Ga),Oa=!1,Ga=ea+1):ea=na-1):(na=n(ha,ea-1),-1===na&&(Ga=ia.trim(ha.slice(Ga,ea)),Ga=v(Ga),wa(Oa,Ga),Oa=!1,Ga=ea+1)))}}Ga<ha.length&&(!1===Oa?wa(ha.slice(Ga)):wa(Oa,v(ia.trim(ha.slice(Ga)))));return ia.trim(Ha.join(" "))};var M=c.exports.FilterCSS,R=G,aa=Q.parseTag,ba=Q.parseAttr,T=ia;A.prototype.process=function(ha){ha=(ha||"").toString();if(!ha)return"";var ua=this.options,wa=ua.whiteList,Ga=ua.onTag,Ha=ua.onIgnoreTag,Oa=ua.onTagAttr,Xa=ua.onIgnoreTagAttr,ea=ua.safeAttrValue,na=ua.escapeHtml,
ya=this.cssFilter;ua.stripBlankChar&&(ha=R.stripBlankChar(ha));ua.allowCommentTag||(ha=R.stripCommentTag(ha));var ta=!1;ua.stripIgnoreTagBody&&(ta=R.StripTagBody(ua.stripIgnoreTagBody,Ha),Ha=ta.onIgnoreTag);ha=aa(ha,function(Fa,Ia,Ka,Ua,Za){Fa={sourcePosition:Fa,position:Ia,isClosing:Za,isWhite:wa.hasOwnProperty(Ka)};Ia=Ga(Ka,Ua,Fa);if(void 0!==Ia&&null!==Ia)return Ia;if(Fa.isWhite){if(Fa.isClosing)return"\x3c/"+Ka+"\x3e";Fa=z(Ua);var bb=wa[Ka];Ia=ba(Fa.html,function(Va,cb){var Na=-1!==T.indexOf(bb,
Va),ka=Oa(Ka,Va,cb,Na);if(void 0!==ka&&null!==ka)return ka;if(Na)return(cb=ea(Ka,Va,cb,ya))?Va+'\x3d"'+cb+'"':Va;ka=Xa(Ka,Va,cb,Na);if(void 0!==ka&&null!==ka)return ka});Ua="\x3c"+Ka;Ia&&(Ua+=" "+Ia);Fa.closing&&(Ua+=" /");return Ua+"\x3e"}Ia=Ha(Ka,Ua,Fa);return void 0!==Ia&&null!==Ia?Ia:na(Ua)},na);ta&&(ha=ta.remove(ha));return ha};(function(ha,ua){function wa(Oa,Xa){return(new Ga(Xa)).process(Oa)}var Ga=A;ua=ha.exports=wa;ua.filterXSS=wa;ua.FilterXSS=Ga;for(var Ha in G)ua[Ha]=G[Ha];for(Ha in Q)ua[Ha]=
Q[Ha];"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=ha.exports)})(L,L.exports);c=function(){function ha(ua,wa){var Ga=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],
h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:"alt border height src style width".split(" "),li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:"border cellpadding cellspacing height style width".split(" "),tbody:[],tr:["align","height","style","valign"],td:"align colspan height nowrap rowspan style valign width".split(" "),th:"align colspan height nowrap rowspan style valign width".split(" "),u:[],ul:[],video:"autoplay controls height loop muted poster preload width".split(" ")};
this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there arcgis-quickcapture mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(Oa,Xa,ea,na){return"a"===Oa&&"href"===Xa||("img"===Oa||"source"===Oa)&&"src"===Xa?Ga.sanitizeUrl(ea):L.exports.safeAttrValue(Oa,
Xa,ea,na)}};if(ua&&!wa)var Ha=ua;else ua&&wa?(Ha=Object.create(this.arcgisFilterOptions),Object.keys(ua).forEach(function(Oa){"whiteList"===Oa?Ha.whiteList=Ga._extendObjectOfArrays([Ga.arcgisWhiteList,ua.whiteList||{}]):Ha[Oa]=ua[Oa]})):(Ha=Object.create(this.arcgisFilterOptions),Ha.whiteList=this.arcgisWhiteList);this.xssFilterOptions=Ha;this._xssFilter=new L.exports.FilterXSS(Ha)}ha.prototype.sanitize=function(ua,wa){void 0===wa&&(wa={});switch(typeof ua){case "number":return isNaN(ua)||!isFinite(ua)?
null:ua;case "boolean":return ua;case "string":return this._xssFilter.process(ua);case "object":return this._iterateOverObject(ua,wa);default:if(!wa.allowUndefined||"undefined"!==typeof ua)return null}};ha.prototype.sanitizeUrl=function(ua){var wa=this._trim(ua.substring(0,ua.indexOf(":")));return"/"===ua||"#"===ua||"#"===ua[0]||-1<this.allowedProtocols.indexOf(wa.toLowerCase())?L.exports.escapeAttrValue(ua):""};ha.prototype.sanitizeHTMLAttribute=function(ua,wa,Ga,Ha){return"function"===typeof this.xssFilterOptions.safeAttrValue?
this.xssFilterOptions.safeAttrValue(ua,wa,Ga,Ha):L.exports.safeAttrValue(ua,wa,Ga,Ha)};ha.prototype.validate=function(ua,wa){void 0===wa&&(wa={});wa=this.sanitize(ua,wa);return{isValid:ua===wa,sanitized:wa}};ha.prototype._extendObjectOfArrays=function(ua){var wa={};ua.forEach(function(Ga){Object.keys(Ga).forEach(function(Ha){Array.isArray(Ga[Ha])&&Array.isArray(wa[Ha])?wa[Ha]=wa[Ha].concat(Ga[Ha]):wa[Ha]=Ga[Ha]})});return wa};ha.prototype._iterateOverObject=function(ua,wa){var Ga=this;void 0===wa&&
(wa={});try{var Ha=!1,Oa=void 0;if(Array.isArray(ua))Oa=ua.reduce(function(Xa,ea){var na=Ga.validate(ea,wa);if(na.isValid)return Xa.concat([ea]);Ha=!0;return Xa.concat([na.sanitized])},[]);else if(N(ua))Oa=Object.keys(ua).reduce(function(Xa,ea){var na=ua[ea],ya=Ga.validate(na,wa);ya.isValid?Xa[ea]=na:(Ha=!0,Xa[ea]=ya.sanitized);return Xa},{});else return wa.allowUndefined&&"undefined"===typeof ua?void 0:null;return Ha?Oa:ua}catch(Xa){return null}};ha.prototype._trim=function(ua){return String.prototype.trim?
ua.trim():ua.replace(/(^\s*)|(\s*$)/g,"")};return ha}();var X,ma,Ca=function(ha){if("WebkitTransition"in ha.style)X="webkitTransitionEnd",ma="webkitAnimationEnd";else if("transition"in ha.style)X="transitionend",ma="animationend";else throw Error("Your browser is not supported!");},Ea=function(ha,ua){void 0===ua&&(ua=ha+"-active");return function(wa){X||Ca(wa);var Ga=!1,Ha=function(Oa){Ga||(Ga=!0,wa.removeEventListener(X,Ha),wa.removeEventListener(ma,Ha),wa.classList.remove(ha),wa.classList.remove(ua))};
wa.classList.add(ha);wa.addEventListener(X,Ha);wa.addEventListener(ma,Ha);requestAnimationFrame(function(){wa.classList.add(ua)})}},La=function(ha,ua){void 0===ua&&(ua=ha+"-active");return function(wa,Ga){X||Ca(wa);var Ha=!1,Oa=function(Xa){Ha||(Ha=!0,wa.removeEventListener(X,Oa),wa.removeEventListener(ma,Oa),Ga())};wa.classList.add(ha);wa.addEventListener(X,Oa);wa.addEventListener(ma,Oa);requestAnimationFrame(function(){wa.classList.add(ua)})}};e.getLogger("esri.widgets.support.widgetUtils");e="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");
Z=e.reduce((ha,ua)=>{ha[ua]=[];return ha},{});const Pa="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords d dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");c=new c({whiteList:Z,onTagAttr:(ha,ua,wa)=>{ha=`${ua}="${wa}"`;if(Pa.includes(ua))return ha},stripIgnoreTag:!0,stripIgnoreTagBody:["script",
"style"]},!0);a.additionalAllowedTags=e;a.classes=function(ha){const ua=b.acquire();for(var wa=0;wa<arguments.length;wa++){const Ga=arguments[wa],Ha=typeof Ga;if("string"===Ha)ua.push(Ga);else if(Array.isArray(Ga))ua.push.apply(ua,Ga);else if("object"===Ha)for(const Oa in Ga)Ga[Oa]&&ua.push(Oa)}wa=ua.join(" ");b.release(ua);return wa};a.cssTransition=function(ha,ua){return("enter"===ha?Ea:La)(ua)};a.discardNode=function(ha){this[ha.getAttribute("data-node-ref")]=null};a.getCalciteThemeClass=function(){return`calcite-theme-${x()?
"dark":"light"}`};a.getDir=function(ha){return w(ha)?"rtl":"ltr"};a.getThemeName=y;a.isActivationKey=function(ha){return"Enter"===ha||" "===ha};a.isDarkTheme=x;a.isRTL=w;a.keepMenuItemWithinView=function(ha,ua){const wa=ha.getBoundingClientRect();ua=ua.getBoundingClientRect();const Ga=wa.top,Ha=ua.top;(wa.top+wa.height>ua.top+ua.height||Ga<Ha)&&ha.scrollIntoView({block:"end"})};a.renderingSanitizer=c;a.safeAttrs=Pa;a.storeNode=function(ha){this[ha.getAttribute("data-node-ref")]=ha};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/libs/maquette/projector":function(){define(["exports","./dom"],function(a,b){let c;c=Array.prototype.find?(l,q)=>l.find(q):(l,q)=>l.filter(q)[0];let e=(l,q)=>{let t=l;q.forEach(f=>{t=t&&t.children?c(t.children,k=>k.domNode===f):void 0});return t},h=(l,q,t)=>{let f=function(k){t("domEvent",k);var m=q();{var p=k.currentTarget;var u=m.domNode;let r=[];for(;p&&p!==u;)r.push(p),p=p.parentNode;p=r}p.reverse();m=e(m.getLastRender(),p);l.scheduleRender();let g;m&&(g=m.properties[`on${k.type}`].apply(m.properties.bind||
this,arguments));t("domEventProcessed",k);return g};return(k,m,p,u)=>f};a.createProjector=l=>{let q,t=b.applyDefaultProjectionOptions(l),f=t.performanceLogger,k=!0,m,p=!1,u=[],g=[],r=(n,v,z)=>{let A;t.eventHandlerInterceptor=h(q,()=>A,f);A=n(v,z(),t);u.push(A);g.push(z)},d=()=>{m=void 0;if(k){k=!1;f("renderStart",void 0);for(let n=0;n<u.length;n++){let v=g[n]();f("rendered",void 0);u[n].update(v);f("patched",void 0)}f("renderDone",void 0);k=!0}};return q={renderNow:d,scheduleRender:()=>{m||p||(m=
requestAnimationFrame(d))},stop:()=>{m&&(cancelAnimationFrame(m),m=void 0);p=!0},resume:()=>{p=!1;k=!0;q.scheduleRender()},append:(n,v)=>{r(b.dom.append,n,v)},insertBefore:(n,v)=>{r(b.dom.insertBefore,n,v)},merge:(n,v)=>{r(b.dom.merge,n,v)},replace:(n,v)=>{r(b.dom.replace,n,v)},detach:n=>{for(let v=0;v<g.length;v++)if(g[v]===n)return g.splice(v,1),u.splice(v,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/libs/maquette-advanced-projector/advanced-projector-options":function(){define(["exports"],
function(a){a.defaultAdvancedProjectorOptions={handleInterceptedEvent:(b,c,e,h)=>{b.scheduleRender();return c.properties[`on${h.type}`].apply(c.properties.bind||e,[h])}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/libs/maquette-advanced-projector/utils":function(){define(["exports"],function(a){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(c,e,h)=>{c.style[e]=h}};a.applyDefaultProjectionOptions=c=>({...b,...c});Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/chunks/componentsUtils":function(){define(["exports","../assets","../core/has","../core/urlUtils"],function(a,b,c,e){let h,l,q,t=!1,f=!1,k=!1,m=!1,p=!1;const u="undefined"!==typeof window?window:{};null;const g=u.document||{head:{}};u.HTMLElement||class{};const r={$flags$:0,$resourcesUrl$:"",jmp:ea=>ea(),raf:ea=>requestAnimationFrame(ea),ael:(ea,na,ya,ta)=>ea.addEventListener(na,ya,ta),rel:(ea,na,ya,ta)=>ea.removeEventListener(na,ya,ta),ce:(ea,na)=>new CustomEvent(ea,
na)},d=(()=>{let ea=!1;try{g.addEventListener("e",null,Object.defineProperty({},"passive",{get(){ea=!0}}))}catch(na){}return ea})();a:{try{new CSSStyleSheet;var n="function"===typeof(new CSSStyleSheet).replace;break a}catch(ea){}n=!1}const v=n,z=(ea,na,ya,ta)=>{ya&&ya.map(([Fa,Ia,Ka])=>{const Ua=Fa&4?g:Fa&8?u:Fa&16?g.body:ea,Za=A(na,Ka),bb=d?{passive:0!==(Fa&1),capture:0!==(Fa&2)}:0!==(Fa&2);r.ael(Ua,Ia,Za,bb);(na.$rmListeners$=na.$rmListeners$||[]).push(()=>r.rel(Ua,Ia,Za,bb))})},A=(ea,na)=>ya=>
{try{ea.$hostElement$[na](ya)}catch(ta){Pa(ta)}},w=(ea,na)=>()=>{},y=new WeakMap,x=(ea,na,ya)=>{let ta=ha.get(ea);v&&ya?(ta=ta||new CSSStyleSheet,ta.replace(na)):ta=na;ha.set(ea,ta)},B=(ea,na)=>"sc-"+(na&&ea.$flags$&32?ea.$tagName$+"-"+na:ea.$tagName$),C=ea=>ua.map(na=>na(ea)).find(na=>!!na),D={},J=ea=>{ea=typeof ea;return"object"===ea||"function"===ea},I=(ea,na,...ya)=>{let ta=null,Fa=null,Ia=null,Ka=!1,Ua=!1,Za=[];const bb=Va=>{for(let cb=0;cb<Va.length;cb++)if(ta=Va[cb],Array.isArray(ta))bb(ta);
else if(null!=ta&&"boolean"!==typeof ta){if(Ka="function"!==typeof ea&&!J(ta))ta=String(ta);Ka&&Ua?Za[Za.length-1].$text$+=ta:Za.push(Ka?N(null,ta):ta);Ua=Ka}};bb(ya);if(na){na.key&&(Fa=na.key);na.name&&(Ia=na.name);{const Va=na.className||na.class;Va&&(na.class="object"!==typeof Va?Va:Object.keys(Va).filter(cb=>Va[cb]).join(" "))}}if("function"===typeof ea)return ea(null===na?{}:na,Za,G);ya=N(ea,null);ya.$attrs$=na;0<Za.length&&(ya.$children$=Za);ya.$key$=Fa;ya.$name$=Ia;return ya},N=(ea,na)=>({$flags$:0,
$tag$:ea,$text$:na,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),L={},G={forEach:(ea,na)=>ea.map(F).forEach(na),map:(ea,na)=>ea.map(F).map(na).map(E)},F=ea=>({vattrs:ea.$attrs$,vchildren:ea.$children$,vkey:ea.$key$,vname:ea.$name$,vtag:ea.$tag$,vtext:ea.$text$}),E=ea=>{if("function"===typeof ea.vtag){var na=Object.assign({},ea.vattrs);ea.vkey&&(na.key=ea.vkey);ea.vname&&(na.name=ea.vname);return I(ea.vtag,na,...ea.vchildren||[])}na=N(ea.vtag,ea.vtext);na.$attrs$=ea.vattrs;na.$children$=
ea.vchildren;na.$key$=ea.vkey;na.$name$=ea.vname;return na},K=(ea,na,ya,ta,Fa,Ia)=>{if(ya!==ta){let Za=na in ea,bb=na.toLowerCase();if("class"===na){ea=ea.classList;const Va=ya?ya.split(P):[],cb=ta?ta.split(P):[];ea.remove(...Va.filter(Na=>Na&&!cb.includes(Na)));ea.add(...cb.filter(Na=>Na&&!Va.includes(Na)))}else if("style"===na){for(var Ka in ya)ta&&null!=ta[Ka]||(Ka.includes("-")?ea.style.removeProperty(Ka):ea.style[Ka]="");for(var Ua in ta)ya&&ta[Ua]===ya[Ua]||(Ua.includes("-")?ea.style.setProperty(Ua,
ta[Ua]):ea.style[Ua]=ta[Ua])}else if("key"!==na)if("ref"===na)ta&&ta(ea);else if(ea.__lookupSetter__(na)||"o"!==na[0]||"n"!==na[1]){Ka=J(ta);if((Za||Ka&&null!==ta)&&!Fa)try{if(ea.tagName.includes("-"))ea[na]=ta;else if(Ua=null==ta?"":ta,"list"===na)Za=!1;else if(null==ya||ea[na]!=Ua)ea[na]=Ua}catch(Va){}ya=!1;bb!==(bb=bb.replace(/^xlink:?/,""))&&(na=bb,ya=!0);if(null==ta||!1===ta){if(!1!==ta||""===ea.getAttribute(na))ya?ea.removeAttributeNS("http://www.w3.org/1999/xlink",na):ea.removeAttribute(na)}else(!Za||
Ia&4||Fa)&&!Ka&&(ta=!0===ta?"":ta,ya?ea.setAttributeNS("http://www.w3.org/1999/xlink",na,ta):ea.setAttribute(na,ta))}else na="-"===na[2]?na.slice(3):bb in u?bb.slice(2):bb[2]+na.slice(3),ya&&r.rel(ea,na,ya,!1),ta&&r.ael(ea,na,ta,!1)}},P=/\s/,W=(ea,na,ya,ta)=>{const Fa=11===na.$elm$.nodeType&&na.$elm$.host?na.$elm$.host:na.$elm$;ea=ea&&ea.$attrs$||D;const Ia=na.$attrs$||D;for(ta in ea)ta in Ia||K(Fa,ta,ea[ta],void 0,ya,na.$flags$);for(ta in Ia)K(Fa,ta,ea[ta],Ia[ta],ya,na.$flags$)},ia=(ea,na,ya,ta)=>
{na=na.$children$[ya];let Fa=0,Ia;t||(k=!0,"slot"===na.$tag$&&(h&&ta.classList.add(h+"-s"),na.$flags$|=na.$children$?2:1));if(null!==na.$text$)ta=na.$elm$=g.createTextNode(na.$text$);else if(na.$flags$&1)ta=na.$elm$=g.createTextNode("");else{m||(m="svg"===na.$tag$);ta=na.$elm$=g.createElementNS(m?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",na.$flags$&2?"slot-fb":na.$tag$);m&&"foreignObject"===na.$tag$&&(m=!1);W(null,na,m);null!=h&&ta["s-si"]!==h&&ta.classList.add(ta["s-si"]=h);if(na.$children$)for(Fa=
0;Fa<na.$children$.length;++Fa)(Ia=ia(ea,na,Fa,ta))&&ta.appendChild(Ia);"svg"===na.$tag$?m=!1:"foreignObject"===ta.tagName&&(m=!0)}ta["s-hn"]=q;na.$flags$&3&&(ta["s-sr"]=!0,ta["s-cr"]=l,ta["s-sn"]=na.$name$||"",(ya=ea&&ea.$children$&&ea.$children$[ya])&&ya.$tag$===na.$tag$&&ea.$elm$&&Z(ea.$elm$,!1));return ta},Z=(ea,na)=>{r.$flags$|=1;ea=ea.childNodes;for(let ya=ea.length-1;0<=ya;ya--){const ta=ea[ya];ta["s-hn"]!==q&&ta["s-ol"]&&((ta["s-ol"]?ta["s-ol"]:ta).parentNode.insertBefore(ta,Ba(ta)),ta["s-ol"].remove(),
ta["s-ol"]=void 0,k=!0);na&&Z(ta,na)}r.$flags$&=-2},V=(ea,na,ya,ta,Fa,Ia)=>{let Ka=ea["s-cr"]&&ea["s-cr"].parentNode||ea,Ua;Ka.shadowRoot&&Ka.tagName===q&&(Ka=Ka.shadowRoot);for(;Fa<=Ia;++Fa)ta[Fa]&&(Ua=ia(null,ya,Fa,ea))&&(ta[Fa].$elm$=Ua,Ka.insertBefore(Ua,Ba(na)))},qa=(ea,na,ya,ta,Fa)=>{for(;na<=ya;++na)if(ta=ea[na])Fa=ta.$elm$,H(ta),f=!0,Fa["s-ol"]?Fa["s-ol"].remove():Z(Fa,!0),Fa.remove()},sa=(ea,na)=>ea.$tag$===na.$tag$?"slot"===ea.$tag$?ea.$name$===na.$name$:ea.$key$===na.$key$:!1,Ba=ea=>ea&&
ea["s-ol"]||ea,oa=(ea,na)=>{const ya=na.$elm$=ea.$elm$,ta=ea.$children$,Fa=na.$children$,Ia=na.$tag$;var Ka=na.$text$;if(null===Ka){m="svg"===Ia?!0:"foreignObject"===Ia?!1:m;"slot"!==Ia&&W(ea,na,m);if(null!==ta&&null!==Fa){{var Ua=Ka=ea=0,Za=0;let bb=ta.length-1,Va=ta[0],cb=ta[bb],Na=Fa.length-1,ka=Fa[0],pa=Fa[Na];for(;ea<=bb&&Ka<=Na;)if(null==Va)Va=ta[++ea];else if(null==cb)cb=ta[--bb];else if(null==ka)ka=Fa[++Ka];else if(null==pa)pa=Fa[--Na];else if(sa(Va,ka))oa(Va,ka),Va=ta[++ea],ka=Fa[++Ka];else if(sa(cb,
pa))oa(cb,pa),cb=ta[--bb],pa=Fa[--Na];else if(sa(Va,pa))"slot"!==Va.$tag$&&"slot"!==pa.$tag$||Z(Va.$elm$.parentNode,!1),oa(Va,pa),ya.insertBefore(Va.$elm$,cb.$elm$.nextSibling),Va=ta[++ea],pa=Fa[--Na];else if(sa(cb,ka))"slot"!==Va.$tag$&&"slot"!==pa.$tag$||Z(cb.$elm$.parentNode,!1),oa(cb,ka),ya.insertBefore(cb.$elm$,Va.$elm$),cb=ta[--bb],ka=Fa[++Ka];else{Ua=-1;for(Za=ea;Za<=bb;++Za)if(ta[Za]&&null!==ta[Za].$key$&&ta[Za].$key$===ka.$key$){Ua=Za;break}0<=Ua?(Za=ta[Ua],Za.$tag$!==ka.$tag$?Za=ia(ta&&
ta[Ka],na,Ua,ya):(oa(Za,ka),ta[Ua]=void 0,Za=Za.$elm$)):Za=ia(ta&&ta[Ka],na,Ka,ya);ka=Fa[++Ka];Za&&(Ua=Va.$elm$,(Ua["s-ol"]?Ua["s-ol"]:Ua).parentNode.insertBefore(Za,Ba(Va.$elm$)))}ea>bb?V(ya,null==Fa[Na+1]?null:Fa[Na+1].$elm$,na,Fa,Ka,Na):Ka>Na&&qa(ta,ea,bb)}}else null!==Fa?(null!==ea.$text$&&(ya.textContent=""),V(ya,null,na,Fa,0,Fa.length-1)):null!==ta&&qa(ta,0,ta.length-1);m&&"svg"===Ia&&(m=!1)}else(na=ya["s-cr"])?na.parentNode.textContent=Ka:ea.$text$!==Ka&&(ya.data=Ka)},U=ea=>{ea=ea.childNodes;
let na,ya,ta,Fa,Ia,Ka;ya=0;for(ta=ea.length;ya<ta;ya++)if(na=ea[ya],1===na.nodeType){if(na["s-sr"])for(Ia=na["s-sn"],na.hidden=!1,Fa=0;Fa<ta;Fa++)if(Ka=ea[Fa].nodeType,ea[Fa]["s-hn"]!==na["s-hn"]||""!==Ia){if(1===Ka&&Ia===ea[Fa].getAttribute("slot")){na.hidden=!0;break}}else if(1===Ka||3===Ka&&""!==ea[Fa].textContent.trim()){na.hidden=!0;break}U(na)}},ca=[],va=ea=>{let na,ya,ta,Fa,Ia,Ka=0,Ua=ea.childNodes,Za=Ua.length;for(;Ka<Za;Ka++){ea=Ua[Ka];if(ea["s-sr"]&&(na=ea["s-cr"])&&na.parentNode)for(ya=
na.parentNode.childNodes,ta=ea["s-sn"],Ia=ya.length-1;0<=Ia;Ia--)na=ya[Ia],na["s-cn"]||na["s-nr"]||na["s-hn"]===ea["s-hn"]||(Aa(na,ta)?(Fa=ca.find(bb=>bb.$nodeToRelocate$===na),f=!0,na["s-sn"]=na["s-sn"]||ta,Fa?Fa.$slotRefNode$=ea:ca.push({$slotRefNode$:ea,$nodeToRelocate$:na}),na["s-sr"]&&ca.map(bb=>{Aa(bb.$nodeToRelocate$,na["s-sn"])&&(Fa=ca.find(Va=>Va.$nodeToRelocate$===na))&&!bb.$slotRefNode$&&(bb.$slotRefNode$=Fa.$slotRefNode$)})):ca.some(bb=>bb.$nodeToRelocate$===na)||ca.push({$nodeToRelocate$:na}));
1===ea.nodeType&&va(ea)}},Aa=(ea,na)=>1===ea.nodeType?null===ea.getAttribute("slot")&&""===na||ea.getAttribute("slot")===na?!0:!1:ea["s-sn"]===na?!0:""===na,H=ea=>{ea.$attrs$&&ea.$attrs$.ref&&ea.$attrs$.ref(null);ea.$children$&&ea.$children$.map(H)},O=(ea,na)=>{const ya=ea.$hostElement$;var ta=ea.$cmpMeta$,Fa=ea.$vnode$||N(null,null);const Ia=na&&na.$tag$===L?na:I(null,null,na);q=ya.tagName;ta.$attrsToReflect$&&(Ia.$attrs$=Ia.$attrs$||{},ta.$attrsToReflect$.map(([Ka,Ua])=>Ia.$attrs$[Ua]=ya[Ka]));
Ia.$tag$=null;Ia.$flags$|=4;ea.$vnode$=Ia;Ia.$elm$=Fa.$elm$=ya.shadowRoot||ya;h=ya["s-sc"];l=ya["s-cr"];t=0!==(ta.$flags$&1);f=!1;oa(Fa,Ia);r.$flags$|=1;if(k){va(Ia.$elm$);let Ka,Ua;for(ta=0;ta<ca.length;ta++)Fa=ca[ta],ea=Fa.$nodeToRelocate$,ea["s-ol"]||(Fa=g.createTextNode(""),Fa["s-nr"]=ea,ea.parentNode.insertBefore(ea["s-ol"]=Fa,ea));for(ta=0;ta<ca.length;ta++)if(Fa=ca[ta],ea=Fa.$nodeToRelocate$,Fa.$slotRefNode$){na=Fa.$slotRefNode$.parentNode;Ka=Fa.$slotRefNode$.nextSibling;for(Fa=ea["s-ol"];Fa=
Fa.previousSibling;)if((Ua=Fa["s-nr"])&&Ua["s-sn"]===ea["s-sn"]&&na===Ua.parentNode&&(Ua=Ua.nextSibling,!Ua||!Ua["s-nr"])){Ka=Ua;break}(Ka||na===ea.parentNode)&&ea.nextSibling===Ka||ea===Ka||(!ea["s-hn"]&&ea["s-ol"]&&(ea["s-hn"]=ea["s-ol"].parentNode.nodeName),na.insertBefore(ea,Ka))}else 1===ea.nodeType&&(ea.hidden=!0)}f&&U(Ia.$elm$);r.$flags$&=-2;ca.length=0},la=(ea,na)=>{ea.$flags$|=16;return Xa(()=>Q(ea,na))},Q=(ea,na)=>{const ya=ea.$hostElement$,ta=w("scheduleUpdate",ea.$cmpMeta$.$tagName$);
let Fa;Fa=na?M(ya,"componentWillLoad"):M(ya,"componentWillUpdate");Fa=R(Fa,()=>M(ya,"componentWillRender"));ta();return R(Fa,()=>S(ea,ya,na))},S=async(ea,na,ya)=>{var ta=ea.$hostElement$,Fa=w("update",ea.$cmpMeta$.$tagName$);ta["s-rc"];if(ya){{var Ia=ea.$cmpMeta$;ya=ea.$hostElement$;ta=Ia.$flags$;const Ua=w("attachStyles",Ia.$tagName$);{var Ka=ya.shadowRoot?ya.shadowRoot:ya.getRootNode();Ia=B(Ia,ea.$modeName$);let Za=ha.get(Ia);Ka=11===Ka.nodeType?Ka:g;if(Za)if("string"===typeof Za){Ka=Ka.head||Ka;
let bb=y.get(Ka),Va;bb||y.set(Ka,bb=new Set);bb.has(Ia)||(Va=g.createElement("style"),Va.innerHTML=Za,Ka.insertBefore(Va,Ka.querySelector("link")),bb&&bb.add(Ia))}else Ka.adoptedStyleSheets.includes(Za)||(Ka.adoptedStyleSheets=[...Ka.adoptedStyleSheets,Za]);Ka=Ia}ta&10&&(ya["s-sc"]=Ka,ya.classList.add(Ka+"-h"),ta&2&&ya.classList.add(Ka+"-s"));Ua()}}ya=w("render",ea.$cmpMeta$.$tagName$);try{na=na.render&&na.render(),ea.$flags$&=-17,ea.$flags$|=2,O(ea,na)}catch(Ua){Pa(Ua,ea.$hostElement$)}ya();Fa();
Fa=ea.$hostElement$;na=w("postUpdate",ea.$cmpMeta$.$tagName$);ea.$ancestorComponent$;M(Fa,"componentDidRender");ea.$flags$&64?M(Fa,"componentDidUpdate"):(ea.$flags$|=64,M(Fa,"componentDidLoad"));na()},M=(ea,na,ya)=>{if(ea&&ea[na])try{return ea[na](ya)}catch(ta){Pa(ta)}},R=(ea,na)=>ea&&ea.then?ea.then(na):na(),aa=(ea,na)=>{if(null!=ea&&!J(ea)){if(na&4)return"false"===ea?!1:""===ea||!!ea;if(na&2)return parseFloat(ea);if(na&1)return String(ea)}return ea},ba=(ea,na,ya,ta)=>{const Fa=La.get(ea),Ia=Fa.$instanceValues$.get(na),
Ka=Fa.$flags$;ya=aa(ya,ta.$members$[na][0]);ya!==Ia&&(Fa.$instanceValues$.set(na,ya),ta.$watchers$&&Ka&128&&(ta=ta.$watchers$[na])&&ta.map(Ua=>{try{ea[Ua](ya,Ia,na)}catch(Za){Pa(Za,ea)}}),2!==(Ka&18)||ea.componentShouldUpdate&&!1===ea.componentShouldUpdate(ya,Ia,na)||la(Fa,!1))},T=(ea,na,ya)=>{if(na.$members$){ea.watchers&&(na.$watchers$=ea.watchers);ya=Object.entries(na.$members$);const ta=ea.prototype;ya.map(([Fa,[Ia]])=>{(Ia&31||Ia&32)&&Object.defineProperty(ta,Fa,{get(){return La.get(this).$instanceValues$.get(Fa)},
set(Ka){ba(this,Fa,Ka,na)},configurable:!0,enumerable:!0})});{const Fa=new Map;ta.attributeChangedCallback=function(Ia,Ka,Ua){r.jmp(()=>{const Za=Fa.get(Ia);if(this.hasOwnProperty(Za))Ua=this[Za],delete this[Za];else if(ta.hasOwnProperty(Za)&&"number"===typeof this[Za]&&this[Za]==Ua)return;this[Za]=null===Ua&&"boolean"===typeof this[Za]?!1:Ua})};ea.observedAttributes=ya.filter(([,Ia])=>Ia[0]&15).map(([Ia,Ka])=>{const Ua=Ka[1]||Ia;Fa.set(Ua,Ia);Ka[0]&512&&na.$attrsToReflect$.push([Ia,Ua]);return Ua})}}return ea},
X=async(ea,na,ya,ta,Fa)=>{0===(na.$flags$&32)&&(Fa=ea.constructor,na.$flags$|=32,customElements.whenDefined(ya.$tagName$).then(()=>na.$flags$|=128),Fa.style&&(ta=Fa.style,"string"!==typeof ta&&(ta=ta[na.$modeName$=C(ea)]),ea=B(ya,na.$modeName$),ha.has(ea)||(Fa=w("registerStyles",ya.$tagName$),x(ea,ta,!!(ya.$flags$&1)),Fa())));na.$ancestorComponent$;la(na,!0)},ma=ea=>{if(0===(r.$flags$&1)){const na=La.get(ea),ya=na.$cmpMeta$,ta=w("connectedCallback",ya.$tagName$);na.$flags$&1?z(ea,na,ya.$listeners$):
(na.$flags$|=1,ya.$flags$&12&&Ca(ea),ya.$members$&&Object.entries(ya.$members$).map(([Fa,[Ia]])=>{Ia&31&&ea.hasOwnProperty(Fa)&&(Ia=ea[Fa],delete ea[Fa],ea[Fa]=Ia)}),X(ea,na,ya));ta()}},Ca=ea=>{const na=ea["s-cr"]=g.createComment("");na["s-cn"]=!0;ea.insertBefore(na,ea.firstChild)},Ea=ea=>{0===(r.$flags$&1)&&(ea=La.get(ea),ea.$rmListeners$&&(ea.$rmListeners$.map(na=>na()),ea.$rmListeners$=void 0))},La=new WeakMap,Pa=(ea,na)=>(0,console.error)(ea,na),ha=new Map,ua=[],wa=[],Ga=[],Ha=ea=>{for(let na=
0;na<ea.length;na++)try{ea[na](performance.now())}catch(ya){Pa(ya)}ea.length=0},Oa=()=>{Ha(wa);Ha(Ga);(p=0<wa.length)&&r.raf(Oa)},Xa=((ea,na)=>ya=>{ea.push(ya);p||(p=!0,na&&r.$flags$&4?(ya=Oa,Promise.resolve(void 0).then(ya)):r.raf(Oa))})(Ga,!0);a.Build={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1};a.Fragment=(ea,na)=>na;a.Host=L;a.commitAssetPath=function(){r.$resourcesUrl$=e.makeAbsolute(b.getAssetUrl("esri/widgets/support/components/assets"))};a.createEvent=(ea,na,ya)=>({emit:ta=>{ta=r.ce(na,
{bubbles:!!(ya&4),composed:!!(ya&2),cancelable:!!(ya&1),detail:ta});ea.dispatchEvent(ta);return ta}});a.forceUpdate=ea=>{{ea=La.get(ea);const na=ea.$hostElement$.isConnected;na&&2===(ea.$flags$&18)&&la(ea,!1);return na}};a.getAssetPath=ea=>{ea=new URL(ea,r.$resourcesUrl$);return ea.origin!==u.location.origin?ea.href:ea.pathname};a.h=I;a.proxyCustomElement=(ea,na)=>{const ya={$flags$:na[0],$tagName$:na[1]};ya.$members$=na[2];ya.$listeners$=na[3];ya.$watchers$=ea.$watchers$;ya.$attrsToReflect$=[];const ta=
ea.prototype.connectedCallback,Fa=ea.prototype.disconnectedCallback;Object.assign(ea.prototype,{__registerHost(){{const Ia={$flags$:0,$hostElement$:this,$cmpMeta$:ya,$instanceValues$:new Map};z(this,Ia,ya.$listeners$);La.set(this,Ia)}},connectedCallback(){ma(this);ta&&ta.call(this)},disconnectedCallback(){Ea(this);Fa&&Fa.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(ya.$flags$&16)})}});ea.is=ya.$tagName$;return T(ea,ya)}})},"esri/widgets/support/jsxWidgetSupport":function(){define(["exports",
"../../core/handleUtils"],function(a,b){function c(p,u){let g=u.children;if(g&&g.length)for(var r=0;r<g.length;++r)g[r]=c(p,g[r]);else g=f;r=u.vnodeSelector;if(q(r)){u=u.properties||k;const d=u.key||r;return{vnodeSelector:"div",properties:{key:d,afterCreate:e,afterUpdate:h,afterRemoved:l,parentWidget:p,widgetConstructor:r,widgetProperties:{...u,key:d,children:g}},children:void 0,text:void 0,domNode:null}}return u}function e(p,u,g,{parentWidget:r,widgetConstructor:d,widgetProperties:n}){u=new d(n);
u.container=p;m.set(p,u);null==u.afterCreate?void 0:u.afterCreate(u,p);r._internalHandles.add(b.makeHandle(()=>l(p)))}function h(p,u,g,{widgetProperties:r}){if(u=m.get(p))u.set(r),null==u.afterUpdate?void 0:u.afterUpdate(u,p)}function l(p){const u=m.get(p);u&&(u.destroy(),m.delete(p))}function q(p){return"function"===typeof p&&p[t]}const t=Symbol("widget"),f=[],k={},m=new WeakMap;a.WIDGET_SYMBOL=t;a.isWidgetConstructor=q;a.processWidgets=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/widget":function(){define("exports ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/renderable ./decorators/vmEvent ./jsxFactory ./widgetUtils".split(" "),
function(a,b,c,e,h,l,q){a.accessibleHandler=b.accessibleHandler;a.messageBundle=c.messageBundle;a.renderable=e.renderable;a.vmEvent=h.vmEvent;a.tsx=l.tsx;a.additionalAllowedTags=q.additionalAllowedTags;a.classes=q.classes;a.cssTransition=q.cssTransition;a.discardNode=q.discardNode;a.getCalciteThemeClass=q.getCalciteThemeClass;a.getDir=q.getDir;a.getThemeName=q.getThemeName;a.isActivationKey=q.isActivationKey;a.isDarkTheme=q.isDarkTheme;a.isRTL=q.isRTL;a.keepMenuItemWithinView=q.keepMenuItemWithinView;
a.renderingSanitizer=q.renderingSanitizer;a.safeAttrs=q.safeAttrs;a.storeNode=q.storeNode;a.hasDomNode=function(t){return t&&"function"===typeof t.postMixInProperties&&"function"===typeof t.buildRendering&&"function"===typeof t.postCreate&&"function"===typeof t.startup};a.isWidget=function(t){return t&&"function"===typeof t.render};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports","../widgetUtils"],function(a,b){function c(e){return function(h,
...l){var q;({type:q}=h);(q=h instanceof KeyboardEvent||"keyup"===q||"keydown"===q||"keypress"===q)?b.isActivationKey(h.key)&&(h.preventDefault(),h.stopPropagation(),h.target.click()):e.call(this,h,...l)}}a.accessibleHandler=function(){return function(e,h){if(!e[h])throw new TypeError(`Cannot auto bind undefined function '${h}'`);return{value:c(e[h])}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],function(a){a.messageBundle=
function(b){return function(c,e){c.hasOwnProperty("_messageBundleProps")||(c._messageBundleProps=c._messageBundleProps?c._messageBundleProps.slice():[]);c._messageBundleProps.push({bundlePath:b,propertyName:e})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/renderable":function(){define(["exports","../../../core/deprecate","../../../core/has","../../../core/Logger"],function(a,b,c,e){a.renderable=function(h){return function(l,q){c("esri-deprecation-warnings")&&
b.deprecated(e.getLogger("esri.core.accessorSupport.decorators"),"'@renderable()' decorator",{version:"4.19",warnOnce:!0})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports","./propUtils"],function(a,b){a.vmEvent=function(c){return e=>{e.hasOwnProperty("_delegatedEventNames")||(e._delegatedEventNames=e._delegatedEventNames?e._delegatedEventNames.slice():[]);e=e._delegatedEventNames;const h=Array.isArray(c)?c:b.splitProps(c);
e.push(...h)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/propUtils":function(){define(["exports"],function(a){a.normalizePropNames=function(b,c){return b.map(e=>{e=0===e.indexOf(c)?e:`${c}.${e}`;return e})};a.splitProps=function(b){return b.split(",").map(c=>c.trim())};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/jsxFactory":function(){define(["exports","./jsxWidgetSupport"],function(a,b){var c=function(h,l){for(var q=0,t=h.length;q<
t;q++){var f=h[q];Array.isArray(f)?c(f,l):null!==f&&void 0!==f&&!1!==f&&(f.hasOwnProperty("vnodeSelector")||(f={vnodeSelector:"",properties:void 0,children:void 0,text:f.toString(),domNode:null}),l.push(f))}},e=function(h,l){for(var q=[],t=2;t<arguments.length;t++)q[t-2]=arguments[t];if(1===q.length&&"string"===typeof q[0])return{vnodeSelector:h,properties:l||void 0,children:void 0,text:q[0],domNode:null};t=[];c(q,t);return{vnodeSelector:h,properties:l||void 0,children:t,text:void 0,domNode:null}};
a.tsx=function(h,l,...q){return"function"!==typeof h||b.isWidgetConstructor(h)?e(h,l,...q):h(l,...q)};Object.defineProperty(a,"__esModule",{value:!0})})},"*noref":1}});require.boot&&require.apply(null,require.boot);