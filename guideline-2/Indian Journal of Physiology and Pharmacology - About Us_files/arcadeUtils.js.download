// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
require({cache:{"esri/chunks/arcade":function(){define("require exports ../arcade/arcadeCompiler ../arcade/arcadeRuntime ../arcade/parser ../arcade/treeAnalysis ../core/has ../core/promiseUtils".split(" "),function(F,C,H,w,n,m,y,p){function e(Y,ia){return!0===ia.useAsync||!0===Y.isAsync?r(Y,ia):y("esri-csp-restrictions")?function(wa){return w.executeScript(Y,wa)}:H.compileScript(Y,ia)}function r(Y,ia){if(null===M)throw Error("Async Arcade must be enabled for this script");return y("esri-csp-restrictions")?
function(wa){return M.executeScript(Y,wa)}:H.compileScript(Y,ia,!0)}function t(Y){w.extend(Y);H.extend(Y,"sync");null===M?W.push(Y):(H.extend(Y,"async"),M.extend(Y))}function c(Y,ia=[]){return n.parseScript(Y,ia)}function f(Y,ia,wa=""){return n.validateScript(Y,ia,wa)}function h(Y,ia,wa,Aa=""){return n.scriptCheck(Y,ia,wa,Aa)}function l(Y,ia,wa=[]){Y=n.parseScript(Y,wa);return v(Y,ia)}function v(Y,ia){if(!0===ia.useAsync||!0===Y.isAsync){if(null===M)throw Error("Async Arcade must be enabled for this script");
return M.executeScript(Y,ia)}return w.executeScript(Y,ia)}function D(Y,ia){return w.referencesMember(Y,ia)}function B(Y,ia){return w.referencesFunction(Y,ia)}function L(Y,ia){return n.extractFieldLiterals(Y)}function b(Y){return n.extractExpectedFieldLiterals(Y)}function q(Y,ia=[]){void 0===Y.usesGeometry&&m.findScriptDependencies(Y,ia);return!0===Y.usesGeometry}function d(){return V?V:V=p.all([new Promise((Y,ia)=>F(["../geometry/geometryEngine"],Y,ia)),new Promise((Y,ia)=>F(["../arcade/functions/geomsync"],
Y,ia))]).then(([Y,ia])=>{oa=!0;ia.setGeometryEngine(Y);return!0})}function z(){return null!==X?X:X=H.enableAsyncSupport().then(()=>new Promise((Y,ia)=>F(["../arcade/arcadeAsyncRuntime"],Y,ia))).then(Y=>{M=Y;for(const ia of W)M.extend(ia),H.extend(ia,"async");W=null;return!0})}function g(){return la}function Q(){return M?!0:!1}function U(){return oa}function aa(){return ma?ma:ma=z().then(()=>p.all([new Promise((Y,ia)=>F(["../arcade/featureSetUtils"],Y,ia)),new Promise((Y,ia)=>F(["../arcade/functions/featuresetbase"],
Y,ia)),new Promise((Y,ia)=>F(["../arcade/functions/featuresetgeom"],Y,ia)),new Promise((Y,ia)=>F(["../arcade/functions/featuresetstats"],Y,ia)),new Promise((Y,ia)=>F(["../arcade/functions/featuresetstring"],Y,ia))]).then(([Y,ia,wa,Aa,Qa])=>{sa=Y;M.extend([ia,wa,Aa,Qa]);H.extend([ia,wa,Aa,Qa],"async");return la=!0}))}function ta(Y,ia=[]){void 0===Y.usesFeatureSet&&m.findScriptDependencies(Y,ia);return!0===Y.usesFeatureSet}function ka(Y,ia=[]){void 0===Y.isAsync&&m.findScriptDependencies(Y,ia);return!0===
Y.isAsync}function Da(Y,ia){if(ia)for(const wa of ia)if(D(Y,wa))return!0;return!1}function Ra(Y,ia,wa=[],Aa=!1){return p.create((Qa,I)=>{const G="string"===typeof Y?c(Y):Y,R=[];G&&(!1===oa&&(q(G)||Aa)&&R.push(d()),!1===Q()&&(!0===G.isAsync||ia)&&R.push(z()),!1===la&&(ta(G)||Da(G,wa))&&R.push(aa()));R.length?p.all(R).then(()=>{Qa(!0)},I):Qa(!0)})}function Sa(Y){if(q(Y))return!0;Y=m.findFunctionCalls(Y);let ia=!1;for(let wa=0;wa<Y.length;wa++)if(-1<fa.indexOf(Y[wa])){ia=!0;break}return ia}function ha(){return sa}
const fa="feature angle bearing centroid envelopeintersects extent geometry isselfintersecting ringisclockwise".split(" ");let la=!1,oa=!1,M=null,W=[],V=null,X=null,ma=null,sa=null;const Fa=Object.freeze({__proto__:null,compileScript:e,extend:t,parseScript:c,validateScript:f,scriptCheck:h,parseAndExecuteScript:l,executeScript:v,referencesMember:D,referencesFunction:B,extractFieldLiterals:L,extractExpectedFieldLiterals:b,scriptUsesGeometryEngine:q,enableGeometrySupport:d,enableAsyncSupport:z,isFeatureSetSupportEnabled:g,
isAsyncEnabled:Q,isGeometryEnabled:U,enableFeatureSetSupport:aa,scriptUsesFeatureSet:ta,scriptIsAsync:ka,loadScriptDependencies:Ra,scriptTouchesGeometry:Sa,featureSetUtils:ha});C.arcade=Fa;C.compileScript=e;C.enableAsyncSupport=z;C.enableFeatureSetSupport=aa;C.enableGeometrySupport=d;C.executeScript=v;C.extend=t;C.extractExpectedFieldLiterals=b;C.extractFieldLiterals=L;C.featureSetUtils=ha;C.isAsyncEnabled=Q;C.isFeatureSetSupportEnabled=g;C.isGeometryEnabled=U;C.loadScriptDependencies=Ra;C.parseAndExecuteScript=
l;C.parseScript=c;C.referencesFunction=B;C.referencesMember=D;C.scriptCheck=h;C.scriptIsAsync=ka;C.scriptTouchesGeometry=Sa;C.scriptUsesFeatureSet=ta;C.scriptUsesGeometryEngine=q;C.validateScript=f})},"esri/arcade/arcadeCompiler":function(){define("require exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./ImmutablePathArray ./ImmutablePointArray ../chunks/languageUtils ./treeAnalysis ../chunks/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../core/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference ../views/2d/layers/features/support/FeatureSetReader".split(" "),
function(F,C,H,w,n,m,y,p,e,r,t,c,f,h,l,v,D,B,L,b,q,d,z,g,Q,U){function aa(u,x,P){try{return P(u,null,x.arguments)}catch(J){throw J;}}function ta(u){return u instanceof Error?B.reject(u):B.reject(Error(u))}function ka(u,x){try{switch(x.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return fa(u,x);case "VariableDeclaration":var P,J=[];for(var ba=0;ba<x.declarations.length;ba++)J.push(ka(u,x.declarations[ba]));return P=J.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";
case "BlockStatement":return ha(u,x);case "FunctionDeclaration":{const na=x.id.name.toLowerCase(),Ia={isAsync:u.isAsync,spatialReference:u.spatialReference,console:u.console,lrucache:u.lrucache,interceptor:u.interceptor,services:u.services,symbols:u.symbols,mangleMap:u.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:u.depthCounter+1,globalScope:u.globalScope};if(64<Ia.depthCounter)throw Error("Exceeded maximum function depth");J="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; \n   var lscope \x3d runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";
for(P=0;P<x.params.length;P++){const Ga=x.params[P].name.toLowerCase(),Ba=Fa(u);Ia.localScope._SymbolsMap[Ga]=Ba;Ia.mangleMap[Ga]=Ba;J+="lscope['"+Ba+"']\x3darguments["+P.toString()+"];\n"}!0===u.isAsync?(J=J+"return lang.__awaiter(this, void 0, void 0, function* () {\n"+(ha(Ia,x.body)+"\n return lastStatement; "),J=J+"});  }, runtimeCtx),"+(x.params.length+")")):J+=ha(Ia,x.body)+"\n return lastStatement; }, runtimeCtx),"+x.params.length+")";J+="\n lastStatement \x3d lc.voidOperation; \n";if(void 0!==
u.globalScope[na])ba="gscope['"+na+"']\x3d"+J;else if(void 0!==u.globalScope._SymbolsMap[na])ba="gscope['"+u.globalScope._SymbolsMap[na]+"']\x3d"+J;else{{const Ga=Fa(u);u.globalScope._SymbolsMap[na]=Ga;u.mangleMap[na]=Ga;ba="gscope['"+Ga+"']\x3d"+J}}}return ba;case "ReturnStatement":var va=null===x.argument?"return lc.voidOperation":"return "+ka(u,x.argument);return va;case "IfStatement":{if("AssignmentExpression"===x.test.type||"UpdateExpression"===x.test.type)throw Error(r.nodeErrorMessage(x.test,
"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const na=ka(u,x.test),Ia=Y(u);let Ga="var "+Ia+" \x3d "+na+";\n if ("+Ia+" \x3d\x3d\x3d true) {\n"+Sa(u,x.consequent)+"\n }\n";Ga=null!==x.alternate?Ga+("else if ("+Ia+"\x3d\x3d\x3dfalse)   { \n"+Sa(u,x.alternate)+"}\n"):Ga+("else if ("+Ia+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n");var xa=Ga+="else { lang.error({type: '"+x.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n"}return xa;case "ExpressionStatement":var La=
"AssignmentExpression"===x.expression.type?"lastStatement \x3d lc.voidOperation; "+ka(u,x.expression)+"; \n ":"lastStatement \x3d "+ka(u,x.expression)+"; ";return La;case "AssignmentExpression":return Ra(u,x);case "UpdateExpression":return Da(u,x);case "BreakStatement":return"break";case "ContinueStatement":return"continue";case "TemplateLiteral":try{J=[];P=0;for(const na of x.quasis)J.push(na.value?JSON.stringify(na.value.cooked):JSON.stringify("")),!1===na.tail&&(J.push(x.expressions[P]?"lang.castString(lang.aCheck("+
ka(u,x.expressions[P])+", 'TemplateLiteral'))":""),P++);var ya="(["+J.join(",")+"]).join('')"}catch(na){throw na;}return ya;case "TemplateElement":return JSON.stringify(x.value?x.value.cooked:"");case "ForStatement":{J="lastStatement \x3d lc.voidOperation; \n";null!==x.init&&(J+=ka(u,x.init)+"; ");const na=Y(u),Ia=Y(u);J+="var "+na+" \x3d true; \n do { ";null!==x.update&&(J+=" if ("+na+"\x3d\x3d\x3dfalse) {\n "+ka(u,x.update)+"  \n}\n "+na+"\x3dfalse; \n");null!==x.test&&(J+="var "+Ia+" \x3d "+ka(u,
x.test)+"; ",J+="if ("+Ia+"\x3d\x3d\x3dfalse) { break; } else if ("+Ia+"!\x3d\x3dtrue) { lang.error({type: '"+x.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n");J+=ka(u,x.body);null!==x.update&&(J+="\n "+ka(u,x.update));var ea=J+("\n"+na+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation; ")}return ea;case "ForInStatement":{const na=Y(u),Ia=Y(u),Ga=Y(u);let Ba="var "+na+" \x3d "+ka(u,x.right)+";\n";"VariableDeclaration"===x.left.type&&(Ba+=ka(u,x.left));let Ya="VariableDeclaration"===
x.left.type?x.left.declarations[0].id.name:x.left.name;Ya=Ya.toLowerCase();J="";null!==u.localScope&&(void 0!==u.localScope[Ya]?J="lscope['"+Ya+"']":void 0!==u.localScope._SymbolsMap[Ya]&&(J="lscope['"+u.localScope._SymbolsMap[Ya]+"']"));""===J&&(void 0!==u.globalScope[Ya]?J="gscope['"+Ya+"']":void 0!==u.globalScope._SymbolsMap[Ya]&&(J="gscope['"+u.globalScope._SymbolsMap[Ya]+"']"));Ba=Ba+("if ("+na+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n else if (lc.isArray(")+(na+") || lc.isString("+
na+")) {var ")+(Ia+"\x3d"+na+".length; \nfor(var ")+(Ga+"\x3d0; "+Ga+"\x3c"+Ia+"; "+Ga+"++) {\n");Ba+=J+"\x3d"+Ga+";\n";Ba+=ka(u,x.body);Ba+="\n}\n";Ba+=" lastStatement \x3d lc.voidOperation; \n";Ba+=" \n}\n";Ba+="else if (lc.isImmutableArray("+na+")) {";Ba=Ba+("var "+Ia+"\x3d"+na+".length(); \nfor(var ")+(Ga+"\x3d0; "+Ga+"\x3c"+Ia+"; "+Ga+"++) {\n");Ba+=J+"\x3d"+Ga+";\n";Ba+=ka(u,x.body);Ba+="\n}\n";Ba+=" lastStatement \x3d lc.voidOperation; \n";Ba+=" \n}\n";Ba+="else if (( "+na+" instanceof lang.Dictionary) || ( "+
na+" instanceof lang.Feature)) {";Ba=Ba+("var "+Ia+"\x3d"+na+".keys(); \nfor(var ")+(Ga+"\x3d0; "+Ga+"\x3c"+Ia+".length; "+Ga+"++) {\n");Ba+=J+"\x3d"+Ia+"["+Ga+"];\n";Ba+=ka(u,x.body);Ba+="\n}\n";Ba+=" lastStatement \x3d lc.voidOperation; \n";Ba+=" \n}\n";u.isAsync&&(Ba+="else if (lc.isFeatureSet("+na+")) {",Ba=Ba+("var "+Ia+"\x3d"+na+".iterator(runtimeCtx.abortSignal); \nfor(var ")+(Ga+"\x3dlang. graphicToFeature( yield "+Ia+".next(),"+na+"); "+Ga+"!\x3dnull; "+Ga+"\x3dlang. graphicToFeature( yield "+
Ia+".next(),"+na+")) {\n")+(J+"\x3d"+Ga+";\n"),Ba+=ka(u,x.body),Ba+="\n}\n",Ba+=" lastStatement \x3d lc.voidOperation; \n",Ba+=" \n}\n");var ua=Ba+="else { lastStatement \x3d lc.voidOperation; } \n"}return ua;case "Identifier":return oa(u,x);case "MemberExpression":try{let na;na=!0===x.computed?ka(u,x.property):"'"+x.property.name+"'";var gb="lang.member("+ka(u,x.object)+","+na+")"}catch(na){throw na;}return gb;case "Literal":return null===x.value||void 0===x.value?"null":JSON.stringify(x.value);
case "ThisExpression":throw Error(r.nodeErrorMessage(x,"RUNTIME","NOTSUPPORTED"));case "CallExpression":try{if("Identifier"!==x.callee.type)throw Error(r.nodeErrorMessage(x,"RUNTIME","ONLYNODESSUPPORTED"));const na=x.callee.name.toLowerCase();P="";null!==u.localScope&&(void 0!==u.localScope[na]?P="lscope['"+na+"']":void 0!==u.localScope._SymbolsMap[na]&&(P="lscope['"+u.localScope._SymbolsMap[na]+"']"));""===P&&(void 0!==u.globalScope[na]?P="gscope['"+na+"']":void 0!==u.globalScope._SymbolsMap[na]&&
(P="gscope['"+u.globalScope._SymbolsMap[na]+"']"));if(""!==P){ba="[";for(ya=0;ya<x.arguments.length;ya++)0<ya&&(ba+=", "),ba+=ka(u,x.arguments[ya]);ba+="]";J=u.isAsync?"(yield lang.callfunc("+P+","+ba+",runtimeCtx) )":"lang.callfunc("+P+","+ba+",runtimeCtx)"}else throw Error(r.nodeErrorMessage(x,"RUNTIME","NOTFOUND"));}catch(na){throw na;}return J;case "UnaryExpression":try{var hb="lang.unary("+ka(u,x.argument)+",'"+x.operator+"')"}catch(na){throw na;}return hb;case "BinaryExpression":try{var ib=
"lang.binary("+ka(u,x.left)+","+ka(u,x.right)+",'"+x.operator+"')"}catch(na){throw na;}return ib;case "LogicalExpression":try{if("AssignmentExpression"===x.left.type||"UpdateExpression"===x.left.type)throw Error(r.nodeErrorMessage(x.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===x.right.type||"UpdateExpression"===x.right.type)throw Error(r.nodeErrorMessage(x.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("\x26\x26"===x.operator||"||"===x.operator)var jb=
"(lang.logicalCheck("+ka(u,x.left)+") "+x.operator+" lang.logicalCheck("+ka(u,x.right)+"))";else throw Error(r.nodeErrorMessage(x,"RUNTIME","ONLYORORAND"));}catch(na){throw na;}return jb;case "ConditionalExpression":throw Error(r.nodeErrorMessage(x,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{J=[];for(P=0;P<x.elements.length;P++)"Literal"===x.elements[P].type?J.push(ka(u,x.elements[P])):J.push("lang.aCheck("+ka(u,x.elements[P])+",'ArrayExpression')");var mb="["+J.join(",")+"]"}catch(na){throw na;
}return mb;case "ObjectExpression":var Xa;J="lang.dictionary([";for(P=0;P<x.properties.length;P++){const na=x.properties[P],Ia="Identifier"===na.key.type?"'"+na.key.name+"'":ka(u,na.key),Ga=ka(u,na.value);0<P&&(J+=",");J+="lang.strCheck("+Ia+",'ObjectExpression'),lang.aCheck("+Ga+", 'ObjectExpression')"}return Xa=J+"])";case "Property":throw Error("Should not get here");case "Array":throw Error(r.nodeErrorMessage(x,"RUNTIME","NOTSUPPORTED"));default:throw Error(r.nodeErrorMessage(x,"RUNTIME","UNREOGNISED"));
}}catch(na){throw na;}}function Da(u,x){let P=null,J="";if("MemberExpression"===x.argument.type)return P=ka(u,x.argument.object),J=!0===x.argument.computed?ka(u,x.argument.property):"'"+x.argument.property.name+"'","lang.memberupdate("+P+","+J+",'"+x.operator+"',"+x.prefix+")";P=x.argument.name.toLowerCase();if(null!==u.localScope){if(void 0!==u.localScope[P])return"lang.update(lscope, '"+P+"','"+x.operator+"',"+x.prefix+")";if(void 0!==u.localScope._SymbolsMap[P])return"lang.update(lscope, '"+u.localScope._SymbolsMap[P]+
"','"+x.operator+"',"+x.prefix+")"}if(void 0!==u.globalScope[P])return"lang.update(gscope, '"+P+"','"+x.operator+"',"+x.prefix+")";if(void 0!==u.globalScope._SymbolsMap[P])return"lang.update(gscope, '"+u.globalScope._SymbolsMap[P]+"','"+x.operator+"',"+x.prefix+")";throw Error("Variable not recognised");}function Ra(u,x){const P=ka(u,x.right);let J=null,ba="";if("MemberExpression"===x.left.type)return J=ka(u,x.left.object),ba=!0===x.left.computed?ka(u,x.left.property):"'"+x.left.property.name+"'",
"lang.assignmember("+J+","+ba+",'"+x.operator+"',"+P+")";J=x.left.name.toLowerCase();if(null!==u.localScope){if(void 0!==u.localScope[J])return"lscope['"+J+"']\x3dlang.assign("+P+",'"+x.operator+"', lscope['"+J+"'])";if(void 0!==u.localScope._SymbolsMap[J])return"lscope['"+u.localScope._SymbolsMap[J]+"']\x3dlang.assign("+P+",'"+x.operator+"', lscope['"+u.localScope._SymbolsMap[J]+"'])"}if(void 0!==u.globalScope[J])return"gscope['"+J+"']\x3dlang.assign("+P+",'"+x.operator+"', gscope['"+J+"'])";if(void 0!==
u.globalScope._SymbolsMap[J])return"gscope['"+u.globalScope._SymbolsMap[J]+"']\x3dlang.assign("+P+",'"+x.operator+"', gscope['"+u.globalScope._SymbolsMap[J]+"'])";throw Error("Variable not recognised");}function Sa(u,x){return"BlockStatement"===x.type?ka(u,x):"ReturnStatement"===x.type||"BreakStatement"===x.type||"ContinueStatement"===x.type?ka(u,x)+"; ":"UpdateExpression"===x.type?"lastStatement \x3d "+ka(u,x)+"; ":"ExpressionStatement"===x.type?ka(u,x):"ObjectExpression"===x.type?"lastStatement \x3d "+
ka(u,x)+"; ":ka(u,x)+"; "}function ha(u,x){let P="";for(let J=0;J<x.body.length;J++)P="ReturnStatement"===x.body[J].type?P+(ka(u,x.body[J])+"; \n"):"BreakStatement"===x.body[J].type?P+(ka(u,x.body[J])+"; \n"):"ContinueStatement"===x.body[J].type?P+(ka(u,x.body[J])+"; \n"):"UpdateExpression"===x.body[J].type?P+("lastStatement \x3d "+ka(u,x.body[J])+"; \n"):"ObjectExpression"===x.body[J].type?P+("lastStatement \x3d "+ka(u,x.body[J])+"; \n"):P+(ka(u,x.body[J])+" \n");return P}function fa(u,x){let P=
null===x.init?null:ka(u,x.init);P===e.voidOperation&&(P=null);x=x.id.name.toLowerCase();if(null!==u.localScope){if(void 0!==u.localScope[x])return"lscope['"+x+"']\x3d"+P+"; ";if(void 0!==u.localScope._SymbolsMap[x])return"lscope['"+u.localScope._SymbolsMap[x]+"']\x3d"+P+"; ";var J=Fa(u);u.localScope._SymbolsMap[x]=J;u.mangleMap[x]=J;return"lscope['"+J+"']\x3d"+P+"; "}if(void 0!==u.globalScope[x])return"gscope['"+x+"']\x3d"+P+"; ";if(void 0!==u.globalScope._SymbolsMap[x])return"gscope['"+u.globalScope._SymbolsMap[x]+
"']\x3d"+P+"; ";J=Fa(u);u.globalScope._SymbolsMap[x]=J;u.mangleMap[x]=J;return"gscope['"+J+"']\x3d"+P+"; "}function la(u,x,P){x=x.toLowerCase();switch(x){case "hasz":return u=u.hasZ,void 0===u?!1:u;case "hasm":return u=u.hasM,void 0===u?!1:u;case "spatialreference":return x=u.spatialReference._arcadeCacheId,void 0===x&&(P=!0,Object.freeze&&Object.isFrozen(u.spatialReference)&&(P=!1),P&&(I++,x=u.spatialReference._arcadeCacheId=I)),u=new n({wkt:u.spatialReference.wkt,wkid:u.spatialReference.wkid}),
void 0!==x&&(u._arcadeCacheId="SPREF"+x.toString()),u}switch(u.type){case "extent":switch(x){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return u=u[x],void 0!==u?u:null;case "type":return"Extent"}break;case "polygon":switch(x){case "rings":return x=u.cache._arcadeCacheId,void 0===x&&(I++,x=I,u.cache._arcadeCacheId=x),new y(u.rings,u.spatialReference,!0===u.hasZ,!0===u.hasM,x);case "type":return"Polygon"}break;case "point":switch(x){case "x":case "y":case "z":case "m":return void 0!==
u[x]?u[x]:null;case "type":return"Point"}break;case "polyline":switch(x){case "paths":return x=u.cache._arcadeCacheId,void 0===x&&(I++,x=I,u.cache._arcadeCacheId=x),new y(u.paths,u.spatialReference,!0===u.hasZ,!0===u.hasM,x);case "type":return"Polyline"}break;case "multipoint":switch(x){case "points":return x=u.cache._arcadeCacheId,void 0===x&&(I++,x=I,u.cache._arcadeCacheId=x),new p(u.points,u.spatialReference,!0===u.hasZ,!0===u.hasM,x,1);case "type":return"Multipoint"}}throw Error(r.nodeErrorMessage(P,
"RUNTIME","PROPERTYNOTFOUND"));}function oa(u,x){try{const P=x.name.toLowerCase();if(null!==u.localScope){if(void 0!==u.localScope[P])return"lscope['"+P+"']";if(void 0!==u.localScope._SymbolsMap[P])return"lscope['"+u.localScope._SymbolsMap[P]+"']"}if(void 0!==u.globalScope[P])return"gscope['"+P+"']";if(void 0!==u.globalScope._SymbolsMap[P])return"gscope['"+u.globalScope._SymbolsMap[P]+"']";throw Error(r.nodeErrorMessage(x,"RUNTIME","VARIABLENOTFOUND"));}catch(P){throw P;}}function M(u){return null===
u?"":e.isArray(u)||e.isImmutableArray(u)?"Array":e.isDate(u)?"Date":e.isString(u)?"String":e.isBoolean(u)?"Boolean":e.isNumber(u)?"Number":u instanceof w?"Attachment":u instanceof H?"Portal":u instanceof n?"Dictionary":u instanceof m?"Feature":u instanceof d?"Point":u instanceof z?"Polygon":u instanceof g?"Polyline":u instanceof q?"Multipoint":u instanceof L?"Extent":e.isFunctionParameter(u)?"Function":e.isFeatureSet(u)?"FeatureSet":e.isFeatureSetCollection(u)?"FeatureSetCollection":u===e.voidOperation?
"":"number"===typeof u&&isNaN(u)?"Number":"Unrecognised Type"}function W(u,x,P,J){try{if(e.equalityTest(x[P],J))return x[P+1];{const ba=x.length-P;return 1===ba?x[P]:2===ba?null:3===ba?x[P+2]:W(u,x,P+2,J)}}catch(ba){throw ba;}}function V(u,x,P,J){try{if(!0===J)return x[P+1];if(3===x.length-P)return x[P+2];{const ba=x[P+2];if(!1===e.isBoolean(ba))throw Error("WHEN needs boolean test conditions");return V(u,x,P+2,ba)}}catch(ba){throw ba;}}function X(u,x){var P=u.length,J=Math.floor(P/2);if(0===P)return[];
if(1===P)return[u[0]];var ba=X(u.slice(0,J),x);u=X(u.slice(J,P),x);for(P=[];0<ba.length||0<u.length;)0<ba.length&&0<u.length?(J=x(ba[0],u[0]),isNaN(J)&&(J=0),0>=J?(P.push(ba[0]),ba=ba.slice(1)):(P.push(u[0]),u=u.slice(1))):0<ba.length?(P.push(ba[0]),ba=ba.slice(1)):0<u.length&&(P.push(u[0]),u=u.slice(1));return x=P}function ma(u,x){try{const P=u.length,J=Math.floor(P/2);if(0===P)return B.resolve([]);if(1===P)return B.resolve([u[0]]);const ba=[ma(u.slice(0,J),x),ma(u.slice(J,P),x)];return B.all(ba).then(va=>
sa(va[0],va[1],x,[]))}catch(P){return B.reject(P)}}function sa(u,x,P,J){return B.create((ba,va)=>{0<u.length||0<x.length?0<u.length&&0<x.length?P(u[0],x[0]).then(xa=>{try{isNaN(xa)&&(xa=1),0>=xa?(J.push(u[0]),u=u.slice(1)):(J.push(x[0]),x=x.slice(1)),sa(u,x,P,J).then(La=>{ba(La)},va)}catch(La){va(La)}},va):0<u.length?(J.push(u[0]),u=u.slice(1),sa(u,x,P,J).then(xa=>{ba(xa)},va)):0<x.length&&(J.push(x[0]),x=x.slice(1),sa(u,x,P,J).then(xa=>{ba(xa)},va)):ba(J)})}function Fa(u){u.symbols.symbolCounter++;
return"_T"+u.symbols.symbolCounter.toString()}function Y(u){u.symbols.symbolCounter++;return"_Tvar"+u.symbols.symbolCounter.toString()}function ia(u,x,P){const J={};u||(u={});P||(P={});J._SymbolsMap={};J.textformatting=1;J.infinity=1;J.pi=1;for(const ba in x)J[ba]=1;for(const ba in P)J[ba]=1;for(const ba in u)J[ba]=1;return J}function wa(u,x){const P={mode:x,compiled:!0,functions:{},signatures:[],failDefferred:ta,standardFunction:aa,standardFunctionAsync:aa,evaluateIdentifier:Aa};for(let J=0;J<u.length;J++)u[J].registerFunctions(P);
if("sync"===x){for(const J in P.functions)G[J]=new e.NativeFunction(P.functions[J]),S.prototype[J]=G[J];for(u=0;u<P.signatures.length;u++)r.addFunctionDeclaration(P.signatures[u],"sync")}else{for(const J in P.functions)R[J]=new e.NativeFunction(P.functions[J]),ca.prototype[J]=R[J];for(u=0;u<P.signatures.length;u++)r.addFunctionDeclaration(P.signatures[u],"async")}}function Aa(u,x){x=x.name;if("_SymbolsMap"===x)throw"Illegal";if(0<u.localStack.length){if("_t"!==x.substr(0,2).toLowerCase()&&void 0!==
u.localStack[u.localStack.length-1][x])return u.localStack[u.localStack.length-1][x];const P=u.mangleMap[x];if(void 0!==P&&void 0!==u.localStack[u.localStack.length-1][P])return u.localStack[u.localStack.length-1][P]}if("_t"!==x.substr(0,2).toLowerCase()&&void 0!==u.globalScope[x]||1===u.globalScope._SymbolsMap[x])return u.globalScope[x];x=u.mangleMap[x];if(void 0!==x)return u.globalScope[x]}function Qa(u){console.log(u)}let I=0;const G={};c.registerFunctions(G,aa);D.registerFunctions(G,aa);l.registerFunctions(G,
aa);f.registerFunctions(G,aa);v.registerFunctions(G,aa);G["typeof"]=function(u,x){return aa(u,x,function(P,J,ba){e.pcCheck(ba,1,1);P=M(ba[0]);if("Unrecognised Type"===P)throw Error("Unrecognised Type");return P})};G.iif=function(u,x){try{return aa(u,x,function(P,J,ba){e.pcCheck(ba,3,3);if(!1===e.isBoolean(ba[0]))throw Error("IF Function must have a boolean test condition");return ba[0]?ba[1]:ba[2]})}catch(P){throw P;}};G.decode=function(u,x){try{return aa(u,x,function(P,J,ba){if(2>ba.length)throw Error("Missing Parameters");
if(2===ba.length)return ba[1];if(0===(ba.length-1)%2)throw Error("Must have a default value result.");return W(u,ba,1,ba[0])})}catch(P){throw P;}};G.when=function(u,x){try{return aa(u,x,function(P,J,ba){if(3>ba.length)throw Error("Missing Parameters");if(0===ba.length%2)throw Error("Must have a default value result.");P=ba[0];if(!1===e.isBoolean(P))throw Error("WHEN needs boolean test conditions");return V(u,ba,0,P)})}catch(P){throw P;}};G.top=function(u,x){return aa(u,x,function(P,J,ba){e.pcCheck(ba,
2,2);if(e.isArray(ba[0]))return e.toNumber(ba[1])>=ba[0].length?ba[0].slice(0):ba[0].slice(0,e.toNumber(ba[1]));if(e.isImmutableArray(ba[0]))return e.toNumber(ba[1])>=ba[0].length()?ba[0].slice(0):ba[0].slice(0,e.toNumber(ba[1]));throw Error("Top cannot accept this parameter type");})};G.first=function(u,x){return aa(u,x,function(P,J,ba){e.pcCheck(ba,1,1);return e.isArray(ba[0])?0===ba[0].length?null:ba[0][0]:e.isImmutableArray(ba[0])?0===ba[0].length()?null:ba[0].get(0):null})};G.sort=function(u,
x){return aa(u,x,function(P,J,ba){e.pcCheck(ba,1,2);J=ba[0];e.isImmutableArray(J)&&(J=J.toArray());if(!1===e.isArray(J))throw Error("Illegal Argument");if(1<ba.length){if(!1===e.isFunctionParameter(ba[1]))throw Error("Illegal Argument");var va=J;const ya=function(ea,ua){return Pa.callfunc(ba[1],[ea,ua],P)};return u.isAsync?ma(va,ya):va=X(va,function(ea,ua){return ya(ea,ua)})}{if(0===J.length)return[];const ya={};for(var xa=0;xa<J.length;xa++){var La=M(J[xa]);""!==La&&(ya[La]=!0)}if(!0===ya.Array||
!0===ya.Dictionary||!0===ya.Feature||!0===ya.Point||!0===ya.Polygon||!0===ya.Polyline||!0===ya.Multipoint||!0===ya.Extent||!0===ya.Function)return J.slice(0);xa=0;La="";for(va in ya)xa++,La=va;return J=1<xa||"String"===La?X(J,function(ea,ua){if(null===ea||void 0===ea||ea===e.voidOperation)return null===ua||void 0===ua||ua===e.voidOperation?0:1;if(null===ua||void 0===ua||ua===e.voidOperation)return-1;ea=e.toString(ea);ua=e.toString(ua);return ea<ua?-1:ea===ua?0:1}):"Number"===La?X(J,function(ea,ua){return ea-
ua}):"Boolean"===La?X(J,function(ea,ua){return ea===ua?0:ua?-1:1}):"Date"===La?X(J,function(ea,ua){return ua-ea}):J.slice(0)}})};const R={};for(const u in G)R[u]=new e.NativeFunction(G[u]);h.registerFunctions(G,aa);for(const u in G)G[u]=new e.NativeFunction(G[u]);const S=function(){};S.prototype=G;const ca=function(){};ca.prototype=R;c={fixSpatialReference:e.fixSpatialReference,parseArguments:function(u,x){const P=[];for(let J=0;J<x.arguments.length;J++)P.push(ka(u,x.arguments[J]));return P},standardFunction:aa};
wa([t.ArrayFunctions],"sync");wa([t.ArrayFunctions],"async");let za=0;const Pa={error(u,x,P){throw Error(r.nodeErrorMessage(u,x,P));},__awaiter(u,x,P,J){return B.create((ba,va)=>{function xa(ea){try{ya(J.next(ea))}catch(ua){va(ua)}}function La(ea){try{ya(J["throw"](ea))}catch(ua){va(ua)}}function ya(ea){ea.done?ba(ea.value):ea.value&&ea.value.then?ea.value.then(xa,La):(za++,0===za%100?setTimeout(()=>{za=0;xa(ea.value)},0):xa(ea.value))}ya((J=J.apply(u,x||[])).next())})},functionDepthchecker(u,x){return function(){x.depthCounter++;
x.localStack.push([]);if(64<x.depthCounter)throw Error("Exceeded maximum function depth");const P=u.apply(this,arguments);if(B.isPromiseLike(P))return P.then(J=>{x.depthCounter--;--x.localStack.length;return J});x.depthCounter--;--x.localStack.length;return P}},castString(u){return e.toString(u)},aCheck(u,x){if(e.isFunctionParameter(u))throw Error(r.nodeErrorMessage({type:x},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return u===e.voidOperation?null:u},Dictionary:n,Feature:m,dictionary(u){const x={};for(let P=
0;P<u.length;P+=2){if(e.isFunctionParameter(u[P+1]))throw Error("Illegal Argument");if(!1===e.isString(u[P]))throw Error("Illegal Argument");x[u[P].toString()]=u[P+1]===e.voidOperation?null:u[P+1]}u=new n(x);u.immutable=!1;return u},strCheck(u){if(!1===e.isString(u))throw Error("Illegal Argument");return u},unary(u,x){if(e.isBoolean(u)){if("!"===x)return!u;if("-"===x)return-1*e.toNumber(u);if("+"===x)return 1*e.toNumber(u);if("~"===x)return~e.toNumber(u);throw Error(r.nodeErrorMessage({type:"UnaryExpression",
operator:x,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===x)return-1*e.toNumber(u);if("+"===x)return 1*e.toNumber(u);if("~"===x)return~e.toNumber(u);throw Error(r.nodeErrorMessage({type:"UnaryExpression",operator:x,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));},logicalCheck(u){if(!1===e.isBoolean(u))throw Error(r.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return u},logical(u,x,P){if(e.isBoolean(u)&&
e.isBoolean(x))switch(P){case "||":return u||x;case "\x26\x26":return u&&x}throw Error(r.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));},binary(u,x,P){switch(P){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return e.binaryOperator(e.toNumber(u),e.toNumber(x),P);case "\x3d\x3d":return e.equalityTest(u,x);case "\x3d":return e.equalityTest(u,x);case "!\x3d":return!e.equalityTest(u,x);case "\x3c":return e.greaterThanLessThan(u,
x,P);case "\x3e":return e.greaterThanLessThan(u,x,P);case "\x3c\x3d":return e.greaterThanLessThan(u,x,P);case "\x3e\x3d":return e.greaterThanLessThan(u,x,P);case "+":return e.isString(u)||e.isString(x)?e.toString(u)+e.toString(x):e.toNumber(u)+e.toNumber(x);case "-":return e.toNumber(u)-e.toNumber(x);case "*":return e.toNumber(u)*e.toNumber(x);case "/":return e.toNumber(u)/e.toNumber(x);case "%":return e.toNumber(u)%e.toNumber(x);default:throw Error(r.nodeErrorMessage({type:"BinaryExpression",operator:P,
left:u,right:x},"RUNTIME","OPERATORNOTRECOGNISED"));}},assign(u,x,P){switch(x){case "\x3d":return u===e.voidOperation?null:u;case "/\x3d":return e.toNumber(P)/e.toNumber(u);case "*\x3d":return e.toNumber(P)*e.toNumber(u);case "-\x3d":return e.toNumber(P)-e.toNumber(u);case "+\x3d":return e.isString(P)||e.isString(u)?e.toString(P)+e.toString(u):e.toNumber(P)+e.toNumber(u);case "%\x3d":return e.toNumber(P)%e.toNumber(u);default:throw Error(r.nodeErrorMessage({type:"AssignmentExpression",operator:x,
left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"));}},update(u,x,P,J){const ba=e.toNumber(u[x]);u[x]="++"===P?ba+1:ba-1;return!1===J?ba:"++"===P?ba+1:ba-1},graphicToFeature(u,x){return null===u?null:m.createFromGraphicLikeObject(u.geometry,u.attributes,x)},memberupdate(u,x,P,J){let ba;if(e.isArray(u))if(e.isNumber(x)){0>x&&(x=u.length+x);if(0>x||x>=u.length)throw Error("Assignment outside of array bounds");ba=e.toNumber(u[x]);u[x]="++"===P?ba+1:ba-1}else throw Error("Invalid Parameter");else if(u instanceof
n){if(!1===e.isString(x))throw Error("Dictionary accessor must be a string");if(!0===u.hasField(x))ba=e.toNumber(u.field(x)),u.setField(x,"++"===P?ba+1:ba-1);else throw Error("Invalid Parameter");}else if(u instanceof m){if(!1===e.isString(x))throw Error("Feature accessor must be a string");if(!0===u.hasField(x))ba=e.toNumber(u.field(x)),u.setField(x,"++"===P?ba+1:ba-1);else throw Error("Invalid Parameter");}else{if(e.isImmutableArray(u))throw Error("Array is Immutable");throw Error("Invalid Parameter");
}return!1===J?ba:"++"===P?ba+1:ba-1},assignmember(u,x,P,J){if(e.isArray(u))if(e.isNumber(x)){0>x&&(x=u.length+x);if(0>x||x>u.length)throw Error("Assignment outside of array bounds");if(x===u.length&&"\x3d"!==P)throw Error("Invalid Parameter");u[x]=this.assign(J,P,u[x])}else throw Error("Invalid Parameter");else if(u instanceof n){if(!1===e.isString(x))throw Error("Dictionary accessor must be a string");if(!0===u.hasField(x))u.setField(x,this.assign(J,P,u.field(x)));else{if("\x3d"!==P)throw Error("Invalid Parameter");
u.setField(x,this.assign(J,P,null))}}else if(u instanceof m){if(!1===e.isString(x))throw Error("Feature accessor must be a string");if(!0===u.hasField(x))u.setField(x,this.assign(J,P,u.field(x)));else{if("\x3d"!==P)throw Error("Invalid Parameter");u.setField(x,this.assign(J,P,null))}}else{if(e.isImmutableArray(u))throw Error("Array is Immutable");throw Error("Invalid Parameter");}},member(u,x){if(null===u)throw Error(r.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},
"RUNTIME","NOTFOUND"));if(u instanceof U.FeatureSetReader){if(e.isString(x))return u.field(x);throw Error(r.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(u instanceof n||u instanceof m){if(e.isString(x))return u.field(x);throw Error(r.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(u instanceof b){if(e.isString(x))return la(u,x,"MemberExpression");throw Error(r.nodeErrorMessage({type:"MemberExpression",
object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(e.isArray(u)){if(e.isNumber(x)&&isFinite(x)&&Math.floor(x)===x){0>x&&(x=u.length+x);if(x>=u.length||0>x)throw Error(r.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return u[x]}throw Error(r.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(e.isString(u)){if(e.isNumber(x)&&isFinite(x)&&Math.floor(x)===x){0>
x&&(x=u.length+x);if(x>=u.length||0>x)throw Error(r.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return u[x]}throw Error(r.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(e.isImmutableArray(u)&&e.isNumber(x)&&isFinite(x)&&Math.floor(x)===x){0>x&&(x=u.length()+x);if(x>=u.length()||0>x)throw Error(r.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},
"RUNTIME","OUTOFBOUNDS"));return u.get(x)}throw Error(r.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));},callfunc(u,x,P){return u instanceof e.NativeFunction?u.fn(P,{arguments:x,preparsed:!0}):u instanceof e.SizzleFunction?u.fn.apply(this,x):u.apply(this,x)}};C.compileScript=function(u,x=null,P=!1){null===x&&(x={vars:{},customfunctions:{}});x={isAsync:P,globalScope:ia(x.vars,P?R:G,x.customfunctions),localScope:null,mangleMap:{},console:Qa,
lrucache:x.lrucache,interceptor:x.interceptor,services:x.services,symbols:{symbolCounter:0}};u=ka(x,u.body[0].body);""===u&&(u="lc.voidOperation; ");x={lc:e.lc,lang:Pa,mangles:x.mangleMap,postProcess(J){J instanceof e.ReturnResult&&(J=J.value);J instanceof e.ImplicitResult&&(J=J.value);J===e.voidOperation&&(J=null);if(J===e.breakResult)throw Error("Cannot return BREAK");if(J===e.continueResult)throw Error("Cannot return CONTINUE");if(e.isFunctionParameter(J))throw Error("Cannot return FUNCTION");
return J},prepare(J,ba){let va=J.spatialReference;if(null===va||void 0===va)va=new Q({wkid:102100});{var xa=J.vars;var La=J.customfunctions;const ya=ba?new ca:new S;xa||(xa={});La||(La={});const ea=new n({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});ea.immutable=!1;ya._SymbolsMap={textformatting:1,infinity:1,pi:1};ya.textformatting=ea;ya.infinity=Number.POSITIVE_INFINITY;ya.pi=Math.PI;for(const ua in La)ya[ua]=La[ua],ya._SymbolsMap[ua]=1;for(const ua in xa)ya._SymbolsMap[ua]=
1,ya[ua]=xa[ua]&&"esri.Graphic"===xa[ua].declaredClass?m.createFromGraphic(xa[ua]):xa[ua];xa=ya}return{localStack:[],isAsync:ba,mangleMap:this.mangles,spatialReference:va,globalScope:xa,abortSignal:void 0===J.abortSignal||null===J.abortSignal?{aborted:!1}:J.abortSignal,localScope:null,services:J.services,console:J.console?J.console:Qa,lrucache:J.lrucache,interceptor:J.interceptor,symbols:{symbolCounter:0},depthCounter:1}}};return(new Function("context","spatialReference",P?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+
u+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+u+"\n return lastStatement; } \n return this.postProcess(mainBody()); ")).bind(x)};C.enableAsyncSupport=function(){return(new Promise((u,x)=>F(["./functions/geomasync"],u,x))).then(u=>{wa([u],"async");return!0})};
C.executeScript=function(u,x){return u(x)};C.extend=wa;C.extractExpectedFieldLiterals=function(u){return r.findExpectedFieldLiterals(u)};C.extractFieldLiterals=function(u,x){return r.findFieldLiterals(u)};C.functionHelper=c;C.referencesFunction=function(u,x){return r.referencesFunction(u,x)};C.referencesMember=function(u,x){return r.referencesMember(u,x)};C.validateScript=function(u,x){return r.validateScript(u,x,"sync")};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/ArcadePortal":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./Dictionary"],function(F,C){return function(H){function w(n){var m=H.call(this)||this;m.immutable=!1;m.setField("url",n);m.immutable=!0;return m}F._inheritsLoose(w,H);return w}(C)})},"esri/arcade/Dictionary":function(){define(["./ImmutableArray","../chunks/languageUtils","../core/promiseUtils","../geometry/Geometry"],function(F,C,H,w){function n(y,p=!1){if(null===y||void 0===y)return null;if(C.isNumber(y))return C.toNumber(y);if(C.isBoolean(y))return C.toBoolean(y);if(C.isString(y))return C.toString(y);
if(C.isDate(y))return C.toDate(y);if(C.isArray(y)){var e=[];for(var r of y)e.push(n(r,p));return e}r=new m;r.immutable=!1;for(e of Object.keys(y)){const t=y[e];void 0!==t&&r.setField(e,n(t,p))}r.immutable=p;return r}let m=function(){function y(e){this.declaredClass="esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=e instanceof y?e.attributes:void 0===e?{}:null===e?{}:e}var p=y.prototype;p.field=function(e){const r=e.toLowerCase(),t=this.attributes[e];if(void 0!==
t)return t;for(const c in this.attributes)if(c.toLowerCase()===r)return this.attributes[c];throw Error("Field not Found : "+e);};p.setField=function(e,r){if(this.immutable)throw Error("Dictionary is Immutable");const t=e.toLowerCase();if(void 0===this.attributes[e])for(const c in this.attributes)if(c.toLowerCase()===t){this.attributes[c]=r;return}this.attributes[e]=r};p.hasField=function(e){const r=e.toLowerCase();if(void 0!==this.attributes[e])return!0;for(const t in this.attributes)if(t.toLowerCase()===
r)return!0;return!1};p.keys=function(){let e=[];for(const r in this.attributes)e.push(r);return e=e.sort()};p.castToText=function(){let e="";for(const r in this.attributes){""!==e&&(e+=",");const t=this.attributes[r];null==t?e+=JSON.stringify(r)+":null":C.isBoolean(t)||C.isNumber(t)||C.isString(t)?e+=JSON.stringify(r)+":"+JSON.stringify(t):t instanceof w?e+=JSON.stringify(r)+":"+C.toStringExplicit(t):t instanceof F?e+=JSON.stringify(r)+":"+C.toStringExplicit(t):t instanceof Array?e+=JSON.stringify(r)+
":"+C.toStringExplicit(t):t instanceof Date?e+=JSON.stringify(r)+":"+JSON.stringify(t):null!==t&&"object"===typeof t&&void 0!==t.castToText&&(e+=JSON.stringify(r)+":"+t.castToText())}return"{"+e+"}"};y.convertObjectToArcadeDictionary=function(e,r=!0){const t=new y;t.immutable=!1;for(const c in e){const f=e[c];void 0!==f&&t.setField(c.toString(),n(f))}t.immutable=r;return t};y.convertJsonToArcade=function(e,r=!1){return n(e,r)};p.castAsJson=function(e=null){const r={};for(let t in this.attributes){const c=
this.attributes[t];void 0!==c&&(null!=e&&e.keyTranslate&&(t=e.keyTranslate(t)),r[t]=C.castAsJson(c,e))}return r};p.castDictionaryValueAsJsonAsync=function(e,r,t,c=null,f){return C.castAsJsonAsync(t,c,f).then(h=>e[r]=h)};p.castAsJsonAsync=function(e=null,r=null){const t={},c=[];for(let f in this.attributes){const h=this.attributes[f];null!=r&&r.keyTranslate&&(f=r.keyTranslate(f));void 0!==h&&(C.isSimpleType(h)||h instanceof w||h instanceof Date?t[f]=C.castAsJson(h,r):c.push(this.castDictionaryValueAsJsonAsync(t,
f,h,e,r)))}return 0<c.length?H.all(c).then(()=>t):H.resolve(t)};return y}();return m})},"esri/arcade/ImmutableArray":function(){define(function(){return function(){function F(H=[]){this._elements=H}var C=F.prototype;C.length=function(){return this._elements.length};C.get=function(H){return this._elements[H]};C.toArray=function(){const H=[];for(let w=0;w<this.length();w++)H.push(this.get(w));return H};return F}()})},"esri/chunks/languageUtils":function(){define("exports ../arcade/FunctionWrapper ../arcade/ImmutableArray ../arcade/ImmutablePathArray ../arcade/ImmutablePointArray ../core/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ./datetime ../core/maybe ../core/number ../geometry/support/coordsUtils ../intl/locale".split(" "),
function(F,C,H,w,n,m,y,p,e,r,t,c,f,h,l,v,D){function B(A,N,Z){return""===N||null===N||void 0===N||N===Z||N===Z?A:A=A.split(N).join(Z)}function L(A){return A instanceof ib||A instanceof C||A instanceof jb}function b(A){return d(A)||g(A)||Da(A)||z(A)||null===A||A===na||"number"===typeof A?!0:!1}function q(A,N){return void 0===A?N:A}function d(A){return"string"===typeof A||A instanceof String}function z(A){return"boolean"===typeof A}function g(A){return"number"===typeof A}function Q(A){return"number"===
typeof A&&isFinite(A)&&Math.floor(A)===A}function U(A){return A instanceof Array}function aa(A){return!0===(A&&A.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===A.declaredRootClass)}function ta(A){return!0===(A&&A.declaredRootClass&&"esri.arcade.featureSetCollection"===A.declaredRootClass)}function ka(A){return A instanceof H}function Da(A){return A instanceof Date}function Ra(A,N,Z){if(A.length<N||A.length>Z)throw Error("Function called with wrong number of Parameters");}function Sa(A){return 0>
A?-Math.round(-A):Math.round(A)}function ha(){let A=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(N){const Z=(A+16*Math.random())%16|0;A=Math.floor(A/16);return("x"===N?Z:Z&3|8).toString(16)})}function fa(A,N){if(!1===isNaN(A)){if(void 0===N||null===N||""===N)return A.toString();N=B(N,"\u2030","");N=B(N,"\u00a4","");return l.format(A,{pattern:N})}return A.toString()}function la(A,N){A=f.DateTime.fromJSDate(A);return void 0===N||null===N||""===N?A.toISO({suppressMilliseconds:!0}):
A.toFormat(oa(N),{locale:D.getLocale(),numberingSystem:"latn"})}function oa(A){A=A.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$\x26]");let N="";const Z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const ra of A.match(Z))switch(ra){case "D":N+="d";break;case "DD":N+="dd";break;case "DDD":N+="o";break;case "d":N+="c";break;case "ddd":N+="ccc";break;
case "dddd":N+="cccc";break;case "M":N+="L";break;case "MM":N+="LL";break;case "MMM":N+="LLL";break;case "MMMM":N+="LLLL";break;case "YY":N+="yy";break;case "Y":case "YYYY":N+="yyyy";break;case "Q":N+="q";break;case "Z":N+="ZZ";break;case "ZZ":N+="ZZZ";break;case "S":N+="'S'";break;case "SS":N+="'SS'";break;case "SSS":N+="u";break;case "A":case "a":N+="a";break;case "m":case "mm":case "h":case "hh":case "H":case "HH":case "s":case "ss":case "X":case "x":N+=ra;break;default:N=2<=ra.length&&"["===ra.slice(0,
1)&&"]"===ra.slice(-1)?N+`'${ra.slice(1,-1)}'`:N+`'${ra}'`}return N}function M(A,N,Z){switch(Z){case "\x3e":return A>N;case "\x3c":return A<N;case "\x3e\x3d":return A>=N;case "\x3c\x3d":return A<=N}return!1}function W(A,N,Z){if(null===A){if(null===N||N===na)return M(null,null,Z);if(g(N))return M(0,N,Z);if(d(N)||z(N))return M(0,Y(N),Z);if(Da(N))return M(0,N.getTime(),Z)}if(A===na){if(null===N||N===na)return M(null,null,Z);if(g(N))return M(0,N,Z);if(d(N)||z(N))return M(0,Y(N),Z);if(Da(N))return M(0,
N.getTime(),Z)}else if(g(A)){if(g(N))return M(A,N,Z);if(z(N))return M(A,Y(N),Z);if(null===N||N===na)return M(A,0,Z);if(d(N))return M(A,Y(N),Z);if(Da(N))return M(A,N.getTime(),Z)}else if(d(A)){if(d(N))return M(X(A),X(N),Z);if(Da(N))return M(Y(A),N.getTime(),Z);if(g(N))return M(Y(A),N,Z);if(null===N||N===na)return M(Y(A),0,Z);if(z(N))return M(Y(A),Y(N),Z)}else if(Da(A)){if(Da(N))return M(A,N,Z);if(null===N||N===na)return M(A.getTime(),0,Z);if(g(N))return M(A.getTime(),N,Z);if(z(N)||d(N))return M(A.getTime(),
Y(N),Z)}else if(z(A)){if(z(N))return M(A,N,Z);if(g(N))return M(Y(A),Y(N),Z);if(Da(N))return M(Y(A),N.getTime(),Z);if(null===N||N===na)return M(Y(A),0,Z);if(d(N))return M(Y(A),Y(N),Z)}return!V(A,N)||"\x3c\x3d"!==Z&&"\x3e\x3d"!==Z?!1:!0}function V(A,N){if(A===N||null===A&&N===na||null===N&&A===na)return!0;if(Da(A)&&Da(N))return A.getTime()===N.getTime();if(A instanceof w||A instanceof n)return A.equalityTest(N);if(A instanceof r&&N instanceof r){const Z=A.cache._arcadeCacheId,ra=N.cache._arcadeCacheId;
if(void 0!==Z&&null!==Z)return Z===ra}return void 0!==A&&void 0!==N&&null!==A&&null!==N&&"object"===typeof A&&"object"===typeof N&&(A._arcadeCacheId===N._arcadeCacheId&&void 0!==A._arcadeCacheId&&null!==A._arcadeCacheId||A._underlyingGraphic===N._underlyingGraphic&&void 0!==A._underlyingGraphic&&null!==A._underlyingGraphic)?!0:!1}function X(A,N){if(d(A))return A;if(null===A)return"";if(g(A))return fa(A,N);if(z(A))return A.toString();if(Da(A))return la(A,N);if(A instanceof p)return JSON.stringify(A.toJSON());
if(U(A)){N=[];for(var Z=0;Z<A.length;Z++)N[Z]=Fa(A[Z]);return"["+N.join(",")+"]"}if(A instanceof H){N=[];for(Z=0;Z<A.length();Z++)N[Z]=Fa(A.get(Z));return"["+N.join(",")+"]"}return null!==A&&"object"===typeof A&&void 0!==A.castToText?A.castToText():L(A)?"object, Function":""}function ma(A){const N=[];if(!1===U(A))return null;if(A instanceof H){for(var Z=0;Z<A.length();Z++)N[Z]=Y(A.get(Z));return N}for(Z=0;Z<A.length;Z++)N[Z]=Y(A[Z]);return N}function sa(A,N){if(d(A))return A;if(null===A)return"";
if(g(A))return fa(A,N);if(z(A))return A.toString();if(Da(A))return la(A,N);if(A instanceof p)return A instanceof y?'{"xmin":'+A.xmin.toString()+',"ymin":'+A.ymin.toString()+","+(A.hasZ?'"zmin":'+A.zmin.toString()+",":"")+(A.hasM?'"mmin":'+A.mmin.toString()+",":"")+'"xmax":'+A.xmax.toString()+',"ymax":'+A.ymax.toString()+","+(A.hasZ?'"zmax":'+A.zmax.toString()+",":"")+(A.hasM?'"mmax":'+A.mmax.toString()+",":"")+'"spatialReference":'+Pa(A.spatialReference)+"}":Pa(A.toJSON(),(ra,qa)=>ra.key===qa.key?
0:"spatialReference"===ra.key?1:"spatialReference"===qa.key||ra.key<qa.key?-1:ra.key>qa.key?1:0);if(U(A)){N=[];for(var Z=0;Z<A.length;Z++)N[Z]=Fa(A[Z]);return"["+N.join(",")+"]"}if(A instanceof H){N=[];for(Z=0;Z<A.length();Z++)N[Z]=Fa(A.get(Z));return"["+N.join(",")+"]"}return null!==A&&"object"===typeof A&&void 0!==A.castToText?A.castToText():L(A)?"object, Function":""}function Fa(A){return null===A?"null":z(A)||g(A)||d(A)?JSON.stringify(A):A instanceof p||A instanceof H||A instanceof Array?sa(A):
A instanceof Date?JSON.stringify(la(A,"")):null!==A&&"object"===typeof A&&void 0!==A.castToText?A.castToText():"null"}function Y(A,N){return g(A)?A:null===A||""===A?0:Da(A)?NaN:z(A)?A?1:0:U(A)||""===A||void 0===A?NaN:void 0!==N&&d(A)?(N=B(N,"\u2030",""),N=B(N,"\u00a4",""),l.parse(A,{pattern:N})):A===na?0:Number(A)}function ia(A){return Da(A)?A:d(A)&&(A=Aa(A))?A.toJSDate():null}function wa(A){return Da(A)?f.DateTime.fromJSDate(A):d(A)?Aa(A):null}function Aa(A){const N=/ (\d\d)/;let Z=f.DateTime.fromISO(A);
return Z.isValid||N.test(A)&&(A=A.replace(N,"T$1"),Z=f.DateTime.fromISO(A),Z.isValid)?Z:null}function Qa(A){return z(A)?A:d(A)?(A=A.toLowerCase(),"true"===A?!0:!1):g(A)?0===A||isNaN(A)?!1:!0:!1}function I(A,N){if(h.isNone(A))return null;if(null===A.spatialReference||void 0===A.spatialReference)A.spatialReference=N;return A}function G(A){if(null===A)return null;if(A instanceof r)return"NaN"===A.x||null===A.x||isNaN(A.x)?null:A;if(A instanceof t){if(0===A.rings.length)return null;for(const N of A.rings)if(0<
N.length)return A;return null}if(A instanceof c){if(0===A.paths.length)return null;for(const N of A.paths)if(0<N.length)return A;return null}return A instanceof e?0===A.points.length?null:A:A instanceof y?"NaN"===A.xmin||null===A.xmin||isNaN(A.xmin)?null:A:null}function R(A,N){if(!A||!A.domain)return N;let Z=null;if("string"===A.field.type||"esriFieldTypeString"===A.field.type)N=X(N);else{if(null===N||void 0===N)return null;if(""===N)return N;N=Y(N)}for(let ra=0;ra<A.domain.codedValues.length;ra++){const qa=
A.domain.codedValues[ra];qa.code===N&&(Z=qa)}return null===Z?N:Z.name}function S(A,N){if(!A||!A.domain)return N;let Z=null;N=X(N);for(let ra=0;ra<A.domain.codedValues.length;ra++){const qa=A.domain.codedValues[ra];qa.name===N&&(Z=qa)}return null===Z?N:Z.code}function ca(A,N,Z=null,ra){if(!N||!N.fields)return null;let qa=null;for(let Za=0;Za<N.fields.length;Za++){const Va=N.fields[Za];Va.name.toLowerCase()===A.toString().toLowerCase()&&(qa=Va)}if(null===qa)throw Error("Field not found");let Ha,Na;
ra||(ra=Z&&N.typeIdField&&Z._field(N.typeIdField));null!=ra&&N.types.some(function(Za){return Za.id===ra?((Ha=Za.domains&&Za.domains[qa.name])&&"inherited"===Ha.type&&(Ha=za(qa.name,N),Na=!0),!0):!1});Na||Ha||(Ha=za(A,N));return{field:qa,domain:Ha}}function za(A,N){let Z;N.fields.some(function(ra){ra.name.toLowerCase()===A.toLowerCase()&&(Z=ra.domain);return!!Z});return Z}function Pa(A,N){N||(N={});"function"===typeof N&&(N={cmp:N});const Z="boolean"===typeof N.cycles?N.cycles:!1,ra=N.cmp&&function(Ha){return function(Na){return function(Za,
Va){return Ha({key:Za,value:Na[Za]},{key:Va,value:Na[Va]})}}}(N.cmp),qa=[];return function Za(Na){Na&&Na.toJSON&&"function"===typeof Na.toJSON&&(Na=Na.toJSON());if(void 0!==Na){if("number"===typeof Na)return isFinite(Na)?""+Na:"null";if("object"!==typeof Na)return JSON.stringify(Na);var Va;if(Array.isArray(Na)){var cb="[";for(Va=0;Va<Na.length;Va++)Va&&(cb+=","),cb+=Za(Na[Va])||"null";return cb+"]"}if(null===Na)return"null";if(-1!==qa.indexOf(Na)){if(Z)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");
}var nb=qa.push(Na)-1,fb=Object.keys(Na).sort(ra&&ra(Na));cb="";for(Va=0;Va<fb.length;Va++){const rb=fb[Va],sb=Za(Na[rb]);sb&&(cb&&(cb+=","),cb+=JSON.stringify(rb)+":"+sb)}qa.splice(nb,1);return"{"+cb+"}"}}(A)}function u(A){if(null===A)return null;const N=[];for(const Z of A)Z&&(Z.declaredClass&&"esri.arcade.Feature"===Z.declaredClass||"FeatureSetReader"===Z.type)?N.push(Z.geometry()):N.push(Z);return N}function x(A,N){if(N instanceof r)A.push(N.hasZ?N.hasM?[N.x,N.y,N.z,N.m]:[N.x,N.y,N.z]:[N.x,N.y]);
else throw Error("Invalid Argument");}function P(A,N){if(U(A)||ka(A)){let Z=!1,ra=!1,qa=[];if(U(A)){for(const Ha of A)x(qa,Ha);0<qa.length&&(N=A[0].spatialReference,Z=A[0].hasZ,ra=A[0].hasM)}else if(A instanceof n)qa=A._elements,0<qa.length&&(Z=A._hasZ,ra=A._hasM,N=A.get(0).spatialReference);else if(ka(A)){for(const Ha of A.toArray())x(qa,Ha);0<qa.length&&(N=A.get(0).spatialReference,Z=!0===A.get(0).hasZ,ra=!0===A.get(0).hasM)}else throw Error("Invalid Argument");if(0===qa.length)return null;!1===
v.isClockwise(qa,ra,Z)&&(qa=qa.slice(0).reverse());return new t({rings:[qa],spatialReference:N,hasZ:Z,hasM:ra})}return A}function J(A,N){if(U(A)||ka(A)){let Z=!1,ra=!1,qa=[];if(U(A)){for(const Ha of A)x(qa,Ha);0<qa.length&&(N=A[0].spatialReference,Z=!0===A[0].hasZ,ra=!0===A[0].hasM)}else if(A instanceof n)qa=A._elements,0<qa.length&&(Z=A._hasZ,ra=A._hasM,N=A.get(0).spatialReference);else if(ka(A)){for(const Ha of A.toArray())x(qa,Ha);0<qa.length&&(N=A.get(0).spatialReference,Z=!0===A.get(0).hasZ,
ra=!0===A.get(0).hasM)}return 0===qa.length?null:new c({paths:[qa],spatialReference:N,hasZ:Z,hasM:ra})}return A}function ba(A,N){if(U(A)||ka(A)){let Z=!1,ra=!1,qa=[];if(U(A)){for(const Ha of A)x(qa,Ha);0<qa.length&&(N=A[0].spatialReference,Z=!0===A[0].hasZ,ra=!0===A[0].hasM)}else if(A instanceof n)qa=A._elements,0<qa.length&&(Z=A._hasZ,ra=A._hasM,N=A.get(0).spatialReference);else if(ka(A)){for(const Ha of A.toArray())x(qa,Ha);0<qa.length&&(N=A.get(0).spatialReference,Z=!0===A.get(0).hasZ,ra=!0===
A.get(0).hasM)}return 0===qa.length?null:new e({points:qa,spatialReference:N,hasZ:Z,hasM:ra})}return A}function va(A,N=!1){const Z=[];if(null===A)return Z;if(!0===U(A)){for(var ra=0;ra<A.length;ra++){var qa=X(A[ra]);""===qa&&!0!==N||Z.push(qa)}return Z}if(A instanceof H){for(ra=0;ra<A.length();ra++)qa=X(A.get(ra)),""===qa&&!0!==N||Z.push(qa);return Z}return b(A)?(A=X(A),""===A&&!0!==N||Z.push(A),Z):[]}function xa(A){Ba++;return 0===Ba%100?(Ba=0,m.create(N=>{setTimeout(()=>{N(A)},0)})):A}function La(A,
N,Z){switch(Z){case "\x26":return A&N;case "|":return A|N;case "^":return A^N;case "\x3c\x3c":return A<<N;case "\x3e\x3e":return A>>N;case "\x3e\x3e\x3e":return A>>>N}}function ya(A,N=null){if(null!=A){if(z(A)||g(A)||d(A))return A;if(A instanceof p)return!0===(null==N?void 0:N.keepGeometryType)?A:A.toJSON();if(A instanceof H)return A.toArray().map(Z=>ya(Z,N));if(A instanceof Array)return A.map(Z=>ya(Z,N));if(A instanceof Date)return A;if(null!==A&&"object"===typeof A&&void 0!==A.castAsJson)return A.castAsJson(N)}return null}
function ea(A,N,Z,ra,qa){return ua(A,N,Z).then(Ha=>{qa[ra]=Ha})}function ua(A,N=null,Z=null){A instanceof H&&(A=A.toArray());if(null!=A){if(b(A)||A instanceof p||A instanceof Date)return m.resolve(ya(A,Z));if(A instanceof Array){const ra=[],qa=[];for(const Ha of A)null===Ha||b(Ha)||Ha instanceof p||Ha instanceof Date?qa.push(ya(Ha,Z)):(qa.push(null),ra.push(ea(Ha,N,Z,qa.length-1,qa)));return 0<ra.length?m.all(ra).then(()=>qa):m.resolve(qa)}if(null!==A&&"object"===typeof A&&void 0!==A.castAsJsonAsync)return A.castAsJsonAsync(N,
Z)}return m.resolve(null)}let gb=function(A){this.value=A},hb=function(A){this.value=A},ib=function(A){this.fn=A},jb=function(A,N){this.paramCount=N;this.fn=A};const mb=ib,Xa=jb,na={type:"VOID"},Ia={type:"BREAK"},Ga={type:"CONTINUE"};let Ba=0;const Ya=Object.freeze({__proto__:null,ReturnResultE:gb,ImplicitResultE:hb,NativeFunctionE:ib,SizzleFunctionE:jb,NativeFunction:mb,ImplicitResult:hb,ReturnResult:gb,SizzleFunction:Xa,voidOperation:na,breakResult:Ia,continueResult:Ga,multiReplace:B,isFunctionParameter:L,
isSimpleType:b,defaultUndefined:q,isString:d,isBoolean:z,isNumber:g,isInteger:Q,isArray:U,isFeatureSet:aa,isFeatureSetCollection:ta,isImmutableArray:ka,isDate:Da,pcCheck:Ra,absRound:Sa,generateUUID:ha,formatNumber:fa,formatDate:la,standardiseDateFormat:oa,greaterThanLessThan:W,equalityTest:V,toString:X,toNumberArray:ma,toStringExplicit:sa,toNumber:Y,toDate:ia,toDateTime:wa,toBoolean:Qa,fixSpatialReference:I,fixNullGeometry:G,getDomainValue:R,getDomainCode:S,getDomain:ca,stableStringify:Pa,autoCastFeatureToGeometry:u,
autoCastArrayOfPointsToPolygon:P,autoCastArrayOfPointsToPolyline:J,autoCastArrayOfPointsToMultiPoint:ba,toStringArray:va,tick:xa,binaryOperator:La,castAsJson:ya,castAsJsonAsync:ua});F.ImplicitResult=hb;F.ImplicitResultE=hb;F.NativeFunction=mb;F.NativeFunctionE=ib;F.ReturnResult=gb;F.ReturnResultE=gb;F.SizzleFunction=Xa;F.SizzleFunctionE=jb;F.absRound=Sa;F.autoCastArrayOfPointsToMultiPoint=ba;F.autoCastArrayOfPointsToPolygon=P;F.autoCastArrayOfPointsToPolyline=J;F.autoCastFeatureToGeometry=u;F.binaryOperator=
La;F.breakResult=Ia;F.castAsJson=ya;F.castAsJsonAsync=ua;F.continueResult=Ga;F.defaultUndefined=q;F.equalityTest=V;F.fixNullGeometry=G;F.fixSpatialReference=I;F.formatDate=la;F.formatNumber=fa;F.generateUUID=ha;F.getDomain=ca;F.getDomainCode=S;F.getDomainValue=R;F.greaterThanLessThan=W;F.isArray=U;F.isBoolean=z;F.isDate=Da;F.isFeatureSet=aa;F.isFeatureSetCollection=ta;F.isFunctionParameter=L;F.isImmutableArray=ka;F.isInteger=Q;F.isNumber=g;F.isSimpleType=b;F.isString=d;F.lc=Ya;F.multiReplace=B;F.pcCheck=
Ra;F.stableStringify=Pa;F.standardiseDateFormat=oa;F.tick=xa;F.toBoolean=Qa;F.toDate=ia;F.toDateTime=wa;F.toNumber=Y;F.toNumberArray=ma;F.toString=X;F.toStringArray=va;F.toStringExplicit=sa;F.voidOperation=na})},"esri/arcade/FunctionWrapper":function(){define(function(){return function(F,C){this.context=this.definition=null;this.definition=F;this.context=C}})},"esri/arcade/ImmutablePathArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","./ImmutablePointArray"],function(F,
C,H){return function(w){function n(y,p,e,r,t){y=w.call(this,y)||this;y._lazyPath=[];y._hasZ=!1;y._hasM=!1;y._hasZ=e;y._hasM=r;y._spRef=p;y._cacheId=t;return y}F._inheritsLoose(n,w);var m=n.prototype;m.get=function(y){if(void 0===this._lazyPath[y]){const p=this._elements[y];if(void 0===p)return;this._lazyPath[y]=new H(p,this._spRef,this._hasZ,this._hasM,this._cacheId,y)}return this._lazyPath[y]};m.equalityTest=function(y){return y===this?!0:null===y||!1===y instanceof n?!1:y.getUniqueHash()===this.getUniqueHash()};
m.getUniqueHash=function(){return this._cacheId.toString()};return n}(C)})},"esri/arcade/ImmutablePointArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","../geometry/Point"],function(F,C,H){return function(w){function n(y,p,e,r,t,c){y=w.call(this,y)||this;y._lazyPt=[];y._hasZ=!1;y._hasM=!1;y._spRef=p;y._hasZ=e;y._hasM=r;y._cacheId=t;y._partId=c;return y}F._inheritsLoose(n,w);var m=n.prototype;m.get=function(y){if(void 0===this._lazyPt[y]){const p=this._elements[y];
if(void 0===p)return;const e=this._hasZ,r=this._hasM;let t=null;t=e&&!r?new H(p[0],p[1],p[2],void 0,this._spRef):r&&!e?new H(p[0],p[1],void 0,p[2],this._spRef):e&&r?new H(p[0],p[1],p[2],p[3],this._spRef):new H(p[0],p[1],this._spRef);t.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+y.toString();this._lazyPt[y]=t}return this._lazyPt[y]};m.equalityTest=function(y){return y===this?!0:null===y||!1===y instanceof n?!1:y.getUniqueHash()===this.getUniqueHash()};m.getUniqueHash=
function(){return this._cacheId.toString()+"-"+this._partId.toString()};return n}(C)})},"esri/chunks/datetime":function(){define(["exports"],function(F){function C(a){return"undefined"===typeof a}function H(a){return"number"===typeof a}function w(a){return"number"===typeof a&&0===a%1}function n(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(a){return!1}}function m(a,k,E){if(0!==a.length)return a.reduce((K,O)=>{O=[k(O),O];return K?E(K[0],O[0])===K[0]?K:O:O},null)[1]}function y(a,
k){return k.reduce((E,K)=>{E[K]=a[K];return E},{})}function p(a,k){return Object.prototype.hasOwnProperty.call(a,k)}function e(a,k,E){return w(a)&&a>=k&&a<=E}function r(a,k=2){const E=0>a?"-":"";a=E?-1*a:a;k=a.toString().length<k?("0".repeat(k)+a).slice(-k):a.toString();return`${E}${k}`}function t(a){if(!C(a)&&null!==a&&""!==a)return parseInt(a,10)}function c(a){if(!C(a)&&null!==a&&""!==a)return parseFloat(a)}function f(a){if(!C(a)&&null!==a&&""!==a)return a=1E3*parseFloat("0."+a),Math.floor(a)}function h(a,
k,E=!1){k=10**k;return(E?Math.trunc:Math.round)(a*k)/k}function l(a){return 0===a%4&&(0!==a%100||0===a%400)}function v(a,k){var E=k-1;E=E-12*Math.floor(E/12)+1;return 2===E?l(a+(k-E)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][E-1]}function D(a){let k=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);100>a.year&&0<=a.year&&(k=new Date(k),k.setUTCFullYear(k.getUTCFullYear()-1900));return+k}function B(a){var k=a-1;k=(k+Math.floor(k/4)-Math.floor(k/100)+Math.floor(k/400))%
7;return 4===(a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400))%7||3===k?53:52}function L(a){return 99<a?a:60<a?1900+a:2E3+a}function b(a,k,E,K=null){a=new Date(a);const O={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};K&&(O.timeZone=K);return(k=(new Intl.DateTimeFormat(E,{timeZoneName:k,...O})).formatToParts(a).find(T=>"timezonename"===T.type.toLowerCase()))?k.value:null}function q(a,k){a=parseInt(a,10);Number.isNaN(a)&&(a=0);k=parseInt(k,10)||
0;k=0>a||Object.is(a,-0)?-k:k;return 60*a+k}function d(a){const k=Number(a);if("boolean"===typeof a||""===a||Number.isNaN(k))throw new bb(`Invalid unit value ${a}`);return k}function z(a,k){const E={};for(const K in a)if(p(a,K)){const O=a[K];void 0!==O&&null!==O&&(E[k(K)]=d(O))}return E}function g(a,k){const E=Math.trunc(Math.abs(a/60)),K=Math.trunc(Math.abs(a%60));a=0<=a?"+":"-";switch(k){case "short":return`${a}${r(E,2)}:${r(K,2)}`;case "narrow":return`${a}${E}${0<K?`:${K}`:""}`;case "techie":return`${a}${r(E,
2)}${r(K,2)}`;default:throw new RangeError(`Value format ${k} is out of range for property format`);}}function Q(a){return y(a,["hour","minute","second","millisecond"])}function U(a){switch(a){case "narrow":return[...Fc];case "short":return[...Ob];case "long":return[...Gc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function aa(a){switch(a){case "narrow":return[...Hc];case "short":return[...Pb];
case "long":return[...Qb];case "numeric":return"1234567".split("");default:return null}}function ta(a){switch(a){case "narrow":return[...Ic];case "short":return[...Jc];case "long":return[...Kc];default:return null}}function ka(a,k,E="always",K=!1){const O={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var T=-1===["hours","minutes","seconds"].indexOf(a);
if("auto"===E&&T)switch(E="days"===a,k){case 1:return E?"tomorrow":`next ${O[a][0]}`;case -1:return E?"yesterday":`last ${O[a][0]}`;case 0:return E?"today":`this ${O[a][0]}`}E=Object.is(k,-0)||0>k;k=Math.abs(k);T=1===k;const da=O[a];a=K?T?da[1]:da[2]||da[1]:T?O[a][0]:a;return E?`${k} ${a} ago`:`in ${k} ${a}`}function Da(a,k){let E="";for(const K of a)E=K.literal?E+K.val:E+k(K.val);return E}function Ra(a,k){if(C(a)||null===a)return k;if(a instanceof tb)return a;if("string"===typeof a){const E=a.toLowerCase();
return"local"===E||"system"===E?k:"utc"===E||"gmt"===E?$a.utcInstance:eb.isValidSpecifier(E)?eb.create(a):$a.parseSpecifier(E)||new Rb(a)}return H(a)?$a.instance(a):"object"===typeof a&&a.offset&&"number"===typeof a.offset?a:new Rb(a)}function Sa(a,k={}){const E=JSON.stringify([a,k]);let K=Bb[E];K||(K=new Intl.DateTimeFormat(a,k),Bb[E]=K);return K}function ha(a,k={}){const E=JSON.stringify([a,k]);let K=Cb[E];K||(K=new Intl.NumberFormat(a,k),Cb[E]=K);return K}function fa(a,k={}){const {base:E,...K}=
k,O=JSON.stringify([a,K]);let T=Db[O];T||(T=new Intl.RelativeTimeFormat(a,k),Db[O]=T);return T}function la(a){const k=[];for(let E=1;12>=E;E++){const K=Ea.utc(2016,E,1);k.push(a(K))}return k}function oa(a){const k=[];for(let E=1;7>=E;E++){const K=Ea.utc(2016,11,13+E);k.push(a(K))}return k}function M(a,k,E,K,O){a=a.listingMode(E);return"error"===a?null:"en"===a?K(k):O(k)}function W(...a){a=a.reduce((k,E)=>k+E.source,"");return RegExp(`^${a}$`)}function V(...a){return k=>a.reduce(([E,K,O],T)=>{const [da,
ja,pa]=T(k,O);return[{...E,...da},K||ja,pa]},[{},null,1]).slice(0,2)}function X(a,...k){if(null==a)return[null,null];for(const [E,K]of k)if(k=E.exec(a))return K(k);return[null,null]}function ma(...a){return(k,E)=>{const K={};let O;for(O=0;O<a.length;O++)K[a[O]]=t(k[E+O]);return[K,null,E+O]}}function sa(a,k,E){a=a[k];return C(a)?E:t(a)}function Fa(a,k){return[{year:sa(a,k),month:sa(a,k+1,1),day:sa(a,k+2,1)},null,k+3]}function Y(a,k){return[{hours:sa(a,k,0),minutes:sa(a,k+1,0),seconds:sa(a,k+2,0),milliseconds:f(a[k+
3])},null,k+4]}function ia(a,k){const E=!a[k]&&!a[k+1];a=q(a[k+1],a[k+2]);return[{},E?null:$a.instance(a),k+3]}function wa(a,k){return[{},a[k]?eb.create(a[k]):null,k+1]}function Aa(a){const [k,E,K,O,T,da,ja,pa,Ma]=a,Ca="-"===k[0];a=pa&&"-"===pa[0];const Ja=(Oa,kb=!1)=>void 0!==Oa&&(kb||Oa&&Ca)?-Oa:Oa;return[{years:Ja(c(E)),months:Ja(c(K)),weeks:Ja(c(O)),days:Ja(c(T)),hours:Ja(c(da)),minutes:Ja(c(ja)),seconds:Ja(c(pa),"-0"===pa),milliseconds:Ja(f(Ma),a)}]}function Qa(a,k,E,K,O,T,da){k={year:2===k.length?
L(t(k)):t(k),month:Ob.indexOf(E)+1,day:t(K),hour:t(O),minute:t(T)};da&&(k.second=t(da));a&&(k.weekday=3<a.length?Qb.indexOf(a)+1:Pb.indexOf(a)+1);return k}function I(a){const [,k,E,K,O,T,da,ja,pa,Ma,Ca,Ja]=a;a=Qa(k,O,K,E,T,da,ja);let Oa;Oa=pa?Lc[pa]:Ma?0:q(Ca,Ja);return[a,new $a(Oa)]}function G(a){const [,k,E,K,O,T,da,ja]=a;return[Qa(k,O,K,E,T,da,ja),$a.utcInstance]}function R(a){const [,k,E,K,O,T,da,ja]=a;return[Qa(k,ja,E,K,O,T,da),$a.utcInstance]}function S(a,k,E=!1){a={values:E?k.values:{...a.values,
...k.values||{}},loc:a.loc.clone(k.loc),conversionAccuracy:k.conversionAccuracy||a.conversionAccuracy};return new Ka(a)}function ca(a,k,E,K,O){a=a[O][E];var T=k[E]/a;T=Math.sign(T)!==Math.sign(K[O])&&0!==K[O]&&1>=Math.abs(T)?0>T?Math.floor(T):Math.ceil(T):Math.trunc(T);K[O]+=T;k[E]-=T*a}function za(a,k){Mc.reduce((E,K)=>{if(C(k[K]))return E;E&&ca(a,k,E,k,K);return K},null)}function Pa(a,k){a=k.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();
return Math.floor(Ka.fromMillis(a).as("days"))}function u(a,k,E){var K=[["years",(ja,pa)=>pa.year-ja.year],["quarters",(ja,pa)=>pa.quarter-ja.quarter],["months",(ja,pa)=>pa.month-ja.month+12*(pa.year-ja.year)],["weeks",(ja,pa)=>{ja=Pa(ja,pa);return(ja-ja%7)/7}],["days",Pa]];const O={};let T,da;for(const [ja,pa]of K)0<=E.indexOf(ja)&&(T=ja,K=pa(a,k),da=a.plus({[ja]:K}),da>k?(a=a.plus({[ja]:K-1}),--K):a=da,O[ja]=K);return[a,O,da,T]}function x(a,k,E,K){let [O,T,da,ja]=u(a,k,E);a=k-O;E=E.filter(pa=>0<=
["hours","minutes","seconds","milliseconds"].indexOf(pa));0===E.length&&(da<k&&(da=O.plus({[ja]:1})),da!==O&&(T[ja]=(T[ja]||0)+a/(da-O)));k=Ka.fromObject(T,K);return 0<E.length?Ka.fromMillis(a,K).shiftTo(...E).plus(k):k}function P({numberingSystem:a},k=""){return new RegExp(`${Eb[a||"latn"]}${k}`)}function J(a,k=E=>E){return{regex:a,deser:([E])=>{{let K=parseInt(E,10);if(isNaN(K)){K="";for(let O=0;O<E.length;O++){const T=E.charCodeAt(O);if(-1!==E[O].search(Eb.hanidec))K+=Nc.indexOf(E[O]);else for(const da in Sb){const [ja,
pa]=Sb[da];T>=ja&&T<=pa&&(K+=T-ja)}}E=parseInt(K,10)}else E=K}return k(E)}}}function ba(a){return a.replace(/\./g,"\\.?").replace(Fb,Tb)}function va(a,k){return null===a?null:{regex:RegExp(a.map(ba).join("|")),deser:([E])=>a.findIndex(K=>E.replace(/\./g,"").replace(Fb," ").toLowerCase()===K.replace(/\./g,"").replace(Fb," ").toLowerCase())+k}}function xa(a,k){return{regex:a,deser:([,E,K])=>q(E,K),groups:k}}function La(a){return{regex:a,deser:([k])=>k}}function ya(a,k){const E=P(k),K=P(k,"{2}"),O=P(k,
"{3}"),T=P(k,"{4}"),da=P(k,"{6}"),ja=P(k,"{1,2}"),pa=P(k,"{1,3}"),Ma=P(k,"{1,6}"),Ca=P(k,"{1,9}"),Ja=P(k,"{2,4}"),Oa=P(k,"{4,6}"),kb=ub=>({regex:RegExp(ub.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([Oc])=>Oc,literal:!0}),pb=(ub=>{if(a.literal)return kb(ub);switch(ub.val){case "G":return va(k.eras("short",!1),0);case "GG":return va(k.eras("long",!1),0);case "y":return J(Ma);case "yy":return J(Ja,L);case "yyyy":return J(T);case "yyyyy":return J(Oa);case "yyyyyy":return J(da);case "M":return J(ja);
case "MM":return J(K);case "MMM":return va(k.months("short",!0,!1),1);case "MMMM":return va(k.months("long",!0,!1),1);case "L":return J(ja);case "LL":return J(K);case "LLL":return va(k.months("short",!1,!1),1);case "LLLL":return va(k.months("long",!1,!1),1);case "d":return J(ja);case "dd":return J(K);case "o":return J(pa);case "ooo":return J(O);case "HH":return J(K);case "H":return J(ja);case "hh":return J(K);case "h":return J(ja);case "mm":return J(K);case "m":return J(ja);case "q":return J(ja);
case "qq":return J(K);case "s":return J(ja);case "ss":return J(K);case "S":return J(pa);case "SSS":return J(O);case "u":return La(Ca);case "uu":return La(ja);case "uuu":return J(E);case "a":return va(k.meridiems(),0);case "kkkk":return J(T);case "kk":return J(Ja,L);case "W":return J(ja);case "WW":return J(K);case "E":case "c":return J(E);case "EEE":return va(k.weekdays("short",!1,!1),1);case "EEEE":return va(k.weekdays("long",!1,!1),1);case "ccc":return va(k.weekdays("short",!0,!1),1);case "cccc":return va(k.weekdays("long",
!0,!1),1);case "Z":case "ZZ":return xa(new RegExp(`([+-]${ja.source})(?::(${K.source}))?`),2);case "ZZZ":return xa(new RegExp(`([+-]${ja.source})(${K.source})?`),2);case "z":return La(/[a-z_+-/]{1,256}?/i);default:return kb(ub)}})(a)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};pb.token=a;return pb}function ea(a){return[`^${a.map(k=>k.regex).reduce((k,E)=>`${k}(${E.source})`,"")}$`,a]}function ua(a,k,E){if(a=a.match(k)){k={};let K=1;for(const O in E)if(p(E,O)){const T=E[O],
da=T.groups?T.groups+1:1;!T.literal&&T.token&&(k[T.token.val[0]]=T.deser(a.slice(K,K+da)));K+=da}return[a,k]}return[a,{}]}function gb(a){const k=K=>{switch(K){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}};
let E;E=C(a.Z)?C(a.z)?null:eb.create(a.z):new $a(a.Z);C(a.q)||(a.M=3*(a.q-1)+1);C(a.h)||(12>a.h&&1===a.a?a.h+=12:12===a.h&&0===a.a&&(a.h=0));0===a.G&&a.y&&(a.y=-a.y);C(a.u)||(a.S=f(a.u));return[Object.keys(a).reduce((K,O)=>{const T=k(O);T&&(K[T]=a[O]);return K},{}),E]}function hb(){Gb||(Gb=Ea.fromMillis(1555555555555));return Gb}function ib(a,k){if(a.literal)return a;const E=ab.macroTokenToFormatOpts(a.val);if(!E)return a;k=ab.create(k,E).formatDateTimeParts(hb()).map(K=>{{const {type:T,value:da}=
K;if("literal"===T)K={literal:!0,val:da};else{K=E[T];var O=Pc[T];"object"===typeof O&&(O=O[K]);K=O?{literal:!1,val:O}:void 0}}return K});return k.includes(void 0)?a:k}function jb(a,k){return Array.prototype.concat(...a.map(E=>ib(E,k)))}function mb(a,k,E){E=jb(ab.parseFormat(E),a);var K=E.map(T=>ya(T,a));const O=K.find(T=>T.invalidReason);if(O)return{input:k,tokens:E,invalidReason:O.invalidReason};{const [T,da]=ea(K);K=RegExp(T,"i");const [ja,pa]=ua(k,K,da),[Ma,Ca]=pa?gb(pa):[null,null];if(p(pa,"a")&&
p(pa,"H"))throw new vb("Can't include meridiem when specifying 24-hour format");return{input:k,tokens:E,regex:K,rawMatches:ja,matches:pa,result:Ma,zone:Ca}}}function Xa(a,k){return new db("unit out of range",`you specified ${k} (of type ${typeof k}) as a ${a}, which is invalid`)}function na(a,k,E){a=(new Date(Date.UTC(a,k-1,E))).getUTCDay();return 0===a?7:a}function Ia(a,k){a=l(a)?Hb:Ib;const E=a.findIndex(K=>K<k);return{month:E+1,day:k-a[E]}}function Ga(a){const {year:k,month:E,day:K}=a;var O=K+
(l(k)?Hb:Ib)[E-1];const T=na(k,E,K);O=Math.floor((O-T+10)/7);let da;1>O?(da=k-1,O=B(da)):O>B(k)?(da=k+1,O=1):da=k;return{weekYear:da,weekNumber:O,weekday:T,...Q(a)}}function Ba(a){const {weekYear:k,weekNumber:E,weekday:K}=a;var O=na(k,1,4),T=l(k)?366:365;O=7*E+K-O-3;1>O?(T=k-1,O+=l(T)?366:365):O>T?(T=k+1,O-=l(k)?366:365):T=k;const {month:da,day:ja}=Ia(T,O);return{year:T,month:da,day:ja,...Q(a)}}function Ya(a){const {year:k,month:E,day:K}=a;var O=K+(l(k)?Hb:Ib)[E-1];return{year:k,ordinal:O,...Q(a)}}
function A(a){const {year:k,ordinal:E}=a,{month:K,day:O}=Ia(k,E);return{year:k,month:K,day:O,...Q(a)}}function N(a){const k=w(a.year),E=e(a.month,1,12),K=e(a.day,1,v(a.year,a.month));return k?E?K?!1:Xa("day",a.day):Xa("month",a.month):Xa("year",a.year)}function Z(a){const {hour:k,minute:E,second:K,millisecond:O}=a;a=e(k,0,23)||24===k&&0===E&&0===K&&0===O;const T=e(E,0,59),da=e(K,0,59),ja=e(O,0,999);return a?T?da?ja?!1:Xa("millisecond",O):Xa("second",K):Xa("minute",E):Xa("hour",k)}function ra(a){return new db("unsupported zone",
`the zone "${a.name}" is not supported`)}function qa(a){null===a.weekData&&(a.weekData=Ga(a.c));return a.weekData}function Ha(a,k){a={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new Ea({...a,...k,old:a})}function Na(a,k,E){let K=a-6E4*k;const O=E.offset(K);if(k===O)return[K,k];K-=6E4*(O-k);k=E.offset(K);return O===k?[K,O]:[a-6E4*Math.min(O,k),Math.max(O,k)]}function Za(a,k){a=new Date(a+6E4*k);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),
minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()}}function Va(a,k,E){return Na(D(a),k,E)}function cb(a,k){const E=a.o;var K=a.c.year+Math.trunc(k.years);const O=a.c.month+Math.trunc(k.months)+3*Math.trunc(k.quarters);K={...a.c,year:K,month:O,day:Math.min(a.c.day,v(K,O))+Math.trunc(k.days)+7*Math.trunc(k.weeks)};k=Ka.fromObject({years:k.years-Math.trunc(k.years),quarters:k.quarters-Math.trunc(k.quarters),months:k.months-Math.trunc(k.months),weeks:k.weeks-Math.trunc(k.weeks),
days:k.days-Math.trunc(k.days),hours:k.hours,minutes:k.minutes,seconds:k.seconds,milliseconds:k.milliseconds}).as("milliseconds");K=D(K);let [T,da]=Na(K,E,a.zone);0!==k&&(T+=k,da=a.zone.offset(T));return{ts:T,o:da}}function nb(a,k,E,K,O){const {setZone:T,zone:da}=E;return a&&0!==Object.keys(a).length?(a=Ea.fromObject(a,{...E,zone:k||da}),T?a:a.setZone(da)):Ea.invalid(new db("unparsable",`the input "${O}" can't be parsed as ${K}`))}function fb(a,k,E=!0){return a.isValid?ab.create(Ta.create("en-US"),
{allowZ:E,forceSimple:!0}).formatDateTimeFromString(a,k):null}function rb(a,{suppressSeconds:k=!1,suppressMilliseconds:E=!1,includeOffset:K,includePrefix:O=!1,includeZone:T=!1,spaceZone:da=!1,format:ja="extended"}){let pa="basic"===ja?"HHmm":"HH:mm";k&&0===a.second&&0===a.millisecond||(pa+="basic"===ja?"ss":":ss",E&&0===a.millisecond||(pa+=".SSS"));(T||K)&&da&&(pa+=" ");T?pa+="z":K&&(pa+="basic"===ja?"ZZZ":"ZZ");a=fb(a,pa);O&&(a="T"+a);return a}function sb(a){const k={year:"year",years:"year",month:"month",
months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!k)throw new Ub(a);return k}function Vb(a,k){const E=Ra(k.zone,Wa.defaultZone);k=Ta.fromObject(k);
const K=Wa.now();var O;if(C(a.year))a=K;else{for(const T of Wb)C(a[T])&&(a[T]=Xb[T]);if(O=N(a)||Z(a))return Ea.invalid(O);O=E.offset(K);[a,O]=Va(a,O,E)}return new Ea({ts:a,zone:E,loc:k,o:O})}function Yb(a,k,E){const K=C(E.round)?!0:E.round,O=(da,ja)=>{da=h(da,K||E.calendary?0:2,!0);return k.loc.clone(E).relFormatter(E).format(da,ja)},T=da=>E.calendary?k.hasSame(a,da)?0:k.startOf(da).diff(a.startOf(da),da).get(da):k.diff(a,da).get(da);if(E.unit)return O(T(E.unit),E.unit);for(const da of E.units){const ja=
T(da);if(1<=Math.abs(ja))return O(ja,da)}return O(a>k?-0:0,E.units[E.units.length-1])}function Zb(a){let k={};0<a.length&&"object"===typeof a[a.length-1]?(k=a[a.length-1],a=Array.from(a).slice(0,a.length-1)):a=Array.from(a);return[k,a]}function wb(a){if(Ea.isDateTime(a))return a;if(a&&a.valueOf&&H(a.valueOf()))return Ea.fromJSDate(a);if(a&&"object"===typeof a)return Ea.fromObject(a);throw new bb(`Unknown datetime argument: ${a}, of type ${typeof a}`);}class ob extends Error{}class Qc extends ob{constructor(a){super(`Invalid DateTime: ${a.toMessage()}`)}}
class Rc extends ob{constructor(a){super(`Invalid Interval: ${a.toMessage()}`)}}class Sc extends ob{constructor(a){super(`Invalid Duration: ${a.toMessage()}`)}}class vb extends ob{}class Ub extends ob{constructor(a){super(`Invalid unit ${a}`)}}class bb extends ob{}class lb extends ob{constructor(){super("Zone is an abstract class")}}const Jb={year:"numeric",month:"numeric",day:"numeric"},$b={year:"numeric",month:"short",day:"numeric"},Tc={year:"numeric",month:"short",day:"numeric",weekday:"short"},
ac={year:"numeric",month:"long",day:"numeric"},bc={year:"numeric",month:"long",day:"numeric",weekday:"long"},cc={hour:"numeric",minute:"numeric"},dc={hour:"numeric",minute:"numeric",second:"numeric"},ec={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},fc={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},gc={hour:"numeric",minute:"numeric",hourCycle:"h23"},hc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},ic={hour:"numeric",minute:"numeric",
second:"numeric",hourCycle:"h23",timeZoneName:"short"},jc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},kc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},lc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},mc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},nc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},
Uc={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},oc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},pc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},qc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},rc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",
minute:"numeric",second:"numeric",timeZoneName:"long"},sc=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z0-9_+-]{1,256}(\/[A-Za-z0-9_+-]{1,256})?)?/,Gc="January February March April May June July August September October November December".split(" "),Ob="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Fc="JFMAMJJASOND".split(""),Qb="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Pb="Mon Tue Wed Thu Fri Sat Sun".split(" "),Hc="MTWTFSS".split(""),tc=["AM","PM"],Kc=["Before Christ",
"Anno Domini"],Jc=["BC","AD"],Ic=["B","A"],Vc={D:Jb,DD:$b,DDD:ac,DDDD:bc,t:cc,tt:dc,ttt:ec,tttt:fc,T:gc,TT:hc,TTT:ic,TTTT:jc,f:kc,ff:mc,fff:oc,ffff:qc,F:lc,FF:nc,FFF:pc,FFFF:rc};class ab{static create(a,k={}){return new ab(a,k)}static parseFormat(a){let k=null,E="",K=!1;const O=[];for(let T=0;T<a.length;T++){const da=a.charAt(T);"'"===da?(0<E.length&&O.push({literal:K,val:E}),k=null,E="",K=!K):K?E+=da:da===k?E+=da:(0<E.length&&O.push({literal:!1,val:E}),k=E=da)}0<E.length&&O.push({literal:K,val:E});
return O}static macroTokenToFormatOpts(a){return Vc[a]}constructor(a,k){this.opts=k;this.loc=a;this.systemLoc=null}formatWithSystemDefault(a,k){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(a,{...this.opts,...k}).format()}formatDateTime(a,k={}){return this.loc.dtFormatter(a,{...this.opts,...k}).format()}formatDateTimeParts(a,k={}){return this.loc.dtFormatter(a,{...this.opts,...k}).formatToParts()}resolvedOptions(a,k={}){return this.loc.dtFormatter(a,
{...this.opts,...k}).resolvedOptions()}num(a,k=0){if(this.opts.forceSimple)return r(a,k);const E={...this.opts};0<k&&(E.padTo=k);return this.loc.numberFormatter(E).format(a)}formatDateTimeFromString(a,k){const E="en"===this.loc.listingMode(),K=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,O=(Ca,Ja)=>this.loc.extract(a,Ca,Ja),T=Ca=>a.isOffsetFixed&&0===a.offset&&Ca.allowZ?"Z":a.isValid?a.zone.formatOffset(a.ts,Ca.format):"",da=(Ca,Ja)=>E?U(Ca)[a.month-1]:O(Ja?{month:Ca}:{month:Ca,day:"numeric"},
"month"),ja=(Ca,Ja)=>E?aa(Ca)[a.weekday-1]:O(Ja?{weekday:Ca}:{weekday:Ca,month:"long",day:"numeric"},"weekday"),pa=Ca=>{const Ja=ab.macroTokenToFormatOpts(Ca);return Ja?this.formatWithSystemDefault(a,Ja):Ca},Ma=Ca=>E?ta(Ca)[0>a.year?0:1]:O({era:Ca},"era");return Da(ab.parseFormat(k),Ca=>{switch(Ca){case "S":return this.num(a.millisecond);case "u":case "SSS":return this.num(a.millisecond,3);case "s":return this.num(a.second);case "ss":return this.num(a.second,2);case "uu":return this.num(Math.floor(a.millisecond/
10),2);case "uuu":return this.num(Math.floor(a.millisecond/100));case "m":return this.num(a.minute);case "mm":return this.num(a.minute,2);case "h":return this.num(0===a.hour%12?12:a.hour%12);case "hh":return this.num(0===a.hour%12?12:a.hour%12,2);case "H":return this.num(a.hour);case "HH":return this.num(a.hour,2);case "Z":return T({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return T({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return T({format:"techie",allowZ:this.opts.allowZ});
case "ZZZZ":return a.zone.offsetName(a.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return a.zone.offsetName(a.ts,{format:"long",locale:this.loc.locale});case "z":return a.zoneName;case "a":return E?tc[12>a.hour?0:1]:O({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return K?O({day:"numeric"},"day"):this.num(a.day);case "dd":return K?O({day:"2-digit"},"day"):this.num(a.day,2);case "c":return this.num(a.weekday);case "ccc":return ja("short",!0);case "cccc":return ja("long",!0);case "ccccc":return ja("narrow",
!0);case "E":return this.num(a.weekday);case "EEE":return ja("short",!1);case "EEEE":return ja("long",!1);case "EEEEE":return ja("narrow",!1);case "L":return K?O({month:"numeric",day:"numeric"},"month"):this.num(a.month);case "LL":return K?O({month:"2-digit",day:"numeric"},"month"):this.num(a.month,2);case "LLL":return da("short",!0);case "LLLL":return da("long",!0);case "LLLLL":return da("narrow",!0);case "M":return K?O({month:"numeric"},"month"):this.num(a.month);case "MM":return K?O({month:"2-digit"},
"month"):this.num(a.month,2);case "MMM":return da("short",!1);case "MMMM":return da("long",!1);case "MMMMM":return da("narrow",!1);case "y":return K?O({year:"numeric"},"year"):this.num(a.year);case "yy":return K?O({year:"2-digit"},"year"):this.num(a.year.toString().slice(-2),2);case "yyyy":return K?O({year:"numeric"},"year"):this.num(a.year,4);case "yyyyyy":return K?O({year:"numeric"},"year"):this.num(a.year,6);case "G":return Ma("short");case "GG":return Ma("long");case "GGGGG":return Ma("narrow");
case "kk":return this.num(a.weekYear.toString().slice(-2),2);case "kkkk":return this.num(a.weekYear,4);case "W":return this.num(a.weekNumber);case "WW":return this.num(a.weekNumber,2);case "o":return this.num(a.ordinal);case "ooo":return this.num(a.ordinal,3);case "q":return this.num(a.quarter);case "qq":return this.num(a.quarter,2);case "X":return this.num(Math.floor(a.ts/1E3));case "x":return this.num(a.ts);default:return pa(Ca)}})}formatDurationFromString(a,k){const E=O=>{switch(O[0]){case "S":return"millisecond";
case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "M":return"month";case "y":return"year";default:return null}};k=ab.parseFormat(k);const K=k.reduce((O,{literal:T,val:da})=>T?O:O.concat(da),[]);a=a.shiftTo(...K.map(E).filter(O=>O));return Da(k,(O=>T=>{const da=E(T);return da?this.num(O.get(da),T.length):T})(a))}}class db{constructor(a,k){this.reason=a;this.explanation=k}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}
class tb{get type(){throw new lb;}get name(){throw new lb;}get isUniversal(){throw new lb;}offsetName(a,k){throw new lb;}formatOffset(a,k){throw new lb;}offset(a){throw new lb;}equals(a){throw new lb;}get isValid(){throw new lb;}}let Kb=null;class uc extends tb{static get instance(){null===Kb&&(Kb=new uc);return Kb}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(a,{format:k,locale:E}){return b(a,k,E)}formatOffset(a,
k){return g(this.offset(a),k)}offset(a){return-(new Date(a)).getTimezoneOffset()}equals(a){return"system"===a.type}get isValid(){return!0}}const Wc=RegExp(`^${sc.source}$`);let xb={};const Xc={year:0,month:1,day:2,hour:3,minute:4,second:5};let yb={};class eb extends tb{static create(a){yb[a]||(yb[a]=new eb(a));return yb[a]}static resetCache(){yb={};xb={}}static isValidSpecifier(a){return!(!a||!a.match(Wc))}static isValidZone(a){if(!a)return!1;try{return(new Intl.DateTimeFormat("en-US",{timeZone:a})).format(),
!0}catch(k){return!1}}constructor(a){super();this.zoneName=a;this.valid=eb.isValidZone(a)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(a,{format:k,locale:E}){return b(a,k,E,this.name)}formatOffset(a,k){return g(this.offset(a),k)}offset(a){a=new Date(a);if(isNaN(a))return NaN;var k=this.name;xb[k]||(xb[k]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:k,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}));
k=xb[k];if(k.formatToParts){k=k.formatToParts(a);var E=[];for(let Ma=0;Ma<k.length;Ma++){const {type:Ca,value:Ja}=k[Ma],Oa=Xc[Ca];C(Oa)||(E[Oa]=parseInt(Ja,10))}k=E}else{{k=k.format(a).replace(/\u200E/g,"");k=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(k);const [,Ma,Ca,Ja,Oa,kb,pb]=k;k=[Ja,Ma,Ca,Oa,kb,pb]}}const [K,O,T,da,ja,pa]=k;k=D({year:K,month:O,day:T,hour:24===da?0:da,minute:ja,second:pa,millisecond:0});a=+a;E=a%1E3;return(k-(a-(0<=E?E:1E3+E)))/6E4}equals(a){return"iana"===a.type&&a.name===
this.name}get isValid(){return this.valid}}let Lb=null;class $a extends tb{static get utcInstance(){null===Lb&&(Lb=new $a(0));return Lb}static instance(a){return 0===a?$a.utcInstance:new $a(a)}static parseSpecifier(a){return a&&(a=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new $a(q(a[1],a[2])):null}constructor(a){super();this.fixed=a}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${g(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(a,k){return g(this.fixed,
k)}get isUniversal(){return!0}offset(){return this.fixed}equals(a){return"fixed"===a.type&&a.fixed===this.fixed}get isValid(){return!0}}class Rb extends tb{constructor(a){super();this.zoneName=a}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let vc=()=>Date.now(),wc="system",xc=null,yc=null,zc=null,Ac;class Wa{static get now(){return vc}static set now(a){vc=
a}static set defaultZone(a){wc=a}static get defaultZone(){return Ra(wc,uc.instance)}static get defaultLocale(){return xc}static set defaultLocale(a){xc=a}static get defaultNumberingSystem(){return yc}static set defaultNumberingSystem(a){yc=a}static get defaultOutputCalendar(){return zc}static set defaultOutputCalendar(a){zc=a}static get throwOnInvalid(){return Ac}static set throwOnInvalid(a){Ac=a}static resetCaches(){Ta.resetCache();eb.resetCache()}}let Bb={},Cb={},Db={},zb=null;class Yc{constructor(a,
k,E){this.padTo=E.padTo||0;this.floor=E.floor||!1;k||(k={useGrouping:!1},0<E.padTo&&(k.minimumIntegerDigits=E.padTo),this.inf=ha(a,k))}format(a){if(this.inf)return this.inf.format(this.floor?Math.floor(a):a);a=this.floor?Math.floor(a):h(a,3);return r(a,this.padTo)}}class Zc{constructor(a,k,E){this.opts=E;if(a.zone.isUniversal){var K=a.offset/60*-1;K=0<=K?`Etc/GMT+${K}`:`Etc/GMT${K}`;0!==a.offset&&eb.create(K).valid?this.dt=a:(K="UTC",this.dt=E.timeZoneName?a:0===a.offset?a:Ea.fromMillis(a.ts+6E4*
a.offset))}else"system"===a.zone.type?this.dt=a:(this.dt=a,K=a.zone.name);a={...this.opts};K&&(a.timeZone=K);this.dtf=Sa(k,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class $c{constructor(a,k,E){this.opts={style:"long",...E};!k&&n()&&(this.rtf=fa(a,E))}format(a,k){return this.rtf?this.rtf.format(a,k):ka(k,a,this.opts.numeric,"long"!==this.opts.style)}formatToParts(a,k){return this.rtf?
this.rtf.formatToParts(a,k):[]}}class Ta{static fromOpts(a){return Ta.create(a.locale,a.numberingSystem,a.outputCalendar,a.defaultToEN)}static create(a,k,E,K=!1){a=a||Wa.defaultLocale;var O;(O=a)||(K?K="en-US":(zb||(zb=(new Intl.DateTimeFormat).resolvedOptions().locale),K=zb),O=K);return new Ta(O,k||Wa.defaultNumberingSystem,E||Wa.defaultOutputCalendar,a)}static resetCache(){zb=null;Bb={};Cb={};Db={}}static fromObject({locale:a,numberingSystem:k,outputCalendar:E}={}){return Ta.create(a,k,E)}constructor(a,
k,E,K){var O=a.indexOf("-u-");if(-1===O)a=[a];else{let pa;O=a.substring(0,O);try{pa=Sa(a).resolvedOptions()}catch(Ja){pa=Sa(O).resolvedOptions()}const {numberingSystem:Ma,calendar:Ca}=pa;a=[O,Ma,Ca]}const [T,da,ja]=a;this.locale=T;this.numberingSystem=k||da||null;this.outputCalendar=E||ja||null;k=this.locale;E=this.numberingSystem;if((a=this.outputCalendar)||E)k+="-u",a&&(k+=`-ca-${a}`),E&&(k+=`-nu-${E}`);this.intl=k;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};
this.meridiemCache=null;this.eraCache={};this.specifiedLocale=K;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var a=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=a}return this.fastNumbersCached}listingMode(a){a=this.isEnglish();const k=(null===this.numberingSystem||"latn"===this.numberingSystem)&&
(null===this.outputCalendar||"gregory"===this.outputCalendar);return a&&k?"en":"intl"}clone(a){return a&&0!==Object.getOwnPropertyNames(a).length?Ta.create(a.locale||this.specifiedLocale,a.numberingSystem||this.numberingSystem,a.outputCalendar||this.outputCalendar,a.defaultToEN||!1):this}redefaultToEN(a={}){return this.clone({...a,defaultToEN:!0})}redefaultToSystem(a={}){return this.clone({...a,defaultToEN:!1})}months(a,k=!1,E=!0){return M(this,a,E,U,()=>{const K=k?{month:a,day:"numeric"}:{month:a},
O=k?"format":"standalone";this.monthsCache[O][a]||(this.monthsCache[O][a]=la(T=>this.extract(T,K,"month")));return this.monthsCache[O][a]})}weekdays(a,k=!1,E=!0){return M(this,a,E,aa,()=>{const K=k?{weekday:a,year:"numeric",month:"long",day:"numeric"}:{weekday:a},O=k?"format":"standalone";this.weekdaysCache[O][a]||(this.weekdaysCache[O][a]=oa(T=>this.extract(T,K,"weekday")));return this.weekdaysCache[O][a]})}meridiems(a=!0){return M(this,void 0,a,()=>tc,()=>{if(!this.meridiemCache){const k={hour:"numeric",
hourCycle:"h12"};this.meridiemCache=[Ea.utc(2016,11,13,9),Ea.utc(2016,11,13,19)].map(E=>this.extract(E,k,"dayperiod"))}return this.meridiemCache})}eras(a,k=!0){return M(this,a,k,ta,()=>{const E={era:a};this.eraCache[a]||(this.eraCache[a]=[Ea.utc(-40,1,1),Ea.utc(2017,1,1)].map(K=>this.extract(K,E,"era")));return this.eraCache[a]})}extract(a,k,E){return(a=this.dtFormatter(a,k).formatToParts().find(K=>K.type.toLowerCase()===E))?a.value:null}numberFormatter(a={}){return new Yc(this.intl,a.forceSimple||
this.fastNumbers,a)}dtFormatter(a,k={}){return new Zc(a,this.intl,k)}relFormatter(a={}){return new $c(this.intl,this.isEnglish(),a)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}equals(a){return this.locale===a.locale&&this.numberingSystem===a.numberingSystem&&this.outputCalendar===a.outputCalendar}}const Bc=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Mb=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,
Cc=RegExp(`${Mb.source}${Bc.source}?`),Nb=RegExp(`(?:T${Cc.source})?`),ad=ma("weekYear","weekNumber","weekDay"),bd=ma("year","ordinal"),Dc=RegExp(`${Mb.source} ?(?:${Bc.source}|(${sc.source}))?`),cd=RegExp(`(?: ${Dc.source})?`),dd=RegExp(`^T?${Mb.source}$`),ed=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/,
Lc={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},fd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,gd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,hd=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
id=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,jd=W(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Nb),kd=W(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Nb),ld=W(/(\d{4})-?(\d{3})/,Nb),md=W(Cc),nd=V(Fa,Y,ia),od=V(ad,Y,ia),pd=V(bd,Y,ia),qd=V(Y,ia),rd=V(Y),sd=W(/(\d{4})-(\d\d)-(\d\d)/,cd),td=W(Dc),ud=V(Fa,Y,ia,wa),vd=V(Y,ia,wa),Ec={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,
milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},wd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},...Ec},xd={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,
hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Ec},qb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),Mc=qb.slice(0).reverse();class Ka{constructor(a){const k="longterm"===a.conversionAccuracy||!1;this.values=
a.values;this.loc=a.loc||Ta.create();this.conversionAccuracy=k?"longterm":"casual";this.invalid=a.invalid||null;this.matrix=k?xd:wd;this.isLuxonDuration=!0}static fromMillis(a,k){return Ka.fromObject({milliseconds:a},k)}static fromObject(a,k={}){if(null==a||"object"!==typeof a)throw new bb(`Duration.fromObject: argument expected to be an object, got ${null===a?"null":typeof a}`);return new Ka({values:z(a,Ka.normalizeUnit),loc:Ta.fromObject(k),conversionAccuracy:k.conversionAccuracy})}static fromDurationLike(a){if(H(a))return Ka.fromMillis(a);
if(Ka.isDuration(a))return a;if("object"===typeof a)return Ka.fromObject(a);throw new bb(`Unknown duration argument ${a} of type ${typeof a}`);}static fromISO(a,k){const [E]=X(a,[ed,Aa]);return E?Ka.fromObject(E,k):Ka.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromISOTime(a,k){const [E]=X(a,[dd,rd]);return E?Ka.fromObject(E,k):Ka.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static invalid(a,k=null){if(!a)throw new bb("need to specify a reason the Duration is invalid");
a=a instanceof db?a:new db(a,k);if(Wa.throwOnInvalid)throw new Sc(a);return new Ka({invalid:a})}static normalizeUnit(a){const k={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[a?a.toLowerCase():a];if(!k)throw new Ub(a);return k}static isDuration(a){return a&&
a.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(a,k={}){k={...k,floor:!1!==k.round&&!1!==k.floor};return this.isValid?ab.create(this.loc,k).formatDurationFromString(this,a):"Invalid Duration"}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let a="P";0!==this.years&&(a+=this.years+"Y");if(0!==this.months||0!==this.quarters)a+=this.months+3*this.quarters+
"M";0!==this.weeks&&(a+=this.weeks+"W");0!==this.days&&(a+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)a+="T";0!==this.hours&&(a+=this.hours+"H");0!==this.minutes&&(a+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)a+=h(this.seconds+this.milliseconds/1E3,3)+"S";"P"===a&&(a+="T0S");return a}toISOTime(a={}){if(!this.isValid)return null;var k=this.toMillis();if(0>k||864E5<=k)return null;a={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,
format:"extended",...a};k=this.shiftTo("hours","minutes","seconds","milliseconds");let E="basic"===a.format?"hhmm":"hh:mm";a.suppressSeconds&&0===k.seconds&&0===k.milliseconds||(E+="basic"===a.format?"ss":":ss",a.suppressMilliseconds&&0===k.milliseconds||(E+=".SSS"));k=k.toFormat(E);a.includePrefix&&(k="T"+k);return k}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(a){if(!this.isValid)return this;a=Ka.fromDurationLike(a);
const k={};for(const E of qb)if(p(a.values,E)||p(this.values,E))k[E]=a.get(E)+this.get(E);return S(this,{values:k},!0)}minus(a){if(!this.isValid)return this;a=Ka.fromDurationLike(a);return this.plus(a.negate())}mapUnits(a){if(!this.isValid)return this;const k={};for(const E of Object.keys(this.values))k[E]=d(a(this.values[E],E));return S(this,{values:k},!0)}get(a){return this[Ka.normalizeUnit(a)]}set(a){if(!this.isValid)return this;a={...this.values,...z(a,Ka.normalizeUnit)};return S(this,{values:a})}reconfigure({locale:a,
numberingSystem:k,conversionAccuracy:E}={}){a={loc:this.loc.clone({locale:a,numberingSystem:k})};E&&(a.conversionAccuracy=E);return S(this,a)}as(a){return this.isValid?this.shiftTo(a).get(a):NaN}normalize(){if(!this.isValid)return this;const a=this.toObject();za(this.matrix,a);return S(this,{values:a},!0)}shiftTo(...a){if(!this.isValid||0===a.length)return this;a=a.map(T=>Ka.normalizeUnit(T));const k={},E={},K=this.toObject();let O;for(const T of qb)if(0<=a.indexOf(T)){O=T;let da=0;for(const pa in E)da+=
this.matrix[pa][T]*E[pa],E[pa]=0;H(K[T])&&(da+=K[T]);const ja=Math.trunc(da);k[T]=ja;E[T]=da-ja;for(const pa in K)qb.indexOf(pa)>qb.indexOf(T)&&ca(this.matrix,K,pa,k,T)}else H(K[T])&&(E[T]=K[T]);for(const T in E)0!==E[T]&&(k[O]+=T===O?E[T]:E[T]/this.matrix[O][T]);return S(this,{values:k},!0).normalize()}negate(){if(!this.isValid)return this;const a={};for(const k of Object.keys(this.values))a[k]=-this.values[k];return S(this,{values:a},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?
this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?
this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(a){if(!this.isValid||!a.isValid||!this.loc.equals(a.loc))return!1;for(const K of qb){var k=this.values[K];var E=a.values[K];k=void 0===k||0===k?void 0===E||0===E:k===E;if(!k)return!1}return!0}}class Ua{constructor(a){this.s=a.start;this.e=a.end;this.invalid=a.invalid||null;this.isLuxonInterval=!0}static invalid(a,k=null){if(!a)throw new bb("need to specify a reason the Interval is invalid");
a=a instanceof db?a:new db(a,k);if(Wa.throwOnInvalid)throw new Rc(a);return new Ua({invalid:a})}static fromDateTimes(a,k){a=wb(a);k=wb(k);var E=a&&a.isValid?k&&k.isValid?k<a?Ua.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${k.toISO()}`):null:Ua.invalid("missing or invalid end"):Ua.invalid("missing or invalid start");return null==E?new Ua({start:a,end:k}):E}static after(a,k){k=Ka.fromDurationLike(k);a=wb(a);return Ua.fromDateTimes(a,
a.plus(k))}static before(a,k){k=Ka.fromDurationLike(k);a=wb(a);return Ua.fromDateTimes(a.minus(k),a)}static fromISO(a,k){const [E,K]=(a||"").split("/",2);if(E&&K){let da;try{var O=Ea.fromISO(E,k);da=O.isValid}catch(pa){da=!1}let ja;try{var T=Ea.fromISO(K,k);ja=T.isValid}catch(pa){ja=!1}if(da&&ja)return Ua.fromDateTimes(O,T);if(da){if(T=Ka.fromISO(K,k),T.isValid)return Ua.after(O,T)}else if(ja&&(O=Ka.fromISO(E,k),O.isValid))return Ua.before(T,O)}return Ua.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static isInterval(a){return a&&
a.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(a="milliseconds"){return this.isValid?this.toDuration(...[a]).get(a):NaN}count(a="milliseconds"){if(!this.isValid)return NaN;const k=this.start.startOf(a),E=this.end.startOf(a);return Math.floor(E.diff(k,
a).get(a))+1}hasSame(a){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,a):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(a){return this.isValid?this.s>a:!1}isBefore(a){return this.isValid?this.e<=a:!1}contains(a){return this.isValid?this.s<=a&&this.e>a:!1}set({start:a,end:k}={}){return this.isValid?Ua.fromDateTimes(a||this.s,k||this.e):this}splitAt(...a){if(!this.isValid)return[];a=a.map(wb).filter(T=>this.contains(T)).sort();const k=[];let {s:E}=this,K=0;for(;E<
this.e;){var O=a[K]||this.e;O=+O>+this.e?this.e:O;k.push(Ua.fromDateTimes(E,O));E=O;K+=1}return k}splitBy(a){a=Ka.fromDurationLike(a);if(!this.isValid||!a.isValid||0===a.as("milliseconds"))return[];let {s:k}=this,E=1;const K=[];for(;k<this.e;){var O=this.start.plus(a.mapUnits(T=>T*E));O=+O>+this.e?this.e:O;K.push(Ua.fromDateTimes(k,O));k=O;E+=1}return K}divideEqually(a){return this.isValid?this.splitBy(this.length()/a).slice(0,a):[]}overlaps(a){return this.e>a.s&&this.s<a.e}abutsStart(a){return this.isValid?
+this.e===+a.s:!1}abutsEnd(a){return this.isValid?+a.e===+this.s:!1}engulfs(a){return this.isValid?this.s<=a.s&&this.e>=a.e:!1}equals(a){return this.isValid&&a.isValid?this.s.equals(a.s)&&this.e.equals(a.e):!1}intersection(a){if(!this.isValid)return this;const k=this.s>a.s?this.s:a.s;a=this.e<a.e?this.e:a.e;return k>=a?null:Ua.fromDateTimes(k,a)}union(a){return this.isValid?Ua.fromDateTimes(this.s<a.s?this.s:a.s,this.e>a.e?this.e:a.e):this}static merge(a){const [k,E]=a.sort((K,O)=>K.s-O.s).reduce(([K,
O],T)=>O?O.overlaps(T)||O.abutsStart(T)?[K,O.union(T)]:[K.concat([O]),T]:[K,T],[[],null]);E&&k.push(E);return k}static xor(a){let k=null,E=0;const K=[];a=a.map(O=>[{time:O.s,type:"s"},{time:O.e,type:"e"}]);a=Array.prototype.concat(...a).sort((O,T)=>O.time-T.time);for(const O of a)E+="s"===O.type?1:-1,1===E?k=O.time:(k&&+k!==+O.time&&K.push(Ua.fromDateTimes(k,O.time)),k=null);return Ua.merge(K)}difference(...a){return Ua.xor([this].concat(a)).map(k=>this.intersection(k)).filter(k=>k&&!k.isEmpty())}toString(){return this.isValid?
`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}toISO(a){return this.isValid?`${this.s.toISO(a)}/${this.e.toISO(a)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(a){return this.isValid?`${this.s.toISOTime(a)}/${this.e.toISOTime(a)}`:"Invalid Interval"}toFormat(a,{separator:k=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(a)}${k}${this.e.toFormat(a)}`:"Invalid Interval"}toDuration(a,k){return this.isValid?
this.e.diff(this.s,a,k):Ka.invalid(this.invalidReason)}mapEndpoints(a){return Ua.fromDateTimes(a(this.s),a(this.e))}}class Ab{static hasDST(a=Wa.defaultZone){const k=Ea.now().setZone(a).set({month:12});return!a.isUniversal&&k.offset!==k.set({month:6}).offset}static isValidIANAZone(a){return eb.isValidSpecifier(a)&&eb.isValidZone(a)}static normalizeZone(a){return Ra(a,Wa.defaultZone)}static months(a="long",{locale:k=null,numberingSystem:E=null,locObj:K=null,outputCalendar:O="gregory"}={}){return(K||
Ta.create(k,E,O)).months(a)}static monthsFormat(a="long",{locale:k=null,numberingSystem:E=null,locObj:K=null,outputCalendar:O="gregory"}={}){return(K||Ta.create(k,E,O)).months(a,!0)}static weekdays(a="long",{locale:k=null,numberingSystem:E=null,locObj:K=null}={}){return(K||Ta.create(k,E,null)).weekdays(a)}static weekdaysFormat(a="long",{locale:k=null,numberingSystem:E=null,locObj:K=null}={}){return(K||Ta.create(k,E,null)).weekdays(a,!0)}static meridiems({locale:a=null}={}){return Ta.create(a).meridiems()}static eras(a=
"short",{locale:k=null}={}){return Ta.create(k,null,"gregory").eras(a)}static features(){return{relative:n()}}}const Eb={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",
mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Sb={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Nc=Eb.hanidec.replace(/[\[|\]]/g,
"").split(""),Tb=`( |${String.fromCharCode(160)})`,Fb=new RegExp(Tb,"g"),Pc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};let Gb=null;const Ib=[0,31,59,90,120,151,181,212,243,273,304,334],Hb=[0,31,60,91,121,152,182,213,244,274,305,335],Xb={month:1,
day:1,hour:0,minute:0,second:0,millisecond:0},yd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},zd={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Wb="year month day hour minute second millisecond".split(" "),Ad="weekYear weekNumber weekday hour minute second millisecond".split(" "),Bd="year ordinal hour minute second millisecond".split(" ");class Ea{constructor(a){const k=a.zone||Wa.defaultZone;let E=a.invalid||(Number.isNaN(a.ts)?new db("invalid input"):null)||(k.isValid?null:
ra(k));this.ts=C(a.ts)?Wa.now():a.ts;let K=null;var O=null;E||(a.old&&a.old.ts===this.ts&&a.old.zone.equals(k)?[K,O]=[a.old.c,a.old.o]:(O=k.offset(this.ts),K=Za(this.ts,O),K=(E=Number.isNaN(K.year)?new db("invalid input"):null)?null:K,O=E?null:O));this._zone=k;this.loc=a.loc||Ta.create();this.invalid=E;this.weekData=null;this.c=K;this.o=O;this.isLuxonDateTime=!0}static now(){return new Ea({})}static local(){const [a,k]=Zb(arguments),[E,K,O,T,da,ja,pa]=k;return Vb({year:E,month:K,day:O,hour:T,minute:da,
second:ja,millisecond:pa},a)}static utc(){const [a,k]=Zb(arguments),[E,K,O,T,da,ja,pa]=k;a.zone=$a.utcInstance;return Vb({year:E,month:K,day:O,hour:T,minute:da,second:ja,millisecond:pa},a)}static fromJSDate(a,k={}){a="[object Date]"===Object.prototype.toString.call(a)?a.valueOf():NaN;if(Number.isNaN(a))return Ea.invalid("invalid input");const E=Ra(k.zone,Wa.defaultZone);return E.isValid?new Ea({ts:a,zone:E,loc:Ta.fromObject(k)}):Ea.invalid(ra(E))}static fromMillis(a,k={}){if(H(a))return-864E13>a||
864E13<a?Ea.invalid("Timestamp out of range"):new Ea({ts:a,zone:Ra(k.zone,Wa.defaultZone),loc:Ta.fromObject(k)});throw new bb(`fromMillis requires a numerical input, but received a ${typeof a} with value ${a}`);}static fromSeconds(a,k={}){if(H(a))return new Ea({ts:1E3*a,zone:Ra(k.zone,Wa.defaultZone),loc:Ta.fromObject(k)});throw new bb("fromSeconds requires a numerical input");}static fromObject(a,k={}){a=a||{};var E=Ra(k.zone,Wa.defaultZone);if(!E.isValid)return Ea.invalid(ra(E));var K=Wa.now();
const O=E.offset(K),T=z(a,sb);var da=!C(T.ordinal),ja=!C(T.year),pa=!C(T.month)||!C(T.day);ja=ja||pa;var Ma=T.weekYear||T.weekNumber;k=Ta.fromObject(k);if((ja||da)&&Ma)throw new vb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(pa&&da)throw new vb("Can't mix ordinal dates with month/day");pa=Ma||T.weekday&&!ja;let Ca=Za(K,O);pa?(K=Ad,Ma=yd,Ca=Ga(Ca)):da?(K=Bd,Ma=zd,Ca=Ya(Ca)):(K=Wb,Ma=Xb);let Ja=!1;for(var Oa of K)C(T[Oa])?T[Oa]=Ja?Ma[Oa]:Ca[Oa]:Ja=!0;pa?(Oa=w(T.weekYear),
K=e(T.weekNumber,1,B(T.weekYear)),Ma=e(T.weekday,1,7),Oa=Oa?K?Ma?!1:Xa("weekday",T.weekday):Xa("week",T.week):Xa("weekYear",T.weekYear)):da?(Oa=w(T.year),K=e(T.ordinal,1,l(T.year)?366:365),Oa=Oa?K?!1:Xa("ordinal",T.ordinal):Xa("year",T.year)):Oa=N(T);if(Oa=Oa||Z(T))return Ea.invalid(Oa);da=pa?Ba(T):da?A(T):T;const [kb,pb]=Va(da,O,E);E=new Ea({ts:kb,zone:E,o:pb,loc:k});return T.weekday&&ja&&a.weekday!==E.weekday?Ea.invalid("mismatched weekday",`you can't specify both a weekday of ${T.weekday} and a date of ${E.toISO()}`):
E}static fromISO(a,k={}){const [E,K]=X(a,[jd,nd],[kd,od],[ld,pd],[md,qd]);return nb(E,K,k,"ISO 8601",a)}static fromRFC2822(a,k={}){const [E,K]=X(a.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[fd,I]);return nb(E,K,k,"RFC 2822",a)}static fromHTTP(a,k={}){const [E,K]=X(a,[gd,G],[hd,G],[id,R]);return nb(E,K,k,"HTTP",k)}static fromFormat(a,k,E={}){if(C(a)||C(k))throw new bb("fromFormat requires an input string and a format");const {locale:K=null,numberingSystem:O=null}=E;var T=Ta.fromOpts({locale:K,
numberingSystem:O,defaultToEN:!0});{const {result:Ma,zone:Ca,invalidReason:Ja}=mb(T,a,k);T=[Ma,Ca,Ja]}const [da,ja,pa]=T;return pa?Ea.invalid(pa):nb(da,ja,E,`format ${k}`,a)}static fromString(a,k,E={}){return Ea.fromFormat(a,k,E)}static fromSQL(a,k={}){const [E,K]=X(a,[sd,ud],[td,vd]);return nb(E,K,k,"SQL",a)}static invalid(a,k=null){if(!a)throw new bb("need to specify a reason the DateTime is invalid");a=a instanceof db?a:new db(a,k);if(Wa.throwOnInvalid)throw new Qc(a);return new Ea({invalid:a})}static isDateTime(a){return a&&
a.isLuxonDateTime||!1}get(a){return this[a]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?
this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?qa(this).weekYear:NaN}get weekNumber(){return this.isValid?qa(this).weekNumber:NaN}get weekday(){return this.isValid?
qa(this).weekday:NaN}get ordinal(){return this.isValid?Ya(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ab.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ab.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ab.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ab.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?
this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return l(this.year)}get daysInMonth(){return v(this.year,this.month)}get daysInYear(){return this.isValid?l(this.year)?
366:365:NaN}get weeksInWeekYear(){return this.isValid?B(this.weekYear):NaN}resolvedLocaleOptions(a={}){const {locale:k,numberingSystem:E,calendar:K}=ab.create(this.loc.clone(a),a).resolvedOptions(this);return{locale:k,numberingSystem:E,outputCalendar:K}}toUTC(a=0,k={}){return this.setZone($a.instance(a),k)}toLocal(){return this.setZone(Wa.defaultZone)}setZone(a,{keepLocalTime:k=!1,keepCalendarTime:E=!1}={}){a=Ra(a,Wa.defaultZone);if(a.equals(this.zone))return this;if(a.isValid){let K=this.ts;if(k||
E)k=a.offset(this.ts),E=this.toObject(),[K]=Va(E,k,a);return Ha(this,{ts:K,zone:a})}return Ea.invalid(ra(a))}reconfigure({locale:a,numberingSystem:k,outputCalendar:E}={}){a=this.loc.clone({locale:a,numberingSystem:k,outputCalendar:E});return Ha(this,{loc:a})}setLocale(a){return this.reconfigure({locale:a})}set(a){if(!this.isValid)return this;a=z(a,sb);var k=!C(a.weekYear)||!C(a.weekNumber)||!C(a.weekday);const E=!C(a.ordinal),K=!C(a.year),O=!C(a.month)||!C(a.day),T=a.weekYear||a.weekNumber;if((K||
O||E)&&T)throw new vb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(O&&E)throw new vb("Can't mix ordinal dates with month/day");k?k=Ba({...Ga(this.c),...a}):C(a.ordinal)?(k={...this.toObject(),...a},C(a.day)&&(k.day=Math.min(v(k.year,k.month),k.day))):k=A({...Ya(this.c),...a});const [da,ja]=Va(k,this.o,this.zone);return Ha(this,{ts:da,o:ja})}plus(a){if(!this.isValid)return this;a=Ka.fromDurationLike(a);return Ha(this,cb(this,a))}minus(a){if(!this.isValid)return this;a=
Ka.fromDurationLike(a).negate();return Ha(this,cb(this,a))}startOf(a){if(!this.isValid)return this;const k={};a=Ka.normalizeUnit(a);switch(a){case "years":k.month=1;case "quarters":case "months":k.day=1;case "weeks":case "days":k.hour=0;case "hours":k.minute=0;case "minutes":k.second=0;case "seconds":k.millisecond=0}"weeks"===a&&(k.weekday=1);"quarters"===a&&(k.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(k)}endOf(a){return this.isValid?this.plus({[a]:1}).startOf(a).minus(1):this}toFormat(a,
k={}){return this.isValid?ab.create(this.loc.redefaultToEN(k)).formatDateTimeFromString(this,a):"Invalid DateTime"}toLocaleString(a=Jb,k={}){return this.isValid?ab.create(this.loc.clone(k),a).formatDateTime(this):"Invalid DateTime"}toLocaleParts(a={}){return this.isValid?ab.create(this.loc.clone(a),a).formatDateTimeParts(this):[]}toISO(a={}){return this.isValid?`${this.toISODate(a)}T${this.toISOTime(a)}`:null}toISODate({format:a="extended"}={}){a="basic"===a?"yyyyMMdd":"yyyy-MM-dd";9999<this.year&&
(a="+"+a);return fb(this,a)}toISOWeekDate(){return fb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:a=!1,suppressSeconds:k=!1,includeOffset:E=!0,includePrefix:K=!1,format:O="extended"}={}){return rb(this,{suppressSeconds:k,suppressMilliseconds:a,includeOffset:E,includePrefix:K,format:O})}toRFC2822(){return fb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return fb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return fb(this,"yyyy-MM-dd")}toSQLTime({includeOffset:a=!0,includeZone:k=
!1}={}){return rb(this,{includeOffset:a,includeZone:k,spaceZone:!0})}toSQL(a={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(a)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(a={}){if(!this.isValid)return{};const k={...this.c};a.includeConfig&&(k.outputCalendar=this.outputCalendar,
k.numberingSystem=this.loc.numberingSystem,k.locale=this.loc.locale);return k}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(a,k="milliseconds",E={}){if(!this.isValid||!a.isValid)return Ka.invalid("created by diffing an invalid DateTime");E={locale:this.locale,numberingSystem:this.numberingSystem,...E};const K=(Array.isArray(k)?k:[k]).map(Ka.normalizeUnit);k=a.valueOf()>this.valueOf();a=x(k?this:a,k?a:this,K,E);return k?a.negate():a}diffNow(a="milliseconds",k={}){return this.diff(Ea.now(),
a,k)}until(a){return this.isValid?Ua.fromDateTimes(this,a):this}hasSame(a,k){if(!this.isValid)return!1;const E=a.valueOf();a=this.setZone(a.zone,{keepLocalTime:!0});return a.startOf(k)<=E&&E<=a.endOf(k)}equals(a){return this.isValid&&a.isValid&&this.valueOf()===a.valueOf()&&this.zone.equals(a.zone)&&this.loc.equals(a.loc)}toRelative(a={}){if(!this.isValid)return null;const k=a.base||Ea.fromObject({},{zone:this.zone}),E=a.padding?this<k?-a.padding:a.padding:0;let K="years months days hours minutes seconds".split(" "),
O=a.unit;Array.isArray(a.unit)&&(K=a.unit,O=void 0);return Yb(k,this.plus(E),{...a,numeric:"always",units:K,unit:O})}toRelativeCalendar(a={}){return this.isValid?Yb(a.base||Ea.fromObject({},{zone:this.zone}),this,{...a,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...a){if(!a.every(Ea.isDateTime))throw new bb("min requires all arguments be DateTimes");return m(a,k=>k.valueOf(),Math.min)}static max(...a){if(!a.every(Ea.isDateTime))throw new bb("max requires all arguments be DateTimes");
return m(a,k=>k.valueOf(),Math.max)}static fromFormatExplain(a,k,E={}){const {locale:K=null,numberingSystem:O=null}=E;E=Ta.fromOpts({locale:K,numberingSystem:O,defaultToEN:!0});return mb(E,a,k)}static fromStringExplain(a,k,E={}){return Ea.fromFormatExplain(a,k,E)}static get DATE_SHORT(){return Jb}static get DATE_MED(){return $b}static get DATE_MED_WITH_WEEKDAY(){return Tc}static get DATE_FULL(){return ac}static get DATE_HUGE(){return bc}static get TIME_SIMPLE(){return cc}static get TIME_WITH_SECONDS(){return dc}static get TIME_WITH_SHORT_OFFSET(){return ec}static get TIME_WITH_LONG_OFFSET(){return fc}static get TIME_24_SIMPLE(){return gc}static get TIME_24_WITH_SECONDS(){return hc}static get TIME_24_WITH_SHORT_OFFSET(){return ic}static get TIME_24_WITH_LONG_OFFSET(){return jc}static get DATETIME_SHORT(){return kc}static get DATETIME_SHORT_WITH_SECONDS(){return lc}static get DATETIME_MED(){return mc}static get DATETIME_MED_WITH_SECONDS(){return nc}static get DATETIME_MED_WITH_WEEKDAY(){return Uc}static get DATETIME_FULL(){return oc}static get DATETIME_FULL_WITH_SECONDS(){return pc}static get DATETIME_HUGE(){return qc}static get DATETIME_HUGE_WITH_SECONDS(){return rc}}
F.DateTime=Ea})},"esri/core/number":function(){define(["exports","./string","../intl/locale"],function(F,C,H){function w(c){c||(c=H.getLocale());let f=c in e;if(!f){const D=c.split("-");1<D.length&&D[0]in e&&(c=D[0],f=!0);f||(c="en")}const [h,l,v="#,##0.###"]=e[c];return{decimal:h,group:l,pattern:v}}function n(c,f,h){h=h||{};!0===h.places&&(h.places=0);Infinity===h.places&&(h.places=6);f=f.split(".");var l="string"===typeof h.places&&h.places.indexOf(","),v=h.places;l?v=h.places.substring(l+1):0<=
v||(v=(f[1]||[]).length);0>h.round||(c=Number(c.toFixed(Number(v))));c=String(Math.abs(c)).split(".");const D=c[1]||"";f[1]||h.places?(l&&(h.places=h.places.substring(0,l)),l=void 0!==h.places?h.places:f[1]&&f[1].lastIndexOf("0")+1,l>D.length&&(c[1]=D.padEnd(Number(l),"0")),v<D.length&&(c[1]=D.substr(0,Number(v)))):c[1]&&c.pop();v=f[0].replace(",","");l=v.indexOf("0");-1!==l&&(l=v.length-l,l>c[0].length&&(c[0]=c[0].padStart(l,"0")),-1===v.indexOf("#")&&(c[0]=c[0].substr(c[0].length-l)));v=f[0].lastIndexOf(",");
let B,L;-1!==v&&(B=f[0].length-v-1,f=f[0].substr(0,v),v=f.lastIndexOf(","),-1!==v&&(L=f.length-v-1));f=[];for(v=c[0];v;)l=v.length-B,f.push(0<l?v.substr(l):v),v=0<l?v.slice(0,l):"",L&&(B=L,L=void 0);c[0]=f.reverse().join(h.group||",");return c.join(h.decimal||".")}function m(c){c=c||{};var f=w(c.locale);const h=c.pattern||f.pattern,l=f.group,v=f.decimal;let D=1;if(-1!==h.indexOf("%"))D/=100;else if(-1!==h.indexOf("\u2030"))D/=1E3;else if(-1!==h.indexOf("\u00a4"))throw Error("currency notation not supported");
f=h.split(";");1===f.length&&f.push("-"+f[0]);return{regexp:t(f,function(B){B="(?:"+C.escapeRegExpString(B,".")+")";return B.replace(r,function(L){const b={signed:!1,separator:c.strict?l:[l,""],fractional:c.fractional,decimal:v,exponent:!1};L=L.split(".");let q=c.places;1===L.length&&1!==D&&(L[1]="###");1===L.length||0===q?b.fractional=!1:(void 0===q&&(q=c.pattern?L[1].lastIndexOf("0")+1:Infinity),q&&null==c.fractional&&(b.fractional=!0),!c.places&&q<L[1].length&&(q+=","+L[1].length),b.places=q);
L=L[0].split(",");1<L.length&&(b.groupSize=L.pop().length,1<L.length&&(b.groupSize2=L.pop().length));return"("+y(b)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:l,decimal:v,factor:D}}function y(c){c=c||{};"places"in c||(c.places=Infinity);"string"!==typeof c.decimal&&(c.decimal=".");"fractional"in c&&!/^0/.test(String(c.places))||(c.fractional=[!0,!1]);"exponent"in c||(c.exponent=[!0,!1]);"eSigned"in c||(c.eSigned=[!0,!1]);var f=p(c);const h=t(c.fractional,function(v){let D="";v&&0!==c.places&&
(D="\\"+c.decimal,D=Infinity===c.places?"(?:"+D+"\\d+)?":D+("\\d{"+c.places+"}"));return D},!0),l=t(c.exponent,function(v){return v?"([eE]"+p({signed:c.eSigned})+")":""});f+=h;h&&(f="(?:(?:"+f+")|(?:"+h+"))");return f+l}function p(c){c=c||{};"signed"in c||(c.signed=[!0,!1]);"separator"in c?"groupSize"in c||(c.groupSize=3):c.separator="";const f=t(c.signed,function(l){return l?"[-+]":""},!0),h=t(c.separator,function(l){if(!l)return"(?:\\d+)";l=C.escapeRegExpString(l);" "===l?l="\\s":"\u00a0"===l&&
(l="\\s\\xa0");const v=c.groupSize,D=c.groupSize2;return D?(l="(?:0|[1-9]\\d{0,"+(D-1)+"}(?:["+l+"]\\d{"+D+"})*["+l+"]\\d{"+v+"})",0<v-D?"(?:"+l+"|(?:0|[1-9]\\d{0,"+(v-1)+"}))":l):"(?:0|[1-9]\\d{0,"+(v-1)+"}(?:["+l+"]\\d{"+v+"})*)"},!0);return f+h}const e={ar:[".",","],bg:[",","\u00a0"],bs:[",","."],ca:[",","."],cs:[",","\u00a0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\u00a0"],fi:[",","\u00a0"],fr:[",","\u202f"],
"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\u00a0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\u00a0"],lv:[",","\u00a0"],mk:[",","."],nb:[",","\u00a0"],nl:[",","."],pl:[",","\u00a0"],pt:[",","."],"pt-pt":[",","\u00a0"],ro:[",","."],ru:[",","\u00a0"],sk:[",","\u00a0"],sl:[",","."],sr:[",","."],sv:[",","\u00a0"],th:[".",","],tr:[",","."],uk:[",","\u00a0"],vi:[",","."],zh:[".",","]},r=/[#0,]*[#0](?:\.0*#*)?/,t=function(c,
f,h){if(!(c instanceof Array))return f(c);const l=[];for(let v=0;v<c.length;v++)l.push(f(c[v]));c=l.join("|");return"("+(h?"?:":"")+c+")"};F._parseInfo=m;F.format=function(c,f){f={...f};var h=w(f.locale);f.customs=h;var l=f.pattern||h.pattern;if(isNaN(c)||Infinity===Math.abs(c))return null;{f=f||{};h=f.customs.group;const D=f.customs.decimal;l=l.split(";");var v=l[0];l=l[0>c?1:0]||"-"+v;if(-1!==l.indexOf("%"))c*=100;else if(-1!==l.indexOf("\u2030"))c*=1E3;else{if(-1!==l.indexOf("\u00a4"))throw Error("currency notation not supported");
if(-1!==l.indexOf("E"))throw Error("exponential notation not supported");}const B=r;v=v.match(B);if(!v)throw Error("unable to find a number expression in pattern: "+l);!1===f.fractional&&(f.places=0);c=l.replace(B,n(c,v[0],{decimal:D,group:h,places:f.places,round:f.round}))}return c};F.getCustoms=w;F.parse=function(c,f){f=m(f);c=(new RegExp("^"+f.regexp+"$")).exec(c);if(!c)return NaN;let h=c[1];if(!c[1]){if(!c[2])return NaN;h=c[2];f.factor*=-1}h=h.replace(new RegExp("["+f.group+"\\s\\xa0]","g"),"").replace(f.decimal,
".");return Number(h)*f.factor};F.regexp=function(c){return m(c).regexp};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/Attachment":function(){define(["../chunks/_rollupPluginBabelHelpers","./Dictionary"],function(F,C){return function(H){function w(n,m,y,p,e,r){var t=H.call(this)||this;t.attachmentUrl=e;t.immutable=!1;t.setField("id",n);t.setField("name",m);t.setField("contenttype",y);t.setField("size",p);t.setField("exifinfo",r);t.immutable=!0;return t}F._inheritsLoose(w,H);return w}(C)})},
"esri/arcade/Feature":function(){define("./Dictionary ./ImmutableArray ../chunks/languageUtils ../core/promiseUtils ../geometry/Geometry ../geometry/Point ../geometry/support/jsonUtils ./featureset/support/shared ../layers/graphics/featureConversionUtils ../core/maybe".split(" "),function(F,C,H,w,n,m,y,p,e,r){return function(){function t(){this.declaredClass="esri.arcade.Feature";this._layer=this.attributes=this._geometry=this._optimizedGeomDefinition=null;this.immutable=this._datesfixed=!0;this._datefields=
null;this.immutable=!0}t.createFromGraphic=function(f){const h=new t;h._geometry=r.isSome(f.geometry)?f.geometry:null;h.attributes=void 0===f.attributes?{}:null===f.attributes?{}:f.attributes;f._sourceLayer?(h._layer=f._sourceLayer,h._datesfixed=!1):f._layer?(h._layer=f._layer,h._datesfixed=!1):f.layer&&"fields"in f.layer?(h._layer=f.layer,h._datesfixed=!1):f.sourceLayer&&"fields"in f.sourceLayer&&(h._layer=f.sourceLayer,h._datesfixed=!1);return h};t.createFromArcadeFeature=function(f){const h=new t;
h._datesfixed=f._datesfixed;h.attributes=f.attributes;h._geometry=f._geometry;h._optimizedGeomDefinition=f._optimizedGeomDefinition;f._layer&&(h._layer=f._layer);return h};t.createFromOptimisedFeature=function(f,h,l){const v=new t;v._geometry=f.geometry?{geometry:f.geometry}:null;v._optimizedGeomDefinition=l;v.attributes=f.attributes||{};v._layer=h;v._datesfixed=!1;return v};t.createFromArcadeDictionary=function(f){const h=new t;h.attributes=f.field("attributes");null!==h.attributes?h.attributes instanceof
F?(h.attributes=h.attributes.attributes,null===h.attributes&&(h.attributes={})):h.attributes={}:h.attributes={};h._geometry=f.field("geometry");null!==h._geometry&&(h._geometry instanceof F?h._geometry=t.parseGeometryFromDictionary(h._geometry):h._geometry instanceof n||(h._geometry=null));return h};t.createFromGraphicLikeObject=function(f,h,l=null){const v=new t;null===h&&(h={});v.attributes=h;v._geometry=r.isSome(f)?f:null;v._layer=l;v._layer&&(v._datesfixed=!1);v._adapter=null;return v};var c=
t.prototype;c.repurposeFromGraphicLikeObject=function(f,h,l=null){null===h&&(h={});this.attributes=h;this._geometry=f?f:null;this._datesfixed=(this._layer=l)?!1:!0};c.repurposeFromAdapter=function(f,h=null){this._adapter=f;this._layer=h};c.castToText=function(){if(this._adapter)return this._adapter.castToText();let f="";!1===this._datesfixed&&this._fixDates();for(const h in this.attributes){""!==f&&(f+=",");const l=this.attributes[h];null==l?f+=JSON.stringify(h)+":null":H.isBoolean(l)||H.isNumber(l)||
H.isString(l)?f+=JSON.stringify(h)+":"+JSON.stringify(l):l instanceof n?f+=JSON.stringify(h)+":"+H.toStringExplicit(l):l instanceof C?f+=JSON.stringify(h)+":"+H.toStringExplicit(l):l instanceof Array?f+=JSON.stringify(h)+":"+H.toStringExplicit(l):l instanceof Date?f+=JSON.stringify(h)+":"+JSON.stringify(l):null!==l&&"object"===typeof l&&void 0!==l.castToText&&(f+=JSON.stringify(h)+":"+l.castToText())}return'{"geometry":'+(null===this.geometry()?"null":H.toStringExplicit(this.geometry()))+',"attributes":{'+
f+"}}"};c._fixDates=function(){if(null!==this._datefields)0<this._datefields.length&&this._fixDateFields(this._datefields);else{var f=[];for(let h=0;h<this._layer.fields.length;h++){const l=this._layer.fields[h];"date"!==l.type&&"esriFieldTypeDate"!==l.type||f.push(l.name)}this._datefields=f;0<f.length&&this._fixDateFields(f)}this._datesfixed=!0};c._fixDateFields=function(f){this.attributes={...this.attributes};for(let h=0;h<f.length;h++){let l=this.attributes[f[h]];if(null!==l)if(void 0===l)for(const v in this.attributes){if(v.toLowerCase()===
f[h].toLowerCase()){l=this.attributes[v];null===l||l instanceof Date||(this.attributes[v]=new Date(l));break}}else l instanceof Date||(this.attributes[f[h]]=new Date(l))}};c.geometry=function(){if(this._adapter)return this._adapter.geometry();if(null===this._geometry||this._geometry instanceof n)return this._geometry;this._optimizedGeomDefinition?(this._geometry=r.unwrap(y.fromJSON(e.convertToGeometry(this._geometry,this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),
this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=r.unwrap(y.fromJSON(this._geometry));return this._geometry};c.field=function(f){if(this._adapter)return this._adapter.field(f);!1===this._datesfixed&&this._fixDates();var h=this.attributes[f];if(void 0!==h)return h;h=f.toLowerCase();for(const l in this.attributes)if(l.toLowerCase()===h)return this.attributes[l];if(this._hasFieldDefinition(h))return null;throw Error("Field not Found : "+f);};c._hasFieldDefinition=
function(f){if(null===this._layer)return!1;for(let h=0;h<this._layer.fields.length;h++)if(this._layer.fields[h].name.toLowerCase()===f)return!0;return!1};c._field=function(f){if(this._adapter){var h;return null!=(h=this._adapter.field(f))?h:null}!1===this._datesfixed&&this._fixDates();h=f.toLowerCase();f=this.attributes[f];if(void 0!==f)return f;for(const l in this.attributes)if(l.toLowerCase()===h)return this.attributes[l];return null};c.setField=function(f,h){if(this.immutable)throw Error("Feature is Immutable");
if(!1===H.isSimpleType(h))throw Error("Illegal Value Assignment to Feature");if(this._adapter)this._adapter.setField(f,h);else{var l=f.toLowerCase();if(void 0===this.attributes[f])for(const v in this.attributes)if(v.toLowerCase()===l){this.attributes[v]=h;return}this.attributes[f]=h}};c.hasField=function(f){if(this._adapter)return this._adapter.hasField(f);const h=f.toLowerCase();if(void 0!==this.attributes[f])return!0;for(const l in this.attributes)if(l.toLowerCase()===h)return!0;return this._hasFieldDefinition(h)?
!0:!1};c.keys=function(){if(this._adapter)return this._adapter.keys();let f=[];const h={};for(var l in this.attributes)f.push(l),h[l.toLowerCase()]=1;if(null!==this._layer)for(l=0;l<this._layer.fields.length;l++){const v=this._layer.fields[l];1!==h[v.name.toLowerCase()]&&f.push(v.name)}return f=f.sort()};t.parseGeometryFromDictionary=function(f){f=t.convertDictionaryToJson(f,!0);void 0!==f.hasm&&(f.hasM=f.hasm,delete f.hasm);void 0!==f.hasz&&(f.hasZ=f.hasz,delete f.hasz);void 0!==f.spatialreference&&
(f.spatialReference=f.spatialreference,delete f.spatialreference);void 0!==f.rings&&(f.rings=this.fixPathArrays(f.rings,!0===f.hasZ,!0===f.hasZ));void 0!==f.paths&&(f.paths=this.fixPathArrays(f.paths,!0===f.hasZ,!0===f.hasM));void 0!==f.points&&(f.points=this.fixPointArrays(f.points,!0===f.hasZ,!0===f.hasM));return y.fromJSON(f)};t.fixPathArrays=function(f,h,l){const v=[];if(f instanceof Array)for(var D=0;D<f.length;D++)v.push(this.fixPointArrays(f[D],h,l));else if(f instanceof C)for(D=0;D<f.length();D++)v.push(this.fixPointArrays(f.get(D),
h,l));return v};t.fixPointArrays=function(f,h,l){const v=[];if(f instanceof Array)for(var D=0;D<f.length;D++){var B=f[D];B instanceof m?h&&l?v.push([B.x,B.y,B.z,B.m]):h?v.push([B.x,B.y,B.z]):l?v.push([B.x,B.y,B.m]):v.push([B.x,B.y]):B instanceof C?v.push(B.toArray()):v.push(B)}else if(f instanceof C)for(D=0;D<f.length();D++)B=f.get(D),B instanceof m?h&&l?v.push([B.x,B.y,B.z,B.m]):h?v.push([B.x,B.y,B.z]):l?v.push([B.x,B.y,B.m]):v.push([B.x,B.y]):B instanceof C?v.push(B.toArray()):v.push(B);return v};
t.convertDictionaryToJson=function(f,h=!1){const l={};for(const v in f.attributes){let D=f.attributes[v];D instanceof F&&(D=t.convertDictionaryToJson(D));h?l[v.toLowerCase()]=D:l[v]=D}return l};t.parseAttributesFromDictionary=function(f){const h={};for(const l in f.attributes){const v=f.attributes[l];if(H.isSimpleType(v))h[l]=v;else throw Error("Illegal Argument");}return h};t.fromJson=function(f){let h=null;null!==f.geometry&&void 0!==f.geometry&&(h=y.fromJSON(f.geometry));const l={};if(null!==f.attributes&&
void 0!==f.attributes)for(const v in f.attributes){const D=f.attributes[v];if(null===D)l[v]=D;else if(H.isString(D)||H.isNumber(D)||H.isBoolean(D)||H.isDate(D))l[v]=D;else throw Error("Illegal Argument");}return t.createFromGraphicLikeObject(h,l,null)};c.fullDomain=function(f,h){return null!==this._layer&&this._layer.fields?H.getDomain(f,this._layer,this,h):null};c.subtypes=function(){return null!==this._layer&&this._layer.fields?this._layer.typeIdField?{subtypeField:this._layer.typeIdField,subtypes:this._layer.types?
this._layer.types.map(f=>({name:f.name,code:f.id})):[]}:null:null};c.domainValueLookup=function(f,h,l){if(null===this._layer||!this._layer.fields)return null;l=H.getDomain(f,this._layer,this,l);if(void 0===h)try{h=this.field(f)}catch(v){return null}return H.getDomainValue(l,h)};c.gdbVersion=function(){if(null===this._layer)return"";const f=this._layer.gdbVersion;return void 0===f?"":""===f&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":f};c.domainCodeLookup=function(f,
h,l){if(null===this._layer||!this._layer.fields)return null;if(void 0===h){try{h=this.field(f)}catch(v){return null}return h}f=H.getDomain(f,this._layer,this,l);return H.getDomainCode(f,h)};c.schema=function(){if(null===this._layer||!this._layer.fields)return null;const f=[];for(const h of this._layer.fields)f.push(p.esriFieldToJson(h));return{objectIdField:this._layer.objectIdField,globalIdField:this._layer.globalIdField,geometryType:void 0===p.layerGeometryEsriRestConstants[this._layer.geometryType]?
"":p.layerGeometryEsriRestConstants[this._layer.geometryType],fields:f}};c.castAsJson=function(f=null){const h={attributes:{},geometry:!0===(null==f?void 0:f.keepGeometryType)?this.geometry():this.geometry().toJSON()};for(const l in this.attributes){const v=this.attributes[l];void 0!==v&&(h.attributes[l]=H.castAsJson(v,f))}return h};c.castAsJsonAsync=function(f,h=null){return w.resolve(this.castAsJson(h))};return t}()})},"esri/arcade/featureset/support/shared":function(){define(["exports","../../../core/promiseUtils",
"../../../geometry/Extent","../../../layers/support/Field"],function(F,C,H,w){function n(m){return m instanceof Date}F.FeatureServiceDatabaseType=void 0;(function(m){m[m.Standardised=0]="Standardised";m[m.StandardisedNoInterval=1]="StandardisedNoInterval";m[m.SqlServer=2]="SqlServer";m[m.Oracle=3]="Oracle";m[m.Postgres=4]="Postgres";m[m.PGDB=5]="PGDB";m[m.FILEGDB=6]="FILEGDB";m[m.NotEvaluated=7]="NotEvaluated"})(F.FeatureServiceDatabaseType||(F.FeatureServiceDatabaseType={}));F.IdState=void 0;(function(m){m[m.InFeatureSet=
0]="InFeatureSet";m[m.NotInFeatureSet=1]="NotInFeatureSet";m[m.Unknown=2]="Unknown"})(F.IdState||(F.IdState={}));F.callback=function(m,y){return function(){try{m.apply(null,arguments)}catch(p){y.reject(p)}}};F.cloneAttributes=function(m){const y={};for(const p in m)y[p]=m[p];return y};F.cloneField=function(m){return w.fromJSON(m.toJSON())};F.convertLinearUnitsToCode=function(m){if(void 0===m)return null;if("number"===typeof m||"number"===typeof m)return m;switch(m.toLowerCase()){case "meters":case "meter":return 9001;
case "miles":case "mile":return 9035;case "kilometers":case "kilometer":case "km":return 9036}return null};F.convertSquareUnitsToCode=function(m){if(void 0===m)return null;if("number"===typeof m)return m;switch(m.toLowerCase()){case "meters":case "meter":return 109404;case "miles":case "mile":return 109413;case "kilometers":case "kilometer":case "km":return 109414}return null};F.defaultMaxRecords=1E3;F.equalityTest=function(m,y){return m===y?!0:n(m)&&n(y)?m.getTime()===y.getTime():!1};F.errback=function(m){return function(y){m.reject(y)}};
F.esriFieldToJson=function(m){return m.toJSON()};F.extractServiceUrl=function(m){if(void 0===m)return"";m=m.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer");m=m.replace(/\/mapserver\/[0-9]*/i,"/MapServer");return m=m.split("?")[0]};F.isArray=function(m){return m instanceof Array};F.isBoolean=function(m){return"boolean"===typeof m};F.isDate=n;F.isNumber=function(m){return"number"===typeof m};F.isString=function(m){return"string"===typeof m||m instanceof String};F.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",
integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",
esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};F.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",
extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"};F.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",
esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};F.reduceArrayWithPromises=function(m,y){return C.create((p,e)=>{const r=C.resolve(!0);m.reduce((t,c,f,h)=>t.then(l=>{try{return y(l,c,f,h)}catch(v){return C.reject(v)}},l=>C.reject(l)),r).then(p,e)})};F.sameGeomType=function(m,y){return m===y||"point"===m&&"esriGeometryPoint"===y||"polyline"===m&&"esriGeometryPolyline"===y||"polygon"===m&&"esriGeometryPolygon"===y||"extent"===
m&&"esriGeometryEnvelope"===y||"multipoint"===m&&"esriGeometryMultipoint"===y||"point"===y&&"esriGeometryPoint"===m||"polyline"===y&&"esriGeometryPolyline"===m||"polygon"===y&&"esriGeometryPolygon"===m||"extent"===y&&"esriGeometryEnvelope"===m||"multipoint"===y&&"esriGeometryMultipoint"===m?!0:!1};F.shapeExtent=function(m){if(null===m)return null;switch(m.type){case "polygon":case "multipoint":case "polyline":return m.extent;case "point":return new H({xmin:m.x,ymin:m.y,xmax:m.x,ymax:m.y,spatialReference:m.spatialReference});
case "extent":return m}return null};F.stableStringify=function(m,y){y||(y={});"function"===typeof y&&(y={cmp:y});const p="boolean"===typeof y.cycles?y.cycles:!1,e=y.cmp&&function(t){return function(c){return function(f,h){return t({key:f,value:c[f]},{key:h,value:c[h]})}}}(y.cmp),r=[];return function f(c){c&&c.toJSON&&"function"===typeof c.toJSON&&(c=c.toJSON());if(void 0!==c){if("number"===typeof c)return isFinite(c)?""+c:"null";if("object"!==typeof c)return JSON.stringify(c);var h;if(Array.isArray(c)){var l=
"[";for(h=0;h<c.length;h++)h&&(l+=","),l+=f(c[h])||"null";return l+"]"}if(null===c)return"null";if(-1!==r.indexOf(c)){if(p)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var v=r.push(c)-1,D=Object.keys(c).sort(e&&e(c));l="";for(h=0;h<D.length;h++){const B=D[h],L=f(c[B]);L&&(l&&(l+=","),l+=JSON.stringify(B)+":"+L)}r.splice(v,1);return"{"+l+"}"}}(m)};F.toEsriGeometryType=function(m){switch(m){case "point":return"esriGeometryPoint";case "polygon":return"esriGeometryPolygon";
case "multipoint":return"esriGeometryMultipoint";case "polyline":return"esriGeometryPolyline";default:return"esriGeometryPoint"}};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/treeAnalysis":function(){define(["exports"],function(F){function C(b,q){return"0"!==b.min&&q.length<Number(b.min)||"*"!==b.max&&q.length>Number(b.max)?-2:1}function H(b,q,d){if(null!==d.localScope&&void 0!==d.localScope[b.toLowerCase()]){const z=d.localScope[b.toLowerCase()];if("FormulaFunction"===z.type||
"any"===z.type)return void 0===z.signature&&(z.signature={min:"0",max:"*"}),C(z.signature,q)}return void 0!==d.globalScope[b.toLowerCase()]&&(b=d.globalScope[b.toLowerCase()],"FormulaFunction"===b.type||"any"===b.type)?(void 0===b.signature&&(b.signature={min:"0",max:"*"}),C(b.signature,q)):-1}function w(b,q){if(b)for(const d of b)n(d,q)}function n(b,q){if(b&&!1!==q(b))switch(b.type){case "ArrayExpression":w(b.elements,q);break;case "AssignmentExpression":case "BinaryExpression":n(b.left,q);n(b.right,
q);break;case "BlockStatement":w(b.body,q);break;case "CallExpression":n(b.callee,q);w(b.arguments,q);break;case "ExpressionStatement":n(b.expression,q);break;case "ForInStatement":n(b.left,q);n(b.right,q);n(b.body,q);break;case "ForStatement":n(b.init,q);n(b.test,q);n(b.update,q);n(b.body,q);break;case "FunctionDeclaration":n(b.id,q);w(b.params,q);n(b.body,q);break;case "IfStatement":n(b.test,q);n(b.consequent,q);n(b.alternate,q);break;case "LogicalExpression":n(b.left,q);n(b.right,q);break;case "MemberExpression":n(b.object,
q);n(b.property,q);break;case "ObjectExpression":w(b.properties,q);break;case "Program":w(b.body,q);break;case "Property":n(b.key,q);n(b.value,q);break;case "ReturnStatement":n(b.argument,q);break;case "UnaryExpression":n(b.argument,q);break;case "UpdateExpression":n(b.argument,q);break;case "VariableDeclaration":w(b.declarations,q);break;case "VariableDeclarator":n(b.id,q);n(b.init,q);break;case "TemplateLiteral":w(b.expressions,q),w(b.quasis,q)}}function m(b,q=!0){let d=c(b,"SYNTAX","UNREOGNISED");
try{switch(b.type){case "VariableDeclarator":return"Identifier"!==b.id.type?c(b,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==b.init?m(b.init,!1):"";case "VariableDeclaration":for(var z=0;z<b.declarations.length;z++)if(d=m(b.declarations[z],q),""!==d)return d;return"";case "ForInStatement":d=m(b.left,q);if(""!==d)break;if("VariableDeclaration"===b.left.type){if(1<b.left.declarations.length)return c(b,"SYNTAX","ONLY1VAR");if(null!==b.left.declarations[0].init)return c(b,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==
b.left.type)return c(b,"SYNTAX","LEFTNOTVAR");d=m(b.right,q);if(""!==d)break;d=m(b.body,q);if(""!==d)break;return"";case "ForStatement":if(null!==b.test&&(d=m(b.test,q),""!==d))break;if(null!==b.init&&(d=m(b.init,q),""!==d))break;if(null!==b.update&&(d=m(b.update,q),""!==d))break;if(null!==b.body&&(d=m(b.body,q),""!==d))break;return"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":d=m(b.test,q);if(""!==d)break;if(null!==b.consequent&&
(d=m(b.consequent,!1),""!==d))break;if(null!==b.alternate&&(d=m(b.alternate,!1),""!==d))break;return"";case "BlockStatement":z=[];for(var g=0;g<b.body.length;g++)"EmptyStatement"!==b.body[g].type&&z.push(b.body[g]);b.body=z;for(z=0;z<b.body.length;z++)if(d=m(b.body[z],q),""!==d)return d;return"";case "FunctionDeclaration":return!1===q?c(b,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==b.id.type?c(b,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):m(b.body,!1);case "ReturnStatement":return null!==b.argument?
m(b.argument,q):"";case "UpdateExpression":return"Identifier"!==b.argument.type&&"MemberExpression"!==b.argument.type?c(b,"SYNTAX","ASSIGNMENTTOVARSONLY"):m(b.argument,q);case "AssignmentExpression":if("Identifier"!==b.left.type&&"MemberExpression"!==b.left.type)return c(b,"SYNTAX","ASSIGNMENTTOVARSONLY");d=m(b.left,q);if(""!==d)break;switch(b.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return c(b,"SYNTAX","OPERATORNOTRECOGNISED")}return m(b.right,
!1);case "ExpressionStatement":return m(b.expression,!1);case "Identifier":d="";break;case "MemberExpression":d=m(b.object,q);if(""!==d)break;return!0===b.computed?m(b.property,q):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":if("Identifier"!==b.callee.type)return c(b,"SYNTAX","ONLYNODESSUPPORTED");d="";for(z=0;z<b.arguments.length;z++)if(d=m(b.arguments[z],q),""!==d)return d;return"";case "UnaryExpression":d=m(b.argument,q);break;case "BinaryExpression":d=m(b.left,
q);if(""!==d)break;d=m(b.right,q);if(""!==d)break;switch(b.operator){case "|":case "\x26":case "\x3e\x3e":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;default:return c(b,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":d=m(b.left,q);if(""!==d)break;d=m(b.right);if(""!==d)break;switch(b.operator){case "\x26\x26":case "||":break;default:return c(b,
"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ArrayExpression":d="";for(z=0;z<b.elements.length&&(d=m(b.elements[z],q),""===d);z++);break;case "TemplateLiteral":d="";for(z=0;z<b.quasis.length;z++)if(d=m(b.quasis[z],q),""!==d)return d;for(z=0;z<b.expressions.length&&(d=m(b.expressions[z],q),""===d);z++);break;case "ObjectExpression":d="";for(z=0;z<b.properties.length;z++){d="";if(null!==b.properties[z].key&&("Literal"!==b.properties[z].key.type&&"Identifier"!==b.properties[z].key.type&&(d=c(b,"SYNTAX",
"OBJECTPROPERTYMUSTBESTRING")),"Literal"===b.properties[z].key.type)){g=b.properties[z].key;const Q="value"in g?g.value:null;"string"===typeof Q||Q instanceof String||(d=c(b,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===d&&(d=m(b.properties[z],q));if(""!==d)break}break;case "Property":if("Literal"!==b.key.type&&"Identifier"!==b.key.type)return c(b,"SYNTAX","ONLYLITERAL");if("Identifier"!==b.key.type&&(d=m(b.key,q),""!==d))break;d=m(b.value,q)}return d}catch(Q){throw Q;}}function y(b,q){var d=c(b,"SYNTAX",
"UNREOGNISED");let z=null,g="";try{switch(b.type){case "VariableDeclarator":{const U=null===b.init?"":y(b.init,q);if(""!==U)return U;"Identifier"===b.id.type&&(null===q.localScope?q.globalScope[b.id.name.toLowerCase()]={type:"any"}:q.localScope[b.id.name.toLowerCase()]={type:"any"});return""}case "FunctionDeclaration":z=e(b.id.name.toLowerCase(),b);g=r(b,q);if(""!==g)return g;if(null!==q.localScope)return c(b,"SYNTAX","GLOBALFUNCTIONSONLY");z.isnative=!1;q.globalScope[b.id.name.toLowerCase()]={type:"FormulaFunction",
signature:[z]};return"";case "VariableDeclaration":d="";for(var Q=0;Q<b.declarations.length&&(d=y(b.declarations[Q],q),""===d);Q++);break;case "IfStatement":d=y(b.test,q);if(""!==d)break;if("AssignmentExpression"===b.test.type||"UpdateExpression"===b.test.type)return c(b.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");if(null!==b.consequent&&(d=y(b.consequent,q),""!==d))break;if(null!==b.alternate&&(d=y(b.alternate,q),""!==d))break;return"";case "EmptyStatement":return"";case "BlockStatement":for(Q=
0;Q<b.body.length;Q++)if(d=y(b.body[Q],q),""!==d)return d;return"";case "ReturnStatement":return null!==b.argument?y(b.argument,q):"";case "ForInStatement":if("VariableDeclaration"===b.left.type){if(1<b.left.declarations.length)return c(b,"SYNTAX","ONLY1VAR");if(null!==b.left.declarations[0].init)return c(b,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==b.left.type)return c(b,"SYNTAX","LEFTNOTVAR");d=y(b.left,q);if(""!==d)break;d=y(b.right,q);if(""!==d)break;d=y(b.body,q);if(""!==d)break;return"";
case "ForStatement":if(null!==b.init&&(d=y(b.init,q),""!==d))break;if(null!==b.test&&(d=y(b.test,q),""!==d))break;if(null!==b.body&&(d=y(b.body,q),""!==d))break;if(null!==b.update&&(d=y(b.update,q),""!==d))break;return"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==b.argument.type&&"MemberExpression"!==b.argument.type)return c(b,"SYNTAX","ASSIGNMENTTOVARSONLY");d=!1;if("MemberExpression"===b.argument.type)return y(b.argument,q);null!==
q.localScope&&void 0!==q.localScope[b.argument.name.toLowerCase()]&&(d=!0);void 0!==q.globalScope[b.argument.name.toLowerCase()]&&(d=!0);return!1===d?"Identifier "+b.argument.name+" has not been declared.":"";case "AssignmentExpression":if("Identifier"!==b.left.type&&"MemberExpression"!==b.left.type)return c(b,"SYNTAX","ASSIGNMENTTOVARSONLY");Q=y(b.right,q);if(""!==Q)return Q;d=!1;if("MemberExpression"===b.left.type)return Q=y(b.left,q),""!==Q?Q:"";null!==q.localScope&&void 0!==q.localScope[b.left.name.toLowerCase()]&&
(d=!0);void 0!==q.globalScope[b.left.name.toLowerCase()]&&(d=!0);return!1===d?"Identifier "+b.left.name+" has not been declared.":"";case "ExpressionStatement":return y(b.expression,q);case "Identifier":{const U=b.name.toLowerCase();if(null!==q.localScope&&void 0!==q.localScope[U])return"";d=void 0!==q.globalScope[U]?"":c(b,"SYNTAX","VARIABLENOTFOUND");break}case "MemberExpression":d=y(b.object,q);if(""!==d)break;return!0===b.computed?y(b.property,q):"";case "Literal":return"";case "TemplateElement":return"";
case "CallExpression":{if("Identifier"!==b.callee.type)return c(b,"SYNTAX","ONLYNODESSUPPORTED");d="";for(Q=0;Q<b.arguments.length;Q++)if(d=y(b.arguments[Q],q),""!==d)return d;const U=H(b.callee.name,b.arguments,q);-1===U&&(d=c(b,"SYNTAX","NOTFOUND"));-2===U&&(d=c(b,"SYNTAX","WRONGSIGNATURE"));break}case "UnaryExpression":d=y(b.argument,q);break;case "BinaryExpression":d=y(b.left,q);if(""!==d)break;d=y(b.right,q);if(""!==d)break;return"";case "LogicalExpression":d=y(b.left,q);if(""!==d)break;if("AssignmentExpression"===
b.left.type||"UpdateExpression"===b.left.type)return c(b.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");d=y(b.right,q);if(""!==d)break;return"AssignmentExpression"===b.right.type||"UpdateExpression"===b.right.type?c(b.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case "ArrayExpression":d="";for(Q=0;Q<b.elements.length&&(d=y(b.elements[Q],q),""===d);Q++);break;case "TemplateLiteral":d="";for(Q=0;Q<b.quasis.length;Q++)if(d=y(b.quasis[Q],q),""!==d)return d;for(Q=0;Q<b.expressions.length&&
(d=y(b.expressions[Q],q),""===d);Q++);break;case "ObjectExpression":d="";for(Q=0;Q<b.properties.length;Q++){d="";if(null!==b.properties[Q].key&&("Literal"!==b.properties[Q].key.type&&"Identifier"!==b.properties[Q].key.type&&(d=c(b,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===b.properties[Q].key.type)){const U=b.properties[Q].key,aa="value"in U?U.value:null;"string"===typeof aa||aa instanceof String||(d=c(b,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===d&&(d=y(b.properties[Q],q));if(""!==d)break}break;
case "Property":if("Literal"!==b.key.type&&"Identifier"!==b.key.type)return c(b,"SYNTAX","ONLYLITERAL");if("Identifier"!==b.key.type&&(d=y(b.key,q),""!==d))break;d=y(b.value,q)}return d}catch(U){throw U;}}function p(b,q){let d=!1;const z=q.toLowerCase();n(b,g=>{if(d)return!1;"Identifier"===g.type&&g.name&&g.name.toLowerCase()===z&&(d=!0);return!0});return d}function e(b,q){const d=[];if(void 0!==q.params&&null!==q.params)for(let z=0;z<q.params.length;z++)d.push("any");return{name:b,return:"any",params:d}}
function r(b,q){q={globalScope:q.globalScope,localScope:{}};for(let d=0;d<b.params.length;d++)q.localScope[b.params[d].name.toLowerCase()]={type:"any"};return y(b.body,q)}function t(b,q,d,z){const g={};if(void 0===b||null===b)b={};if(void 0===d||null===d)d={};g.infinity={type:"any"};g.textformatting={type:"any"};g.pi={type:"any"};for(const Q in q)"sync"===z&&void 0!==q[Q].min?g[Q]={type:"FormulaFunction",signature:{min:q[Q].min,max:q[Q].max}}:"sync"!==z&&void 0!==q[Q].fmin&&(g[Q]={type:"FormulaFunction",
signature:{min:q[Q].fmin,max:q[Q].fmax}});for(q=0;q<d.length;q++)z=d[q],g[z.name]={type:"FormulaFunction",signature:z};for(const Q in b)g[Q]=b[Q],g[Q].type="any";return g}function c(b,q,d){let z="";switch(q){case "SYNTAX":z="Syntax Error: ";break;case "RUNTIME":z="Runtime Error: ";break;default:z="Syntax Error: "}try{switch(b.type){case "IfStatement":switch(d){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":z+=" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":z+=
" Non Boolean used as Condition"}break;case "UpdateExpression":case "AssignmentExpression":switch(d){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":z+=" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":z+=" Assignments can only be made to identifiers"}break;case "ExpressionStatement":z+=" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(d){case "GLOBALFUNCTIONSONLY":z+=" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":z+=
" Function Definition must have an identifier"}break;case "VariableDeclaration":z+=" Only 1 variable can be declared at a time";break;case "VariableDeclarator":switch(d){case "FUNCTIONVARIABLEDECLARATOR":z+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":z+=" Variable Definition must have an identifier"}break;case "Identifier":z+=" Identifier Not Found. ";z+=b.name;break;case "ObjectExpression":switch(d){case "OBJECTPROPERTYMUSTBESTRING":z+=" Property name must be a string"}break;
case "ForStatement":switch(d){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":z+=" Non Boolean used as Condition"}break;case "ForInStatement":switch(d){case "ONLY1VAR":z+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":z+=" Can only declare value for use with IN";break;case "LEFTNOVAR":z+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":z+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":z+="This type cannot be used in an IN loop"}break;
case "MemberExpression":switch(d){case "PROPERTYNOTFOUND":z+="Cannot find member property. ";z+=!1===b.computed?"Identifier"===b.property.type?b.property.name:"":"";break;case "OUTOFBOUNDS":z+="Out of Bounds. ";z+=!1===b.computed?"Identifier"===b.property.type?b.property.name:"":"";break;case "NOTFOUND":z+="Cannot call member method on null. ";z+=!1===b.computed?"Identifier"===b.property.type?b.property.name:"":"";break;case "INVALIDTYPE":z+="Cannot call member property on object of this type. ",
z+=!1===b.computed?"Identifier"===b.property.type?b.property.name:"":""}break;case "Property":switch(d){case "ONLYLITERAL":z+="Property names must be literals or identifiers"}break;case "Literal":break;case "CallExpression":switch(d){case "WRONGSIGNATURE":z+="Function signature does not match: ";z+="Identifier"===b.callee.type?b.callee.name:"";break;case "ONLYNODESUPPORTED":z+="Functions must be declared.";z+="Identifier"===b.callee.type?b.callee.name:"";break;case "NOTAFUNCTION":z+="Not a Function: ";
z+="Identifier"===b.callee.type?b.callee.name:"";break;case "NOTFOUND":z+="Function Not Found: "+("Identifier"===b.callee.type?b.callee.name:"")}break;case "UnaryExpression":switch(d){case "NOTSUPPORTEDUNARYOPERATOR":z+="Operator "+b.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case "NOTSUPPORTEDTYPE":z+="Unary operator "+b.operator+" cannot be used with this argument."}case "BinaryExpression":switch(d){case "OPERATORNOTRECOGNISED":z+="Binary Operator not recognised "+
b.operator}break;case "LogicalExpression":switch(d){case "ONLYBOOLEAN":z+="Operator "+b.operator+" cannot be used. Only || or \x26\x26 are allowed values";break;case "ONLYORORAND":z+="Logical Expression "+b.operator+" being applied to parameters that are not boolean."}break;case "ArrayExpression":switch(d){case "FUNCTIONCONTEXTILLEGAL":z+=" Cannot Put Function inside Array."}break;default:z+="Expression contains unrecognised code structures."}}catch(g){throw g;}return z}function f(b,q,d){return{line:b.loc.start.line,
character:b.loc.start.column,reason:c(b,q,d)}}function h(b,q,d,z){q={globalScope:q.globalScope,localScope:{}};for(let g=0;g<b.params.length;g++)q.localScope[b.params[g].name.toLowerCase()]={type:"any"};l(b.body,q,d,z,!1)}function l(b,q,d,z,g=!0){if(null===b)throw Error("Unnexpexted Expression Syntax");var Q=null;try{switch(b.type){case "VariableDeclarator":"Identifier"!==b.id.type?z.push(f(b,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):(b.id.name.toLowerCase(),null===q.localScope?q.globalScope[b.id.name.toLowerCase()]=
{type:"any"}:q.localScope[b.id.name.toLowerCase()]={type:"any"});null!==b.init&&l(b.init,q,d,z,g);break;case "FunctionDeclaration":!1===g&&z.push(f(b,"SYNTAX","GLOBALFUNCTIONSONLY"));"Identifier"!==b.id.type&&z.push(f(b,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"));Q=e("",b);h(b,q,d,z);null!==q.localScope&&z.push(f(b,"SYNTAX","GLOBALFUNCTIONSONLY"));Q.isnative=!1;"Identifier"===b.id.type&&(q.globalScope[b.id.name.toLowerCase()]={type:"FormulaFunction",signature:[Q]});break;case "VariableDeclaration":for(var U=
0;U<b.declarations.length;U++)l(b.declarations[U],q,d,z,g);break;case "IfStatement":null!==b.test&&(l(b.test,q,d,z,g),"AssignmentExpression"!==b.test.type&&"UpdateExpression"!==b.test.type||z.push(f(b.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));null!==b.consequent&&l(b.consequent,q,d,z,g);null!==b.alternate&&l(b.alternate,q,d,z,g);break;case "EmptyStatement":break;case "BlockStatement":if(null!==b.body)for(U=0;U<b.body.length;U++)l(b.body[U],q,d,z,g);break;case "ReturnStatement":null!==
b.argument&&l(b.argument,q,d,z,g);break;case "ForInStatement":"VariableDeclaration"===b.left.type?(1<b.left.declarations.length&&z.push(f(b,"SYNTAX","ONLY1VAR")),null!==b.left.declarations[0].init&&z.push(f(b,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==b.left.type&&z.push(f(b,"SYNTAX","LEFTNOTVAR"));l(b.left,q,d,z,g);l(b.right,q,d,z,g);l(b.body,q,d,z,g);break;case "ForStatement":null!==b.init&&l(b.init,q,d,z,g);null!==b.test&&l(b.test,q,d,z,g);null!==b.body&&l(b.body,q,d,z,g);null!==b.update&&l(b.update,
q,d,z,g);break;case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":"Identifier"!==b.argument.type&&"MemberExpression"!==b.argument.type?z.push(f(b,"SYNTAX","ASSIGNMENTTOVARSONLY")):("Identifier"===b.argument.type&&(U=!1,!1===d&&(null!==q.localScope&&void 0!==q.localScope[b.argument.name.toLowerCase()]&&(U=!0),void 0!==q.globalScope[b.argument.name.toLowerCase()]&&(U=!0),!1===U&&z.push({line:null===b?0:b.loc.start.line,character:null===b?0:b.loc.start.column,reason:"Identifier "+
b.argument.name+" has not been declared."}))),"MemberExpression"===b.argument.type&&l(b.argument,q,d,z,g));break;case "AssignmentExpression":"Identifier"!==b.left.type&&"MemberExpression"!==b.left.type&&z.push(f(b,"SYNTAX","ASSIGNMENTTOVARSONLY"));switch(b.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:z.push(f(b,"SYNTAX","OPERATORNOTRECOGNISED"))}l(b.right,q,d,z,g);U=!1;"Identifier"===b.left.type&&(null!==q.localScope&&void 0!==q.localScope[b.left.name.toLowerCase()]&&
(U=!0),void 0!==q.globalScope[b.left.name.toLowerCase()]&&(U=!0),!1===d&&!1===U&&z.push({line:null===b?0:b.loc.start.line,character:null===b?0:b.loc.start.column,reason:"Identifier "+b.left.name+" has not been declared."}));"MemberExpression"===b.left.type&&l(b.left,q,d,z,g);break;case "ExpressionStatement":l(b.expression,q,d,z,g);break;case "Identifier":{const aa=b.name.toLowerCase();if(null!==q.localScope&&void 0!==q.localScope[aa]||void 0!==q.globalScope[aa])break;!1===d&&z.push(f(b,"SYNTAX","VARIABLENOTFOUND"));
break}case "MemberExpression":l(b.object,q,d,z,g);!0===b.computed&&l(b.property,q,d,z,g);break;case "Literal":break;case "TemplateElement":break;case "CallExpression":"Identifier"!==b.callee.type&&z.push(f(b,"SYNTAX","ONLYNODESSUPPORTED"));for(Q=0;Q<b.arguments.length;Q++)l(b.arguments[Q],q,d,z,g);"Identifier"===b.callee.type&&(U=H(b.callee.name,b.arguments,q),!1===d&&-1===U&&z.push(f(b,"SYNTAX","NOTFOUND")),-2===U&&z.push(f(b,"SYNTAX","WRONGSIGNATURE")));break;case "UnaryExpression":l(b.argument,
q,d,z,g);break;case "BinaryExpression":l(b.left,q,d,z,g);l(b.right,q,d,z,g);switch(b.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":case "\x26":case "|":case "^":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":break;default:z.push(f(b,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(b.operator){case "\x26\x26":case "||":break;default:z.push(f(b,"SYNTAX","OPERATORNOTRECOGNISED"))}l(b.left,
q,d,z,g);"AssignmentExpression"!==b.left.type&&"UpdateExpression"!==b.left.type||z.push(f(b,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));l(b.right,q,d,z,g);"AssignmentExpression"!==b.right.type&&"UpdateExpression"!==b.right.type||z.push(f(b,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));break;case "ArrayExpression":for(U=0;U<b.elements.length;U++)l(b.elements[U],q,d,z,g);break;case "TemplateLiteral":for(U=0;U<b.quasis.length;U++)l(b.quasis[U],q,d,z,g);for(U=0;U<b.expressions.length;U++)l(b.expressions[U],
q,d,z,g);break;case "ObjectExpression":for(U=0;U<b.properties.length;U++)l(b.properties[U],q,d,z,g);break;case "Property":"Literal"!==b.key.type&&"Identifier"!==b.key.type&&z.push(f(b,"SYNTAX","ONLYLITERAL"));"Literal"===b.key.type&&l(b.key,q,d,z,g);l(b.value,q,d,z,g);break;default:z.push(f(b,"SYNTAX","UNRECOGNISED"))}}catch(aa){z.push({line:null===b?0:b.loc.start.line,character:null===b?0:b.loc.start.column,reason:"Unnexpected Syntax"})}}function v(b){const q=[];n(b,d=>{"CallExpression"===d.type&&
"Identifier"===d.callee.type&&q.push(d.callee.name.toLowerCase());return!0});return q}const D={all:{min:"2",max:"2"},none:{min:"2",max:"2"},any:{min:"2",max:"2"},reduce:{min:"2",max:"3"},map:{min:"2",max:"2"},filter:{min:"2",max:"2"},fromcodepoint:{min:"1",max:"*"},fromcharcode:{min:"1",max:"*"},tocodepoint:{min:"1",max:"2"},tocharcode:{min:"1",max:"2"},concatenate:{min:"0",max:"*"},expects:{min:"1",max:"*"},getfeatureset:{min:"1",max:"2"},week:{min:"1",max:"2"},fromjson:{min:"1",max:"1"},length3d:{min:"1",
max:"2"},tohex:{min:"1",max:"1"},hash:{min:"1",max:"1"},isoweek:{min:"1",max:"1"},isoweekday:{min:"1",max:"1"},isomonth:{min:"1",max:"1"},isoyear:{min:"1",max:"1"},resize:{min:"2",max:"3"},slice:{min:"0",max:"*"},splice:{min:"0",max:"*"},push:{min:"2",max:"2"},pop:{min:"1",max:"1"},includes:{min:"2",max:"2"},array:{min:"1",max:"2"},front:{min:"1",max:"1"},back:{min:"1",max:"1"},insert:{min:"3",max:"3"},erase:{min:"2",max:"2"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},
angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",max:"1"},millisecond:{min:"1",max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",
max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",max:"2"},isempty:{min:"1",max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},
geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",max:"1"},exp:{min:"1",max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",
max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},boolean:{min:"1",max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},
intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",max:"2"},difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",
max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},getuser:{min:"1",max:"2"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",
max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},convertdirection:{min:"3",max:"3"},schema:{min:"1",max:"1"}};for(const b in D)D[b].fmin=D[b].min,D[b].fmax=D[b].max;const B="featureset getuser featuresetbyid featuresetbyname featuresetbyassociation featuresetbyrelationshipname featuresetbyurl getfeatureset attachments featuresetbyportalitem".split(" "),L="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length length3d lengthgeodetic distance distancegeodetic densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");
F.addFunctionDeclaration=function(b,q){const d=D[b.name.toLowerCase()];void 0===d?"sync"===q?D[b.name.toLowerCase()]={min:b.min,max:b.max}:D[b.name.toLowerCase()]={fmin:b.min,fmax:b.max}:"sync"===q?(d.min=b.min,d.max=b.max):(d.fmin=b.min,d.fmax=b.max)};F.checkFunctionSignature=C;F.checkScript=function(b,q,d,z="async",g=D){const Q=[];if("BlockStatement"!==b.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];if(null===q||void 0===q)q={vars:{},customFunctions:[]};q={globalScope:t(q.vars,
g,q.customFunctions,z),localScope:null};try{l(b.body[0].body,q,d,Q)}catch(U){}return Q};F.constructGlobalScope=t;F.extractAllIssues=l;F.extractAllIssuesInFunction=h;F.extractFunctionDeclaration=e;F.findExpectedFieldLiterals=function(b){const q=[];n(b,d=>{if("CallExpression"===d.type&&"Identifier"===d.callee.type&&"expects"===d.callee.name.toLowerCase()){let g="";for(let Q=0;Q<(d.arguments||[]).length;Q++)if(0===Q)"Identifier"===d.arguments[Q].type&&(g=d.arguments[Q].name.toLowerCase());else{var z;
if(z=g&&"Literal"===d.arguments[Q].type)z=d.arguments[Q].value,z="string"===typeof z||z instanceof String;z&&q.push(g+"."+d.arguments[Q].value.toLowerCase())}return!1}if("MemberExpression"!==d.type||"Identifier"!==d.object.type)return!0;!1===d.computed&&d.object&&d.object.name&&d.property&&"Identifier"===d.property.type&&d.property.name?q.push(d.object.name.toLowerCase()+"."+d.property.name.toLowerCase()):d.object&&d.object.name&&d.property&&"Literal"===d.property.type&&"string"===typeof d.property.value&&
q.push(d.object.name.toLowerCase()+"."+d.property.value.toString().toLowerCase());return!1});return q};F.findFieldLiterals=function(b){const q=[];n(b,d=>{if("MemberExpression"!==d.type||"Identifier"!==d.object.type)return!0;!1===d.computed&&d.object&&d.object.name&&d.property&&"Identifier"===d.property.type&&d.property.name?q.push(d.object.name.toLowerCase()+"."+d.property.name.toLowerCase()):d.object&&d.object.name&&d.property&&"Literal"===d.property.type&&"string"===typeof d.property.value&&q.push(d.object.name.toLowerCase()+
"."+d.property.value.toString().toLowerCase());return!1});return q};F.findFunction=H;F.findFunctionCalls=v;F.findScriptDependencies=function(b,q=[]){let d=null;if(void 0===b.usesFeatureSet){null===d&&(d=v(b));b.usesFeatureSet=!1;for(let z=0;z<d.length;z++)-1<B.indexOf(d[z])&&(b.usesFeatureSet=!0,b.isAsync=!0);if(!1===b.usesFeatureSet&&q&&0<q.length)for(const z of q)if(p(b,z)){b.usesFeatureSet=!0;b.isAsync=!0;break}}if(void 0===b.usesGeometry)for(b.usesGeometry=!1,null===d&&(d=v(b)),q=0;q<d.length;q++)-1<
L.indexOf(d[q])&&(b.usesGeometry=!0)};F.functionDecls=D;F.makeError=f;F.nodeErrorMessage=c;F.referencesFunction=function(b,q){let d=!1;const z=q.toLowerCase();n(b,g=>d?!1:"CallExpression"===g.type&&"Identifier"===g.callee.type&&g.callee.name&&g.callee.name.toLowerCase()===z?(d=!0,!1):!0);return d};F.referencesMember=p;F.scriptUsesFeatureSet=function(b){b=v(b);for(let q=0;q<b.length;q++)if(-1<B.indexOf(b[q]))return!0;return!1};F.testValidityOfExpression=y;F.validateFunction=r;F.validateLanguage=function(b){return"BlockStatement"!==
b.body[0].body.type?"Invalid formula content.":m(b.body[0].body)};F.validateLanguageNode=m;F.validateScript=function(b,q,d="async",z=D){q={globalScope:t(q.vars,z,q.customFunctions,d),localScope:null};return y(b.body[0].body,q)};F.walk=n;Object.defineProperty(F,"__esModule",{value:!0})})},"esri/chunks/array":function(){define(["exports","../arcade/FunctionWrapper","../arcade/ImmutableArray","./languageUtils","../core/promiseUtils"],function(F,C,H,w,n){function m(p){function e(t,c){if(c instanceof C)return p.arcadeCustomFunctionHandler(c);
if(c instanceof w.NativeFunction)return(...f)=>c.fn(t,{preparsed:!0,arguments:f});if(c instanceof w.SizzleFunction)return(...f)=>{if(f.length!==c.paramCount)throw Error("Invalid parameters");return c.fn(...f)};throw Error("Invalid Parameter");}function r(t){if(t instanceof H)return t.toArray();if(w.isArray(t))return t;throw Error("Invalid Parameter");}p.functions.array=function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,1,2);f=w.toNumber(l[0]);if(isNaN(f)||!1===w.isInteger(f))throw Error("Invalid Parameter");
l=w.defaultUndefined(l[1],null);f=Array(f);f.fill(l);return f})};p.functions.front=function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,1,1);if(w.isImmutableArray(l[0])){if(0>=l[0].length())throw Error("Array is empty");return l[0].get(0)}if(w.isArray(l[0])){if(0>=l[0].length)throw Error("Array is empty");return l[0][0]}throw Error("Invalid Parameter");})};p.functions.back=function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,1,1);if(w.isImmutableArray(l[0])){if(0>=
l[0].length())throw Error("Array is empty");return l[0].get(l[0].length()-1)}if(w.isArray(l[0])){if(0>=l[0].length)throw Error("Array is empty");return l[0][l[0].length-1]}throw Error("Invalid Parameter");})};p.functions.push=function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,1,2);if(w.isArray(l[0]))return l[0][l[0].length]=l[1],l[0].length;throw Error("Invalid Parameter");})};p.functions.pop=function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,1,1);if(w.isArray(l[0])){if(0>=
l[0].length)throw Error("Array is empty");f=l[0][l[0].length-1];--l[0].length;return f}throw Error("Invalid Parameter");})};p.functions.erase=function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,2,2);if(w.isArray(l[0])){f=w.toNumber(l[1]);if(isNaN(f)||!1===w.isInteger(f))throw Error("Invalid Parameter");l=l[0];if(0>=l.length)throw Error("Array is empty");0>f&&(f=l.length+f);if(0>f)throw Error("Element not found");if(f>=l.length)throw Error("Index is greater than array");l.splice(f,
1);return w.voidOperation}throw Error("Invalid Parameter");})};p.functions.insert=function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,3,3);if(w.isArray(l[0])){f=w.toNumber(l[1]);if(isNaN(f)||!1===w.isInteger(f))throw Error("Invalid Parameter");h=l[2];l=l[0];if(f>l.length)throw Error("Index is greater than array");if(0>f&&f<-1*l.length)throw Error("Index is greater than array");if(f===l.length)return l[f]=h,w.voidOperation;l.splice(f,0,h);return w.voidOperation}throw Error("Invalid Parameter");
})};p.functions.resize=function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,2,3);if(w.isArray(l[0])){h=w.toNumber(l[1]);if(isNaN(h)||!1===w.isInteger(h))throw Error("Invalid Parameter");if(0>h)throw Error("Size cannot be negative");f=w.defaultUndefined(l[2],null);l=l[0];if(l.length>=h)return l.length=h,w.voidOperation;const v=l.length;l.length=h;for(h=v;h<l.length;h++)l[h]=f;return w.voidOperation}throw Error("Invalid Parameter");})};p.functions.includes=function(t,c){return p.standardFunction(t,
c,function(f,h,l){w.pcCheck(l,2,2);if(w.isArray(l[0])){const v=l[1];return-1<l[0].findIndex(D=>w.equalityTest(D,v))?!0:!1}if(w.isImmutableArray(l[0])){const v=l[1];return-1<l[0].toArray().findIndex(D=>w.equalityTest(D,v))?!0:!1}throw Error("Invalid Parameter");})};p.functions.slice=function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,1,3);if(w.isArray(l[0])){f=w.toNumber(w.defaultUndefined(l[1],0));h=w.toNumber(w.defaultUndefined(l[2],l[0].length));if(isNaN(f)||!1===w.isInteger(f))throw Error("Invalid Parameter");
if(isNaN(h)||!1===w.isInteger(h))throw Error("Invalid Parameter");return l[0].slice(f,h)}if(w.isImmutableArray(l[0])){f=l[0];h=w.toNumber(w.defaultUndefined(l[1],0));l=w.toNumber(w.defaultUndefined(l[2],f.length()));if(isNaN(h)||!1===w.isInteger(h))throw Error("Invalid Parameter");if(isNaN(l)||!1===w.isInteger(l))throw Error("Invalid Parameter");return f.toArray().slice(h,l)}throw Error("Invalid Parameter");})};p.functions.splice=function(t,c){return p.standardFunction(t,c,function(f,h,l){f=[];for(h=
0;h<l.length;h++)w.isArray(l[h])?f.push(...l[h]):w.isImmutableArray(l[h])?f.push(...l[h].toArray()):f.push(l[h]);return f})};"sync"===p.mode&&(p.functions.any=function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,2,2);f=e(t,l[1]);l=r(l[0]);for(const v of l)if(l=f(v),w.isBoolean(l)&&!0===l)return!0;return!1})},p.functions.all=function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,2,2);f=e(t,l[1]);l=r(l[0]);for(const v of l)if(!0!==f(v))return!1;return!0})},p.functions.none=
function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,2,2);f=e(t,l[1]);l=r(l[0]);for(const v of l)if(!0===f(v))return!1;return!0})},p.functions.reduce=function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,2,3);const v=e(t,l[1]);f=r(l[0]);return 2===l.length?0===f.length?null:f.reduce((D,B)=>{D=v(D,B);return D=void 0!==D&&D!==w.voidOperation?D:null}):f.reduce((D,B)=>{D=v(D,B);return D=void 0!==D&&D!==w.voidOperation?D:null},l[2])})},p.functions.map=function(t,c){return p.standardFunction(t,
c,function(f,h,l){w.pcCheck(l,2,2);f=e(t,l[1]);h=r(l[0]);l=[];for(const v of h)h=f(v),void 0!==h&&h!==w.voidOperation?l.push(h):l.push(null);return l})},p.functions.filter=function(t,c){return p.standardFunction(t,c,function(f,h,l){w.pcCheck(l,2,2);f=e(t,l[1]);l=r(l[0]);h=[];for(const v of l)!0===f(v)&&h.push(v);return h})});"async"===p.mode&&(p.functions.any=function(t,c){return p.standardFunctionAsync(t,c,function(f,h,l){w.pcCheck(l,2,2);const v=e(t,l[1]);var D=!1;return r(l[0]).reduce((B,L,b)=>
B.then(q=>{0<b&&!0===q&&(D=!0);if(!0===D)return n.resolve(!0);q=v(L);return n.isPromiseLike(q)?q:n.resolve(q)}),Promise.resolve(!1)).then(B=>{!0===B&&(D=!0);return D})})},p.functions.all=function(t,c){return p.standardFunctionAsync(t,c,function(f,h,l){w.pcCheck(l,2,2);const v=e(t,l[1]);var D=!0;return r(l[0]).reduce((B,L,b)=>B.then(q=>{0<b&&!0!==q&&(D=!1);if(!1===D)return n.resolve(!1);q=v(L);return n.isPromiseLike(q)?q:n.resolve(q)}),Promise.resolve(!0)).then(B=>{!0!==B&&(D=!1);return D})})},p.functions.none=
function(t,c){return p.standardFunctionAsync(t,c,function(f,h,l){w.pcCheck(l,2,2);const v=e(t,l[1]);var D=!0;return r(l[0]).reduce((B,L,b)=>B.then(q=>{0<b&&!0===q&&(D=!1);if(!1===D)return n.resolve(!0);q=v(L);return n.isPromiseLike(q)?q:n.resolve(q)}),Promise.resolve(!1)).then(B=>{!0===B&&(D=!1);return D})})},p.functions.filter=function(t,c){return p.standardFunctionAsync(t,c,function(f,h,l){w.pcCheck(l,2,2);const v=e(t,l[1]),D=r(l[0]),B=[];return D.reduce((L,b,q)=>L.then(d=>{0<q&&!0===d&&B.push(D[q-
1]);d=v(b);return n.isPromiseLike(d)?d:n.resolve(d)}),Promise.resolve(!1)).then(L=>{!0===L&&0<D.length&&B.push(D[D.length-1]);return B})})},p.functions.reduce=function(t,c){return p.standardFunctionAsync(t,c,function(f,h,l){w.pcCheck(l,2,3);const v=e(t,l[1]);f=r(l[0]);h=null;if(2<l.length)l=w.defaultUndefined(l[2],null),h=f.reduce((D,B)=>D.then(L=>{if(void 0===L||L===w.voidOperation)L=null;L=v(L,B);return n.isPromiseLike(L)?L:n.resolve(L)}),Promise.resolve(l));else{if(0===f.length)return null;h=f.reduce((D,
B,L)=>1>=L?(D=v(D,B),n.isPromiseLike(D)?D:n.resolve(D)):D.then(b=>{if(void 0===b||b===w.voidOperation)b=null;b=v(b,B);return n.isPromiseLike(b)?b:n.resolve(b)}))}return h.then(D=>void 0!==D&&D!==w.voidOperation?D:null)})},p.functions.map=function(t,c){return p.standardFunctionAsync(t,c,function(f,h,l){w.pcCheck(l,2,2);const v=e(t,l[1]),D=r(l[0]);var B=[];return D.reduce((L,b,q)=>L.then(d=>{0<q&&(void 0!==d&&d!==w.voidOperation?B.push(d):B.push(null));d=v(b);return n.isPromiseLike(d)?d:n.resolve(d)}),
Promise.resolve()).then(L=>{0<D.length&&(void 0!==L&&L!==w.voidOperation?B.push(L):B.push(null));return B})})})}const y=Object.freeze({__proto__:null,registerFunctions:m});F.ArrayFunctions=y;F.registerFunctions=m})},"esri/arcade/functions/date":function(){define(["exports","../../chunks/languageUtils","../../intl/locale","../../chunks/datetime"],function(F,C,H,w){function n(r){r=new Date(r.getTime());const t=r.getFullYear();var c=new Date(0);c.setFullYear(t+1,0,4);c.setHours(0,0,0,0);c=m(c);var f=
new Date(0);f.setFullYear(t,0,4);f.setHours(0,0,0,0);f=m(f);return r.getTime()>=c.getTime()?t+1:r.getTime()>=f.getTime()?t:t-1}function m(r){r=new Date(r.getTime());var t=r.getDay();t=(1>t?7:0)+t-1;r.setDate(r.getDate()-t);r.setHours(0,0,0,0);return r}function y(r){return null===r?r:isNaN(r.getTime())?null:r}const p=[0,31,59,90,120,151,181,212,243,273,304,334],e=[0,31,60,91,121,152,182,213,244,274,305,335];F.registerFunctions=function(r,t){r.today=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,
0,0);h=new Date;h.setHours(0,0,0,0);return h})};r.now=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,0,0);return new Date})};r.timestamp=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,0,0);h=new Date;return h=new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds())})};r.toutc=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,1,1);h=C.toDate(v[0]);return null===h?null:new Date(h.getUTCFullYear(),h.getUTCMonth(),
h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds())})};r.tolocal=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,1,1);h=C.toDate(v[0]);return null===h?null:w.DateTime.utc(h.getFullYear(),h.getMonth()+1,h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()).toJSDate()})};r.day=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,1,1);h=C.toDate(v[0]);return null===h?NaN:h.getDate()})};r.month=function(c,f){return t(c,f,function(h,
l,v){C.pcCheck(v,1,1);h=C.toDate(v[0]);return null===h?NaN:h.getMonth()})};r.year=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,1,1);h=C.toDate(v[0]);return null===h?NaN:h.getFullYear()})};r.hour=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,1,1);h=C.toDate(v[0]);return null===h?NaN:h.getHours()})};r.second=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,1,1);h=C.toDate(v[0]);return null===h?NaN:h.getSeconds()})};r.millisecond=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,
1,1);h=C.toDate(v[0]);return null===h?NaN:h.getMilliseconds()})};r.minute=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,1,1);h=C.toDate(v[0]);return null===h?NaN:h.getMinutes()})};r.week=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,1,2);h=C.toDate(v[0]);if(null===h)return NaN;v=C.toNumber(C.defaultUndefined(v[1],0));if(0>v||6<v)throw Error("Invalid Parameter");l=h.getDate();var D=h.getMonth();const B=h.getFullYear();h=h.getDay();l=l+(0!==B%4||0===B%100&&0!==B%400?p:e)[D]-1;D=Math.floor(l/
7);return h-v+(0>h-v?7:0)<l-7*D?D+1:D})};r.weekday=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,1,1);h=C.toDate(v[0]);return null===h?NaN:h.getDay()})};r.isoweekday=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,1,1);h=C.toDate(v[0]);if(null===h)return NaN;h=h.getDay();0===h&&(h=7);return h})};r.isomonth=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,1,1);h=C.toDate(v[0]);return null===h?NaN:h.getMonth()+1})};r.isoweek=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,
1,1);l=C.toDate(v[0]);if(null===l)return NaN;h=m(l).getTime();l=n(l);v=new Date(0);v.setFullYear(l,0,4);v.setHours(0,0,0,0);l=m(v);h-=l.getTime();return Math.round(h/6048E5)+1})};r.isoyear=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,1,1);h=C.toDate(v[0]);return null===h?NaN:n(h)})};r.date=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,0,7);if(3===v.length)return y(new Date(C.toNumber(v[0]),C.toNumber(v[1]),C.toNumber(v[2]),0,0,0,0));if(4===v.length)return y(new Date(C.toNumber(v[0]),
C.toNumber(v[1]),C.toNumber(v[2]),C.toNumber(v[3]),0,0,0));if(5===v.length)return y(new Date(C.toNumber(v[0]),C.toNumber(v[1]),C.toNumber(v[2]),C.toNumber(v[3]),C.toNumber(v[4]),0,0));if(6===v.length)return y(new Date(C.toNumber(v[0]),C.toNumber(v[1]),C.toNumber(v[2]),C.toNumber(v[3]),C.toNumber(v[4]),C.toNumber(v[5]),0));if(7===v.length)return y(new Date(C.toNumber(v[0]),C.toNumber(v[1]),C.toNumber(v[2]),C.toNumber(v[3]),C.toNumber(v[4]),C.toNumber(v[5]),C.toNumber(v[6])));if(2===v.length){h=C.toString(v[1]);
if(""===h)return null;h=C.standardiseDateFormat(h);v="X"===h?w.DateTime.fromSeconds(C.toNumber(v[0])):"x"===h?w.DateTime.fromMillis(C.toNumber(v[0])):w.DateTime.fromFormat(C.toString(v[0]),h,{locale:H.getLocale(),numberingSystem:"latn"});return v.isValid?v.toJSDate():null}if(1===v.length){if(C.isString(v[0])){if(""===v[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(v[0]))return C.toDate(v[0]+"-01-01")}h=C.toNumber(v[0]);return!1===isNaN(h)?y(new Date(h)):
C.toDate(v[0])}if(0===v.length)return new Date})};r.datediff=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,2,3);h=C.toDateTime(v[0]);l=C.toDateTime(v[1]);if(null===h||null===l)return NaN;switch(C.toString(v[2]).toLowerCase()){case "days":case "day":case "d":return h.diff(l,"days").days;case "months":case "month":return h.diff(l,"months").months;case "minutes":case "minute":case "m":return"M"===v[2]?h.diff(l,"months").months:h.diff(l,"minutes").minutes;case "seconds":case "second":case "s":return h.diff(l,
"seconds").seconds;case "milliseconds":case "millisecond":case "ms":return h.diff(l).milliseconds;case "hours":case "hour":case "h":return h.diff(l,"hours").hours;case "years":case "year":case "y":return h.diff(l,"years").years;default:return h.diff(l).milliseconds}})};r.dateadd=function(c,f){return t(c,f,function(h,l,v){C.pcCheck(v,2,3);h=C.toDateTime(v[0]);if(null===h)return null;l=C.toNumber(v[1]);if(isNaN(l))return h.toJSDate();let D="milliseconds";switch(C.toString(v[2]).toLowerCase()){case "days":case "day":case "d":D=
"days";l=C.absRound(l);break;case "months":case "month":D="months";l=C.absRound(l);break;case "minutes":case "minute":case "m":D="M"===v[2]?"months":"minutes";break;case "seconds":case "second":case "s":D="seconds";break;case "milliseconds":case "millisecond":case "ms":D="milliseconds";break;case "hours":case "hour":case "h":D="hours";break;case "years":case "year":case "y":D="years"}return h.plus({[D]:l}).toJSDate()})}};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/functions/geometry":function(){define("exports ../Dictionary ../Feature ../ImmutablePointArray ../../chunks/languageUtils ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ./centroid ../../geometry/support/jsonUtils ../../geometry/support/coordsUtils".split(" "),
function(F,C,H,w,n,m,y,p,e,r,t,c,f,h){function l(v){return v&&(v instanceof H||"object"===typeof v&&"FeatureSetReader"===v.type)}F.registerFunctions=function(v,D){v.ringisclockwise=function(B,L){return D(B,L,function(b,q,d){n.pcCheck(d,1,1);b=[];let z=q=!1;if(null===d[0])return!1;if(n.isArray(d[0])){for(const g of d[0])if(g instanceof e)b.push(g.hasZ?g.hasM?[g.x,g.y,g.z,g.m]:[g.x,g.y,g.z]:[g.x,g.y]);else throw Error("Invalid Argument");0<b.length&&(q=d[0][0].hasZ,z=d[0][0].hasM)}else if(d[0]instanceof
w)b=d[0]._elements,0<b.length&&(q=d[0]._hasZ,z=d[0]._hasM);else if(n.isImmutableArray(d[0])){for(const g of d[0].toArray())if(g instanceof e)b.push(g.hasZ?g.hasM?[g.x,g.y,g.z,g.m]:[g.x,g.y,g.z]:[g.x,g.y]);else throw Error("Invalid Argument");0<b.length&&(q=d[0].get(0).hasZ,z=d[0].get(0).hasM)}else throw Error("Invalid Argument");return 3>b.length?!1:h.isClockwise(b,z,q)})};v.polygon=function(B,L){return D(B,L,function(b,q,d){n.pcCheck(d,1,1);b=null;if(d[0]instanceof C){if(b=n.fixSpatialReference(H.parseGeometryFromDictionary(d[0]),
B.spatialReference),!1===b instanceof r)throw Error("Illegal Parameter");}else b=d[0]instanceof r?f.fromJSON(d[0].toJSON()):n.fixSpatialReference(new r(JSON.parse(d[0])),B.spatialReference);if(null!==b&&!1===b.spatialReference.equals(B.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return n.fixNullGeometry(b)})};v.polyline=function(B,L){return D(B,L,function(b,q,d){n.pcCheck(d,1,1);b=null;if(d[0]instanceof C){if(b=n.fixSpatialReference(H.parseGeometryFromDictionary(d[0]),
B.spatialReference),!1===b instanceof t)throw Error("Illegal Parameter");}else b=d[0]instanceof t?f.fromJSON(d[0].toJSON()):n.fixSpatialReference(new t(JSON.parse(d[0])),B.spatialReference);if(null!==b&&!1===b.spatialReference.equals(B.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return n.fixNullGeometry(b)})};v.point=function(B,L){return D(B,L,function(b,q,d){n.pcCheck(d,1,1);b=null;if(d[0]instanceof C){if(b=n.fixSpatialReference(H.parseGeometryFromDictionary(d[0]),
B.spatialReference),!1===b instanceof e)throw Error("Illegal Parameter");}else b=d[0]instanceof e?f.fromJSON(d[0].toJSON()):n.fixSpatialReference(new e(JSON.parse(d[0])),B.spatialReference);if(null!==b&&!1===b.spatialReference.equals(B.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return n.fixNullGeometry(b)})};v.multipoint=function(B,L){return D(B,L,function(b,q,d){n.pcCheck(d,1,1);b=null;if(d[0]instanceof C){if(b=
n.fixSpatialReference(H.parseGeometryFromDictionary(d[0]),B.spatialReference),!1===b instanceof p)throw Error("Illegal Parameter");}else b=d[0]instanceof p?f.fromJSON(d[0].toJSON()):n.fixSpatialReference(new p(JSON.parse(d[0])),B.spatialReference);if(null!==b&&!1===b.spatialReference.equals(B.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return n.fixNullGeometry(b)})};v.extent=function(B,L){return D(B,L,function(b,
q,d){d=n.autoCastFeatureToGeometry(d);n.pcCheck(d,1,1);b=null;d[0]instanceof C?b=n.fixSpatialReference(H.parseGeometryFromDictionary(d[0]),B.spatialReference):d[0]instanceof e?(b={xmin:d[0].x,ymin:d[0].y,xmax:d[0].x,ymax:d[0].y,spatialReference:d[0].spatialReference.toJSON()},d=d[0],d.hasZ?(b.zmin=d.z,b.zmax=d.z):d.hasM&&(b.mmin=d.m,b.mmax=d.m),b=f.fromJSON(b)):b=d[0]instanceof r?f.fromJSON(d[0].extent.toJSON()):d[0]instanceof t?f.fromJSON(d[0].extent.toJSON()):d[0]instanceof p?f.fromJSON(d[0].extent.toJSON()):
d[0]instanceof m?f.fromJSON(d[0].toJSON()):n.fixSpatialReference(new m(JSON.parse(d[0])),B.spatialReference);if(null!==b&&!1===b.spatialReference.equals(B.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return n.fixNullGeometry(b)})};v.geometry=function(B,L){return D(B,L,function(b,q,d){n.pcCheck(d,1,1);b=null;if(null===d[0])return null;b=l(d[0])?n.fixSpatialReference(d[0].geometry(),B.spatialReference):d[0]instanceof
C?n.fixSpatialReference(H.parseGeometryFromDictionary(d[0]),B.spatialReference):n.fixSpatialReference(f.fromJSON(JSON.parse(d[0])),B.spatialReference);if(null!==b&&!1===b.spatialReference.equals(B.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return n.fixNullGeometry(b)})};v.setgeometry=function(B,L){return D(B,L,function(b,q,d){n.pcCheck(d,2,2);if(l(d[0])){if(!0===d[0].immutable)throw Error("Feature is Immutable");
if(d[1]instanceof y||null===d[1])d[0]._geometry=d[1];else throw Error("Illegal Argument");}else throw Error("Illegal Argument");return n.voidOperation})};v.feature=function(B,L){return D(B,L,function(b,q,d){if(0===d.length)throw Error("Missing Parameters");b=null;if(1===d.length)if(n.isString(d[0]))b=H.fromJson(JSON.parse(d[0]));else if(l(d[0]))b=H.createFromArcadeFeature(d[0]);else if(d[0]instanceof y)b=H.createFromGraphicLikeObject(d[0],null,null);else if(d[0]instanceof C)b=d[0].hasField("geometry")?
d[0].field("geometry"):null,d=d[0].hasField("attributes")?d[0].field("attributes"):null,null!==b&&b instanceof C&&(b=H.parseGeometryFromDictionary(b)),null!==d&&(d=H.parseAttributesFromDictionary(d)),b=H.createFromGraphicLikeObject(b,d,null);else throw Error("Illegal Argument");else if(2===d.length){q=b=null;if(null!==d[0])if(d[0]instanceof y)b=d[0];else if(b instanceof C)b=H.parseGeometryFromDictionary(d[0]);else throw Error("Illegal Argument");if(null!==d[1])if(d[1]instanceof C)q=H.parseAttributesFromDictionary(d[1]);
else throw Error("Illegal Argument");b=H.createFromGraphicLikeObject(b,q,null)}else{b=null;q={};if(null!==d[0])if(d[0]instanceof y)b=d[0];else if(b instanceof C)b=H.parseGeometryFromDictionary(d[0]);else throw Error("Illegal Argument");for(let z=1;z<d.length;z+=2){const g=n.toString(d[z]),Q=d[z+1];if(null===Q||void 0===Q||n.isString(Q)||isNaN(Q)||n.isDate(Q)||n.isNumber(Q)||n.isBoolean(Q)){if(n.isFunctionParameter(Q)||!1===n.isSimpleType(Q))throw Error("Illegal Argument");q[g]=Q===n.voidOperation?
null:Q}else throw Error("Illegal Argument");}b=H.createFromGraphicLikeObject(b,q,null)}b._geometry=n.fixSpatialReference(b.geometry(),B.spatialReference);b.immutable=!1;return b})};v.dictionary=function(B,L){return D(B,L,function(b,q,d){if(0===d.length)return d=new C,d.immutable=!1,d;if(1===d.length&&n.isString(d[0]))try{var z=JSON.parse(d[0]),g=C.convertObjectToArcadeDictionary(z,!1);g.immutable=!1;return g}catch(Q){throw Error("Missing Parameters or Illegal Json");}if(0!==d.length%2)throw Error("Missing Parameters");
b={};for(q=0;q<d.length;q+=2)if(z=n.toString(d[q]),g=d[q+1],null===g||void 0===g||n.isString(g)||isNaN(g)||n.isDate(g)||n.isNumber(g)||n.isBoolean(g)||n.isArray(g)||n.isImmutableArray(g)){if(n.isFunctionParameter(g))throw Error("Illegal Argument");b[z]=g===n.voidOperation?null:g}else throw Error("Illegal Argument");d=new C(b);d.immutable=!1;return d})};v.haskey=function(B,L){return D(B,L,function(b,q,d){n.pcCheck(d,2,2);b=n.toString(d[1]);if(l(d[0])||d[0]instanceof C)return d[0].hasField(b);throw Error("Illegal Argument");
})};v.indexof=function(B,L){return D(B,L,function(b,q,d){n.pcCheck(d,2,2);b=d[1];if(n.isArray(d[0])){for(q=0;q<d[0].length;q++)if(n.equalityTest(b,d[0][q]))return q;return-1}if(n.isImmutableArray(d[0])){q=d[0].length();for(let z=0;z<q;z++)if(n.equalityTest(b,d[0].get(z)))return z;return-1}throw Error("Illegal Argument");})};v.angle=function(B,L){return D(B,L,function(b,q,d){d=n.autoCastFeatureToGeometry(d);n.pcCheck(d,2,3);if(!(d[0]instanceof e))throw Error("Illegal Argument");if(!(d[1]instanceof
e))throw Error("Illegal Argument");if(2<d.length&&!(d[2]instanceof e))throw Error("Illegal Argument");return 2===d.length?c.angle2D(d[0],d[1]):c.angleBetween2D(d[0],d[1],d[2])})};v.bearing=function(B,L){return D(B,L,function(b,q,d){d=n.autoCastFeatureToGeometry(d);n.pcCheck(d,2,3);if(!(d[0]instanceof e))throw Error("Illegal Argument");if(!(d[1]instanceof e))throw Error("Illegal Argument");if(2<d.length&&!(d[2]instanceof e))throw Error("Illegal Argument");return 2===d.length?c.bearing2D(d[0],d[1]):
c.bearingBetween2D(d[0],d[1],d[2])})};v.isselfintersecting=function(B,L){return D(B,L,function(b,q,d){d=n.autoCastFeatureToGeometry(d);n.pcCheck(d,1,1);b=d[0];if(b instanceof r)return b.isSelfIntersecting;if(b instanceof t)return b=b.paths,c.pathsSelfIntersecting(b);if(b instanceof p)for(q=b.points,d=0;d<q.length;d++)for(let z=0;z<q.length;z++)if(z!==d){let g=!0;for(let Q=0;Q<q[d].length;Q++)if(q[d][Q]!==q[z][Q]){g=!1;break}if(!0===g)return!0}return n.isArray(b)||n.isImmutableArray(b)?(b=n.autoCastArrayOfPointsToPolyline(b,
B.spatialReference),null!==b&&(b=b.paths),c.pathsSelfIntersecting(b)):!1})}};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/functions/centroid":function(){define(["exports","../../geometry/Point","../../geometry/support/intersectsBase"],function(F,C,H){function w(c,f,h){const l={x:0,y:0};f&&(l.z=0);h&&(l.m=0);let v=0;var D=c[0];for(let d=0;d<c.length;d++){const z=c[d];a:if(z.length!==D.length)var B=!1;else{for(B=0;B<z.length;B++)if(z[B]!==D[B]){B=!1;break a}B=!0}if(!1===B){B=n(D,
z,f);{var L=z,b=f,q=h;const g={x:(D[0]+L[0])/2,y:(D[1]+L[1])/2};b&&(g.z=(D[2]+L[2])/2);b&&q?g.m=(D[3]+L[3])/2:q&&(g.m=(D[2]+L[2])/2);D=g}D.x*=B;D.y*=B;l.x+=D.x;l.y+=D.y;f&&(D.z*=B,l.z+=D.z);h&&(D.m*=B,l.m+=D.m);v+=B;D=z}}0<v?(l.x/=v,l.y/=v,f&&(l.z/=v),h&&(l.m/=v)):(l.x=c[0][0],l.y=c[0][1],f&&(l.z=c[0][2]),h&&f?l.m=c[0][3]:h&&(l.m=c[0][2]));return l}function n(c,f,h){const l=f[0]-c[0];c=f[1]-c[1];return h?(f=f[2]-f[2],Math.sqrt(l*l+c*c+f*f)):Math.sqrt(l*l+c*c)}function m(c,f,h=0){for(;c<h;)c+=f;for(h+=
f;c>=h;)c-=f;return c}function y(c,f){return Math.atan2(f.y-c.y,f.x-c.x)}function p(c,f,h){var l=c.x-f.x;c=c.y-f.y;var v=h.x-f.x;f=h.y-f.y;return Math.atan2(l*f-v*c,l*v+c*f)}const e=[];for(const c of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const f=c[0];for(let h=1;h<c.length;h++)e[c[h]]=f}const r=[];r[9002]=.3048;r[9003]=.3048006096012192;r[9095]=.3048007491;const t=[0,0];F.angle2D=function(c,f){return m(y(c,f),2*Math.PI)*(180/Math.PI)};F.angleBetween2D=
function(c,f,h){return m(p(c,f,h),2*Math.PI)*(180/Math.PI)};F.angleBetweenRad=p;F.angleRad=y;F.bearing2D=function(c,f){return m(Math.PI/2-y(c,f),2*Math.PI)*(180/Math.PI)};F.bearingBetween2D=function(c,f,h){return m(-1*p(c,f,h),2*Math.PI)*(180/Math.PI)};F.centroidMultiPoint=function(c){if(0===c.points.length)return null;var f=0;let h=0,l=0,v=0;for(let D=0;D<c.points.length;D++){const B=c.getPoint(D);!0===B.hasZ&&(l+=B.z);!0===B.hasM&&(v+=B.m);f+=B.x;h+=B.y;v+=B.m}f={x:f/c.points.length,y:h/c.points.length,
spatialReference:null};f.spatialReference=c.spatialReference.toJSON();!0===c.hasZ&&(f.z=l/c.points.length);!0===c.hasM&&(f.m=v/c.points.length);return new C(f)};F.centroidPolyline=function(c){const f={x:0,y:0,spatialReference:c.spatialReference.toJSON()},h={x:0,y:0,spatialReference:c.spatialReference.toJSON()};let l=0,v=0;for(let L=0;L<c.paths.length;L++)if(0!==c.paths[L].length){a:{var D=c.paths[L];var B=!0===c.hasZ;if(1>=D.length){D=0;break a}let b=0;for(let q=1;q<D.length;q++)b+=n(D[q-1],D[q],
B);D=b}0===D?(D=w(c.paths[L],!0===c.hasZ,!0===c.hasM),f.x+=D.x,f.y+=D.y,!0===c.hasZ&&(f.z+=D.z),!0===c.hasM&&(f.m+=D.m),++l):(B=w(c.paths[L],!0===c.hasZ,!0===c.hasM),h.x+=B.x*D,h.y+=B.y*D,!0===c.hasZ&&(h.z+=B.z*D),!0===c.hasM&&(h.m+=B.m*D),v+=D)}return 0<v?(h.x/=v,h.y/=v,!0===c.hasZ&&(h.z/=v),!0===c.hasM&&(h.m/=v),new C(h)):0<l?(f.x/=l,f.y/=l,!0===c.hasZ&&(h.z/=l),!0===c.hasM&&(f.m/=l),new C(f)):null};F.getMetersPerVerticalUnitForSR=function(c){return c.vcsWkid&&void 0!==e[c.vcsWkid]?r[e[c.vcsWkid]]:
c.latestVcsWkid&&void 0!==e[c.latestVcsWkid]?r[e[c.latestVcsWkid]]:1};F.pathsSelfIntersecting=function(c){for(let b=0;b<c.length;b++){const q=c[b];for(var f=0;f<q.length-1;f++){var h=q[f],l=q[f+1];for(var v=b+1;v<c.length;v++)for(var D=0;D<c[v].length-1;D++){var B=c[v][D],L=c[v][D+1];if(H.segmentIntersects(h,l,B,L,t)&&!(t[0]===h[0]&&t[1]===h[1]||t[0]===B[0]&&t[1]===B[1]||t[0]===l[0]&&t[1]===l[1]||t[0]===L[0]&&t[1]===L[1]))return!0}}f=q.length;if(!(3>f))for(h=0;h<=f-2;h++)for(l=q[h],v=q[h+1],D=h+2;D<=
f-2;D++)if(B=q[D],L=q[D+1],H.segmentIntersects(l,v,B,L,t)&&!(t[0]===l[0]&&t[1]===l[1]||t[0]===B[0]&&t[1]===B[1]||t[0]===v[0]&&t[1]===v[1]||t[0]===L[0]&&t[1]===L[1]))return!0}return!1};F.segmentLength3d=function(c,f,h){return Math.sqrt((c[0]-f[0])**2+(c[1]-f[1])**2+(void 0!==c[2]&&void 0!==f[2]?(c[2]*h-f[2]*h)**2:0))};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/functions/geomsync":function(){define("exports ../../kernel ../kernel ../../chunks/languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils ../../core/unitUtils".split(" "),
function(F,C,H,w,n,m,y,p,e,r,t,c,f){function h(D){return 0===C.version.indexOf("4.")?r.fromExtent(D):new r({spatialReference:D.spatialReference,rings:[[[D.xmin,D.ymin],[D.xmin,D.ymax],[D.xmax,D.ymax],[D.xmax,D.ymin],[D.xmin,D.ymin]]]})}function l(D,B){if("polygon"!==D.type&&"polyline"!==D.type&&"extent"!==D.type)return 0;var L=1;if(D.spatialReference.vcsWkid||D.spatialReference.latestVcsWkid){L=n.getMetersPerVerticalUnitForSR(D.spatialReference);var b=f.getMetersPerUnitForSR(D.spatialReference);L/=
b}b=0;if("polyline"===D.type)for(var q of D.paths)for(var d=1;d<q.length;d++)b+=n.segmentLength3d(q[d],q[d-1],L);else if("polygon"===D.type)for(d of D.rings){for(q=1;q<d.length;q++)b+=n.segmentLength3d(d[q],d[q-1],L);if(d[0][0]!==d[d.length-1][0]||d[0][1]!==d[d.length-1][1]||void 0!==d[0][2]&&d[0][2]!==d[d.length-1][2])b+=n.segmentLength3d(d[0],d[d.length-1],L)}else"extent"===D.type&&(b+=2*n.segmentLength3d([D.xmin,D.ymin,0],[D.xmax,D.ymin,0],L),b+=2*n.segmentLength3d([D.xmin,D.ymin,0],[D.xmin,D.ymax,
0],L),b=2*b+4*Math.abs(w.defaultUndefined(D.zmax,0)*L-w.defaultUndefined(D.zmin,0)*L));D=new t({hasZ:!1,hasM:!1,spatialReference:D.spatialReference,paths:[[0,0],[0,b]]});return v.planarLength(D,B)}let v=null;F.registerFunctions=function(D,B){function L(b){w.pcCheck(b,2,2);if(!(b[0]instanceof y&&b[1]instanceof y||b[0]instanceof y&&null===b[1]||b[1]instanceof y&&null===b[0]||null===b[0]&&null===b[1]))throw Error("Illegal Argument");}D.disjoint=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);
L(g);return null===g[0]||null===g[1]?!0:v.disjoint(g[0],g[1])})};D.intersects=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?!1:v.intersects(g[0],g[1])})};D.touches=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?!1:v.touches(g[0],g[1])})};D.crosses=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?!1:v.crosses(g[0],
g[1])})};D.within=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?!1:v.within(g[0],g[1])})};D.contains=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?!1:v.contains(g[0],g[1])})};D.overlaps=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?!1:v.overlaps(g[0],g[1])})};D.equals=function(b,q){return B(b,q,function(d,
z,g){w.pcCheck(g,2,2);return g[0]===g[1]?!0:g[0]instanceof y&&g[1]instanceof y?v.equals(g[0],g[1]):w.isDate(g[0])&&w.isDate(g[1])?g[0].getTime()===g[1].getTime():!1})};D.relate=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);w.pcCheck(g,3,3);if(g[0]instanceof y&&g[1]instanceof y)return v.relate(g[0],g[1],w.toString(g[2]));if(g[0]instanceof y&&null===g[1]||g[1]instanceof y&&null===g[0]||null===g[0]&&null===g[1])return!1;throw Error("Illegal Argument");})};D.intersection=
function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?null:v.intersect(g[0],g[1])})};D.union=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);d=[];if(0===g.length)throw Error("Function called with wrong number of Parameters");if(1===g.length)if(w.isArray(g[0]))for(g=w.autoCastFeatureToGeometry(g[0]),z=0;z<g.length;z++){if(null!==g[z]){if(!(g[z]instanceof y))throw Error("Illegal Argument");d.push(g[z])}}else if(w.isImmutableArray(g[0]))for(g=
w.autoCastFeatureToGeometry(g[0].toArray()),z=0;z<g.length;z++){if(null!==g[z]){if(!(g[z]instanceof y))throw Error("Illegal Argument");d.push(g[z])}}else{if(g[0]instanceof y)return w.fixSpatialReference(H.cloneGeometry(g[0]),b.spatialReference);if(null===g[0])return null;throw Error("Illegal Argument");}else for(z=0;z<g.length;z++)if(null!==g[z]){if(!(g[z]instanceof y))throw Error("Illegal Argument");d.push(g[z])}return 0===d.length?null:v.union(d)})};D.difference=function(b,q){return B(b,q,function(d,
z,g){g=w.autoCastFeatureToGeometry(g);L(g);return null!==g[0]&&null===g[1]?H.cloneGeometry(g[0]):null===g[0]?null:v.difference(g[0],g[1])})};D.symmetricdifference=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);L(g);return null===g[0]&&null===g[1]?null:null===g[0]?H.cloneGeometry(g[1]):null===g[1]?H.cloneGeometry(g[0]):v.symmetricDifference(g[0],g[1])})};D.clip=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);w.pcCheck(g,2,2);if(!(g[1]instanceof
m)&&null!==g[1])throw Error("Illegal Argument");if(null===g[0])return null;if(!(g[0]instanceof y))throw Error("Illegal Argument");return null===g[1]?null:v.clip(g[0],g[1])})};D.cut=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);w.pcCheck(g,2,2);if(!(g[1]instanceof t)&&null!==g[1])throw Error("Illegal Argument");if(null===g[0])return[];if(!(g[0]instanceof y))throw Error("Illegal Argument");return null===g[1]?[H.cloneGeometry(g[0])]:v.cut(g[0],g[1])})};D.area=function(b,
q){return B(b,q,function(d,z,g){w.pcCheck(g,1,2);g=w.autoCastFeatureToGeometry(g);if(null===g[0])return 0;if(w.isArray(g[0])||w.isImmutableArray(g[0]))return d=w.autoCastArrayOfPointsToPolygon(g[0],b.spatialReference),null===d?0:v.planarArea(d,H.convertSquareUnitsToCode(w.defaultUndefined(g[1],-1)));if(!(g[0]instanceof y))throw Error("Illegal Argument");return v.planarArea(g[0],H.convertSquareUnitsToCode(w.defaultUndefined(g[1],-1)))})};D.areageodetic=function(b,q){return B(b,q,function(d,z,g){w.pcCheck(g,
1,2);g=w.autoCastFeatureToGeometry(g);if(null===g[0])return 0;if(w.isArray(g[0])||w.isImmutableArray(g[0]))return d=w.autoCastArrayOfPointsToPolygon(g[0],b.spatialReference),null===d?0:v.geodesicArea(d,H.convertSquareUnitsToCode(w.defaultUndefined(g[1],-1)));if(!(g[0]instanceof y))throw Error("Illegal Argument");return v.geodesicArea(g[0],H.convertSquareUnitsToCode(w.defaultUndefined(g[1],-1)))})};D.length=function(b,q){return B(b,q,function(d,z,g){w.pcCheck(g,1,2);g=w.autoCastFeatureToGeometry(g);
if(null===g[0])return 0;if(w.isArray(g[0])||w.isImmutableArray(g[0]))return d=w.autoCastArrayOfPointsToPolyline(g[0],b.spatialReference),null===d?0:v.planarLength(d,H.convertLinearUnitsToCode(w.defaultUndefined(g[1],-1)));if(!(g[0]instanceof y))throw Error("Illegal Argument");return v.planarLength(g[0],H.convertLinearUnitsToCode(w.defaultUndefined(g[1],-1)))})};D.length3d=function(b,q){return B(b,q,function(d,z,g){w.pcCheck(g,1,2);g=w.autoCastFeatureToGeometry(g);if(null===g[0])return 0;if(w.isArray(g[0])||
w.isImmutableArray(g[0]))return d=w.autoCastArrayOfPointsToPolyline(g[0],b.spatialReference),null===d?0:!0===d.hasZ?l(d,H.convertLinearUnitsToCode(w.defaultUndefined(g[1],-1))):v.planarLength(d,H.convertLinearUnitsToCode(w.defaultUndefined(g[1],-1)));if(!(g[0]instanceof y))throw Error("Illegal Argument");return!0===g[0].hasZ?l(g[0],H.convertLinearUnitsToCode(w.defaultUndefined(g[1],-1))):v.planarLength(g[0],H.convertLinearUnitsToCode(w.defaultUndefined(g[1],-1)))})};D.lengthgeodetic=function(b,q){return B(b,
q,function(d,z,g){w.pcCheck(g,1,2);g=w.autoCastFeatureToGeometry(g);if(null===g[0])return 0;if(w.isArray(g[0])||w.isImmutableArray(g[0]))return d=w.autoCastArrayOfPointsToPolyline(g[0],b.spatialReference),null===d?0:v.geodesicLength(d,H.convertLinearUnitsToCode(w.defaultUndefined(g[1],-1)));if(!(g[0]instanceof y))throw Error("Illegal Argument");return v.geodesicLength(g[0],H.convertLinearUnitsToCode(w.defaultUndefined(g[1],-1)))})};D.distance=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);
w.pcCheck(g,2,3);d=g[0];if(w.isArray(g[0])||w.isImmutableArray(g[0]))d=w.autoCastArrayOfPointsToMultiPoint(g[0],b.spatialReference);z=g[1];if(w.isArray(g[1])||w.isImmutableArray(g[1]))z=w.autoCastArrayOfPointsToMultiPoint(g[1],b.spatialReference);if(!(d instanceof y))throw Error("Illegal Argument");if(!(z instanceof y))throw Error("Illegal Argument");return v.distance(d,z,H.convertLinearUnitsToCode(w.defaultUndefined(g[2],-1)))})};D.distancegeodetic=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);
w.pcCheck(g,2,3);d=g[0];z=g[1];if(!(d instanceof e))throw Error("Illegal Argument");if(!(z instanceof e))throw Error("Illegal Argument");const Q=new t({paths:[],spatialReference:d.spatialReference});Q.addPath([d,z]);return v.geodesicLength(Q,H.convertLinearUnitsToCode(w.defaultUndefined(g[2],-1)))})};D.densify=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);w.pcCheck(g,2,3);if(null===g[0])return null;if(!(g[0]instanceof y))throw Error("Illegal Argument");d=w.toNumber(g[1]);
if(isNaN(d))throw Error("Illegal Argument");if(0>=d)throw Error("Illegal Argument");return g[0]instanceof r||g[0]instanceof t?v.densify(g[0],d,H.convertLinearUnitsToCode(w.defaultUndefined(g[2],-1))):g[0]instanceof m?v.densify(h(g[0]),d,H.convertLinearUnitsToCode(w.defaultUndefined(g[2],-1))):g[0]})};D.densifygeodetic=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);w.pcCheck(g,2,3);if(null===g[0])return null;if(!(g[0]instanceof y))throw Error("Illegal Argument");d=w.toNumber(g[1]);
if(isNaN(d))throw Error("Illegal Argument");if(0>=d)throw Error("Illegal Argument");return g[0]instanceof r||g[0]instanceof t?v.geodesicDensify(g[0],d,H.convertLinearUnitsToCode(w.defaultUndefined(g[2],-1))):g[0]instanceof m?v.geodesicDensify(h(g[0]),d,H.convertLinearUnitsToCode(w.defaultUndefined(g[2],-1))):g[0]})};D.generalize=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);w.pcCheck(g,2,4);if(null===g[0])return null;if(!(g[0]instanceof y))throw Error("Illegal Argument");
d=w.toNumber(g[1]);if(isNaN(d))throw Error("Illegal Argument");return v.generalize(g[0],d,w.toBoolean(w.defaultUndefined(g[2],!0)),H.convertLinearUnitsToCode(w.defaultUndefined(g[3],-1)))})};D.buffer=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);w.pcCheck(g,2,3);if(null===g[0])return null;if(!(g[0]instanceof y))throw Error("Illegal Argument");d=w.toNumber(g[1]);if(isNaN(d))throw Error("Illegal Argument");return 0===d?H.cloneGeometry(g[0]):v.buffer(g[0],d,H.convertLinearUnitsToCode(w.defaultUndefined(g[2],
-1)))})};D.buffergeodetic=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);w.pcCheck(g,2,3);if(null===g[0])return null;if(!(g[0]instanceof y))throw Error("Illegal Argument");d=w.toNumber(g[1]);if(isNaN(d))throw Error("Illegal Argument");return 0===d?H.cloneGeometry(g[0]):v.geodesicBuffer(g[0],d,H.convertLinearUnitsToCode(w.defaultUndefined(g[2],-1)))})};D.offset=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);w.pcCheck(g,2,6);if(null===g[0])return null;
if(!(g[0]instanceof r||g[0]instanceof t))throw Error("Illegal Argument");d=w.toNumber(g[1]);if(isNaN(d))throw Error("Illegal Argument");z=w.toNumber(w.defaultUndefined(g[4],10));if(isNaN(z))throw Error("Illegal Argument");const Q=w.toNumber(w.defaultUndefined(g[5],0));if(isNaN(Q))throw Error("Illegal Argument");return v.offset(g[0],d,H.convertLinearUnitsToCode(w.defaultUndefined(g[2],-1)),w.toString(w.defaultUndefined(g[3],"round")).toLowerCase(),z,Q)})};D.rotate=function(b,q){return B(b,q,function(d,
z,g){g=w.autoCastFeatureToGeometry(g);w.pcCheck(g,2,3);d=g[0];if(null===d)return null;if(!(d instanceof y))throw Error("Illegal Argument");d instanceof m&&(d=r.fromExtent(d));z=w.toNumber(g[1]);if(isNaN(z))throw Error("Illegal Argument");g=w.defaultUndefined(g[2],null);if(null===g)return v.rotate(d,z);if(g instanceof e)return v.rotate(d,z,g);throw Error("Illegal Argument");})};D.centroid=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);w.pcCheck(g,1,1);if(null===g[0])return null;
d=g[0];if(w.isArray(g[0])||w.isImmutableArray(g[0]))d=w.autoCastArrayOfPointsToMultiPoint(g[0],b.spatialReference);if(null===d)return null;if(!(d instanceof y))throw Error("Illegal Argument");return d instanceof e?w.fixSpatialReference(H.cloneGeometry(g[0]),b.spatialReference):d instanceof r?d.centroid:d instanceof t?n.centroidPolyline(d):d instanceof p?n.centroidMultiPoint(d):d instanceof m?d.center:null})};D.multiparttosinglepart=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);
w.pcCheck(g,1,1);z=[];if(null===g[0])return null;if(!(g[0]instanceof y))throw Error("Illegal Argument");if(g[0]instanceof e||g[0]instanceof m)return[w.fixSpatialReference(H.cloneGeometry(g[0]),b.spatialReference)];d=v.simplify(g[0]);if(d instanceof r){g=[];z=[];for(var Q=0;Q<d.rings.length;Q++)if(d.isClockwise(d.rings[Q])){const U=c.fromJSON({rings:[d.rings[Q]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()});g.push(U)}else z.push({ring:d.rings[Q],pt:d.getPoint(Q,0)});
for(d=0;d<z.length;d++)for(Q=0;Q<g.length;Q++)if(g[Q].contains(z[d].pt)){g[Q].addRing(z[d].ring);break}return g}if(d instanceof t){g=[];for(z=0;z<d.paths.length;z++)Q=c.fromJSON({paths:[d.paths[z]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()}),g.push(Q);return g}if(g[0]instanceof p){d=w.fixSpatialReference(H.cloneGeometry(g[0]),b.spatialReference);for(g=0;g<d.points.length;g++)z.push(d.getPoint(g));return z}return null})};D.issimple=function(b,q){return B(b,q,function(d,
z,g){g=w.autoCastFeatureToGeometry(g);w.pcCheck(g,1,1);if(null===g[0])return!0;if(!(g[0]instanceof y))throw Error("Illegal Argument");return v.isSimple(g[0])})};D.simplify=function(b,q){return B(b,q,function(d,z,g){g=w.autoCastFeatureToGeometry(g);w.pcCheck(g,1,1);if(null===g[0])return null;if(!(g[0]instanceof y))throw Error("Illegal Argument");return v.simplify(g[0])})}};F.setGeometryEngine=function(D){v=D};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/kernel":function(){define(["exports",
"../geometry/Extent"],function(F,C){F.cloneGeometry=function(H){if(null===H)return null;const w=H.clone();void 0!==H.cache._geVersion&&(w.cache._geVersion=H.cache._geVersion);return w};F.convertLinearUnitsToCode=function(H){if(void 0===H)return null;if("number"===typeof H)return H;H=H.toLowerCase();H=H.replace(/\s/g,"");H=H.replace(/-/g,"");switch(H){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 9001;case "miles":case "mile":case "squaremile":case "squaremiles":return 9035;
case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 9036;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 9002;case "nm":case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 9030}return null};F.convertSquareUnitsToCode=function(H){if(void 0===H)return null;if("number"===typeof H)return H;
H=H.toLowerCase();H=H.replace(/\s/g,"");H=H.replace(/-/g,"");switch(H){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":return 109413;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 109414;case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 109442;
case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 109405;case "nm":case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 109409}return null};F.sameGeomType=function(H,w){return H===w||"point"===H&&"esriGeometryPoint"===w||"polyline"===H&&"esriGeometryPolyline"===w||"polygon"===H&&"esriGeometryPolygon"===w||"extent"===H&&"esriGeometryEnvelope"===w||"multipoint"===H&&"esriGeometryMultipoint"===w||"point"===w&&"esriGeometryPoint"===
H||"polyline"===w&&"esriGeometryPolyline"===H||"polygon"===w&&"esriGeometryPolygon"===H||"extent"===w&&"esriGeometryEnvelope"===H||"multipoint"===w&&"esriGeometryMultipoint"===H?!0:!1};F.shapeExtent=function(H){if(null===H)return null;switch(H.type){case "polygon":case "multipoint":case "polyline":return H.extent;case "point":return new C({xmin:H.x,ymin:H.y,xmax:H.x,ymax:H.y,spatialReference:H.spatialReference});case "extent":return H}return null};Object.defineProperty(F,"__esModule",{value:!0})})},
"esri/arcade/functions/maths":function(){define(["exports","../../chunks/languageUtils","../../core/number"],function(F,C,H){function w(n,m,y){if("undefined"===typeof y||0===+y)return Math[n](m);m=+m;y=+y;if(isNaN(m)||"number"!==typeof y||0!==y%1)return NaN;m=m.toString().split("e");m=Math[n](+(m[0]+"e"+(m[1]?+m[1]-y:-y)));m=m.toString().split("e");return+(m[0]+"e"+(m[1]?+m[1]+y:y))}F.registerFunctions=function(n,m){function y(p,e,r){p=C.toNumber(p);return isNaN(p)?p:isNaN(e)||isNaN(r)||e>r?NaN:p<
e?e:p>r?r:p}n.number=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,2);r=c[0];return C.isNumber(r)?r:null===r?0:C.isDate(r)||C.isBoolean(r)?Number(r):C.isArray(r)?NaN:""===r||void 0===r?Number(r):C.isString(r)?void 0!==c[1]?(c=C.multiReplace(c[1],"\u2030",""),c=C.multiReplace(c,"\u00a4",""),H.parse(r,{pattern:c})):Number(r.trim()):Number(r)})};n.abs=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,1);return Math.abs(C.toNumber(c[0]))})};n.acos=function(p,e){return m(p,e,function(r,
t,c){C.pcCheck(c,1,1);return Math.acos(C.toNumber(c[0]))})};n.asin=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,1);return Math.asin(C.toNumber(c[0]))})};n.atan=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,1);return Math.atan(C.toNumber(c[0]))})};n.atan2=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,2,2);return Math.atan2(C.toNumber(c[0]),C.toNumber(c[1]))})};n.ceil=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,2);return 2===c.length?(r=C.toNumber(c[1]),
isNaN(r)&&(r=0),w("ceil",C.toNumber(c[0]),-1*r)):Math.ceil(C.toNumber(c[0]))})};n.round=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,2);return 2===c.length?(r=C.toNumber(c[1]),isNaN(r)&&(r=0),w("round",C.toNumber(c[0]),-1*r)):Math.round(C.toNumber(c[0]))})};n.floor=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,2);return 2===c.length?(r=C.toNumber(c[1]),isNaN(r)&&(r=0),w("floor",C.toNumber(c[0]),-1*r)):Math.floor(C.toNumber(c[0]))})};n.cos=function(p,e){return m(p,e,function(r,
t,c){C.pcCheck(c,1,1);return Math.cos(C.toNumber(c[0]))})};n.isnan=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,1);return"number"===typeof c[0]&&isNaN(c[0])})};n.exp=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,1);return Math.exp(C.toNumber(c[0]))})};n.log=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,1);return Math.log(C.toNumber(c[0]))})};n.pow=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,2,2);return C.toNumber(c[0])**C.toNumber(c[1])})};n.random=function(p,
e){return m(p,e,function(r,t,c){C.pcCheck(c,0,0);return Math.random()})};n.sin=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,1);return Math.sin(C.toNumber(c[0]))})};n.sqrt=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,1);return Math.sqrt(C.toNumber(c[0]))})};n.tan=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,1);return Math.tan(C.toNumber(c[0]))})};n.defaultvalue=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,2,2);return null===c[0]||""===c[0]||void 0===c[0]?
c[1]:c[0]})};n.isempty=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,1);return null===c[0]||""===c[0]||void 0===c[0]?!0:!1})};n["boolean"]=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,1,1);return C.toBoolean(c[0])})};n.constrain=function(p,e){return m(p,e,function(r,t,c){C.pcCheck(c,3,3);r=C.toNumber(c[1]);t=C.toNumber(c[2]);if(C.isArray(c[0])){var f=[];for(var h of c[0])f.push(y(h,r,t));return f}if(C.isImmutableArray(c[0])){h=[];for(f=0;f<c[0].length();f++)h.push(y(c[0].get(f),
r,t));return h}return y(c[0],r,t)})}};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/functions/stats":function(){define(["exports","../../chunks/languageUtils","./fieldStats"],function(F,C,H){function w(n,m,y,p){if(1===p.length){if(C.isArray(p[0]))return H.calculateStat(n,p[0],-1);if(C.isImmutableArray(p[0]))return H.calculateStat(n,p[0].toArray(),-1)}return H.calculateStat(n,p,-1)}F.registerFunctions=function(n,m){n.stdev=function(y,p){return m(y,p,function(e,r,t){return w("stdev",
e,r,t)})};n.variance=function(y,p){return m(y,p,function(e,r,t){return w("variance",e,r,t)})};n.average=function(y,p){return m(y,p,function(e,r,t){return w("mean",e,r,t)})};n.mean=function(y,p){return m(y,p,function(e,r,t){return w("mean",e,r,t)})};n.sum=function(y,p){return m(y,p,function(e,r,t){return w("sum",e,r,t)})};n.min=function(y,p){return m(y,p,function(e,r,t){return w("min",e,r,t)})};n.max=function(y,p){return m(y,p,function(e,r,t){return w("max",e,r,t)})};n.distinct=function(y,p){return m(y,
p,function(e,r,t){return w("distinct",e,r,t)})};n.count=function(y,p){return m(y,p,function(e,r,t){C.pcCheck(t,1,1);if(C.isArray(t[0])||C.isString(t[0]))return t[0].length;if(C.isImmutableArray(t[0]))return t[0].length();throw Error("Invalid Parameters for Count");})}};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/functions/fieldStats":function(){define(["exports","../../chunks/languageUtils"],function(F,C){function H(n){let m=0;for(let y=0;y<n.length;y++)m+=n[y];return m/n.length}
function w(n){const m=H(n);let y=0;for(let p=0;p<n.length;p++)y+=(m-n[p])**2;return y/n.length}F.calculateStat=function(n,m,y=1E3){switch(n.toLowerCase()){case "distinct":a:{n=[];const p={},e=[];for(let r=0;r<m.length;r++){if(void 0!==m[r]&&null!==m[r]&&m[r]!==C.voidOperation){const t=m[r];if(C.isNumber(t)||C.isString(t))void 0===p[t]&&(n.push(t),p[t]=1);else{let c=!1;for(let f=0;f<e.length;f++)!0===C.equalityTest(e[f],t)&&(c=!0);!1===c&&(e.push(t),n.push(t))}}if(n.length>=y&&-1!==y){m=n;break a}}m=
n}return m;case "avg":case "mean":return H(C.toNumberArray(m));case "min":return Math.min.apply(Math,C.toNumberArray(m));case "sum":m=C.toNumberArray(m);y=0;for(n=0;n<m.length;n++)y+=m[n];return m=y;case "max":return Math.max.apply(Math,C.toNumberArray(m));case "stdev":case "stddev":return Math.sqrt(w(C.toNumberArray(m)));case "var":case "variance":return w(C.toNumberArray(m));case "count":return m.length}return 0};F.decodeStatType=function(n){switch(n.toLowerCase()){case "distinct":return"distinct";
case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/functions/string":function(){define("exports ../ArcadePortal ../Attachment ../Dictionary ../Feature ../../chunks/languageUtils ../featureset/support/shared ./convertdirection ./hash ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/SpatialReference".split(" "),
function(F,C,H,w,n,m,y,p,e,r,t,c,f,h,l){function v(B,L){if(B.x===L.x&&B.y===L.y){if(B.hasZ){if(B.z!==L.z)return!1}else if(L.hasZ)return!1;if(B.hasM){if(B.m!==L.m)return!1}else if(L.hasM)return!1;return!0}return!1}function D(B,L,b){if(null===B)L.updateUint8Array([0,139]);else if(m.isArray(B)){L.updateUint8Array([61]);if(b.map.has(B))B=b.map.get(B),L.updateIntArray([B^61237541]);else{b.map.set(B,b.currentLength++);for(var q of B)D(q,L,b);b.map.delete(B);b.currentLength--}L.updateUint8Array([199])}else if(m.isImmutableArray(B)){L.updateUint8Array([61]);
if(b.map.has(B))B=b.map.get(B),L.updateIntArray([B^61237541]);else{b.map.set(B,b.currentLength++);for(var d of B.toArray())D(d,L,b);b.map.delete(B);b.currentLength--}L.updateUint8Array([199])}else if(m.isDate(B))L.updateIntArray([B.getTime()]),L.updateUint8Array([241]);else if(m.isString(B))L.updateIntArray([B.length]),L.updateWithString(B),L.updateUint8Array([41]);else if(m.isBoolean(B))L.updateUint8Array([!0===B?1:0,113]);else if(m.isNumber(B))L.updateFloatArray([B]),L.updateUint8Array([173]);else{if(B instanceof
H)throw Error("Type not supported in Hash");if(B instanceof C)throw Error("Type not supported in Hash");if(B instanceof w){L.updateUint8Array([223]);if(b.map.has(B))B=b.map.get(B),L.updateIntArray([B^61237541]);else{b.map.set(B,b.currentLength++);for(var z of B.keys())L.updateIntArray([z.length]),L.updateWithString(z),L.updateUint8Array([251]),q=B.field(z),D(q,L,b),L.updateUint8Array([239]);b.map.delete(B);b.currentLength--}L.updateUint8Array([73])}else{if(B instanceof n)throw Error("Type not supported in Hash");
if(B instanceof c)L.updateIntArray([3833836621]),L.updateIntArray([0]),L.updateFloatArray([B.x]),L.updateIntArray([1]),L.updateFloatArray([B.y]),B.hasZ&&(L.updateIntArray([2]),L.updateFloatArray([B.z])),B.hasM&&(L.updateIntArray([3]),L.updateFloatArray([B.m])),L.updateIntArray([3765347959]),D(B.spatialReference.wkid,L,b);else if(B instanceof f){L.updateIntArray([1266616829]);for(z=0;z<B.rings.length;z++){d=B.rings[z];q=[];var g=null;let Q=null;for(let U=0;U<d.length;U++){const aa=B.getPoint(z,U);
if(0===U)g=aa;else if(v(Q,aa))continue;Q=aa;U===d.length-1&&v(g,aa)||q.push(aa)}L.updateIntArray([1397116793,q.length]);for(d=0;d<q.length;d++)g=q[d],L.updateIntArray([3962308117,d]),D(g,L,b),L.updateIntArray([2716288009]);L.updateIntArray([2278822459])}L.updateIntArray([3878477243]);D(B.spatialReference.wkid,L,b)}else if(B instanceof h){L.updateIntArray([4106883559]);for(z=0;z<B.paths.length;z++){q=B.paths[z];L.updateIntArray([1397116793,q.length]);for(d=0;d<q.length;d++)L.updateIntArray([3962308117,
d]),D(B.getPoint(z,d),L,b),L.updateIntArray([2716288009]);L.updateIntArray([2278822459])}L.updateIntArray([2568784753]);D(B.spatialReference.wkid,L,b)}else if(B instanceof t){L.updateIntArray([588535921,B.points.length]);for(z=0;z<B.points.length;z++)q=B.getPoint(z),L.updateIntArray([z]),D(q,L,b);L.updateIntArray([1700171621]);D(B.spatialReference.wkid,L,b)}else if(B instanceof r)L.updateIntArray([3483648373]),L.updateIntArray([0]),L.updateFloatArray([B.xmax]),L.updateIntArray([1]),L.updateFloatArray([B.xmin]),
L.updateIntArray([2]),L.updateFloatArray([B.ymax]),L.updateIntArray([3]),L.updateFloatArray([B.ymin]),B.hasZ&&(L.updateIntArray([4]),L.updateFloatArray([B.zmax]),L.updateIntArray([5]),L.updateFloatArray([B.zmin])),B.hasM&&(L.updateIntArray([6]),L.updateFloatArray([B.mmax]),L.updateIntArray([7]),L.updateFloatArray([B.mmin])),L.updateIntArray([3622027469]),D(B.spatialReference.wkid,L,b);else if(B instanceof l)L.updateIntArray([14]),void 0!==B.wkid&&null!==B.wkid&&L.updateIntArray([B.wkid]),B.wkt&&L.updateWithString(B.wkt);
else{if(m.isFunctionParameter(B))throw Error("Type not supported in Hash");if(m.isFeatureSet(B))throw Error("Type not supported in Hash");m.isFeatureSetCollection(B);throw Error("Type not supported in Hash");}}}}F.registerFunctions=function(B,L){B.portal=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,1);return new C(m.toString(g[0]))})};B.trim=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,1);return m.toString(g[0]).trim()})};B.tohex=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,
1,1);d=m.toNumber(g[0]);return isNaN(d)?d:d.toString(16)})};B.upper=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,1);return m.toString(g[0]).toUpperCase()})};B.proper=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,2);d=1;2===g.length&&"firstword"===m.toString(g[1]).toLowerCase()&&(d=2);z=/\s/;g=m.toString(g[0]);let Q="",U=!0;for(let aa=0;aa<g.length;aa++){let ta=g[aa];z.test(ta)?1===d&&(U=!0):ta.toUpperCase()!==ta.toLowerCase()&&(U?(ta=ta.toUpperCase(),U=!1):ta=ta.toLowerCase());
Q+=ta}return Q})};B.lower=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,1);return m.toString(g[0]).toLowerCase()})};B.guid=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,0,1);if(0<g.length)switch(m.toString(g[0]).toLowerCase()){case "digits":return m.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return m.generateUUID();case "digits-hyphen-parentheses":return"("+m.generateUUID()+")"}return"{"+m.generateUUID()+"}"})};B.console=
function(b,q){return L(b,q,function(d,z,g){0!==g.length&&(1===g.length?b.console(m.toString(g[0])):b.console(m.toString(g)));return m.voidOperation})};B.mid=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,2,3);d=m.toNumber(g[1]);if(isNaN(d))return"";0>d&&(d=0);if(2===g.length)return m.toString(g[0]).substr(d);z=m.toNumber(g[2]);if(isNaN(z))return"";0>z&&(z=0);return m.toString(g[0]).substr(d,z)})};B.find=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,2,3);d=0;if(2<g.length){d=m.toNumber(m.defaultUndefined(g[2],
0));if(isNaN(d))return-1;0>d&&(d=0)}return m.toString(g[1]).indexOf(m.toString(g[0]),d)})};B.left=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,2,2);d=m.toNumber(g[1]);if(isNaN(d))return"";0>d&&(d=0);return m.toString(g[0]).substr(0,d)})};B.right=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,2,2);d=m.toNumber(g[1]);if(isNaN(d))return"";0>d&&(d=0);return m.toString(g[0]).substr(-1*d,d)})};B.split=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,2,4);d=m.toNumber(m.defaultUndefined(g[2],
-1));z=m.toBoolean(m.defaultUndefined(g[3],!1));-1===d||null===d||!0===z?g=m.toString(g[0]).split(m.toString(g[1])):(isNaN(d)&&(d=-1),-1>d&&(d=-1),g=m.toString(g[0]).split(m.toString(g[1]),d));if(!1===z)return g;z=[];for(let Q=0;Q<g.length&&!(-1!==d&&z.length>=d);Q++)""!==g[Q]&&void 0!==g[Q]&&z.push(g[Q]);return z})};B.text=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,2);return m.toStringExplicit(g[0],g[1])})};B.concatenate=function(b,q){return L(b,q,function(d,z,g){d=[];if(1>g.length)return"";
if(m.isArray(g[0])){z=m.defaultUndefined(g[2],"");for(var Q=0;Q<g[0].length;Q++)d[Q]=m.toStringExplicit(g[0][Q],z);return 1<g.length?d.join(g[1]):d.join("")}if(m.isImmutableArray(g[0])){z=m.defaultUndefined(g[2],"");for(Q=0;Q<g[0].length();Q++)d[Q]=m.toStringExplicit(g[0].get(Q),z);return 1<g.length?d.join(g[1]):d.join("")}for(z=0;z<g.length;z++)d[z]=m.toStringExplicit(g[z]);return d.join("")})};B.reverse=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,1);if(m.isArray(g[0]))return d=g[0].slice(0),
d.reverse(),d;if(m.isImmutableArray(g[0]))return d=g[0].toArray().slice(0),d.reverse(),d;throw Error("Invalid Parameter");})};B.replace=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,3,4);d=m.toString(g[0]);z=m.toString(g[1]);const Q=m.toString(g[2]);return(4===g.length?m.toBoolean(g[3]):1)?m.multiReplace(d,z,Q):d.replace(z,Q)})};B.schema=function(b,q){return L(b,q,function(d,z,g){if(g[0]instanceof n)return(d=g[0].schema())?w.convertObjectToArcadeDictionary(d):null;throw Error("Invalid Parameter");
})};B.subtypes=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,1);if(g[0]instanceof n)return(d=g[0].subtypes())?w.convertObjectToArcadeDictionary(d):null;throw Error("Invalid Parameter");})};B.subtypecode=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,1);if(g[0]instanceof n){d=g[0].subtypes();if(!d)return null;if(d.subtypeField&&g[0].hasField(d.subtypeField)){g=g[0].field(d.subtypeField);for(const Q of d.subtypes)if(Q.code===g)return Q.code}return null}throw Error("Invalid Parameter");
})};B.subtypename=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,1);if(g[0]instanceof n){d=g[0].subtypes();if(!d)return"";if(d.subtypeField&&g[0].hasField(d.subtypeField)){g=g[0].field(d.subtypeField);for(const Q of d.subtypes)if(Q.code===g)return Q.name}return""}throw Error("Invalid Parameter");})};B.gdbversion=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,1);if(g[0]instanceof n)return g[0].gdbVersion();throw Error("Invalid Parameter");})};B.domain=function(b,q){return L(b,q,
function(d,z,g){m.pcCheck(g,2,3);if(g[0]instanceof n)return(d=g[0].fullDomain(m.toString(g[1]),void 0===g[2]?void 0:m.toNumber(g[2])))&&d.domain?"coded-value"===d.domain.type||"codedValue"===d.domain.type?w.convertObjectToArcadeDictionary({type:"codedValue",name:d.domain.name,dataType:y.layerFieldEsriConstants[d.field.type],codedValues:d.domain.codedValues.map(Q=>({name:Q.name,code:Q.code}))}):w.convertObjectToArcadeDictionary({type:"range",name:d.domain.name,dataType:y.layerFieldEsriConstants[d.field.type],
min:d.domain.min,max:d.domain.max}):null;throw Error("Invalid Parameter");})};B.domainname=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,2,4);if(g[0]instanceof n)return g[0].domainValueLookup(m.toString(g[1]),g[2],void 0===g[3]?void 0:m.toNumber(g[3]));throw Error("Invalid Parameter");})};B.domaincode=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,2,4);if(g[0]instanceof n)return g[0].domainCodeLookup(m.toString(g[1]),g[2],void 0===g[3]?void 0:m.toNumber(g[3]));throw Error("Invalid Parameter");
})};B.urlencode=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,1);if(null===g[0])return"";if(g[0]instanceof w){d="";for(const Q of g[0].keys())z=g[0].field(Q),""!==d&&(d+="\x26"),d=null===z?d+(encodeURIComponent(Q)+"\x3d"):d+(encodeURIComponent(Q)+"\x3d"+encodeURIComponent(z));return d}return encodeURIComponent(m.toString(g[0]))})};B.hash=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,1);d=new e.XXH(0);D(g[0],d,{map:new Map,currentLength:0});return d.digest()})};B.convertdirection=
function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,3,3);return p.convertDirection(g[0],g[1],g[2])})};B.fromjson=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,1);if(!1===m.isString(g[0]))throw Error("Invalid Parameter");return w.convertJsonToArcade(JSON.parse(m.toString(g[0])))})};B.expects=function(b,q){return L(b,q,function(d,z,g){if(1>g.length)throw Error("Function called with wrong number of Parameters");return m.voidOperation})};B.tocharcode=function(b,q){return L(b,q,function(d,
z,g){m.pcCheck(g,1,2);d=m.toNumber(m.defaultUndefined(g[1],0));z=m.toString(g[0]);if(0===z.length&&1===g.length)return null;if(z.length<=d||0>d)throw Error("Illegal argument");return z.charCodeAt(d)})};B.tocodepoint=function(b,q){return L(b,q,function(d,z,g){m.pcCheck(g,1,2);d=m.toNumber(m.defaultUndefined(g[1],0));z=m.toString(g[0]);if(0===z.length&&1===g.length)return null;if(z.length<=d||0>d)throw Error("Illegal argument");return z.codePointAt(d)})};B.fromcharcode=function(b,q){return L(b,q,function(d,
z,g){if(1>g.length)throw Error("Function called with wrong number of Parameters");d=g.map(Q=>Math.trunc(m.toNumber(Q))).filter(Q=>0<=Q&&65535>=Q);return 0===d.length?null:String.fromCharCode.apply(null,d)})};B.fromcodepoint=function(b,q){return L(b,q,function(d,z,g){if(1>g.length)throw Error("Function called with wrong number of Parameters");let Q;try{Q=g.map(U=>Math.trunc(m.toNumber(U))).filter(U=>1114111>=U&&U>>>0===U)}catch(U){return null}return 0===Q.length?null:String.fromCodePoint.apply(null,
Q)})}};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/functions/convertdirection":function(){define(["exports","../Dictionary","../../chunks/languageUtils"],function(F,C,H){function w(M){if(!1===H.isString(M))throw Error("Invalid Parameter");return M}function n(M,W){W=10**W;return Math.round(M*W)/W}function m(M){const W=parseFloat(M.toString().replace(Math.trunc(M).toString(),"0"))*Math.sign(M);return 0>M?{fraction:W,integer:Math.ceil(M)}:{fraction:W,integer:Math.floor(M)}}function y(M,
W){switch(M){case 0:return"SHORT"===W?"N":"North";case 1:return"SHORT"===W?"E":"East";case 2:return"SHORT"===W?"S":"South";case 3:return"SHORT"===W?"W":"West"}}function p(M,W,V){for(;M.length<V;)M=W+M;return M}function e(M,W){return M-Math.floor(M/W)*W}function r(M){switch(M){case 6:case 1:return 360;case 4:return ka;case 5:return 400;case 2:return 1296E3;case 7:return 60;case 8:return 60;default:throw Error("Unnexpected evaluations");}}function t(M){switch(M.toUpperCase().trim()){case "NORTH":case "NORTHAZIMUTH":case "NORTH AZIMUTH":return 1;
case "POLAR":return 2;case "QUADRANT":return 3;case "SOUTH":case "SOUTHAZIMUTH":case "SOUTH AZIMUTH":return 4}throw Error("Unsupported direction type");}function c(M){switch(M.toUpperCase().trim()){case "D":case "DD":case "DECIMALDEGREE":case "DECIMAL DEGREE":case "DEGREE":case "DECIMALDEGREES":case "DECIMAL DEGREES":case "DEGREES":return 1;case "DMS":case "DEGREESMINUTESSECONDS":case "DEGREES MINUTES SECONDS":return 3;case "R":case "RAD":case "RADS":case "RADIAN":case "RADIANS":return 4;case "G":case "GON":case "GONS":case "GRAD":case "GRADS":case "GRADIAN":case "GRADIANS":return 5}throw Error("Unsupported units");
}function f(M,W,V){let X=null;switch(W){case 1:X=aa(M,3600);break;case 2:X=M;break;case 5:X=aa(M,3240);break;case 4:X=aa(M,Da);break;default:throw Error("Unnexpected evaluation");}switch(V){case 1:return ta(X,3600);case 2:return X;case 5:return ta(X,3240);case 4:return X/Da;default:throw Error("Unnexpected evaluation");}}function h(M){switch(M){case 1:case 6:case 3:return 1;case 5:return 5;case 7:return 7;case 4:return 4;case 2:case 8:return 2}}function l(M){switch(H.toNumber(M)){case 1:return{first:0,
second:1};case 2:return{first:2,second:1};case 3:return{first:2,second:3};case 4:return{first:0,second:3}}return null}function v(M){switch(M.toUpperCase().trim()){case "N":case "NORTH":return 0;case "E":case "EAST":return 1;case "S":case "SOUTH":return 2;case "W":case "WEST":return 3}return null}function D(M){M=parseFloat(M);if(H.isNumber(M)){if(isNaN(M))throw Error("Invalid conversion");return M}throw Error("Invalid conversion");}function B(M,W,V){const X=3===V;let ma=null;var sa=null;let Fa=0;var Y=
0;Y=0;if(X){if(2>M.length)throw Error("Conversion Error");Y=1;(sa=l(H.toString(M[M.length-1])))?(ma=sa.first,sa=sa.second):(Fa=1,ma=v(H.toString(M[0])),sa=v(H.toString(M[M.length-1])));if(null===ma||null===sa)throw Error("Invalid Conversion");}switch(W){case 1:case 4:case 5:if(0===M.length)throw Error("Invalid Conversion");return X?fa.createFromAngleMeridianAndDirection(la.createFromAngleAndUnits(D(M[Fa]),h(W)),ma,sa):fa.createFromAngleAndDirection(la.createFromAngleAndUnits(D(M[Fa]),h(W)),V);case 3:Y=
M.length-Y-Fa;if(3===Y)return M=la.createFromDegreesMinutesSeconds(D(M[Fa]),D(M[Fa+1]),D(M[Fa+2])),X?fa.createFromAngleMeridianAndDirection(M,ma,sa):fa.createFromAngleAndDirection(M,V);if(1===Y)return M=D(M[Fa]),M=Sa.number_to_dms(M),M=la.createFromDegreesMinutesSeconds(M.m_degrees,M.m_minutes,M.m_seconds),X?fa.createFromAngleMeridianAndDirection(M,ma,sa):fa.createFromAngleAndDirection(M,V)}throw Error("Conversion Error");}function L(M){const W=[" ","-","/","'",'"',"\\","^","\u00b0",Ra,"\t","\r",
"\n","*"];let V="";for(let X=0;X<M.length;X++){const ma=M.charAt(X);V=-1!==W.indexOf(ma)?V+"RRSPLITRRSPLITRR":V+ma}return V.split("RRSPLITRRSPLITRR").filter(X=>""!==X)}function b(M,W,V){const X={padding:0,rounding:0,newpos:W};let ma=!1;for(;W<M.length;){const sa=M[W];if(sa===V)ma?X.rounding++:X.padding++,W++;else if("."===sa)ma=!0,W++;else break}X.newpos=W-1;return X}const q=M=>(W,V,X)=>{X=X||14;return+M(W,V).toFixed(X)},d=(M,W)=>M+W,z=(M,W)=>M-W,g=(M,W)=>M*W,Q=(M,W)=>M/W,U=(M,W,V)=>q(d)(M,W,V),aa=
(M,W,V)=>q(g)(M,W,V),ta=(M,W,V)=>q(Q)(M,W,V),ka=2*Math.PI,Da=648E3/Math.PI,Ra=String.fromCharCode(7501);let Sa=function(){function M(V,X,ma){this.m_degrees=V;this.m_minutes=X;this.m_seconds=ma}var W=M.prototype;W.get_field=function(V){switch(V){case 1:case 6:return this.m_degrees;case 7:return this.m_minutes;case 2:case 8:return this.m_seconds;default:throw Error("Unnexpected evaluation");}};M.seconds_to_DMS=function(V){const X=m(V).fraction;V=m(V).integer;const ma=Math.floor(V/3600);V-=3600*ma;const sa=
Math.floor(V/60);return new M(ma,sa,V-60*sa+X)};M.number_to_dms=function(V){var X=m(V).fraction;V=m(V).integer;const ma=aa(m(100*X).fraction,100);X=m(100*X).integer;return new M(V,X,ma)};W.format=function(V,X){X=n(this.m_seconds,X);let ma=this.m_minutes,sa=this.m_degrees;if(2===V||8===V)60<=X&&(X-=60,++ma),60<=ma&&(ma=0,++sa),360<=sa&&(sa=0);else if(7===V)X=0,ma=30<=this.m_seconds?this.m_minutes+1:this.m_minutes,sa=this.m_degrees,60<=ma&&(ma=0,++sa),360<=sa&&(sa=0);else if(1===V||6===V)V=ta(this.m_seconds,
3600),X=ta(this.m_minutes,60),sa=Math.round(this.m_degrees+X+V),X=ma=0;return new M(sa,ma,X)};M.DMS_to_seconds=function(V,X,ma){return 3600*V+60*X+ma};return M}(),ha=function(){function M(W,V,X){this.meridian=W;this.angle=V;this.direction=X}M.prototype.fetch_azimuth=function(W){return 0===W?this.meridian:this.direction};return M}(),fa=function(){function M(V){this.m_angle=V}M.createFromAngleAndDirection=function(V,X){return new M(new la(M.convertDirectionFormat(V.extract_angular_units(2),X,1)))};
var W=M.prototype;W.getAngle=function(V){const X=this.m_angle.extract_angular_units(2);switch(V){case 1:case 4:case 2:return new la(M.convertDirectionFormat(X,1,V));case 3:return V=M.seconds_north_azimuth_to_quadrant(X),new la(V.angle)}};W.getMeridian=function(V){const X=this.m_angle.extract_angular_units(2);switch(V){case 1:return 0;case 4:return 2;case 2:return 1;case 3:return M.seconds_north_azimuth_to_quadrant(X).meridian}};W.getDirection=function(V){const X=this.m_angle.extract_angular_units(2);
switch(V){case 1:return 1;case 4:return 3;case 2:return 0;case 3:return M.seconds_north_azimuth_to_quadrant(X).direction}};M.seconds_north_azimuth_to_quadrant=function(V){const X=324E3>=V||972E3<=V?0:2;return new ha(X,0===X?Math.min(1296E3-V,V):Math.abs(V-648E3),648E3<V?3:1)};M.createFromAngleMeridianAndDirection=function(V,X,ma){return new M(new la(M.secondsQuadrantToNorthAzimuth(V.extract_angular_units(2),X,ma)))};M.secondsQuadrantToNorthAzimuth=function(V,X,ma){return 0===X?1===ma?V:1296E3-V:1===
ma?648E3-V:648E3+V};M.convertDirectionFormat=function(V,X,ma){let sa=0;switch(X){case 1:sa=V;break;case 2:sa=324E3-V;break;case 3:throw Error("Unnexpected evaluation");case 4:sa=V+648E3}V=0;switch(ma){case 1:V=sa;break;case 2:V=324E3-sa;break;case 3:throw Error("Unnexpected evaluation");case 4:V=sa-648E3}V%=1296E3;return 0>V?1296E3+V:V};return M}(),la=function(){function M(W){this.m_seconds=W}M.createFromAngleAndUnits=function(W,V){return new M(f(W,V,2))};M.prototype.extract_angular_units=function(W){return f(this.m_seconds,
2,h(W))};M.createFromDegreesMinutesSeconds=function(W,V,X){return new M(U(U(aa(W,3600),aa(V,60)),X))};return M}(),oa=function(){function M(V,X,ma,sa){this.m_view=V;this.m_angle=X;this.m_merdian=ma;this.m_direction=sa;this.m_formatted_dms=this.m_dms=null}M.createFromStringAndBearing=function(V,X,ma){return new M(V,X.getAngle(ma),X.getMeridian(ma),X.getDirection(ma))};var W=M.prototype;W.fetch_angle=function(){return this.m_angle};W.fetch_meridian=function(){return this.m_merdian};W.fetch_direction=
function(){return this.m_direction};W.fetch_m_view=function(){return this.m_view};W.fetch_dms=function(){null===this.m_dms&&this.calculate_dms();return this.m_dms};W.fetch_formatted_dms=function(){null===this.m_formatted_dms&&this.calculate_dms();return this.m_formatted_dms};W.calculate_dms=function(){var V=null;let X=6,ma=0;for(V=0;V<this.m_view.length;V++){const sa=this.m_view[V];switch(sa){case "m":V=b(this.m_view,V,sa);X=6===X?7:X;V=V.newpos;continue;case "s":V=b(this.m_view,V,sa),X=8,ma=ma<V.rounding?
V.rounding:ma,V=V.newpos}}this.m_dms=Sa.seconds_to_DMS(this.m_angle.extract_angular_units(2));this.m_formatted_dms=Sa.seconds_to_DMS(this.m_angle.extract_angular_units(2)).format(X,ma)};return M}();F.convertDirection=function(M,W,V){if(!(W instanceof C))throw Error("Invalid Parameter");if(!1===W.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===W.hasField("angleType"))throw Error("Invalid Parameter - Missing directionType");var X=t(w(W.field("directiontype")));
W=c(w(W.field("angletype")));if(H.isNumber(M)){M=H.toNumber(M);if(3===X)throw Error("Conversion error");3===W?(M=Sa.number_to_dms(M),X=fa.createFromAngleAndDirection(la.createFromDegreesMinutesSeconds(M.m_degrees,M.m_minutes,M.m_seconds),X)):X=fa.createFromAngleAndDirection(la.createFromAngleAndUnits(M,h(W)),X)}else if(H.isString(M))X=B(L(M),W,X);else if(H.isArray(M))X=B(M,W,X);else if(H.isImmutableArray(M))X=B(M.toArray(),W,X);else throw Error("Conversion Error");if(!(V instanceof C))throw Error("Invalid Parameter");
if(!1===V.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===V.hasField("outputType"))throw Error("Invalid Parameter - Missing directionType");M=t(w(V.field("directiontype")));W=V.hasField("angleType")?c(w(V.field("angletype"))):null;var ma=w(V.field("outputType")).toUpperCase().trim();if(!M||!ma)throw Error("Conversion error");if(!(W||"TEXT"===ma&&V.hasField("format")))throw Error("Invalid unit");switch(ma){case "VALUE":if(3===M||3===W)return V=X.getAngle(M),
3===M&&3===W?(V=Sa.seconds_to_DMS(V.extract_angular_units(2)),X=[y(X.getMeridian(M),"SHORT"),V.m_degrees,V.m_minutes,V.m_seconds,y(X.getDirection(M),"SHORT")]):3===W?(X=Sa.seconds_to_DMS(V.extract_angular_units(2)),X=[X.m_degrees,X.m_minutes,X.m_seconds]):X=3===M?[y(X.getMeridian(M),"SHORT"),V.extract_angular_units(W),y(X.getDirection(M),"SHORT")]:[V.extract_angular_units(W)],X;if((V=h(W))&&3!==W)X=X.getAngle(M).extract_angular_units(V);else throw Error("Conversion Error");return X;case "TEXT":ma=
"";V.hasField("format")&&(ma=H.toString(V.field("format")));if(null===ma||""===ma){V="";switch(W){case 1:V=3===M?"DD.DD\u00b0":"DDD.DD\u00b0";break;case 3:V=3===M?"dd\u00b0 mm' ss\"":"ddd\u00b0 mm' ss.ss\"";break;case 4:V="R.RR";break;case 5:V="GGG.GG"+Ra;break;default:throw Error("Conversion error");}3===M&&(V="p "+V+" b");ma=V}V=ma;var sa="",Fa=null,Y=null;W=oa.createFromStringAndBearing(V,X,M);ma={D:1,d:6,m:7,s:8,R:4,G:5};for(Y=0;Y<V.length;Y++){var ia=V[Y];switch(ia){case "[":Fa=V;ia={escaped:"",
newpos:Y};for(Y++;Y<Fa.length;){var wa=Fa[Y];Y++;if("]"===wa)break;ia.escaped+=wa}ia.newpos=Y-1;Fa=ia;sa+=Fa.escaped;Y=Fa.newpos;continue;case "D":case "d":case "m":case "s":case "R":case "G":Fa=b(V,Y,ia);Y=X.getAngle(M);a:{ia=ma[ia];wa=Fa.padding;var Aa=Fa.rounding,Qa=W;let I=null;switch(ia){case 1:case 4:case 5:I=e(n(Y.extract_angular_units(ia),Aa),r(ia));Y=p(I.toFixed(Aa),"0",wa+Aa+(0<Aa?1:0));break a;case 6:case 7:I=e(Qa.fetch_formatted_dms().get_field(ia),r(ia));Y=p(I.toFixed(Aa),"0",wa+Aa+(0<
Aa?1:0));break a;case 8:I=e(n(Qa.fetch_dms().get_field(ia),Aa),r(ia));Y=p(I.toFixed(Aa),"0",wa+Aa+(0<Aa?1:0));break a;default:throw Error("Unnexepected evaluation");}}sa+=Y;Y=Fa.newpos;continue;case "P":case "p":sa+=y(W.fetch_meridian(),"p"===ia?"SHORT":"LONG");continue;case "B":case "b":sa+=y(W.fetch_direction(),"b"===ia?"SHORT":"LONG");continue;default:sa+=ia}}return X=sa;default:throw Error("Invalid Parameter");}};F.preciseAdd=U;F.preciseDivide=ta;F.preciseMinus=(M,W,V)=>q(z)(M,W,V);F.preciseMultiply=
aa;Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/functions/hash":function(){define(["exports"],function(F){function C(w){const n=[];for(let m=0,y=w.length;m<y;m++){let p=w.charCodeAt(m);128>p?n.push(p):2048>p?n.push(192|p>>6,128|p&63):55296>p||57344<=p?n.push(224|p>>12,128|p>>6&63,128|p&63):(m++,p=65536+((p&1023)<<10|w.charCodeAt(m)&1023),n.push(240|p>>18,128|p>>12&63,128|p>>6&63,128|p&63))}return new Uint8Array(n)}let H=function(){function w(m){this.seed=m;this.totallen=0;this.bufs=
[];this.init()}var n=w.prototype;n.init=function(){this.bufs=[];this.totallen=0;return this};n.updateFloatArray=function(m){const y=[];for(const p of m)isNaN(p)?y.push("NaN"):Infinity===p?y.push("Infinity"):-Infinity===p?y.push("-Infinity"):0===p?y.push("0"):y.push(p.toString(16));this.update(C(y.join("")))};n.updateIntArray=function(m){m=Int32Array.from(m);this.update(new Uint8Array(m.buffer))};n.updateUint8Array=function(m){this.update(Uint8Array.from(m))};n.updateWithString=function(m){return this.update(C(m))};
n.update=function(m){this.bufs.push(m);this.totallen+=m.length;return this};n.digest=function(){const m=new Uint8Array(this.totallen);let y=0;for(const p of this.bufs)m.set(p,y),y+=p.length;this.init();return this.xxHash32(m,this.seed)};n.xxHash32=function(m,y=0){var p=y+374761393&4294967295;let e=0;if(16<=m.length){p=[y+2654435761+2246822519&4294967295,y+2246822519&4294967295,y+0&4294967295,y-2654435761&4294967295];y=m.length-16;var r=0;for(e=0;(e&4294967280)<=y;e+=4){var t=e;t=p[r]+(2246822519*
(m[t+0]+(m[t+1]<<8))+(2246822519*(m[t+2]+(m[t+3]<<8))<<16))&4294967295;t=t<<13|t>>>19;p[r]=2654435761*(t&65535)+(2654435761*(t>>>16)<<16)&4294967295;r=r+1&3}p=(p[0]<<1|p[0]>>>31)+(p[1]<<7|p[1]>>>25)+(p[2]<<12|p[2]>>>20)+(p[3]<<18|p[3]>>>14)&4294967295}p=p+m.length&4294967295;for(y=m.length-4;e<=y;e+=4)r=e,p=p+(3266489917*(m[r+0]+(m[r+1]<<8))+(3266489917*(m[r+2]+(m[r+3]<<8))<<16))&4294967295,p=p<<17|p>>>15,p=668265263*(p&65535)+(668265263*(p>>>16)<<16)&4294967295;for(;e<m.length;++e)p+=374761393*m[e],
p=p<<11|p>>>21,p=2654435761*(p&65535)+(2654435761*(p>>>16)<<16)&4294967295;p^=p>>>15;p=(2246822519*(p&65535)&4294967295)+(2246822519*(p>>>16)<<16);p^=p>>>13;p=(3266489917*(p&65535)&4294967295)+(3266489917*(p>>>16)<<16);p^=p>>>16;return 0>p?p+4294967296:p};return w}();F.XXH=H;Object.defineProperty(F,"__esModule",{value:!0})})},"esri/views/2d/layers/features/support/FeatureSetReader":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../geometry ../../../../../core/has ../../../../../core/maybe ../../../../../layers/graphics/centroid ../../../../../layers/graphics/featureConversionUtils ../../../../../layers/graphics/OptimizedGeometry ./StaticBitSet ../../../../../geometry/support/jsonUtils".split(" "),
function(F,C,H,w,n,m,y,p,e,r){var t,c,f;let h=0;H=null!=(t=w("featurelayer-simplify-thresholds"))?t:[.5,.5,.5,.5];const l=H[0],v=H[1],D=H[2],B=H[3];t=null!=(c=w("featurelayer-simplify-payload-size-factors"))?c:[1,2,4];const L=t[0],b=t[1],q=t[2],d=null!=(f=w("featurelayer-simplify-mobile-factor"))?f:2,z=w("esri-mobile");w=function(){function g(U){this.type="FeatureSetReader";this.seen=!1;this._ty=this._tx=this.instance=0;this._sy=this._sx=1;this._deleted=null;this._joined=[];this._objectIdToIndex=
null;this._level=0;this.instance=U}g.createInstance=function(){h++;return h=65535<h?0:h};var Q=g.prototype;Q.getAreaSimplificationThreshold=function(U,aa){let ta=1;const ka=z?d:1;4E6<aa?ta=q*ka:1E6<aa?ta=b*ka:5E5<aa?ta=L*ka:1E5<aa&&(ta=ka);aa=0;4E3<U?aa=B*ta:2E3<U?aa=D*ta:100<U?aa=v:15<U&&(aa=l);U=8;4>this._level?U=1:5>this._level?U=2:6>this._level&&(U=4);return aa*U};Q.setArcadeSpatialReference=function(U){this._arcadeSpatialReference=U};Q.attachStorage=function(U){this._storage=U};Q.getQuantizationTransform=
function(){throw Error("Unable to find transform for featureSet");};Q.getStorage=function(){return this._storage};Q.getComputedNumeric=function(U){return this.getComputedNumericAtIndex(0)};Q.setComputedNumeric=function(U,aa){return this.setComputedNumericAtIndex(aa,0)};Q.getComputedString=function(U){return this.getComputedStringAtIndex(0)};Q.setComputedString=function(U,aa){return this.setComputedStringAtIndex(0,aa)};Q.getComputedNumericAtIndex=function(U){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),
U)};Q.setComputedNumericAtIndex=function(U,aa){this._storage.setComputedNumericAtIndex(this.getDisplayId(),U,aa)};Q.getComputedStringAtIndex=function(U){return this._storage.getComputedStringAtIndex(this.getDisplayId(),U)};Q.setComputedStringAtIndex=function(U,aa){return this._storage.setComputedStringAtIndex(this.getDisplayId(),U,aa)};Q.transform=function(U,aa,ta,ka){const Da=this.copy();Da._tx+=U;Da._ty+=aa;Da._sx*=ta;Da._sy*=ka;return Da};Q.readAttribute=function(U,aa=!1){var ta=this._readAttribute(U,
aa);if(void 0!==ta)return ta;for(const ka of this._joined)if(ka.setIndex(this.getIndex()),ta=ka._readAttribute(U,aa),void 0!==ta)return ta};Q.readAttributes=function(){const U=this._readAttributes();for(const aa of this._joined){aa.setIndex(this.getIndex());const ta=aa._readAttributes();for(const ka of Object.keys(ta))U[ka]=ta[ka]}return U};Q.joinAttributes=function(U){this._joined.push(U)};Q.readArcadeFeature=function(){return this};Q.geometry=function(){var U=this.readHydratedGeometry();U=y.convertToGeometry(U,
this.geometryType,this.hasZ,this.hasM);if(U=r.fromJSON(U))U.spatialReference=this._arcadeSpatialReference;return U};Q.field=function(U){return this.readAttribute(U,!0)};Q.hasField=function(U){return!0};Q.setField=function(U,aa){};Q.keys=function(){return[]};Q.castToText=function(){return""};Q.removeIds=function(U){if(n.isNone(this._objectIdToIndex)){var aa=new Map;const ta=this.getCursor();for(;ta.next();)aa.set(ta.getObjectId(),ta.getIndex());this._objectIdToIndex=aa}aa=this._objectIdToIndex;for(const ta of U)aa.has(ta)&&
this.removeAtIndex(aa.get(ta))};Q.removeAtIndex=function(U){n.isNone(this._deleted)&&(this._deleted=e.StaticBitSet.create(this.getSize()));this._deleted.set(U)};Q.readGeometryForDisplay=function(){return this.readUnquantizedGeometry(!0)};Q.readLegacyGeometryForDisplay=function(){return this.readLegacyGeometry(!0)};Q.features=function*(){const U=this.getCursor();for(;U.next();)yield U.readOptimizedFeature()};Q._getExists=function(){return n.isNone(this._deleted)||!this._deleted.has(this.getIndex())};
Q._computeCentroid=function(){if("esriGeometryPolygon"!==this.geometryType)return null;const U=this.readUnquantizedGeometry();if(!U||U.hasIndeterminateRingOrder)return null;const aa=n.unwrapOr(this.getQuantizationTransform(),null);return m.getCentroidOptimizedGeometry(new p,U,this.hasM,this.hasZ,aa)};Q.copyInto=function(U){U.seen=this.seen;U._storage=this._storage;U._arcadeSpatialReference=this._arcadeSpatialReference;U._joined=this._joined;U._tx=this._tx;U._ty=this._ty;U._sx=this._sx;U._sy=this._sy;
U._deleted=this._deleted;U._objectIdToIndex=this._objectIdToIndex};C._createClass(g,[{key:"isEmpty",get:function(){return n.isSome(this._deleted)&&this._deleted.countSet()===this.getSize()}},{key:"level",set:function(U){this._level=U}}]);return g}();F.FeatureSetReader=w;Object.defineProperty(F,"__esModule",{value:!0})})},"esri/layers/graphics/centroid":function(){define(["exports","../../core/maybe"],function(F,C){function H(n,m,y,p,e,r,t=1){r=e?r?4:3:r?3:2;let c=y,f=y+r,h=0,l=0,v=y=0,D=0;for(let B=
0,L=p-1;B<L;B++,c+=r,f+=r){p=m[c];const b=m[c+1],q=m[c+2],d=m[f],z=m[f+1],g=m[f+2];let Q=p*z-d*b;v+=Q;h+=(p+d)*Q;l+=(b+z)*Q;e&&(Q=p*g-d*q,y+=(q+g)*Q,D+=Q);p<n[0]&&(n[0]=p);p>n[1]&&(n[1]=p);b<n[2]&&(n[2]=b);b>n[3]&&(n[3]=b);e&&(q<n[4]&&(n[4]=q),q>n[5]&&(n[5]=q))}0<v*t&&(v*=-1);0<D*t&&(D*=-1);if(!v)return null;n=[h,l,.5*v];e&&(n[3]=y,n[4]=.5*D);return n}function w(n,m,y,p,e){e=p?e?4:3:e?3:2;let r=m,t=m+e,c=0,f=0,h=0,l=0;for(let L=0,b=y-1;L<b;L++,r+=e,t+=e){var v=n[r];const q=n[r+1],d=n[r+2],z=n[t],
g=n[t+1],Q=n[t+2];if(p){{var D=z-v;var B=g-q;const U=Q-d;D=Math.sqrt(D*D+B*B+U*U)}}else D=z-v,B=g-q,D=Math.sqrt(D*D+B*B);D&&(c+=D,p?(v=[v+.5*(z-v),q+.5*(g-q),d+.5*(Q-d)],f+=D*v[0],h+=D*v[1],l+=D*v[2]):(v=[v+.5*(z-v),q+.5*(g-q)],f+=D*v[0],h+=D*v[1]))}return 0<c?p?[f/c,h/c,l/c]:[f/c,h/c]:0<y?p?[n[m],n[m+1],n[m+2]]:[n[m],n[m+1]]:null}F.getCentroidOptimizedGeometry=function(n,m,y,p,e){if(C.isNone(m)||!m.lengths.length)return null;const r="upperLeft"===(null==e?void 0:e.originPosition)?-1:1;n.lengths.length&&
(n.lengths.length=0);n.coords.length&&(n.coords.length=0);e=n.coords;const t=[],c=y?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:f,coords:h}=m,l=y?p?4:3:p?3:2;let v=0;for(var D of f){const B=H(c,h,v,D,y,p,r);B&&t.push(B);v+=D*l}t.sort((B,L)=>{let b=r*B[2]-r*L[2];0===b&&y&&(b=B[4]-L[4]);
return b});t.length&&(D=6*t[0][2],e[0]=t[0][0]/D,e[1]=t[0][1]/D,y&&(D=6*t[0][4],e[2]=0!==D?t[0][3]/D:0),e[0]<c[0]||e[0]>c[1]||e[1]<c[2]||e[1]>c[3]||y&&(e[2]<c[4]||e[2]>c[5]))&&(e.length=0);if(!e.length)if(m=m.lengths[0]?w(h,0,f[0],y,p):null)e[0]=m[0],e[1]=m[1],y&&2<m.length&&(e[2]=m[2]);else return null;return n};F.lineCentroid=w;Object.defineProperty(F,"__esModule",{value:!0})})},"esri/views/2d/layers/features/support/StaticBitSet":function(){define(["exports"],function(F){let C=function(){function H(n,
m){this._mask=0;this._buf=n;this._mask=m}H.fromBuffer=function(n,m){return new H(n,m)};H.create=function(n,m=4294967295){n=new Uint32Array(Math.ceil(n/32));return new H(n,m)};var w=H.prototype;w._getIndex=function(n){return Math.floor(n/32)};w.has=function(n){n&=this._mask;return!!(this._buf[this._getIndex(n)]&1<<n%32)};w.hasRange=function(n,m){for(;n%32&&n!==m;){if(this.has(n))return!0;n++}for(;m%32&&n!==m;){if(this.has(n))return!0;m--}if(n===m)return!1;for(n/=32;n!==m/32;n++)if(this._buf[n])return!0;
return!1};w.set=function(n){n&=this._mask;const m=this._getIndex(n);this._buf[m]|=1<<n%32};w.setRange=function(n,m){for(;n%32&&n!==m;)this.set(n++);for(;m%32&&n!==m;)this.set(m--);if(n!==m)for(n/=32;n!==m/32;n++)this._buf[n]=4294967295};w.unset=function(n){n&=this._mask;const m=this._getIndex(n);this._buf[m]&=4294967295^1<<n%32};w.resize=function(n){const m=this._buf;n=new Uint32Array(Math.ceil(n/32));n.set(m);this._buf=n};w.or=function(n){for(let m=0;m<this._buf.length;m++)this._buf[m]|=n._buf[m];
return this};w.and=function(n){for(let m=0;m<this._buf.length;m++)this._buf[m]&=n._buf[m];return this};w.xor=function(n){for(let m=0;m<this._buf.length;m++)this._buf[m]^=n._buf[m];return this};w.ior=function(n){for(let m=0;m<this._buf.length;m++)this._buf[m]|=~n._buf[m];return this};w.iand=function(n){for(let m=0;m<this._buf.length;m++)this._buf[m]&=~n._buf[m];return this};w.ixor=function(n){for(let m=0;m<this._buf.length;m++)this._buf[m]^=~n._buf[m];return this};w.any=function(){for(let n=0;n<this._buf.length;n++)if(this._buf[n])return!0;
return!1};w.copy=function(n){for(let m=0;m<this._buf.length;m++)this._buf[m]=n._buf[m];return this};w.clone=function(){return new H(this._buf.slice(),this._mask)};w.clear=function(){for(let n=0;n<this._buf.length;n++)this._buf[n]=0};w.forEachSet=function(n){for(let m=0;m<this._buf.length;m++){let y=this._buf[m],p=32*m;if(y)for(;y;)y&1&&n(p),y>>>=1,p++}};w.countSet=function(){let n=0;this.forEachSet(m=>{n++});return n};return H}();F.StaticBitSet=C;Object.defineProperty(F,"__esModule",{value:!0})})},
"esri/arcade/arcadeRuntime":function(){define("exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./FunctionWrapper ./ImmutablePathArray ./ImmutablePointArray ../chunks/languageUtils ./treeAnalysis ../chunks/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference".split(" "),function(F,
C,H,w,n,m,y,p,e,r,t,c,f,h,l,v,D,B,L,b,q,d,z,g){function Q(I,G){const R=[];for(let S=0;S<G.arguments.length;S++)R.push(aa(I,G.arguments[S]));return R}function U(I,G,R){try{return!0===G.preparsed?R(I,null,G.arguments):R(I,G,Q(I,G))}catch(S){throw S;}}function aa(I,G){try{switch(G.type){case "EmptyStatement":return e.voidOperation;case "VariableDeclarator":{let ea=null===G.init?null:aa(I,G.init);ea===e.voidOperation&&(ea=null);if("Identifier"!==G.id.type)throw Error("Can only assign a regular variable");
const ua=G.id.name.toLowerCase();null!==I.localScope?I.localScope[ua]={value:ea,valueset:!0,node:G.init}:I.globalScope[ua]={value:ea,valueset:!0,node:G.init};var R=e.voidOperation}return R;case "VariableDeclaration":for(var S=0;S<G.declarations.length;S++)aa(I,G.declarations[S]);return e.voidOperation;case "BlockStatement":a:{let ea=e.voidOperation;for(S=0;S<G.body.length;S++)if(ea=aa(I,G.body[S]),ea instanceof e.ReturnResult||ea===e.breakResult||ea===e.continueResult){var ca=ea;break a}ca=ea}return ca;
case "FunctionDeclaration":{const ea=G.id.name.toLowerCase();I.globalScope[ea]={valueset:!0,node:null,value:new m(G,I)};var za=e.voidOperation}return za;case "ReturnStatement":if(null===G.argument)var Pa=new e.ReturnResult(e.voidOperation);else{var u=aa(I,G.argument);Pa=new e.ReturnResult(u)}return Pa;case "IfStatement":{if("AssignmentExpression"===G.test.type||"UpdateExpression"===G.test.type)throw Error(r.nodeErrorMessage(G.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const ea=aa(I,G.test);
if(!0===ea)var x=aa(I,G.consequent);else if(!1===ea)x=null!==G.alternate?aa(I,G.alternate):e.voidOperation;else throw Error(r.nodeErrorMessage(G,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}return x;case "ExpressionStatement":if("AssignmentExpression"===G.expression.type||"UpdateExpression"===G.expression.type)var P=aa(I,G.expression);else if("CallExpression"===G.expression.type){const ea=aa(I,G.expression);P=ea===e.voidOperation?e.voidOperation:new e.ImplicitResult(ea)}else{{const ea=aa(I,G.expression);
P=ea===e.voidOperation?e.voidOperation:new e.ImplicitResult(ea)}}return P;case "AssignmentExpression":{const ea=aa(I,G.right);S=null;var J="";if("MemberExpression"===G.left.type){S=aa(I,G.left.object);!0===G.left.computed?J=aa(I,G.left.property):"Identifier"===G.left.property.type&&(J=G.left.property.name);if(e.isArray(S))if(e.isNumber(J)){0>J&&(J=S.length+J);if(0>J||J>S.length)throw Error("Assignment outside of array bounds");if(J===S.length&&"\x3d"!==G.operator)throw Error("Invalid Parameter");
S[J]=ka(ea,G.operator,S[J],G)}else throw Error("Invalid Parameter");else if(S instanceof w){if(!1===e.isString(J))throw Error("Dictionary accessor must be a string");if(!0===S.hasField(J))S.setField(J,ka(ea,G.operator,S.field(J),G));else{if("\x3d"!==G.operator)throw Error("Invalid Parameter");S.setField(J,ka(ea,G.operator,null,G))}}else if(S instanceof n){if(!1===e.isString(J))throw Error("Feature accessor must be a string");if(!0===S.hasField(J))S.setField(J,ka(ea,G.operator,S.field(J),G));else{if("\x3d"!==
G.operator)throw Error("Invalid Parameter");S.setField(J,ka(ea,G.operator,null,G))}}else{if(e.isImmutableArray(S))throw Error("Array is Immutable");throw Error("Invalid Parameter");}var ba=e.voidOperation}else if(S=G.left.name.toLowerCase(),null!==I.localScope&&void 0!==I.localScope[S])I.localScope[S]={value:ka(ea,G.operator,I.localScope[S].value,G),valueset:!0,node:G.right},ba=e.voidOperation;else if(void 0!==I.globalScope[S])I.globalScope[S]={value:ka(ea,G.operator,I.globalScope[S].value,G),valueset:!0,
node:G.right},ba=e.voidOperation;else throw Error("Variable not recognised");}return ba;case "UpdateExpression":{let ea;S=null;J="";if("MemberExpression"===G.argument.type){S=aa(I,G.argument.object);!0===G.argument.computed?J=aa(I,G.argument.property):"Identifier"===G.argument.property.type&&(J=G.argument.property.name);if(e.isArray(S))if(e.isNumber(J)){0>J&&(J=S.length+J);if(0>J||J>=S.length)throw Error("Assignment outside of array bounds");ea=e.toNumber(S[J]);S[J]="++"===G.operator?ea+1:ea-1}else throw Error("Invalid Parameter");
else if(S instanceof w){if(!1===e.isString(J))throw Error("Dictionary accessor must be a string");if(!0===S.hasField(J))ea=e.toNumber(S.field(J)),S.setField(J,"++"===G.operator?ea+1:ea-1);else throw Error("Invalid Parameter");}else if(S instanceof n){if(!1===e.isString(J))throw Error("Feature accessor must be a string");if(!0===S.hasField(J))ea=e.toNumber(S.field(J)),S.setField(J,"++"===G.operator?ea+1:ea-1);else throw Error("Invalid Parameter");}else{if(e.isImmutableArray(S))throw Error("Array is Immutable");
throw Error("Invalid Parameter");}var va=!1===G.prefix?ea:"++"===G.operator?ea+1:ea-1}else{S="Identifier"===G.argument.type?G.argument.name.toLowerCase():"";if(!S)throw Error("Invalid identifier");if(null!==I.localScope&&void 0!==I.localScope[S])ea=e.toNumber(I.localScope[S].value),I.localScope[S]={value:"++"===G.operator?ea+1:ea-1,valueset:!0,node:G},va=!1===G.prefix?ea:"++"===G.operator?ea+1:ea-1;else if(void 0!==I.globalScope[S])ea=e.toNumber(I.globalScope[S].value),I.globalScope[S]={value:"++"===
G.operator?ea+1:ea-1,valueset:!0,node:G},va=!1===G.prefix?ea:"++"===G.operator?ea+1:ea-1;else throw Error("Variable not recognised");}}return va;case "BreakStatement":return e.breakResult;case "ContinueStatement":return e.continueResult;case "TemplateElement":return G.value?G.value.cooked:"";case "TemplateLiteral":var xa;S="";J=0;for(const ea of G.quasis)if(S+=ea.value?ea.value.cooked:"",!1===ea.tail){const ua=G.expressions[J]?e.toString(aa(I,G.expressions[J])):"";S+=ua;J++}return xa=S;case "ForStatement":null!==
G.init&&aa(I,G.init);J={testResult:!0,lastAction:e.voidOperation};do b:{ba=I;va=G;xa=J;if(null!==va.test){xa.testResult=aa(ba,va.test);if(!1===xa.testResult)break b;if(!0!==xa.testResult)throw Error(r.nodeErrorMessage(va,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}xa.lastAction=aa(ba,va.body);xa.lastAction===e.breakResult?xa.testResult=!1:xa.lastAction instanceof e.ReturnResult?xa.testResult=!1:null!==va.update&&aa(ba,va.update)}while(!0===J.testResult);S=J.lastAction instanceof e.ReturnResult?
J.lastAction:e.voidOperation;return S;case "ForInStatement":return ta(I,G);case "Identifier":return la(I,G);case "MemberExpression":return Ra(I,G);case "Literal":return G.value;case "CallExpression":return oa(I,G);case "UnaryExpression":return Sa(I,G);case "BinaryExpression":return ha(I,G);case "LogicalExpression":return fa(I,G);case "ArrayExpression":try{S=[];for(J=0;J<G.elements.length;J++){const ea=aa(I,G.elements[J]);if(e.isFunctionParameter(ea))throw Error(r.nodeErrorMessage(G,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));
ea===e.voidOperation?S.push(null):S.push(ea)}var La=S}catch(ea){throw ea;}return La;case "ObjectExpression":{S={};for(J=0;J<G.properties.length;J++){const ua=aa(I,G.properties[J]);if(e.isFunctionParameter(ua.value))throw Error("Illegal Argument");if(!1===e.isString(ua.key))throw Error("Illegal Argument");S[ua.key.toString()]=ua.value===e.voidOperation?null:ua.value}const ea=new w(S);ea.immutable=!1;var ya=ea}return ya;case "Property":return{key:"Identifier"===G.key.type?G.key.name:aa(I,G.key),value:aa(I,
G.value)};default:throw Error(r.nodeErrorMessage(G,"RUNTIME","UNREOGNISED"));}}catch(ea){throw ea;}}function ta(I,G){var R=aa(I,G.right);"VariableDeclaration"===G.left.type&&aa(I,G.left);let S=null;var ca="";if("VariableDeclaration"===G.left.type){var za=G.left.declarations[0].id;"Identifier"===za.type&&(ca=za.name)}else"Identifier"===G.left.type&&(ca=G.left.name);if(!ca)throw Error(r.nodeErrorMessage(G,"RUNTIME","INVALIDVARIABLE"));ca=ca.toLowerCase();null!==I.localScope&&void 0!==I.localScope[ca]&&
(S=I.localScope[ca]);null===S&&void 0!==I.globalScope[ca]&&(S=I.globalScope[ca]);if(null===S)throw Error(r.nodeErrorMessage(G,"RUNTIME","VARIABLENOTDECLARED"));if(e.isArray(R)||e.isString(R)){R=R.length;for(ca=0;ca<R;ca++){S.value=ca;za=aa(I,G.body);if(za===e.breakResult)break;if(za instanceof e.ReturnResult)return za}return e.voidOperation}if(e.isImmutableArray(R)){for(ca=0;ca<R.length();ca++){S.value=ca;za=aa(I,G.body);if(za===e.breakResult)break;if(za instanceof e.ReturnResult)return za}return e.voidOperation}if(R instanceof
w||R instanceof n)for(R=R.keys(),ca=0;ca<R.length;ca++){S.value=R[ca];za=aa(I,G.body);if(za===e.breakResult)break;if(za instanceof e.ReturnResult)return za}else return e.voidOperation}function ka(I,G,R,S){switch(G){case "\x3d":return I===e.voidOperation?null:I;case "/\x3d":return e.toNumber(R)/e.toNumber(I);case "*\x3d":return e.toNumber(R)*e.toNumber(I);case "-\x3d":return e.toNumber(R)-e.toNumber(I);case "+\x3d":return e.isString(R)||e.isString(I)?e.toString(R)+e.toString(I):e.toNumber(R)+e.toNumber(I);
case "%\x3d":return e.toNumber(R)%e.toNumber(I);default:throw Error(r.nodeErrorMessage(S,"RUNTIME","OPERATORNOTRECOGNISED"));}}function Da(I,G,R){G=G.toLowerCase();switch(G){case "hasz":return I=I.hasZ,void 0===I?!1:I;case "hasm":return I=I.hasM,void 0===I?!1:I;case "spatialreference":return G=I.spatialReference._arcadeCacheId,void 0===G&&(R=!0,Object.freeze&&Object.isFrozen(I.spatialReference)&&(R=!1),R&&(wa++,G=I.spatialReference._arcadeCacheId=wa)),I=new w({wkt:I.spatialReference.wkt,wkid:I.spatialReference.wkid}),
void 0!==G&&(I._arcadeCacheId="SPREF"+G.toString()),I}switch(I.type){case "extent":switch(G){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return I=I[G],void 0!==I?I:null;case "type":return"Extent"}break;case "polygon":switch(G){case "rings":return G=I.cache._arcadeCacheId,void 0===G&&(wa++,G=wa,I.cache._arcadeCacheId=G),new y(I.rings,I.spatialReference,!0===I.hasZ,!0===I.hasM,G);case "type":return"Polygon"}break;case "point":switch(G){case "x":case "y":case "z":case "m":return void 0!==
I[G]?I[G]:null;case "type":return"Point"}break;case "polyline":switch(G){case "paths":return G=I.cache._arcadeCacheId,void 0===G&&(wa++,G=wa,I.cache._arcadeCacheId=G),new y(I.paths,I.spatialReference,!0===I.hasZ,!0===I.hasM,G);case "type":return"Polyline"}break;case "multipoint":switch(G){case "points":return G=I.cache._arcadeCacheId,void 0===G&&(wa++,G=wa,I.cache._arcadeCacheId=G),new p(I.points,I.spatialReference,!0===I.hasZ,!0===I.hasM,G,1);case "type":return"Multipoint"}}throw Error(r.nodeErrorMessage(R,
"RUNTIME","PROPERTYNOTFOUND"));}function Ra(I,G){try{const R=aa(I,G.object);if(null===R)throw Error(r.nodeErrorMessage(G,"RUNTIME","NOTFOUND"));if(!1===G.computed){if("Identifier"===G.property.type){if(R instanceof w||R instanceof n)return R.field(G.property.name);if(R instanceof L)return Da(R,G.property.name,G)}throw Error(r.nodeErrorMessage(G,"RUNTIME","INVALIDTYPE"));}{let S=aa(I,G.property);if(R instanceof w||R instanceof n){if(e.isString(S))return R.field(S);throw Error(r.nodeErrorMessage(G,
"RUNTIME","INVALIDTYPE"));}if(R instanceof L){if(e.isString(S))return Da(R,S,G);throw Error(r.nodeErrorMessage(G,"RUNTIME","INVALIDTYPE"));}if(e.isArray(R)){if(e.isNumber(S)&&isFinite(S)&&Math.floor(S)===S){0>S&&(S=R.length+S);if(S>=R.length||0>S)throw Error(r.nodeErrorMessage(G,"RUNTIME","OUTOFBOUNDS"));return R[S]}throw Error(r.nodeErrorMessage(G,"RUNTIME","INVALIDTYPE"));}if(e.isString(R)){if(e.isNumber(S)&&isFinite(S)&&Math.floor(S)===S){0>S&&(S=R.length+S);if(S>=R.length||0>S)throw Error(r.nodeErrorMessage(G,
"RUNTIME","OUTOFBOUNDS"));return R[S]}throw Error(r.nodeErrorMessage(G,"RUNTIME","INVALIDTYPE"));}if(e.isImmutableArray(R)&&e.isNumber(S)&&isFinite(S)&&Math.floor(S)===S){0>S&&(S=R.length()+S);if(S>=R.length()||0>S)throw Error(r.nodeErrorMessage(G,"RUNTIME","OUTOFBOUNDS"));return R.get(S)}throw Error(r.nodeErrorMessage(G,"RUNTIME","INVALIDTYPE"));}}catch(R){throw R;}}function Sa(I,G){try{const R=aa(I,G.argument);if(e.isBoolean(R)){if("!"===G.operator)return!R;if("-"===G.operator)return-1*e.toNumber(R);
if("+"===G.operator)return 1*e.toNumber(R);if("~"===G.operator)return~e.toNumber(R);throw Error(r.nodeErrorMessage(G,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("~"===G.operator)return~e.toNumber(R);if("-"===G.operator)return-1*e.toNumber(R);if("+"===G.operator)return 1*e.toNumber(R);throw Error(r.nodeErrorMessage(G,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(R){throw R;}}function ha(I,G){try{const R=[aa(I,G.left),aa(I,G.right)],S=R[0],ca=R[1];switch(G.operator){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return e.binaryOperator(e.toNumber(S),
e.toNumber(ca),G.operator);case "\x3d\x3d":return e.equalityTest(S,ca);case "!\x3d":return!e.equalityTest(S,ca);case "\x3c":return e.greaterThanLessThan(S,ca,G.operator);case "\x3e":return e.greaterThanLessThan(S,ca,G.operator);case "\x3c\x3d":return e.greaterThanLessThan(S,ca,G.operator);case "\x3e\x3d":return e.greaterThanLessThan(S,ca,G.operator);case "+":return e.isString(S)||e.isString(ca)?e.toString(S)+e.toString(ca):e.toNumber(S)+e.toNumber(ca);case "-":return e.toNumber(S)-e.toNumber(ca);
case "*":return e.toNumber(S)*e.toNumber(ca);case "/":return e.toNumber(S)/e.toNumber(ca);case "%":return e.toNumber(S)%e.toNumber(ca);default:throw Error(r.nodeErrorMessage(G,"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(R){throw R;}}function fa(I,G){try{if("AssignmentExpression"===G.left.type||"UpdateExpression"===G.left.type)throw Error(r.nodeErrorMessage(G.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===G.right.type||"UpdateExpression"===G.right.type)throw Error(r.nodeErrorMessage(G.right,
"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const R=aa(I,G.left);if(e.isBoolean(R))switch(G.operator){case "||":if(!0===R)return R;{const S=aa(I,G.right);if(e.isBoolean(S))return S;throw Error(r.nodeErrorMessage(G,"RUNTIME","ONLYORORAND"));}case "\x26\x26":if(!1===R)return R;{const S=aa(I,G.right);if(e.isBoolean(S))return S;throw Error(r.nodeErrorMessage(G,"RUNTIME","ONLYORORAND"));}default:throw Error(r.nodeErrorMessage(G,"RUNTIME","ONLYORORAND"));}throw Error(r.nodeErrorMessage(G,"RUNTIME",
"ONLYBOOLEAN"));}catch(R){throw R;}}function la(I,G){let R;try{const S=G.name.toLowerCase();if(null!==I.localScope&&void 0!==I.localScope[S]){R=I.localScope[S];if(!0===R.valueset)return R.value;R.value=aa(I,R.node);R.valueset=!0;return R.value}if(void 0!==I.globalScope[S]){R=I.globalScope[S];if(!0===R.valueset)return R.value;R.value=aa(I,R.node);R.valueset=!0;return R.value}throw Error(r.nodeErrorMessage(G,"RUNTIME","VARIABLENOTFOUND"));}catch(S){throw S;}}function oa(I,G){try{if("Identifier"!==G.callee.type)throw Error(r.nodeErrorMessage(G,
"RUNTIME","ONLYNODESSUPPORTED"));if(null!==I.localScope&&void 0!==I.localScope[G.callee.name.toLowerCase()]){const R=I.localScope[G.callee.name.toLowerCase()];if(R.value instanceof e.NativeFunction)return R.value.fn(I,G);if(R.value instanceof m)return sa(I,G,R.value.definition);throw Error(r.nodeErrorMessage(G,"RUNTIME","NOTAFUNCTION"));}if(void 0!==I.globalScope[G.callee.name.toLowerCase()]){const R=I.globalScope[G.callee.name.toLowerCase()];if(R.value instanceof e.NativeFunction)return R.value.fn(I,
G);if(R.value instanceof m)return sa(I,G,R.value.definition);throw Error(r.nodeErrorMessage(G,"RUNTIME","NOTAFUNCTION"));}throw Error(r.nodeErrorMessage(G,"RUNTIME","NOTFOUND"));}catch(R){throw R;}}function M(I){return null==I?"":e.isArray(I)||e.isImmutableArray(I)?"Array":e.isDate(I)?"Date":e.isString(I)?"String":e.isBoolean(I)?"Boolean":e.isNumber(I)?"Number":I instanceof H?"Attachment":I instanceof C?"Portal":I instanceof w?"Dictionary":I instanceof n?"Feature":I instanceof q?"Point":I instanceof
d?"Polygon":I instanceof z?"Polyline":I instanceof b?"Multipoint":I instanceof B?"Extent":e.isFunctionParameter(I)?"Function":e.isFeatureSet(I)?"FeatureSet":e.isFeatureSetCollection(I)?"FeatureSetCollection":I===e.voidOperation?"":"number"===typeof I&&isNaN(I)?"Number":"Unrecognised Type"}function W(I,G,R,S){try{const ca=aa(I,G.arguments[R]);if(e.equalityTest(ca,S))return aa(I,G.arguments[R+1]);{const za=G.arguments.length-R;return 1===za?aa(I,G.arguments[R]):2===za?null:3===za?aa(I,G.arguments[R+
2]):W(I,G,R+2,S)}}catch(ca){throw ca;}}function V(I,G,R,S){try{if(!0===S)return aa(I,G.arguments[R+1]);if(3===G.arguments.length-R)return aa(I,G.arguments[R+2]);{const ca=aa(I,G.arguments[R+2]);if(!1===e.isBoolean(ca))throw Error("WHEN needs boolean test conditions");return V(I,G,R+2,ca)}}catch(ca){throw ca;}}function X(I,G){var R=I.length,S=Math.floor(R/2);if(0===R)return[];if(1===R)return[I[0]];var ca=X(I.slice(0,S),G);I=X(I.slice(S,R),G);for(R=[];0<ca.length||0<I.length;)0<ca.length&&0<I.length?
(S=G(ca[0],I[0]),isNaN(S)&&(S=0),0>=S?(R.push(ca[0]),ca=ca.slice(1)):(R.push(I[0]),I=I.slice(1))):0<ca.length?(R.push(ca[0]),ca=ca.slice(1)):0<I.length&&(R.push(I[0]),I=I.slice(1));return G=R}function ma(I,G,R){try{const S=I.body;if(R.length!==I.params.length)throw Error("Invalid Parameter calls to function.");for(let za=0;za<R.length;za++)G.localScope[I.params[za].name.toLowerCase()]={value:R[za],valueset:!0,node:null};const ca=aa(G,S);if(ca instanceof e.ReturnResult)return ca.value;if(ca===e.breakResult)throw Error("Cannot Break from a Function");
if(ca===e.continueResult)throw Error("Cannot Continue from a Function");return ca instanceof e.ImplicitResult?ca.value:ca}catch(S){throw S;}}function sa(I,G,R){return U(I,G,function(S,ca,za){S={spatialReference:I.spatialReference,globalScope:I.globalScope,depthCounter:I.depthCounter+1,console:I.console,lrucache:I.lrucache,interceptor:I.interceptor,localScope:{}};if(64<S.depthCounter)throw Error("Exceeded maximum function depth");return ma(R,S,za)})}function Fa(I){return function(){const G={spatialReference:I.context.spatialReference,
console:I.context.console,lrucache:I.context.lrucache,interceptor:I.context.interceptor,localScope:{},depthCounter:I.context.depthCounter+1,globalScope:I.context.globalScope};if(64<G.depthCounter)throw Error("Exceeded maximum function depth");return ma(I.definition,G,arguments)}}function Y(I){console.log(I)}function ia(I){const G={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:U,evaluateIdentifier:la,arcadeCustomFunctionHandler:Fa};for(let R=0;R<I.length;R++)I[R].registerFunctions(G);
for(const R in G.functions)Aa[R]={value:new e.NativeFunction(G.functions[R]),valueset:!0,node:null},Qa.prototype[R]=Aa[R];for(I=0;I<G.signatures.length;I++)r.addFunctionDeclaration(G.signatures[I],"async")}let wa=0;const Aa={};c.registerFunctions(Aa,U);D.registerFunctions(Aa,U);l.registerFunctions(Aa,U);f.registerFunctions(Aa,U);v.registerFunctions(Aa,U);h.registerFunctions(Aa,U);Aa["typeof"]=function(I,G){return U(I,G,function(R,S,ca){e.pcCheck(ca,1,1);R=M(ca[0]);if("Unrecognised Type"===R)throw Error("Unrecognised Type");
return R})};Aa.iif=function(I,G){try{e.pcCheck(null===G.arguments?[]:G.arguments,3,3);const R=aa(I,G.arguments[0]);if(!1===e.isBoolean(R))throw Error("IF Function must have a boolean test condition");const S=aa(I,G.arguments[1]),ca=aa(I,G.arguments[2]);return!0===R?S:ca}catch(R){throw R;}};Aa.decode=function(I,G){try{if(2>G.arguments.length)throw Error("Missing Parameters");if(2===G.arguments.length)return aa(I,G.arguments[1]);{if(0===(G.arguments.length-1)%2)throw Error("Must have a default value result.");
const R=aa(I,G.arguments[0]);return W(I,G,1,R)}}catch(R){throw R;}};Aa.when=function(I,G){try{if(3>G.arguments.length)throw Error("Missing Parameters");if(0===G.arguments.length%2)throw Error("Must have a default value result.");const R=aa(I,G.arguments[0]);if(!1===e.isBoolean(R))throw Error("WHEN needs boolean test conditions");return V(I,G,0,R)}catch(R){throw R;}};Aa.top=function(I,G){return U(I,G,function(R,S,ca){e.pcCheck(ca,2,2);if(e.isArray(ca[0]))return e.toNumber(ca[1])>=ca[0].length?ca[0].slice(0):
ca[0].slice(0,e.toNumber(ca[1]));if(e.isImmutableArray(ca[0]))return e.toNumber(ca[1])>=ca[0].length()?ca[0].slice(0):ca[0].slice(0,e.toNumber(ca[1]));throw Error("Top cannot accept this parameter type");})};Aa.first=function(I,G){return U(I,G,function(R,S,ca){e.pcCheck(ca,1,1);return e.isArray(ca[0])?0===ca[0].length?null:ca[0][0]:e.isImmutableArray(ca[0])?0===ca[0].length()?null:ca[0].get(0):null})};Aa.sort=function(I,G){return U(I,G,function(R,S,ca){e.pcCheck(ca,1,2);R=ca[0];e.isImmutableArray(R)&&
(R=R.toArray());if(!1===e.isArray(R))throw Error("Illegal Argument");if(1<ca.length){if(!1===e.isFunctionParameter(ca[1]))throw Error("Illegal Argument");var za=R;const u=Fa(ca[1]);return za=X(za,function(x,P){return u(x,P)})}ca=R;if(0===ca.length)return[];R={};for(S=0;S<ca.length;S++){var Pa=M(ca[S]);""!==Pa&&(R[Pa]=!0)}if(!0===R.Array||!0===R.Dictionary||!0===R.Feature||!0===R.Point||!0===R.Polygon||!0===R.Polyline||!0===R.Multipoint||!0===R.Extent||!0===R.Function)return ca.slice(0);S=0;Pa="";
for(za in R)S++,Pa=za;return ca=1<S||"String"===Pa?X(ca,function(u,x){if(null===u||void 0===u||u===e.voidOperation)return null===x||void 0===x||x===e.voidOperation?0:1;if(null===x||void 0===x||x===e.voidOperation)return-1;u=e.toString(u);x=e.toString(x);return u<x?-1:u===x?0:1}):"Number"===Pa?X(ca,function(u,x){return u-x}):"Boolean"===Pa?X(ca,function(u,x){return u===x?0:x?-1:1}):"Date"===Pa?X(ca,function(u,x){return x-u}):ca.slice(0)})};for(const I in Aa)Aa[I]={value:new e.NativeFunction(Aa[I]),
valueset:!0,node:null};const Qa=function(){};Qa.prototype=Aa;Qa.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};Qa.prototype.pi={value:Math.PI,valueset:!0,node:null};c={fixSpatialReference:e.fixSpatialReference,parseArguments:Q,standardFunction:U};ia([t.ArrayFunctions]);F.executeScript=function(I,G){let R=G.spatialReference;if(null===R||void 0===R)R=new g({wkid:102100});{var S=G.vars;var ca=G.customfunctions;const za=new Qa;S||(S={});ca||(ca={});const Pa=new w({newline:"\n",
tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});Pa.immutable=!1;za.textformatting={value:Pa,valueset:!0,node:null};for(const u in ca)za[u]={value:new e.NativeFunction(ca[u]),native:!0,valueset:!0,node:null};for(const u in S)za[u]=S[u]&&"esri.Graphic"===S[u].declaredClass?{value:n.createFromGraphic(S[u]),valueset:!0,node:null}:{value:S[u],valueset:!0,node:null};S=za}I=aa({spatialReference:R,globalScope:S,localScope:null,console:G.console?G.console:Y,lrucache:G.lrucache,
interceptor:G.interceptor,depthCounter:1},I.body[0].body);I instanceof e.ReturnResult&&(I=I.value);I instanceof e.ImplicitResult&&(I=I.value);I===e.voidOperation&&(I=null);if(I===e.breakResult)throw Error("Cannot return BREAK");if(I===e.continueResult)throw Error("Cannot return CONTINUE");if(I instanceof m)throw Error("Cannot return FUNCTION");if(I instanceof e.NativeFunction)throw Error("Cannot return FUNCTION");return I};F.extend=ia;F.extractExpectedFieldLiterals=function(I){return r.findExpectedFieldLiterals(I)};
F.extractFieldLiterals=function(I,G){return r.findFieldLiterals(I)};F.findFunctionCalls=function(I){return r.findFunctionCalls(I)};F.functionHelper=c;F.referencesFunction=function(I,G){return r.referencesFunction(I,G)};F.referencesMember=function(I,G){return r.referencesMember(I,G)};F.validateScript=function(I,G){return r.validateScript(I,G,"simple")};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/parser":function(){define(["exports","./treeAnalysis","./lib/arcade-parser"],function(F,
C,H){F.extractExpectedFieldLiterals=function(w){return C.findExpectedFieldLiterals(w)};F.extractFieldLiterals=function(w,n){return C.findFieldLiterals(w)};F.parseScript=function(w,n=[]){w=H.parse("function _() { "+w+"\n}");if(null===w.body||void 0===w.body)throw Error("No formula provided.");if(0===w.body.length)throw Error("No formula provided.");if(0===w.body.length)throw Error("No formula provided.");if("BlockStatement"!==w.body[0].body.type)throw Error("Invalid formula content.");const m=C.validateLanguage(w);
if(""!==m)throw Error(m);C.findScriptDependencies(w,n);return w};F.referencesFunction=function(w,n){return C.referencesFunction(w,n)};F.referencesMember=function(w,n){return C.referencesMember(w,n)};F.scriptCheck=function(w,n,m,y,p){const e=[];w="function _() { \n"+w+"\n}";try{const r=H.parse(w,{tolerant:!0,loc:!0,range:!0}),t=r.errors;if(0<t.length)for(let f=0;f<t.length;f++)e.push({line:t[f].lineNumber-2,character:t[f].column,reason:t[f].description});const c=C.checkScript(r,n,m,y,p);for(n=0;n<
c.length;n++)c[n].line-=2,c[n].range&&(c[n].range=[c[n][0]-15,c[n][1]-15]),c[n].loc&&(c[n].loc.start.line-=2,c[n].loc.end.line-=2),e.push(c[n])}catch(r){try{if("Unexpected token }"===r.description){const t=w.split("\n").length;r.lineNumber===t?(r.index=w.length-1,e.push({line:r.lineNumber-4,character:r.column,reason:"Unexpected end of script"})):(r.index=w.length-1,e.push({line:r.lineNumber-2,character:r.column,reason:"Unexpected end of script"}))}else e.push({line:r.lineNumber-2,character:r.column,
reason:r.description})}catch(t){}}return e};F.validateScript=function(w,n,m){return C.validateScript(w,n,m)};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/lib/arcade-parser":function(){define("exports ./comment-handler ./parser ./tokenizer ./syntax ./token ./nodes".split(" "),function(F,C,H,w,n,m,y){F.Syntax=n.Syntax;F.TokenName=m.TokenName;F.ArrayExpression=y.ArrayExpression;F.AssignmentExpression=y.AssignmentExpression;F.AssignmentOperators=y.AssignmentOperators;F.BinaryExpression=
y.BinaryExpression;F.BinaryOperators=y.BinaryOperators;F.BlockStatement=y.BlockStatement;F.BreakStatement=y.BreakStatement;F.CallExpression=y.CallExpression;F.Comment=y.Comment;F.ComputedMemberExpression=y.ComputedMemberExpression;F.ContinueStatement=y.ContinueStatement;F.EmptyStatement=y.EmptyStatement;F.ExpressionStatement=y.ExpressionStatement;F.ForInStatement=y.ForInStatement;F.ForStatement=y.ForStatement;F.FunctionDeclaration=y.FunctionDeclaration;F.Identifier=y.Identifier;F.IfStatement=y.IfStatement;
F.Literal=y.Literal;F.LogicalOperators=y.LogicalOperators;F.ObjectExpression=y.ObjectExpression;F.Program=y.Program;F.Property=y.Property;F.ReturnStatement=y.ReturnStatement;F.StaticMemberExpression=y.StaticMemberExpression;F.TemplateElement=y.TemplateElement;F.TemplateLiteral=y.TemplateLiteral;F.UnaryExpression=y.UnaryExpression;F.UnaryOperators=y.UnaryOperators;F.UpdateExpression=y.UpdateExpression;F.UpdateOperators=y.UpdateOperators;F.VariableDeclaration=y.VariableDeclaration;F.VariableDeclarator=
y.VariableDeclarator;F.parse=function(p,e,r){let t=null;const c=(l,v)=>{r&&r(l,v);t&&t.visit(l,v)};let f="function"===typeof r?c:void 0,h=!1;if(e){h="boolean"===typeof e.comment&&e.comment;const l="boolean"===typeof e.attachComment&&e.attachComment;if(h||l)t=new C.CommentHandler,t.attach=l,e.comment=!0,f=c}p=new H.Parser(p,e,f);e=p.parseScript();h&&t&&(e.comments=t.comments);p.config.tokens&&(e.tokens=p.tokens);p.config.tolerant&&(e.errors=p.errorHandler.errors);return e};F.tokenize=function(p,e,
r){p=new w.Tokenizer(p,e);e=[];let t=void 0;try{for(;;){let c=p.getNextToken();if(!c)break;r&&(c=r(c));e.push(c)}}catch(c){p.errorHandler.tolerate(c)}p.errorHandler.tolerant&&(t=p.errors());return{tokens:e,errors:t}};F.version="4.0.0-dev";Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/lib/comment-handler":function(){define(["exports","./syntax"],function(F,C){let H=function(){function w(){this.attach=!1;this.comments=[];this.stack=[];this.leading=[];this.trailing=[]}var n=w.prototype;
n.insertInnerComments=function(m,y){if(m.type===C.Syntax.BlockStatement&&0===m.body.length){const p=[];for(let e=this.leading.length-1;0<=e;--e){const r=this.leading[e];y.end.offset>=r.start&&(p.unshift(r.comment),this.leading.splice(e,1),this.trailing.splice(e,1))}p.length&&(m.innerComments=p)}};n.findTrailingComments=function(m){let y=[];if(0<this.trailing.length){for(var p=this.trailing.length-1;0<=p;--p){var e=this.trailing[p];e.start>=m.end.offset&&y.unshift(e.comment)}this.trailing.length=0;
return y}(p=this.stack[this.stack.length-1])&&p.node.trailingComments&&(e=p.node.trailingComments[0])&&e.range[0]>=m.end.offset&&(y=p.node.trailingComments,delete p.node.trailingComments);return y};n.findLeadingComments=function(m){const y=[];for(var p;0<this.stack.length;){var e=this.stack[this.stack.length-1];if(e&&e.start>=m.start.offset)p=e.node,this.stack.pop();else break}if(p){e=p.leadingComments?p.leadingComments.length:0;for(--e;0<=e;--e){const r=p.leadingComments[e];r.range[1]<=m.start.offset&&
(y.unshift(r),p.leadingComments.splice(e,1))}p.leadingComments&&0===p.leadingComments.length&&delete p.leadingComments;return y}for(p=this.leading.length-1;0<=p;--p)e=this.leading[p],e.start<=m.start.offset&&(y.unshift(e.comment),this.leading.splice(p,1));return y};n.visitNode=function(m,y){if(!(m.type===C.Syntax.Program&&0<m.body.length)){this.insertInnerComments(m,y);var p=this.findTrailingComments(y),e=this.findLeadingComments(y);0<e.length&&(m.leadingComments=e);0<p.length&&(m.trailingComments=
p);this.stack.push({node:m,start:y.start.offset})}};n.visitComment=function(m,y){this.comments.push(m);this.attach&&(y={comment:{type:m.type,value:m.value,range:[y.start.offset,y.end.offset]},start:y.start.offset},m.loc&&(y.comment.loc=m.loc),this.leading.push(y),this.trailing.push(y))};n.visit=function(m,y){"Line"===m.type||"Block"===m.type?this.visitComment(m,y):this.attach&&this.visitNode(m,y)};return w}();F.CommentHandler=H;Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/lib/syntax":function(){define(["exports"],
function(F){F.Syntax={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ContinueStatement:"ContinueStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",
IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator"};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/lib/parser":function(){define("exports ./assert ./error-handler ./messages ./nodes ./scanner ./syntax ./token".split(" "),
function(F,C,H,w,n,m,y,p){let e=function(){function r(c,f={},h){this.config={range:"boolean"===typeof f.range&&f.range,loc:"boolean"===typeof f.loc&&f.loc,source:null,tokens:"boolean"===typeof f.tokens&&f.tokens,comment:"boolean"===typeof f.comment&&f.comment,tolerant:"boolean"===typeof f.tolerant&&f.tolerant,globalReturn:!!f.globalReturn};this.config.loc&&f.source&&null!==f.source&&(this.config.source=String(f.source));this.delegate=h;this.errorHandler=new H.ErrorHandler;this.errorHandler.tolerant=
this.config.tolerant;this.scanner=new m.Scanner(c,this.errorHandler);this.scanner.trackComment=this.config.comment;this.operatorPrecedence={")":0,";":0,",":0,"\x3d":0,"]":0,"||":1,"\x26\x26":2,"|":3,"^":4,"\x26":5,"\x3d\x3d":6,"!\x3d":6,"\x3d\x3d\x3d":6,"!\x3d\x3d":6,"\x3c":7,"\x3e":7,"\x3c\x3d":7,"\x3e\x3d":7,"\x3c\x3c":8,"\x3e\x3e":8,"\x3e\x3e\x3e":8,"+":9,"-":9,"*":11,"/":11,"%":11};this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.hasLineTerminator=
!1;this.context={allowIn:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,curlyParsing:"asObject"};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.lastMarker={index:0,line:this.scanner.lineNumber,column:0};this.nextToken();this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}var t=r.prototype;t.tolerateError=function(c,...f){const h=
f.slice();c=c.replace(/%(\d)/g,(l,v)=>{C.assert(v<h.length,"Message reference must be in range");return h[v]});this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,this.lastMarker.column+1,c)};t.unexpectedTokenError=function(c,f){let h=f||w.Messages.UnexpectedToken;c?(f||(h=2===c.type?w.Messages.UnexpectedEOS:3===c.type?w.Messages.UnexpectedIdentifier:6===c.type?w.Messages.UnexpectedNumber:8===c.type?w.Messages.UnexpectedString:10===c.type?w.Messages.UnexpectedTemplate:w.Messages.UnexpectedToken),
f=c.value.toString()):f="ILLEGAL";h=h.replace("%0",f);return c&&"number"===typeof c.lineNumber?this.errorHandler.createError(c.start,c.lineNumber,c.start-(this.lastMarker.index-this.lastMarker.column)+1,h):this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,h)};t.throwUnexpectedToken=function(c,f){throw this.unexpectedTokenError(c,f);};t.tolerateUnexpectedToken=function(c,f){this.errorHandler.tolerate(this.unexpectedTokenError(c,f))};t.collectComments=
function(){if(this.config.comment){const c=this.scanner.scanComments();if(c&&0<c.length&&this.delegate)for(let f=0;f<c.length;++f){const h=c[f],l=new n.Comment(h.multiLine?"Block":"Line",this.scanner.source.slice(h.slice[0],h.slice[1]));this.config.range&&(l.range=h.range);this.config.loc&&(l.loc=h.loc);this.delegate(l,{start:{line:h.loc.start.line,column:h.loc.start.column,offset:h.range[0]},end:{line:h.loc.end.line,column:h.loc.end.column,offset:h.range[1]}})}}else this.scanner.scanComments()};
t.peekAhead=function(c){const f=this.scanner.saveState();c.call(this,()=>{this.scanner.scanComments();return this.scanner.lex()});this.scanner.restoreState(f)};t.getTokenRaw=function(c){return this.scanner.source.slice(c.start,c.end)};t.convertToken=function(c){const f={type:p.TokenName[c.type],value:this.getTokenRaw(c)};this.config.range&&(f.range=[c.start,c.end]);this.config.loc&&(f.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-
this.scanner.lineStart}});9===c.type&&(f.regex={pattern:c.pattern,flags:c.flags});return f};t.nextToken=function(){const c=this.lookahead;this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;this.collectComments();this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);
const f=this.scanner.lex();this.hasLineTerminator=c.lineNumber!==f.lineNumber;this.lookahead=f;this.config.tokens&&2!==f.type&&this.tokens.push(this.convertToken(f));return c};t.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}};t.startNode=function(c,f=0){let h=c.start-c.lineStart,l=c.lineNumber;0>h&&(h+=f,l--);return{index:c.start,line:l,column:h}};t.finalize=function(c,f){this.config.range&&(f.range=[c.index,this.lastMarker.index]);
this.config.loc&&(f.loc={start:{line:c.line,column:c.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(f.loc.source=this.config.source));this.delegate&&this.delegate(f,{start:{line:c.line,column:c.column,offset:c.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}});return f};t.expect=function(c){const f=this.nextToken();7===f.type&&f.value===c||this.throwUnexpectedToken(f)};t.expectCommaSeparator=function(){if(this.config.tolerant){const c=
this.lookahead;7===c.type&&","===c.value?this.nextToken():7===c.type&&";"===c.value?(this.nextToken(),this.tolerateUnexpectedToken(c)):this.tolerateUnexpectedToken(c,w.Messages.UnexpectedToken)}else this.expect(",")};t.expectKeyword=function(c){const f=this.nextToken();4===f.type&&f.value.toString().toLowerCase()===c.toLowerCase()||this.throwUnexpectedToken(f)};t.match=function(c){return 7===this.lookahead.type&&this.lookahead.value===c};t.matchKeyword=function(c){return 4===this.lookahead.type&&
this.lookahead.value.toLowerCase()===c.toLowerCase()};t.matchContextualKeyword=function(c){return 3===this.lookahead.type&&this.lookahead.value===c};t.matchAssign=function(){return 7!==this.lookahead.type?!1:n.AssignmentOperators.includes(this.lookahead.value)};t.isolateCoverGrammar=function(c){const f=this.context.isBindingElement,h=this.context.isAssignmentTarget,l=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=
null;c=c.call(this);null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);this.context.isBindingElement=f;this.context.isAssignmentTarget=h;this.context.firstCoverInitializedNameError=l;return c};t.inheritCoverGrammar=function(c){const f=this.context.isBindingElement,h=this.context.isAssignmentTarget,l=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=
null;c=c.call(this);this.context.isBindingElement=this.context.isBindingElement&&f;this.context.isAssignmentTarget=this.context.isAssignmentTarget&&h;this.context.firstCoverInitializedNameError=l||this.context.firstCoverInitializedNameError;return c};t.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,
this.lastMarker.column=this.startMarker.column)};t.parsePrimaryExpression=function(){var c=this.createNode();let f,h;switch(this.lookahead.type){case 3:c=this.finalize(c,new n.Identifier(this.nextToken().value));break;case 6:case 8:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;f=this.nextToken();h=this.getTokenRaw(f);c=this.finalize(c,new n.Literal(f.value,h));break;case 1:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;f=this.nextToken();h=this.getTokenRaw(f);
c=this.finalize(c,new n.Literal("true"===f.value.toString().toLowerCase(),h));break;case 5:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;f=this.nextToken();h=this.getTokenRaw(f);c=this.finalize(c,new n.Literal(null,h));break;case 10:c=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case "(":this.context.isBindingElement=!1;c=this.inheritCoverGrammar(this.parseGroupExpression);break;case "[":c=this.inheritCoverGrammar(this.parseArrayInitializer);break;case "{":c=
this.inheritCoverGrammar(this.parseObjectInitializer);break;default:c=this.throwUnexpectedToken(this.nextToken())}break;case 4:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;c=this.throwUnexpectedToken(this.nextToken());break;default:c=this.throwUnexpectedToken(this.nextToken())}return c};t.parseArrayInitializer=function(){const c=this.createNode(),f=[];for(this.expect("[");!this.match("]");)this.match(",")?(this.nextToken(),f.push(null)):(f.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),
this.match("]")||this.expect(","));this.expect("]");return this.finalize(c,new n.ArrayExpression(f))};t.parseObjectPropertyKey=function(){var c=this.createNode();const f=this.nextToken();switch(f.type){case 8:case 6:c=this.finalize(c,new n.Literal(f.value,this.getTokenRaw(f)));break;case 3:case 1:case 5:case 4:c=this.finalize(c,new n.Identifier(f.value));break;default:c=this.throwUnexpectedToken(f)}return c};t.parseObjectProperty=function(){const c=this.createNode();var f=this.lookahead;let h=!1,
l=!1;var v=null;3===f.type?(v=f.value,this.nextToken(),h=this.match("["),v=this.finalize(c,new n.Identifier(v))):this.match("*")?this.nextToken():(h=this.match("["),v=this.parseObjectPropertyKey());v||this.throwUnexpectedToken(this.lookahead);let D=null;this.match(":")?(this.nextToken(),D=this.inheritCoverGrammar(this.parseAssignmentExpression)):3===f.type?(f=this.finalize(c,new n.Identifier(f.value)),l=!0,D=f):this.throwUnexpectedToken(this.nextToken());return this.finalize(c,new n.Property("init",
v,h,D,!1,l))};t.parseObjectInitializer=function(){const c=this.createNode();this.expect("{");const f=[];for(;!this.match("}");)f.push(this.parseObjectProperty()),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(c,new n.ObjectExpression(f))};t.parseTemplateHead=function(){C.assert(this.lookahead.head,"Template literal must start with a template head");const c=this.createNode(),f=this.nextToken();return this.finalize(c,new n.TemplateElement({raw:f.value,cooked:f.cooked},
f.tail))};t.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();const c=this.createNode(),f=this.nextToken();return this.finalize(c,new n.TemplateElement({raw:f.value,cooked:f.cooked},f.tail))};t.parseTemplateLiteral=function(){const c=this.createNode(),f=[],h=[];let l=this.parseTemplateHead();for(h.push(l);!l.tail;)f.push(this.parseExpression()),l=this.parseTemplateElement(),h.push(l);return this.finalize(c,new n.TemplateLiteral(h,f))};t.parseGroupExpression=function(){this.expect("(");
this.context.isBindingElement=!0;const c=this.inheritCoverGrammar(this.parseAssignmentExpression);this.expect(")");this.context.isBindingElement=!1;return c};t.parseArguments=function(){this.expect("(");const c=[];if(!this.match(")"))for(;;){const f=this.isolateCoverGrammar(this.parseAssignmentExpression);c.push(f);if(this.match(")"))break;this.expectCommaSeparator();if(this.match(")"))break}this.expect(")");return c};t.isIdentifierName=function(c){return 3===c.type||4===c.type||1===c.type||5===c.type};
t.parseIdentifierName=function(){const c=this.createNode(),f=this.nextToken();this.isIdentifierName(f)||this.throwUnexpectedToken(f);return this.finalize(c,new n.Identifier(f.value))};t.parseLeftHandSideExpressionAllowCall=function(){const c=this.lookahead,f=this.context.allowIn;this.context.allowIn=!0;let h=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("(")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!1;var l=this.parseArguments();h=this.finalize(this.startNode(c),
new n.CallExpression(h,l))}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),l=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),h=this.finalize(this.startNode(c),new n.ComputedMemberExpression(h,l));else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),l=this.parseIdentifierName(),h=this.finalize(this.startNode(c),new n.StaticMemberExpression(h,l));else break;this.context.allowIn=
f;return h};t.parseLeftHandSideExpression=function(){C.assert(this.context.allowIn,"callee of new expression always allow in keyword.");const c=this.startNode(this.lookahead);let f=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("[")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect("[");var h=this.isolateCoverGrammar(this.parseExpression);this.expect("]");f=this.finalize(c,new n.ComputedMemberExpression(f,h))}else if(this.match("."))this.context.isBindingElement=
!1,this.context.isAssignmentTarget=!0,this.expect("."),h=this.parseIdentifierName(),f=this.finalize(c,new n.StaticMemberExpression(f,h));else break;return f};t.parseUpdateExpression=function(){let c;var f=this.lookahead;if(this.match("++")||this.match("--")){f=this.startNode(f);var h=this.nextToken();c=this.inheritCoverGrammar(this.parseUnaryExpression);this.context.isAssignmentTarget||this.tolerateError(w.Messages.InvalidLHSInAssignment);c=this.finalize(f,new n.UpdateExpression(h.value,c,!0));this.context.isAssignmentTarget=
!1;this.context.isBindingElement=!1}else c=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),this.hasLineTerminator||7!==this.lookahead.type||!this.match("++")&&!this.match("--")||(this.context.isAssignmentTarget||this.tolerateError(w.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken().value,c=this.finalize(this.startNode(f),new n.UpdateExpression(h,c,!1)));return c};t.parseUnaryExpression=function(){let c;if(this.match("+")||
this.match("-")||this.match("~")||this.match("!")){const f=this.startNode(this.lookahead),h=this.nextToken();c=this.inheritCoverGrammar(this.parseUnaryExpression);c=this.finalize(f,new n.UnaryExpression(h.value,c));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else c=this.parseUpdateExpression();return c};t.binaryPrecedence=function(c){const f=c.value;return 7===c.type?this.operatorPrecedence[f]||0:4===c.type?this.context.allowIn&&"in"===f?12:0:0};t.parseBinaryExpression=function(){var c=
this.lookahead,f=this.inheritCoverGrammar(this.parseUnaryExpression),h=this.lookahead,l=this.binaryPrecedence(h);if(0<l){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;c=[c,this.lookahead];var v=this.inheritCoverGrammar(this.parseUnaryExpression);h=[f,h.value,v];for(var D=[l];;){l=this.binaryPrecedence(this.lookahead);if(0>=l)break;for(;2<h.length&&l<=D[D.length-1];){v=h.pop();const L=h.pop();D.pop();f=h.pop();c.pop();var B=c[c.length-1];B=this.startNode(B,B.lineStart);
h.push(this.finalize(B,new n.BinaryExpression(L,f,v)))}h.push(this.nextToken().value);D.push(l);c.push(this.lookahead);h.push(this.inheritCoverGrammar(this.parseUnaryExpression))}l=h.length-1;f=h[l];for(D=c.pop();1<l;){v=c.pop();if(!v)break;D=this.startNode(v,D&&D.lineStart);f=this.finalize(D,new n.BinaryExpression(h[l-1],h[l-2],f));l-=2;D=v}}return f};t.parseAssignmentExpression=function(){const c=this.lookahead;var f=c;let h=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.matchAssign()){this.context.isAssignmentTarget||
this.tolerateError(w.Messages.InvalidLHSInAssignment);this.match("\x3d")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);f=this.nextToken();f=f.value;const l=this.isolateCoverGrammar(this.parseAssignmentExpression);h=this.finalize(this.startNode(c),new n.AssignmentExpression(f,h,l));this.context.firstCoverInitializedNameError=null}return h};t.parseExpression=function(){return this.isolateCoverGrammar(this.parseAssignmentExpression)};t.parseStatementListItem=function(){let c;
this.context.isAssignmentTarget=!0;this.context.isBindingElement=!0;if(4===this.lookahead.type)switch(this.lookahead.value){case "function":c=this.parseFunctionDeclaration();break;default:c=this.parseStatement()}else c=this.parseStatement();return c};t.parseBlock=function(){const c=this.createNode();this.expect("{");const f=[];for(;!this.match("}");)f.push(this.parseStatementListItem());this.expect("}");return this.finalize(c,new n.BlockStatement(f))};t.parseObjectStatement=function(){const c=this.createNode(),
f=this.parseObjectInitializer();return this.finalize(c,new n.ExpressionStatement(f))};t.parseBlockOrObjectStatement=function(){let c="asObject"===this.context.curlyParsing;"asObjectOrBlock"===this.context.curlyParsing&&this.peekAhead(f=>{let h=f();if(3===h.type||8===h.type)h=f(),7===h.type&&":"===h.value&&(c=!0)});return c?this.parseObjectStatement():this.parseBlock()};t.parseVariableIdentifier=function(){const c=this.createNode(),f=this.nextToken();3!==f.type&&this.throwUnexpectedToken(f,w.Messages.IdentiferExpected);
return this.finalize(c,new n.Identifier(f.value))};t.parseVariableDeclaration=function(c){const f=this.createNode(),h=this.parseVariableIdentifier();let l=null;this.match("\x3d")?(this.nextToken(),l=this.isolateCoverGrammar(this.parseAssignmentExpression)):h.type===y.Syntax.Identifier||c.inFor||this.expect("\x3d");return this.finalize(f,new n.VariableDeclarator(h,l))};t.parseVariableDeclarationList=function(c){const f=[this.parseVariableDeclaration(c)];for(;this.match(",");)this.nextToken(),f.push(this.parseVariableDeclaration(c));
return f};t.parseVariableStatement=function(){const c=this.createNode();this.expectKeyword("var");const f=this.parseVariableDeclarationList({inFor:!1});this.consumeSemicolon();return this.finalize(c,new n.VariableDeclaration(f,"var"))};t.parseEmptyStatement=function(){const c=this.createNode();this.expect(";");return this.finalize(c,new n.EmptyStatement)};t.parseExpressionStatement=function(){const c=this.createNode(),f=this.parseExpression();this.consumeSemicolon();return this.finalize(c,new n.ExpressionStatement(f))};
t.parseIfClause=function(){const c=this.context.curlyParsing;this.context.curlyParsing="asObjectOrBlock";const f=this.parseStatement();this.context.curlyParsing=c;return f};t.parseIfStatement=function(){const c=this.createNode();let f,h=null;this.expectKeyword("if");this.expect("(");const l=this.parseExpression();!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),f=this.finalize(this.createNode(),new n.EmptyStatement)):(this.expect(")"),f=this.parseIfClause(),this.matchKeyword("else")&&
(this.nextToken(),h=this.parseIfClause()));return this.finalize(c,new n.IfStatement(l,f,h))};t.parseForStatement=function(){let c=null,f=null,h=null,l=null,v=null;const D=this.createNode();this.expectKeyword("for");this.expect("(");if(this.match(";"))this.nextToken();else if(this.matchKeyword("var")){var B=this.createNode();this.nextToken();var L=this.context.allowIn;this.context.allowIn=!1;var b=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=L;1===b.length&&this.matchKeyword("in")?
(b[0].init&&this.tolerateError(w.Messages.ForInOfLoopInitializer,"for-in"),l=this.finalize(B,new n.VariableDeclaration(b,"var")),this.nextToken(),v=this.parseExpression()):(c=this.finalize(B,new n.VariableDeclaration(b,"var")),this.expect(";"))}else{B=this.context.isBindingElement;L=this.context.isAssignmentTarget;b=this.context.firstCoverInitializedNameError;const q=this.context.allowIn;this.context.allowIn=!1;c=this.inheritCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=q;this.matchKeyword("in")?
(this.context.isAssignmentTarget&&c.type!==y.Syntax.AssignmentExpression||this.tolerateError(w.Messages.InvalidLHSInForIn),this.nextToken(),l=c,v=this.parseExpression(),c=null):(this.context.isBindingElement=B,this.context.isAssignmentTarget=L,this.context.firstCoverInitializedNameError=b,this.expect(";"))}l||(this.match(";")||(f=this.isolateCoverGrammar(this.parseExpression)),this.expect(";"),this.match(")")||(h=this.isolateCoverGrammar(this.parseExpression)));!this.match(")")&&this.config.tolerant?
(this.tolerateUnexpectedToken(this.nextToken()),B=this.finalize(this.createNode(),new n.EmptyStatement)):(this.expect(")"),L=this.context.inIteration,b=this.context.curlyParsing,this.context.inIteration=!0,this.context.curlyParsing="asObjectOrBlock",B=this.isolateCoverGrammar(this.parseStatement),this.context.curlyParsing=b,this.context.inIteration=L);return l&&v?this.finalize(D,new n.ForInStatement(l,v,B)):this.finalize(D,new n.ForStatement(c,f,h,B))};t.parseContinueStatement=function(){const c=
this.createNode();this.expectKeyword("continue");this.consumeSemicolon();return this.finalize(c,new n.ContinueStatement)};t.parseBreakStatement=function(){const c=this.createNode();this.expectKeyword("break");this.consumeSemicolon();return this.finalize(c,new n.BreakStatement)};t.parseReturnStatement=function(){this.config.globalReturn||this.context.inFunctionBody||this.tolerateError(w.Messages.IllegalReturn);const c=this.createNode();this.expectKeyword("return");const f=(this.match(";")||this.match("}")||
this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();this.consumeSemicolon();return this.finalize(c,new n.ReturnStatement(f))};t.parseStatement=function(){switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 3:var c=this.parseExpressionStatement();break;case 7:c=this.lookahead.value;c="{"===c?this.parseBlockOrObjectStatement():"("===c?this.parseExpressionStatement():";"===c?this.parseEmptyStatement():this.parseExpressionStatement();
break;case 4:switch(this.lookahead.value.toLowerCase()){case "break":c=this.parseBreakStatement();break;case "continue":c=this.parseContinueStatement();break;case "for":c=this.parseForStatement();break;case "function":c=this.parseFunctionDeclaration();break;case "if":c=this.parseIfStatement();break;case "return":c=this.parseReturnStatement();break;case "var":c=this.parseVariableStatement();break;default:c=this.parseExpressionStatement()}break;default:c=this.throwUnexpectedToken(this.lookahead)}return c};
t.parseFunctionSourceElements=function(){const c=this.createNode();this.expect("{");const f=this.context.inIteration,h=this.context.inFunctionBody;this.context.inIteration=!1;this.context.inFunctionBody=!0;const l=[];for(;2!==this.lookahead.type&&!this.match("}");)l.push(this.parseStatementListItem());this.expect("}");this.context.inIteration=f;this.context.inFunctionBody=h;return this.finalize(c,new n.BlockStatement(l))};t.parseFormalParameters=function(){const c=[];this.expect("(");if(!this.match(")"))for(;2!==
this.lookahead.type;){c.push(this.parseVariableIdentifier());if(this.match(")"))break;this.expect(",");if(this.match(")"))break}this.expect(")");return c};t.parseFunctionDeclaration=function(){const c=this.createNode();this.expectKeyword("function");const f=this.parseVariableIdentifier(),h=this.parseFormalParameters(),l=this.parseFunctionSourceElements();return this.finalize(c,new n.FunctionDeclaration(f,h,l))};t.parseScript=function(){const c=this.createNode(),f=[];for(;2!==this.lookahead.type;)f.push(this.parseStatementListItem());
return this.finalize(c,new n.Program(f))};return r}();F.Parser=e;Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/lib/assert":function(){define(["exports"],function(F){F.assert=function(C,H){if(!C)throw Error("ASSERT: "+H);};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/lib/error-handler":function(){define(["exports"],function(F){let C=function(){function H(){this.errors=[];this.tolerant=!1}var w=H.prototype;w.recordError=function(n){this.errors.push(n)};w.tolerate=
function(n){if(this.tolerant)this.recordError(n);else throw n;};w.constructError=function(n,m){n=Error(n);try{throw n;}catch(y){Object.create&&Object.defineProperty&&(n=Object.create(y),Object.defineProperty(n,"column",{value:m}))}return n};w.createError=function(n,m,y,p){y=this.constructError("Line "+m+": "+p,y);y.index=n;y.lineNumber=m;y.description=p;return y};w.throwError=function(n,m,y,p){throw this.createError(n,m,y,p);};w.tolerateError=function(n,m,y,p){n=this.createError(n,m,y,p);if(this.tolerant)this.recordError(n);
else throw n;};return H}();F.ErrorHandler=C;Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/lib/messages":function(){define(["exports"],function(F){F.Messages={ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",
IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidRegExp:"Invalid regular expression",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictParamDupe:"Strict mode function may not have duplicate parameter names",
TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnterminatedRegExp:"Invalid regular expression: missing /",IdentiferExpected:"Identifier expected"};Object.defineProperty(F,"__esModule",{value:!0})})},
"esri/arcade/lib/nodes":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","./syntax"],function(F,C,H){var w=function(){};let n=function(ha){function fa(la,oa){var M=ha.call(this)||this;M.type=la;M.value=oa;return M}C._inheritsLoose(fa,ha);return fa}(w),m=function(ha){function fa(la){var oa=ha.call(this)||this;oa.elements=la;oa.type=H.Syntax.ArrayExpression;return oa}C._inheritsLoose(fa,ha);return fa}(w),y=function(ha){function fa(la,oa,M){var W=ha.call(this)||this;W.operator=la;
W.left=oa;W.right=M;W.type=H.Syntax.AssignmentExpression;return W}C._inheritsLoose(fa,ha);return fa}(w);const p=["||","\x26\x26"];let e=function(ha){function fa(la,oa,M){var W=ha.call(this)||this;W.operator=la;W.left=oa;W.right=M;W.type=p.includes(la)?H.Syntax.LogicalExpression:H.Syntax.BinaryExpression;return W}C._inheritsLoose(fa,ha);return fa}(w),r=function(ha){function fa(la){var oa=ha.call(this)||this;oa.body=la;oa.type=H.Syntax.BlockStatement;return oa}C._inheritsLoose(fa,ha);return fa}(w),
t=function(ha){function fa(){var la=ha.apply(this,arguments)||this;la.type=H.Syntax.BreakStatement;return la}C._inheritsLoose(fa,ha);return fa}(w),c=function(ha){function fa(la,oa){var M=ha.call(this)||this;M.callee=la;M.args=oa;M.type=H.Syntax.CallExpression;M.arguments=oa;return M}C._inheritsLoose(fa,ha);return fa}(w),f=function(ha){function fa(la,oa){var M=ha.call(this)||this;M.object=la;M.property=oa;M.type=H.Syntax.MemberExpression;M.computed=!0;return M}C._inheritsLoose(fa,ha);return fa}(w),
h=function(ha){function fa(la,oa){var M=ha.call(this)||this;M.object=la;M.property=oa;M.type=H.Syntax.MemberExpression;M.computed=!1;return M}C._inheritsLoose(fa,ha);return fa}(w),l=function(ha){function fa(){var la=ha.apply(this,arguments)||this;la.type=H.Syntax.ContinueStatement;return la}C._inheritsLoose(fa,ha);return fa}(w),v=function(ha){function fa(){var la=ha.apply(this,arguments)||this;la.type=H.Syntax.EmptyStatement;return la}C._inheritsLoose(fa,ha);return fa}(w),D=function(ha){function fa(la){var oa=
ha.call(this)||this;oa.expression=la;oa.type=H.Syntax.ExpressionStatement;return oa}C._inheritsLoose(fa,ha);return fa}(w),B=function(ha){function fa(la,oa,M){var W=ha.call(this)||this;W.left=la;W.right=oa;W.body=M;W.type=H.Syntax.ForInStatement;W.each=!1;return W}C._inheritsLoose(fa,ha);return fa}(w),L=function(ha){function fa(la,oa,M,W){var V=ha.call(this)||this;V.init=la;V.test=oa;V.update=M;V.body=W;V.type=H.Syntax.ForStatement;return V}C._inheritsLoose(fa,ha);return fa}(w),b=function(ha){function fa(la,
oa,M){var W=ha.call(this)||this;W.id=la;W.params=oa;W.body=M;W.type=H.Syntax.FunctionDeclaration;W.generator=!1;W.expression=!1;W.async=!1;return W}C._inheritsLoose(fa,ha);return fa}(w),q=function(ha){function fa(la){var oa=ha.call(this)||this;oa.name=la;oa.type=H.Syntax.Identifier;return oa}C._inheritsLoose(fa,ha);return fa}(w),d=function(ha){function fa(la,oa,M){var W=ha.call(this)||this;W.test=la;W.consequent=oa;W.alternate=M;W.type=H.Syntax.IfStatement;return W}C._inheritsLoose(fa,ha);return fa}(w),
z=function(ha){function fa(la,oa){var M=ha.call(this)||this;M.value=la;M.raw=oa;M.type=H.Syntax.Literal;return M}C._inheritsLoose(fa,ha);return fa}(w),g=function(ha){function fa(la){var oa=ha.call(this)||this;oa.properties=la;oa.type=H.Syntax.ObjectExpression;return oa}C._inheritsLoose(fa,ha);return fa}(w),Q=function(ha){function fa(la,oa,M,W,V,X){var ma=ha.call(this)||this;ma.kind=la;ma.key=oa;ma.computed=M;ma.value=W;ma.method=V;ma.shorthand=X;ma.type=H.Syntax.Property;return ma}C._inheritsLoose(fa,
ha);return fa}(w),U=function(ha){function fa(la){var oa=ha.call(this)||this;oa.argument=la;oa.type=H.Syntax.ReturnStatement;return oa}C._inheritsLoose(fa,ha);return fa}(w),aa=function(ha){function fa(la){var oa=ha.call(this)||this;oa.body=la;oa.type=H.Syntax.Program;return oa}C._inheritsLoose(fa,ha);return fa}(w),ta=function(ha){function fa(la,oa){var M=ha.call(this)||this;M.value=la;M.tail=oa;M.type=H.Syntax.TemplateElement;return M}C._inheritsLoose(fa,ha);return fa}(w),ka=function(ha){function fa(la,
oa){var M=ha.call(this)||this;M.quasis=la;M.expressions=oa;M.type=H.Syntax.TemplateLiteral;return M}C._inheritsLoose(fa,ha);return fa}(w),Da=function(ha){function fa(la,oa){var M=ha.call(this)||this;M.operator=la;M.argument=oa;M.type=H.Syntax.UnaryExpression;M.prefix=!0;return M}C._inheritsLoose(fa,ha);return fa}(w),Ra=function(ha){function fa(la,oa,M){var W=ha.call(this)||this;W.operator=la;W.argument=oa;W.prefix=M;W.type=H.Syntax.UpdateExpression;return W}C._inheritsLoose(fa,ha);return fa}(w),Sa=
function(ha){function fa(la,oa){var M=ha.call(this)||this;M.declarations=la;M.kind=oa;M.type=H.Syntax.VariableDeclaration;return M}C._inheritsLoose(fa,ha);return fa}(w);w=function(ha){function fa(la,oa){var M=ha.call(this)||this;M.id=la;M.init=oa;M.type=H.Syntax.VariableDeclarator;return M}C._inheritsLoose(fa,ha);return fa}(w);F.ArrayExpression=m;F.AssignmentExpression=y;F.AssignmentOperators="\x3d /\x3d *\x3d %\x3d +\x3d -\x3d".split(" ");F.BinaryExpression=e;F.BinaryOperators="| \x26 \x3e\x3e \x3c\x3c \x3e\x3e \x3e\x3e\x3e ^ \x3d\x3d !\x3d \x3c \x3c\x3d \x3e \x3e\x3d + - * / %".split(" ");
F.BlockStatement=r;F.BreakStatement=t;F.CallExpression=c;F.Comment=n;F.ComputedMemberExpression=f;F.ContinueStatement=l;F.EmptyStatement=v;F.ExpressionStatement=D;F.ForInStatement=B;F.ForStatement=L;F.FunctionDeclaration=b;F.Identifier=q;F.IfStatement=d;F.Literal=z;F.LogicalOperators=p;F.ObjectExpression=g;F.Program=aa;F.Property=Q;F.ReturnStatement=U;F.StaticMemberExpression=h;F.TemplateElement=ta;F.TemplateLiteral=ka;F.UnaryExpression=Da;F.UnaryOperators=["-","+","!","~"];F.UpdateExpression=Ra;
F.UpdateOperators=["++","--"];F.VariableDeclaration=Sa;F.VariableDeclarator=w;Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/lib/scanner":function(){define(["exports","./assert","./character","./messages"],function(F,C,H,w){let n=function(){function m(p,e){this.source=p;this.errorHandler=e;this.isModule=this.trackComment=!1;this.length=p.length;this.index=0;this.lineNumber=0<p.length?1:0;this.lineStart=0;this.curlyStack=[]}var y=m.prototype;y.saveState=function(){return{index:this.index,
lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}};y.restoreState=function(p){this.index=p.index;this.lineNumber=p.lineNumber;this.lineStart=p.lineStart;this.curlyStack=p.curlyStack};y.eof=function(){return this.index>=this.length};y.throwUnexpectedToken=function(p=w.Messages.UnexpectedTokenIllegal){return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,p)};y.tolerateUnexpectedToken=function(p=w.Messages.UnexpectedTokenIllegal){this.errorHandler.tolerateError(this.index,
this.lineNumber,this.index-this.lineStart+1,p)};y.skipSingleLineComment=function(p){let e=[],r=0,t=null;this.trackComment&&(e=[],r=this.index-p,t={start:{line:this.lineNumber,column:this.index-this.lineStart-p},end:{line:0,column:0}});for(;!this.eof();){const c=this.source.charCodeAt(this.index);++this.index;if(H.Character.isLineTerminator(c))return t&&(t.end={line:this.lineNumber,column:this.index-this.lineStart-1},e.push({multiLine:!1,slice:[r+p,this.index-1],range:[r,this.index-1],loc:t})),13===
c&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,e}t&&(t.end={line:this.lineNumber,column:this.index-this.lineStart},e.push({multiLine:!1,slice:[r+p,this.index],range:[r,this.index],loc:t}));return e};y.skipMultiLineComment=function(){const p=[];let e=0,r=null;this.trackComment&&(e=this.index-2,r={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{line:0,column:0}});for(;!this.eof();){const t=this.source.charCodeAt(this.index);
if(H.Character.isLineTerminator(t))13===t&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===t&&47===this.source.charCodeAt(this.index+1))return this.index+=2,r&&(r.end={line:this.lineNumber,column:this.index-this.lineStart},p.push({multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:r})),p;++this.index}}r&&(r.end={line:this.lineNumber,column:this.index-this.lineStart},p.push({multiLine:!0,slice:[e+2,this.index],
range:[e,this.index],loc:r}));this.tolerateUnexpectedToken();return p};y.scanComments=function(){let p=null;this.trackComment&&(p=[]);for(var e=0===this.index;!this.eof();){var r=this.source.charCodeAt(this.index);if(H.Character.isWhiteSpace(r))++this.index;else if(H.Character.isLineTerminator(r))++this.index,13===r&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,e=!0;else if(47===r)if(r=this.source.charCodeAt(this.index+1),47===r)this.index+=2,e=
this.skipSingleLineComment(2),p&&(p=p.concat(e)),e=!0;else if(42===r)this.index+=2,r=this.skipMultiLineComment(),p&&(p=p.concat(r));else break;else if(e&&45===r)if(45===this.source.charCodeAt(this.index+1)&&62===this.source.charCodeAt(this.index+2))this.index+=3,r=this.skipSingleLineComment(3),p&&(p=p.concat(r));else break;else if(60!==r||this.isModule)break;else if("!--"===this.source.slice(this.index+1,this.index+4))this.index+=4,r=this.skipSingleLineComment(4),p&&(p=p.concat(r));else break}return p};
y.isKeyword=function(p){p=p.toLowerCase();switch(p.length){case 2:return"if"===p||"in"===p;case 3:return"var"===p||"for"===p;case 4:return"else"===p;case 5:return"break"===p;case 6:return"return"===p;case 8:return"function"===p||"continue"===p;default:return!1}};y.codePointAt=function(p){let e=this.source.charCodeAt(p);55296<=e&&56319>=e&&(p=this.source.charCodeAt(p+1),56320<=p&&57343>=p&&(e=1024*(e-55296)+p-56320+65536));return e};y.scanHexEscape=function(p){p="u"===p?4:2;let e=0;for(let r=0;r<p;++r)if(!this.eof()&&
H.Character.isHexDigit(this.source.charCodeAt(this.index)))e=16*e+"0123456789abcdef".indexOf(this.source[this.index++].toLowerCase());else return null;return String.fromCharCode(e)};y.scanUnicodeCodePointEscape=function(){let p=this.source[this.index],e=0;for("}"===p&&this.throwUnexpectedToken();!this.eof();){p=this.source[this.index++];if(!H.Character.isHexDigit(p.charCodeAt(0)))break;e=16*e+"0123456789abcdef".indexOf(p.toLowerCase())}(1114111<e||"}"!==p)&&this.throwUnexpectedToken();return H.Character.fromCodePoint(e)};
y.getIdentifier=function(){const p=this.index++;for(;!this.eof();){const e=this.source.charCodeAt(this.index);if(92===e||55296<=e&&57343>e)return this.index=p,this.getComplexIdentifier();if(H.Character.isIdentifierPart(e))++this.index;else break}return this.source.slice(p,this.index)};y.getComplexIdentifier=function(){let p=this.codePointAt(this.index),e=H.Character.fromCodePoint(p);this.index+=e.length;let r;92===p&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,
"{"===this.source[this.index]?(++this.index,r=this.scanUnicodeCodePointEscape()):(r=this.scanHexEscape("u"),null!==r&&"\\"!==r&&H.Character.isIdentifierStart(r.charCodeAt(0))||this.throwUnexpectedToken()),e=r);for(;!this.eof();){p=this.codePointAt(this.index);if(!H.Character.isIdentifierPart(p))break;r=H.Character.fromCodePoint(p);e+=r;this.index+=r.length;92===p&&(e=e.substr(0,e.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?
(++this.index,r=this.scanUnicodeCodePointEscape()):(r=this.scanHexEscape("u"),null!==r&&"\\"!==r&&H.Character.isIdentifierPart(r.charCodeAt(0))||this.throwUnexpectedToken()),e+=r)}return e};y.octalToDecimal=function(p){let e="0"!==p,r="01234567".indexOf(p);!this.eof()&&H.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(e=!0,r=8*r+"01234567".indexOf(this.source[this.index++]),0<="0123".indexOf(p)&&!this.eof()&&H.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(r=8*r+"01234567".indexOf(this.source[this.index++])));
return{code:r,octal:e}};y.scanIdentifier=function(){let p;const e=this.index,r=92===this.source.charCodeAt(e)?this.getComplexIdentifier():this.getIdentifier();p=1===r.length?3:this.isKeyword(r)?4:"null"===r.toLowerCase()?5:"true"===r.toLowerCase()||"false"===r.toLowerCase()?1:3;if(3!==p&&e+r.length!==this.index){const t=this.index;this.index=e;this.tolerateUnexpectedToken(w.Messages.InvalidEscapedReservedWord);this.index=t}return{type:p,value:r,lineNumber:this.lineNumber,lineStart:this.lineStart,
start:e,end:this.index}};y.scanPunctuator=function(){const p=this.index;let e=this.source[this.index];switch(e){case "(":case "{":"{"===e&&this.curlyStack.push("{");++this.index;break;case ".":++this.index;break;case "}":++this.index;this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;break;default:e=this.source.substr(this.index,4),"\x3e\x3e\x3e\x3d"===e?this.index+=4:(e=e.substr(0,3),"\x3d\x3d\x3d"===e||"!\x3d\x3d"===e||"\x3e\x3e\x3e"===
e||"\x3c\x3c\x3d"===e||"\x3e\x3e\x3d"===e||"**\x3d"===e?this.index+=3:(e=e.substr(0,2),"\x26\x26"===e||"||"===e||"\x3d\x3d"===e||"!\x3d"===e||"+\x3d"===e||"-\x3d"===e||"*\x3d"===e||"/\x3d"===e||"++"===e||"--"===e||"\x3c\x3c"===e||"\x3e\x3e"===e||"\x26\x3d"===e||"|\x3d"===e||"^\x3d"===e||"%\x3d"===e||"\x3c\x3d"===e||"\x3e\x3d"===e||"\x3d\x3e"===e||"**"===e?this.index+=2:(e=this.source[this.index],0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(e)&&++this.index)))}this.index===p&&this.throwUnexpectedToken();
return{type:7,value:e,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}};y.scanHexLiteral=function(p){let e="";for(;!this.eof()&&H.Character.isHexDigit(this.source.charCodeAt(this.index));)e+=this.source[this.index++];0===e.length&&this.throwUnexpectedToken();H.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseInt("0x"+e,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}};y.scanBinaryLiteral=
function(p){let e="";for(;!this.eof();){var r=this.source[this.index];if("0"!==r&&"1"!==r)break;e+=this.source[this.index++]}0===e.length&&this.throwUnexpectedToken();this.eof()||(r=this.source.charCodeAt(this.index),(H.Character.isIdentifierStart(r)||H.Character.isDecimalDigit(r))&&this.throwUnexpectedToken());return{type:6,value:parseInt(e,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}};y.scanOctalLiteral=function(p,e){let r="",t=!1;H.Character.isOctalDigit(p.charCodeAt(0))?
(t=!0,r="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&H.Character.isOctalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];t||0!==r.length||this.throwUnexpectedToken();(H.Character.isIdentifierStart(this.source.charCodeAt(this.index))||H.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken();return{type:6,value:parseInt(r,8),octal:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}};y.scanNumericLiteral=
function(){const p=this.index;let e=this.source[p];C.assert(H.Character.isDecimalDigit(e.charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point");let r="";if("."!==e){r=this.source[this.index++];e=this.source[this.index];if("0"===r){if("x"===e||"X"===e)return++this.index,this.scanHexLiteral(p);if("b"===e||"B"===e)return++this.index,this.scanBinaryLiteral(p);if("o"===e||"O"===e)return this.scanOctalLiteral(e,p)}for(;H.Character.isDecimalDigit(this.source.charCodeAt(this.index));)r+=
this.source[this.index++];e=this.source[this.index]}if("."===e){for(r+=this.source[this.index++];H.Character.isDecimalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];e=this.source[this.index]}if("e"===e||"E"===e){r+=this.source[this.index++];e=this.source[this.index];if("+"===e||"-"===e)r+=this.source[this.index++];if(H.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;H.Character.isDecimalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];
else this.throwUnexpectedToken()}H.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseFloat(r),lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}};y.scanStringLiteral=function(){const p=this.index;let e=this.source[p];C.assert("'"===e||'"'===e,"String literal must starts with a quote");++this.index;let r=!1,t="";for(;!this.eof();){var c=this.source[this.index++];if(c===e){e="";break}if("\\"===c)if((c=this.source[this.index++])&&
H.Character.isLineTerminator(c.charCodeAt(0)))++this.lineNumber,"\r"===c&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(c){case "u":"{"===this.source[this.index]?(++this.index,t+=this.scanUnicodeCodePointEscape()):(c=this.scanHexEscape(c),null===c&&this.throwUnexpectedToken(),t+=c);break;case "x":c=this.scanHexEscape(c);null===c&&this.throwUnexpectedToken(w.Messages.InvalidHexEscapeSequence);t+=c;break;case "n":t+="\n";break;case "r":t+="\r";break;case "t":t+=
"\t";break;case "b":t+="\b";break;case "f":t+="\f";break;case "v":t+="\v";break;case "8":case "9":t+=c;this.tolerateUnexpectedToken();break;default:c&&H.Character.isOctalDigit(c.charCodeAt(0))?(c=this.octalToDecimal(c),r=c.octal||r,t+=String.fromCharCode(c.code)):t+=c}else if(H.Character.isLineTerminator(c.charCodeAt(0)))break;else t+=c}""!==e&&(this.index=p,this.throwUnexpectedToken());return{type:8,value:t,octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}};y.scanTemplate=
function(){let p="",e=!1;const r=this.index,t="`"===this.source[r];let c=!1,f=2;for(++this.index;!this.eof();){var h=this.source[this.index++];if("`"===h){f=1;e=c=!0;break}if("$"===h){if("{"===this.source[this.index]){this.curlyStack.push("${");++this.index;e=!0;break}p+=h}else if("\\"===h)if(h=this.source[this.index++],H.Character.isLineTerminator(h.charCodeAt(0)))++this.lineNumber,"\r"===h&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(h){case "n":p+="\n";break;
case "r":p+="\r";break;case "t":p+="\t";break;case "u":if("{"===this.source[this.index])++this.index,p+=this.scanUnicodeCodePointEscape();else{const l=this.index,v=this.scanHexEscape(h);null!==v?p+=v:(this.index=l,p+=h)}break;case "x":h=this.scanHexEscape(h);null===h&&this.throwUnexpectedToken(w.Messages.InvalidHexEscapeSequence);p+=h;break;case "b":p+="\b";break;case "f":p+="\f";break;case "v":p+="\v";break;default:"0"===h?(H.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(w.Messages.TemplateOctalLiteral),
p+="\x00"):H.Character.isOctalDigit(h.charCodeAt(0))?this.throwUnexpectedToken(w.Messages.TemplateOctalLiteral):p+=h}else H.Character.isLineTerminator(h.charCodeAt(0))?(++this.lineNumber,"\r"===h&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,p+="\n"):p+=h}e||this.throwUnexpectedToken();t||this.curlyStack.pop();return{type:10,value:this.source.slice(r+1,this.index-f),cooked:p,head:t,tail:c,lineNumber:this.lineNumber,lineStart:this.lineStart,start:r,end:this.index}};y.testRegExp=
function(p,e){let r=p;0<=e.indexOf("u")&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(t,c,f)=>{t=parseInt(c||f,16);1114111<t&&this.throwUnexpectedToken(w.Messages.InvalidRegExp);return 65535>=t?String.fromCharCode(t):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{RegExp(r)}catch(t){this.throwUnexpectedToken(w.Messages.InvalidRegExp)}try{return new RegExp(p,e)}catch(t){return null}};y.scanRegExpBody=function(){let p=this.source[this.index];C.assert("/"===p,"Regular expression literal must start with a slash");
let e=this.source[this.index++],r=!1,t=!1;for(;!this.eof();)if(p=this.source[this.index++],e+=p,"\\"===p)p=this.source[this.index++],H.Character.isLineTerminator(p.charCodeAt(0))&&this.throwUnexpectedToken(w.Messages.UnterminatedRegExp),e+=p;else if(H.Character.isLineTerminator(p.charCodeAt(0)))this.throwUnexpectedToken(w.Messages.UnterminatedRegExp);else if(r)"]"===p&&(r=!1);else{if("/"===p){t=!0;break}"["===p&&(r=!0)}t||this.throwUnexpectedToken(w.Messages.UnterminatedRegExp);return e.substr(1,
e.length-2)};y.scanRegExpFlags=function(){let p="";for(;!this.eof();){var e=this.source[this.index];if(!H.Character.isIdentifierPart(e.charCodeAt(0)))break;++this.index;if("\\"!==e||this.eof())p+=e;else{e=this.source[this.index];if("u"===e){++this.index;e=this.index;const r=this.scanHexEscape("u");if(null!==r)for(p+=r;e<this.index;++e);else this.index=e,p+="u"}this.tolerateUnexpectedToken()}}return p};y.scanRegExp=function(){const p=this.index,e=this.scanRegExpBody(),r=this.scanRegExpFlags(),t=this.testRegExp(e,
r);return{type:9,value:"",pattern:e,flags:r,regex:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}};y.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};const p=this.source.charCodeAt(this.index);return H.Character.isIdentifierStart(p)?this.scanIdentifier():40===p||41===p||59===p?this.scanPunctuator():39===p||34===p?this.scanStringLiteral():46===p?H.Character.isDecimalDigit(this.source.charCodeAt(this.index+
1))?this.scanNumericLiteral():this.scanPunctuator():H.Character.isDecimalDigit(p)?this.scanNumericLiteral():96===p||125===p&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():55296<=p&&57343>p&&H.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()};return m}();F.Scanner=n;Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/lib/character":function(){define(["exports"],function(F){var C=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,
H=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
const w={fromCodePoint(n){return 65536>n?String.fromCharCode(n):String.fromCharCode(55296+(n-65536>>10))+String.fromCharCode(56320+(n-65536&1023))},isWhiteSpace(n){return 32===n||9===n||11===n||12===n||160===n||5760<=n&&0<=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(n)},isLineTerminator(n){return 10===n||13===n||8232===n||8233===n},isIdentifierStart(n){return 36===n||95===n||65<=n&&90>=n||97<=n&&122>=n||92===n||128<=n&&C.test(w.fromCodePoint(n))},isIdentifierPart(n){return 36===
n||95===n||65<=n&&90>=n||97<=n&&122>=n||48<=n&&57>=n||92===n||128<=n&&H.test(w.fromCodePoint(n))},isDecimalDigit(n){return 48<=n&&57>=n},isHexDigit(n){return 48<=n&&57>=n||65<=n&&70>=n||97<=n&&102>=n},isOctalDigit(n){return 48<=n&&55>=n}};F.Character=w;Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/lib/token":function(){define(["exports"],function(F){F.TokenName={1:"Boolean",2:"\x3cend\x3e",3:"Identifier",4:"Keyword",5:"Null",6:"Numeric",7:"Punctuator",8:"String",9:"RegularExpression",
10:"Template"};Object.defineProperty(F,"__esModule",{value:!0})})},"esri/arcade/lib/tokenizer":function(){define(["exports","./error-handler","./nodes","./scanner","./token"],function(F,C,H,w,n){let m=function(){function p(){this.values=[];this.curly=this.paren=-1}var e=p.prototype;e.beforeFunctionExpression=function(r){return 0<=["(","{","[","return",",",...H.AssignmentOperators,...H.BinaryOperators,...H.LogicalOperators,...H.UnaryOperators].indexOf(r)};e.isRegexStart=function(){var r=this.values[this.values.length-
1];let t=null!==r;switch(r){case "this":case "]":t=!1;break;case ")":r=this.values[this.paren-1];t="if"===r||"while"===r||"for"===r||"with"===r;break;case "}":t=!0,"function"===this.values[this.curly-3]?t=(r=this.values[this.curly-4])?!this.beforeFunctionExpression(r):!1:"function"===this.values[this.curly-4]&&(t=(r=this.values[this.curly-5])?!this.beforeFunctionExpression(r):!0)}return t};e.push=function(r){7===r.type||4===r.type?("{"===r.value?this.curly=this.values.length:"("===r.value&&(this.paren=
this.values.length),this.values.push(r.value)):this.values.push(null)};return p}(),y=function(){function p(r,t){this.errorHandler=new C.ErrorHandler;this.errorHandler.tolerant=t?"boolean"===typeof t.tolerant&&t.tolerant:!1;this.scanner=new w.Scanner(r,this.errorHandler);this.scanner.trackComment=t?"boolean"===typeof t.comment&&t.comment:!1;this.trackRange=t?"boolean"===typeof t.range&&t.range:!1;this.trackLoc=t?"boolean"===typeof t.loc&&t.loc:!1;this.buffer=[];this.reader=new m}var e=p.prototype;
e.errors=function(){return this.errorHandler.errors};e.getNextToken=function(){if(0===this.buffer.length){var r=this.scanner.scanComments();if(r)for(var t=0;t<r.length;++t){const f=r[t];var c=this.scanner.source.slice(f.slice[0],f.slice[1]);c={type:f.multiLine?"BlockComment":"LineComment",value:c};this.trackRange&&(c.range=f.range);this.trackLoc&&(c.loc=f.loc);this.buffer.push(c)}if(!this.scanner.eof()){r=null;this.trackLoc&&(r={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},
end:{line:0,column:0}});let f;if("/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()){t=this.scanner.saveState();try{f=this.scanner.scanRegExp()}catch(h){this.scanner.restoreState(t),f=this.scanner.lex()}}else f=this.scanner.lex();this.reader.push(f);t={type:n.TokenName[f.type],value:this.scanner.source.slice(f.start,f.end)};this.trackRange&&(t.range=[f.start,f.end]);this.trackLoc&&r&&(r.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},t.loc=
r);9===f.type&&(t.regex={pattern:f.pattern,flags:f.flags});this.buffer.push(t)}}return this.buffer.shift()};return p}();F.Tokenizer=y;Object.defineProperty(F,"__esModule",{value:!0})})},"*noref":1}});
define("exports ../chunks/arcade ../arcade/Dictionary ../arcade/Feature ../core/lang ../renderers/visualVariables/support/sizeVariableUtils".split(" "),function(F,C,H,w,n,m){function y(h){return h.replace(/[|\\{}()[\]^$+*?.]/g,"\\$\x26")}function p(h){if(!h)return null;try{return C.parseScript(h)}catch(l){}return null}function e(h,l){if(!h)return!1;if("string"===typeof h)return l(h);if("simple"===h.type||"class-breaks"===h.type||"unique-value"===h.type||"dot-density"===h.type||"dictionary"===h.type){if("dot-density"===
h.type){var v=h.attributes.some(D=>l(D.valueExpression));if(v)return v}v=h.visualVariables;v=!!v&&v.some(D=>{let B=l(D.valueExpression);"size"===D.type&&(m.isSizeVariable(D.minSize)&&(B=B||l(D.minSize.valueExpression)),m.isSizeVariable(D.maxSize)&&(B=B||l(D.maxSize.valueExpression)));return B});return"valueExpression"in h&&l(h.valueExpression)?!0:v}return"esri.layers.support.LabelClass"===h.declaredClass?(h=h.labelExpressionInfo&&h.labelExpressionInfo.expression,!(!h||!l(h))||!1):"esri.PopupTemplate"===
h.declaredClass?!!h.expressionInfos&&h.expressionInfos.some(D=>l(D.expression))||Array.isArray(h.content)&&h.content.some(D=>{var B;return"expression"===D.type&&l(null==(B=D.expressionInfo)?void 0:B.expression)}):!1}function r(h){h=p(h);return!!h&&C.scriptTouchesGeometry(h)}function t(h){h=p(h);return!!h&&C.scriptUsesGeometryEngine(h)}const c=/^\$(feature|aggregatedFeatures)\./i,f={vars:{$feature:"any",$view:"any"},spatialReference:null};F.arcade=C.arcade;F.Dictionary=H;F.arcadeFeature=w;F.convertFeatureLayerToFeatureSet=
function({layer:h,spatialReference:l,outFields:v,returnGeometry:D,lrucache:B,interceptor:L}){if(null===h)return null;const b=C.featureSetUtils();return b?b.constructFeatureSet(h,l,v,null!=D?D:!0,B,L):null};F.convertMapToFeatureSetCollection=function(h){if(null===(null==h?void 0:h.map))return null;const l=C.featureSetUtils();return l?l.createFeatureSetCollectionFromMap(h.map,h.spatialReference,h.lrucache,h.interceptor):null};F.convertServiceUrlToWorkspace=function({url:h,spatialReference:l,lrucache:v,
interceptor:D}){const B=C.featureSetUtils();return B?B.createFeatureSetCollectionFromService(h,l,v,D):null};F.createExecContext=function(h,l){return{vars:{$feature:null==h?new w:w.createFromGraphic(h),$view:l&&l.view},spatialReference:l&&l.sr}};F.createFeature=function(h,l,v){return w.createFromGraphicLikeObject(l,h,v)};F.createFunction=function(h,l){h="string"===typeof h?p(h):h;if(!h)return null;try{return l=l||n.clone(f),C.compileScript(h,l)}catch(v){}return null};F.createSyntaxTree=p;F.dependsOnView=
function(h){return C.referencesMember(h,"$view")};F.enableFeatureSetOperations=function(){return C.enableFeatureSetSupport()};F.enableGeometryOperations=function(){return C.enableGeometrySupport()};F.evalSyntaxTree=function(h,l){let v;try{v=C.executeScript(h,l)}catch(D){v=null}return v};F.executeAsyncFunction=function(h,l){try{return h?h(l):Promise.resolve(null)}catch(v){return Promise.resolve(null)}};F.executeFunction=function(h,l){let v;try{v=h?h(l):null}catch(D){v=null}return v};F.extractFieldNames=
function(h,l){if(!h)return[];h="string"===typeof h?p(h):h;if(!h)return[];let v=[];C.extractExpectedFieldLiterals(h).forEach(B=>{c.test(B)&&(B=B.replace(c,""),v.push(B))});const D=v.filter(B=>B.includes("*"));v=v.filter(B=>!D.includes(B));l&&D.forEach(B=>{const L=new RegExp(`^${B.split(/\*+/).map(y).join(".*")}$`,"i");l.forEach(b=>L.test(b)?v.push(b):null)});return[...new Set(v.sort())]};F.getViewInfo=function(h){if(h&&(null!=h.spatialReference||null!=h.scale&&null!=h.viewingMode))return{view:h.viewingMode&&
null!=h.scale?new H({viewingMode:h.viewingMode,scale:h.scale}):null,sr:h.spatialReference}};F.hasGeometryFunctions=function(h){return e(h,r)};F.hasGeometryOperations=function(h){return e(h,t)};F.hasVariable=function(h,l){return h?C.referencesMember(h,l):!1};F.loadScriptDependencies=function(h,l,v=[]){return C.loadScriptDependencies(h,l,v)};F.updateExecContext=function(h,l){h.vars.$feature=l};Object.defineProperty(F,"__esModule",{value:!0})});